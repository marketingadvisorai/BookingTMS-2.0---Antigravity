# ğŸ“Š BookingTMS Multi-Tenant ERD - Visual Diagram

**Version:** 1.0  
**Date:** November 16, 2025

---

## Complete Entity Relationship Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          PLATFORM LAYER (Global)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  feature_flags   â”‚              â”‚  plans           â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ â€¢ id (PK)        â”‚              â”‚ â€¢ id (PK)        â”‚
    â”‚ â€¢ name           â”‚              â”‚ â€¢ name           â”‚
    â”‚ â€¢ enabled        â”‚              â”‚ â€¢ slug           â”‚
    â”‚ â€¢ description    â”‚              â”‚ â€¢ price          â”‚
    â”‚ â€¢ category       â”‚              â”‚ â€¢ features       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â€¢ limits         â”‚
                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                               â”‚ 1:M
                                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       TENANT LAYER (Organization-Scoped)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                      â”‚  organizations   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚
                                      â”‚ â€¢ id (PK)        â”‚           â”‚
                                      â”‚ â€¢ name           â”‚           â”‚
                                      â”‚ â€¢ slug           â”‚           â”‚
                                      â”‚ â€¢ plan_id (FK)   â”‚           â”‚
                                      â”‚ â€¢ status         â”‚           â”‚
                                      â”‚ â€¢ owner_email    â”‚           â”‚
                                      â”‚ â€¢ settings       â”‚           â”‚
                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
                                               â”‚                     â”‚
                                               â”‚ 1:M                 â”‚
                                               â”‚                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
                    â”‚                          â”‚              â”‚      â”‚
                    â”‚                          â”‚              â”‚      â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚      â”‚
           â”‚    venues        â”‚       â”‚    staff         â”‚   â”‚      â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚      â”‚
           â”‚ â€¢ id (PK)        â”‚       â”‚ â€¢ id (PK)        â”‚   â”‚      â”‚
           â”‚ â€¢ org_id (FK) â”€â”€â”€â”¼â”€â”€â”€â”   â”‚ â€¢ org_id (FK) â”€â”€â”€â”¼â”€â”€â”€â”˜      â”‚
           â”‚ â€¢ name           â”‚   â”‚   â”‚ â€¢ venue_id (FK)  â”‚â”€â”€â”       â”‚
           â”‚ â€¢ slug           â”‚   â”‚   â”‚ â€¢ email          â”‚  â”‚       â”‚
           â”‚ â€¢ address        â”‚   â”‚   â”‚ â€¢ role           â”‚  â”‚       â”‚
           â”‚ â€¢ city           â”‚   â”‚   â”‚ â€¢ permissions    â”‚  â”‚       â”‚
           â”‚ â€¢ status         â”‚   â”‚   â”‚ â€¢ status         â”‚  â”‚       â”‚
           â”‚ â€¢ timezone       â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚       â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                         â”‚       â”‚
                    â”‚             â”‚                         â”‚       â”‚
                    â”‚ 1:M         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                                       â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
           â”‚    games         â”‚                            â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                            â”‚
           â”‚ â€¢ id (PK)        â”‚                            â”‚
           â”‚ â€¢ org_id (FK) â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ â€¢ venue_id (FK) â”€â”¼â”€â”€â”€â”
           â”‚ â€¢ name           â”‚   â”‚
           â”‚ â€¢ slug           â”‚   â”‚
           â”‚ â€¢ difficulty     â”‚   â”‚
           â”‚ â€¢ duration       â”‚   â”‚
           â”‚ â€¢ max_players    â”‚   â”‚
           â”‚ â€¢ price          â”‚   â”‚
           â”‚ â€¢ status         â”‚   â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                    â”‚             â”‚
                    â”‚ 1:M         â”‚
                    â”‚             â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
           â”‚   bookings       â”‚   â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
           â”‚ â€¢ id (PK)        â”‚   â”‚
           â”‚ â€¢ org_id (FK) â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚ â€¢ venue_id (FK) â”€â”¼â”€â”€â”€â”˜                               â”‚
           â”‚ â€¢ game_id (FK) â”€â”€â”¼â”€â”€â”€â”                               â”‚
           â”‚ â€¢ customer_id â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”                           â”‚
           â”‚ â€¢ booking_date   â”‚   â”‚   â”‚                           â”‚
           â”‚ â€¢ booking_time   â”‚   â”‚   â”‚                           â”‚
           â”‚ â€¢ status         â”‚   â”‚   â”‚                           â”‚
           â”‚ â€¢ total_amount   â”‚   â”‚   â”‚                           â”‚
           â”‚ â€¢ payment_status â”‚   â”‚   â”‚                           â”‚
           â”‚ â€¢ confirm_code   â”‚   â”‚   â”‚                           â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚                           â”‚
                    â”‚             â”‚   â”‚                           â”‚
                    â”‚ 1:M         â”‚   â”‚ M:1                       â”‚
                    â”‚             â”‚   â”‚                           â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
           â”‚   payments       â”‚   â”‚   â”‚    â”‚   customers      â”‚  â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚   â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
           â”‚ â€¢ id (PK)        â”‚   â”‚   â”‚    â”‚ â€¢ id (PK)        â”‚  â”‚
           â”‚ â€¢ org_id (FK) â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”‚ â€¢ org_id (FK)    â”‚â—„â”€â”˜
           â”‚ â€¢ booking_id â”€â”€â”€â”€â”¼â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”‚ â€¢ email          â”‚
           â”‚ â€¢ customer_id â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â€¢ name           â”‚
           â”‚ â€¢ amount         â”‚            â”‚ â€¢ phone          â”‚
           â”‚ â€¢ status         â”‚            â”‚ â€¢ preferences    â”‚
           â”‚ â€¢ payment_method â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ â€¢ provider       â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                           â”‚   widgets        â”‚
                                           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                           â”‚ â€¢ id (PK)        â”‚
                                           â”‚ â€¢ org_id (FK) â”€â”€â”€â”¼â”€â”€â”€â”
                                           â”‚ â€¢ venue_id (FK)  â”‚   â”‚
                                           â”‚ â€¢ name           â”‚   â”‚
                                           â”‚ â€¢ embed_key      â”‚   â”‚
                                           â”‚ â€¢ config         â”‚   â”‚
                                           â”‚ â€¢ style          â”‚   â”‚
                                           â”‚ â€¢ status         â”‚   â”‚
                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                                                  â”‚                â”‚
                                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              KEY RELATIONSHIPS                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  PK  = Primary Key
  FK  = Foreign Key
  1:M = One to Many
  M:1 = Many to One
  M:M = Many to Many (via junction table)

  â”€â”€â”€ = Relationship line
  â”€â”€â” = Foreign key relationship
  â—„â”€â”€ = Data flow direction


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           TENANT ISOLATION BOUNDARY                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

All tables with organization_id are TENANT-SCOPED
All tables enforce Row-Level Security (RLS)
System admins can cross tenant boundaries
Organization users are isolated to their organization_id
