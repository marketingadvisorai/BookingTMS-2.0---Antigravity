function iW(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var i2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mne(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}),r}var C4={exports:{}},_v={},k4={exports:{}},Cn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HI;function pne(){if(HI)return Cn;HI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function f(q){return q===null||typeof q!="object"?null:(q=h&&q[h]||q["@@iterator"],typeof q=="function"?q:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,g={};function v(q,z,Z){this.props=q,this.context=z,this.refs=g,this.updater=Z||m}v.prototype.isReactComponent={},v.prototype.setState=function(q,z){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,z,"setState")},v.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function b(){}b.prototype=v.prototype;function w(q,z,Z){this.props=q,this.context=z,this.refs=g,this.updater=Z||m}var N=w.prototype=new b;N.constructor=w,y(N,v.prototype),N.isPureReactComponent=!0;var _=Array.isArray,C=Object.prototype.hasOwnProperty,E={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function I(q,z,Z){var X,Q={},ne=null,ce=null;if(z!=null)for(X in z.ref!==void 0&&(ce=z.ref),z.key!==void 0&&(ne=""+z.key),z)C.call(z,X)&&!A.hasOwnProperty(X)&&(Q[X]=z[X]);var ie=arguments.length-2;if(ie===1)Q.children=Z;else if(1<ie){for(var pe=Array(ie),ae=0;ae<ie;ae++)pe[ae]=arguments[ae+2];Q.children=pe}if(q&&q.defaultProps)for(X in ie=q.defaultProps,ie)Q[X]===void 0&&(Q[X]=ie[X]);return{$$typeof:t,type:q,key:ne,ref:ce,props:Q,_owner:E.current}}function $(q,z){return{$$typeof:t,type:q.type,key:z,ref:q.ref,props:q.props,_owner:q._owner}}function O(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function P(q){var z={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Z){return z[Z]})}var M=/\/+/g;function R(q,z){return typeof q=="object"&&q!==null&&q.key!=null?P(""+q.key):z.toString(36)}function W(q,z,Z,X,Q){var ne=typeof q;(ne==="undefined"||ne==="boolean")&&(q=null);var ce=!1;if(q===null)ce=!0;else switch(ne){case"string":case"number":ce=!0;break;case"object":switch(q.$$typeof){case t:case e:ce=!0}}if(ce)return ce=q,Q=Q(ce),q=X===""?"."+R(ce,0):X,_(Q)?(Z="",q!=null&&(Z=q.replace(M,"$&/")+"/"),W(Q,z,Z,"",function(ae){return ae})):Q!=null&&(O(Q)&&(Q=$(Q,Z+(!Q.key||ce&&ce.key===Q.key?"":(""+Q.key).replace(M,"$&/")+"/")+q)),z.push(Q)),1;if(ce=0,X=X===""?".":X+":",_(q))for(var ie=0;ie<q.length;ie++){ne=q[ie];var pe=X+R(ne,ie);ce+=W(ne,z,Z,pe,Q)}else if(pe=f(q),typeof pe=="function")for(q=pe.call(q),ie=0;!(ne=q.next()).done;)ne=ne.value,pe=X+R(ne,ie++),ce+=W(ne,z,Z,pe,Q);else if(ne==="object")throw z=String(q),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return ce}function Y(q,z,Z){if(q==null)return q;var X=[],Q=0;return W(q,X,"","",function(ne){return z.call(Z,ne,Q++)}),X}function K(q){if(q._status===-1){var z=q._result;z=z(),z.then(function(Z){(q._status===0||q._status===-1)&&(q._status=1,q._result=Z)},function(Z){(q._status===0||q._status===-1)&&(q._status=2,q._result=Z)}),q._status===-1&&(q._status=0,q._result=z)}if(q._status===1)return q._result.default;throw q._result}var L={current:null},F={transition:null},ee={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:F,ReactCurrentOwner:E};function se(){throw Error("act(...) is not supported in production builds of React.")}return Cn.Children={map:Y,forEach:function(q,z,Z){Y(q,function(){z.apply(this,arguments)},Z)},count:function(q){var z=0;return Y(q,function(){z++}),z},toArray:function(q){return Y(q,function(z){return z})||[]},only:function(q){if(!O(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Cn.Component=v,Cn.Fragment=r,Cn.Profiler=a,Cn.PureComponent=w,Cn.StrictMode=s,Cn.Suspense=c,Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Cn.act=se,Cn.cloneElement=function(q,z,Z){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var X=y({},q.props),Q=q.key,ne=q.ref,ce=q._owner;if(z!=null){if(z.ref!==void 0&&(ne=z.ref,ce=E.current),z.key!==void 0&&(Q=""+z.key),q.type&&q.type.defaultProps)var ie=q.type.defaultProps;for(pe in z)C.call(z,pe)&&!A.hasOwnProperty(pe)&&(X[pe]=z[pe]===void 0&&ie!==void 0?ie[pe]:z[pe])}var pe=arguments.length-2;if(pe===1)X.children=Z;else if(1<pe){ie=Array(pe);for(var ae=0;ae<pe;ae++)ie[ae]=arguments[ae+2];X.children=ie}return{$$typeof:t,type:q.type,key:Q,ref:ne,props:X,_owner:ce}},Cn.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:i,_context:q},q.Consumer=q},Cn.createElement=I,Cn.createFactory=function(q){var z=I.bind(null,q);return z.type=q,z},Cn.createRef=function(){return{current:null}},Cn.forwardRef=function(q){return{$$typeof:l,render:q}},Cn.isValidElement=O,Cn.lazy=function(q){return{$$typeof:u,_payload:{_status:-1,_result:q},_init:K}},Cn.memo=function(q,z){return{$$typeof:d,type:q,compare:z===void 0?null:z}},Cn.startTransition=function(q){var z=F.transition;F.transition={};try{q()}finally{F.transition=z}},Cn.unstable_act=se,Cn.useCallback=function(q,z){return L.current.useCallback(q,z)},Cn.useContext=function(q){return L.current.useContext(q)},Cn.useDebugValue=function(){},Cn.useDeferredValue=function(q){return L.current.useDeferredValue(q)},Cn.useEffect=function(q,z){return L.current.useEffect(q,z)},Cn.useId=function(){return L.current.useId()},Cn.useImperativeHandle=function(q,z,Z){return L.current.useImperativeHandle(q,z,Z)},Cn.useInsertionEffect=function(q,z){return L.current.useInsertionEffect(q,z)},Cn.useLayoutEffect=function(q,z){return L.current.useLayoutEffect(q,z)},Cn.useMemo=function(q,z){return L.current.useMemo(q,z)},Cn.useReducer=function(q,z,Z){return L.current.useReducer(q,z,Z)},Cn.useRef=function(q){return L.current.useRef(q)},Cn.useState=function(q){return L.current.useState(q)},Cn.useSyncExternalStore=function(q,z,Z){return L.current.useSyncExternalStore(q,z,Z)},Cn.useTransition=function(){return L.current.useTransition()},Cn.version="18.3.1",Cn}var qI;function Ag(){return qI||(qI=1,k4.exports=pne()),k4.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GI;function xne(){if(GI)return _v;GI=1;var t=Ag(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var u,h={},f=null,m=null;d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),c.ref!==void 0&&(m=c.ref);for(u in c)s.call(c,u)&&!i.hasOwnProperty(u)&&(h[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)h[u]===void 0&&(h[u]=c[u]);return{$$typeof:e,type:l,key:f,ref:m,props:h,_owner:a.current}}return _v.Fragment=r,_v.jsx=o,_v.jsxs=o,_v}var KI;function gne(){return KI||(KI=1,C4.exports=xne()),C4.exports}var n=gne(),o2={},A4={exports:{}},Nl={},E4={exports:{}},P4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YI;function vne(){return YI||(YI=1,(function(t){function e(F,ee){var se=F.length;F.push(ee);e:for(;0<se;){var q=se-1>>>1,z=F[q];if(0<a(z,ee))F[q]=ee,F[se]=z,se=q;else break e}}function r(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var ee=F[0],se=F.pop();if(se!==ee){F[0]=se;e:for(var q=0,z=F.length,Z=z>>>1;q<Z;){var X=2*(q+1)-1,Q=F[X],ne=X+1,ce=F[ne];if(0>a(Q,se))ne<z&&0>a(ce,Q)?(F[q]=ce,F[ne]=se,q=ne):(F[q]=Q,F[X]=se,q=X);else if(ne<z&&0>a(ce,se))F[q]=ce,F[ne]=se,q=ne;else break e}}return ee}function a(F,ee){var se=F.sortIndex-ee.sortIndex;return se!==0?se:F.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,m=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(F){for(var ee=r(d);ee!==null;){if(ee.callback===null)s(d);else if(ee.startTime<=F)s(d),ee.sortIndex=ee.expirationTime,e(c,ee);else break;ee=r(d)}}function _(F){if(g=!1,N(F),!y)if(r(c)!==null)y=!0,K(C);else{var ee=r(d);ee!==null&&L(_,ee.startTime-F)}}function C(F,ee){y=!1,g&&(g=!1,b(I),I=-1),m=!0;var se=f;try{for(N(ee),h=r(c);h!==null&&(!(h.expirationTime>ee)||F&&!P());){var q=h.callback;if(typeof q=="function"){h.callback=null,f=h.priorityLevel;var z=q(h.expirationTime<=ee);ee=t.unstable_now(),typeof z=="function"?h.callback=z:h===r(c)&&s(c),N(ee)}else s(c);h=r(c)}if(h!==null)var Z=!0;else{var X=r(d);X!==null&&L(_,X.startTime-ee),Z=!1}return Z}finally{h=null,f=se,m=!1}}var E=!1,A=null,I=-1,$=5,O=-1;function P(){return!(t.unstable_now()-O<$)}function M(){if(A!==null){var F=t.unstable_now();O=F;var ee=!0;try{ee=A(!0,F)}finally{ee?R():(E=!1,A=null)}}else E=!1}var R;if(typeof w=="function")R=function(){w(M)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Y=W.port2;W.port1.onmessage=M,R=function(){Y.postMessage(null)}}else R=function(){v(M,0)};function K(F){A=F,E||(E=!0,R())}function L(F,ee){I=v(function(){F(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,K(C))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var ee=3;break;default:ee=f}var se=f;f=ee;try{return F()}finally{f=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,ee){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var se=f;f=F;try{return ee()}finally{f=se}},t.unstable_scheduleCallback=function(F,ee,se){var q=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?q+se:q):se=q,F){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=se+z,F={id:u++,callback:ee,priorityLevel:F,startTime:se,expirationTime:z,sortIndex:-1},se>q?(F.sortIndex=se,e(d,F),r(c)===null&&F===r(d)&&(g?(b(I),I=-1):g=!0,L(_,se-q))):(F.sortIndex=z,e(c,F),y||m||(y=!0,K(C))),F},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(F){var ee=f;return function(){var se=f;f=ee;try{return F.apply(this,arguments)}finally{f=se}}}})(P4)),P4}var XI;function yne(){return XI||(XI=1,E4.exports=vne()),E4.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZI;function bne(){if(ZI)return Nl;ZI=1;var t=Ag(),e=yne();function r(p){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+p,j=1;j<arguments.length;j++)x+="&args[]="+encodeURIComponent(arguments[j]);return"Minified React error #"+p+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function i(p,x){o(p,x),o(p+"Capture",x)}function o(p,x){for(a[p]=x,p=0;p<x.length;p++)s.add(x[p])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},h={};function f(p){return c.call(h,p)?!0:c.call(u,p)?!1:d.test(p)?h[p]=!0:(u[p]=!0,!1)}function m(p,x,j,T){if(j!==null&&j.type===0)return!1;switch(typeof x){case"function":case"symbol":return!0;case"boolean":return T?!1:j!==null?!j.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function y(p,x,j,T){if(x===null||typeof x>"u"||m(p,x,j,T))return!0;if(T)return!1;if(j!==null)switch(j.type){case 3:return!x;case 4:return x===!1;case 5:return isNaN(x);case 6:return isNaN(x)||1>x}return!1}function g(p,x,j,T,U,G,de){this.acceptsBooleans=x===2||x===3||x===4,this.attributeName=T,this.attributeNamespace=U,this.mustUseProperty=j,this.propertyName=p,this.type=x,this.sanitizeURL=G,this.removeEmptyString=de}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){v[p]=new g(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var x=p[0];v[x]=new g(x,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){v[p]=new g(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){v[p]=new g(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){v[p]=new g(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){v[p]=new g(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){v[p]=new g(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){v[p]=new g(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){v[p]=new g(p,5,!1,p.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function w(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var x=p.replace(b,w);v[x]=new g(x,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var x=p.replace(b,w);v[x]=new g(x,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var x=p.replace(b,w);v[x]=new g(x,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){v[p]=new g(p,1,!1,p.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){v[p]=new g(p,1,!1,p.toLowerCase(),null,!0,!0)});function N(p,x,j,T){var U=v.hasOwnProperty(x)?v[x]:null;(U!==null?U.type!==0:T||!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(y(x,j,U,T)&&(j=null),T||U===null?f(x)&&(j===null?p.removeAttribute(x):p.setAttribute(x,""+j)):U.mustUseProperty?p[U.propertyName]=j===null?U.type===3?!1:"":j:(x=U.attributeName,T=U.attributeNamespace,j===null?p.removeAttribute(x):(U=U.type,j=U===3||U===4&&j===!0?"":""+j,T?p.setAttributeNS(T,x,j):p.setAttribute(x,j))))}var _=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),P=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),F=Symbol.iterator;function ee(p){return p===null||typeof p!="object"?null:(p=F&&p[F]||p["@@iterator"],typeof p=="function"?p:null)}var se=Object.assign,q;function z(p){if(q===void 0)try{throw Error()}catch(j){var x=j.stack.trim().match(/\n( *(at )?)/);q=x&&x[1]||""}return`
`+q+p}var Z=!1;function X(p,x){if(!p||Z)return"";Z=!0;var j=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(it){var T=it}Reflect.construct(p,[],x)}else{try{x.call()}catch(it){T=it}p.call(x.prototype)}else{try{throw Error()}catch(it){T=it}p()}}catch(it){if(it&&T&&typeof it.stack=="string"){for(var U=it.stack.split(`
`),G=T.stack.split(`
`),de=U.length-1,Pe=G.length-1;1<=de&&0<=Pe&&U[de]!==G[Pe];)Pe--;for(;1<=de&&0<=Pe;de--,Pe--)if(U[de]!==G[Pe]){if(de!==1||Pe!==1)do if(de--,Pe--,0>Pe||U[de]!==G[Pe]){var Re=`
`+U[de].replace(" at new "," at ");return p.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",p.displayName)),Re}while(1<=de&&0<=Pe);break}}}finally{Z=!1,Error.prepareStackTrace=j}return(p=p?p.displayName||p.name:"")?z(p):""}function Q(p){switch(p.tag){case 5:return z(p.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return p=X(p.type,!1),p;case 11:return p=X(p.type.render,!1),p;case 1:return p=X(p.type,!0),p;default:return""}}function ne(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case A:return"Fragment";case E:return"Portal";case $:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case W:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case P:return(p.displayName||"Context")+".Consumer";case O:return(p._context.displayName||"Context")+".Provider";case M:var x=p.render;return p=p.displayName,p||(p=x.displayName||x.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case Y:return x=p.displayName||null,x!==null?x:ne(p.type)||"Memo";case K:x=p._payload,p=p._init;try{return ne(p(x))}catch{}}return null}function ce(p){var x=p.type;switch(p.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=x.render,p=p.displayName||p.name||"",x.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(x);case 8:return x===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function ie(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function pe(p){var x=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function ae(p){var x=pe(p)?"checked":"value",j=Object.getOwnPropertyDescriptor(p.constructor.prototype,x),T=""+p[x];if(!p.hasOwnProperty(x)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var U=j.get,G=j.set;return Object.defineProperty(p,x,{configurable:!0,get:function(){return U.call(this)},set:function(de){T=""+de,G.call(this,de)}}),Object.defineProperty(p,x,{enumerable:j.enumerable}),{getValue:function(){return T},setValue:function(de){T=""+de},stopTracking:function(){p._valueTracker=null,delete p[x]}}}}function be(p){p._valueTracker||(p._valueTracker=ae(p))}function we(p){if(!p)return!1;var x=p._valueTracker;if(!x)return!0;var j=x.getValue(),T="";return p&&(T=pe(p)?p.checked?"true":"false":p.value),p=T,p!==j?(x.setValue(p),!0):!1}function Ie(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function Ee(p,x){var j=x.checked;return se({},x,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:j??p._wrapperState.initialChecked})}function H(p,x){var j=x.defaultValue==null?"":x.defaultValue,T=x.checked!=null?x.checked:x.defaultChecked;j=ie(x.value!=null?x.value:j),p._wrapperState={initialChecked:T,initialValue:j,controlled:x.type==="checkbox"||x.type==="radio"?x.checked!=null:x.value!=null}}function Le(p,x){x=x.checked,x!=null&&N(p,"checked",x,!1)}function Ye(p,x){Le(p,x);var j=ie(x.value),T=x.type;if(j!=null)T==="number"?(j===0&&p.value===""||p.value!=j)&&(p.value=""+j):p.value!==""+j&&(p.value=""+j);else if(T==="submit"||T==="reset"){p.removeAttribute("value");return}x.hasOwnProperty("value")?qe(p,x.type,j):x.hasOwnProperty("defaultValue")&&qe(p,x.type,ie(x.defaultValue)),x.checked==null&&x.defaultChecked!=null&&(p.defaultChecked=!!x.defaultChecked)}function xt(p,x,j){if(x.hasOwnProperty("value")||x.hasOwnProperty("defaultValue")){var T=x.type;if(!(T!=="submit"&&T!=="reset"||x.value!==void 0&&x.value!==null))return;x=""+p._wrapperState.initialValue,j||x===p.value||(p.value=x),p.defaultValue=x}j=p.name,j!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,j!==""&&(p.name=j)}function qe(p,x,j){(x!=="number"||Ie(p.ownerDocument)!==p)&&(j==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+j&&(p.defaultValue=""+j))}var ft=Array.isArray;function ke(p,x,j,T){if(p=p.options,x){x={};for(var U=0;U<j.length;U++)x["$"+j[U]]=!0;for(j=0;j<p.length;j++)U=x.hasOwnProperty("$"+p[j].value),p[j].selected!==U&&(p[j].selected=U),U&&T&&(p[j].defaultSelected=!0)}else{for(j=""+ie(j),x=null,U=0;U<p.length;U++){if(p[U].value===j){p[U].selected=!0,T&&(p[U].defaultSelected=!0);return}x!==null||p[U].disabled||(x=p[U])}x!==null&&(x.selected=!0)}}function lt(p,x){if(x.dangerouslySetInnerHTML!=null)throw Error(r(91));return se({},x,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function Ve(p,x){var j=x.value;if(j==null){if(j=x.children,x=x.defaultValue,j!=null){if(x!=null)throw Error(r(92));if(ft(j)){if(1<j.length)throw Error(r(93));j=j[0]}x=j}x==null&&(x=""),j=x}p._wrapperState={initialValue:ie(j)}}function Ke(p,x){var j=ie(x.value),T=ie(x.defaultValue);j!=null&&(j=""+j,j!==p.value&&(p.value=j),x.defaultValue==null&&p.defaultValue!==j&&(p.defaultValue=j)),T!=null&&(p.defaultValue=""+T)}function yt(p){var x=p.textContent;x===p._wrapperState.initialValue&&x!==""&&x!==null&&(p.value=x)}function Mt(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gt(p,x){return p==null||p==="http://www.w3.org/1999/xhtml"?Mt(x):p==="http://www.w3.org/2000/svg"&&x==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var qt,At=(function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,j,T,U){MSApp.execUnsafeLocalFunction(function(){return p(x,j,T,U)})}:p})(function(p,x){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=x;else{for(qt=qt||document.createElement("div"),qt.innerHTML="<svg>"+x.valueOf().toString()+"</svg>",x=qt.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;x.firstChild;)p.appendChild(x.firstChild)}});function Dt(p,x){if(x){var j=p.firstChild;if(j&&j===p.lastChild&&j.nodeType===3){j.nodeValue=x;return}}p.textContent=x}var Nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$r=["Webkit","ms","Moz","O"];Object.keys(Nt).forEach(function(p){$r.forEach(function(x){x=x+p.charAt(0).toUpperCase()+p.substring(1),Nt[x]=Nt[p]})});function Or(p,x,j){return x==null||typeof x=="boolean"||x===""?"":j||typeof x!="number"||x===0||Nt.hasOwnProperty(p)&&Nt[p]?(""+x).trim():x+"px"}function Ht(p,x){p=p.style;for(var j in x)if(x.hasOwnProperty(j)){var T=j.indexOf("--")===0,U=Or(j,x[j],T);j==="float"&&(j="cssFloat"),T?p.setProperty(j,U):p[j]=U}}var bt=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function an(p,x){if(x){if(bt[p]&&(x.children!=null||x.dangerouslySetInnerHTML!=null))throw Error(r(137,p));if(x.dangerouslySetInnerHTML!=null){if(x.children!=null)throw Error(r(60));if(typeof x.dangerouslySetInnerHTML!="object"||!("__html"in x.dangerouslySetInnerHTML))throw Error(r(61))}if(x.style!=null&&typeof x.style!="object")throw Error(r(62))}}function er(p,x){if(p.indexOf("-")===-1)return typeof x.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $e=null;function nt(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var sr=null,dr=null,Rr=null;function Jt(p){if(p=wf(p)){if(typeof sr!="function")throw Error(r(280));var x=p.stateNode;x&&(x=zm(x),sr(p.stateNode,p.type,x))}}function _t(p){dr?Rr?Rr.push(p):Rr=[p]:dr=p}function Lr(){if(dr){var p=dr,x=Rr;if(Rr=dr=null,Jt(p),x)for(p=0;p<x.length;p++)Jt(x[p])}}function Ze(p,x){return p(x)}function Ae(){}var wt=!1;function He(p,x,j){if(wt)return p(x,j);wt=!0;try{return Ze(p,x,j)}finally{wt=!1,(dr!==null||Rr!==null)&&(Ae(),Lr())}}function jt(p,x){var j=p.stateNode;if(j===null)return null;var T=zm(j);if(T===null)return null;j=T[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(p=p.type,T=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!T;break e;default:p=!1}if(p)return null;if(j&&typeof j!="function")throw Error(r(231,x,typeof j));return j}var fr=!1;if(l)try{var on={};Object.defineProperty(on,"passive",{get:function(){fr=!0}}),window.addEventListener("test",on,on),window.removeEventListener("test",on,on)}catch{fr=!1}function En(p,x,j,T,U,G,de,Pe,Re){var it=Array.prototype.slice.call(arguments,3);try{x.apply(j,it)}catch(kt){this.onError(kt)}}var pn=!1,Dr=null,fs=!1,Rl=null,hc={onError:function(p){pn=!0,Dr=p}};function Ji(p,x,j,T,U,G,de,Pe,Re){pn=!1,Dr=null,En.apply(hc,arguments)}function Lo(p,x,j,T,U,G,de,Pe,Re){if(Ji.apply(this,arguments),pn){if(pn){var it=Dr;pn=!1,Dr=null}else throw Error(r(198));fs||(fs=!0,Rl=it)}}function xa(p){var x=p,j=p;if(p.alternate)for(;x.return;)x=x.return;else{p=x;do x=p,(x.flags&4098)!==0&&(j=x.return),p=x.return;while(p)}return x.tag===3?j:null}function Qi(p){if(p.tag===13){var x=p.memoizedState;if(x===null&&(p=p.alternate,p!==null&&(x=p.memoizedState)),x!==null)return x.dehydrated}return null}function ga(p){if(xa(p)!==p)throw Error(r(188))}function td(p){var x=p.alternate;if(!x){if(x=xa(p),x===null)throw Error(r(188));return x!==p?null:p}for(var j=p,T=x;;){var U=j.return;if(U===null)break;var G=U.alternate;if(G===null){if(T=U.return,T!==null){j=T;continue}break}if(U.child===G.child){for(G=U.child;G;){if(G===j)return ga(U),p;if(G===T)return ga(U),x;G=G.sibling}throw Error(r(188))}if(j.return!==T.return)j=U,T=G;else{for(var de=!1,Pe=U.child;Pe;){if(Pe===j){de=!0,j=U,T=G;break}if(Pe===T){de=!0,T=U,j=G;break}Pe=Pe.sibling}if(!de){for(Pe=G.child;Pe;){if(Pe===j){de=!0,j=G,T=U;break}if(Pe===T){de=!0,T=G,j=U;break}Pe=Pe.sibling}if(!de)throw Error(r(189))}}if(j.alternate!==T)throw Error(r(190))}if(j.tag!==3)throw Error(r(188));return j.stateNode.current===j?p:x}function za(p){return p=td(p),p!==null?Fo(p):null}function Fo(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var x=Fo(p);if(x!==null)return x;p=p.sibling}return null}var Ll=e.unstable_scheduleCallback,ll=e.unstable_cancelCallback,fc=e.unstable_shouldYield,Nm=e.unstable_requestPaint,ns=e.unstable_now,nf=e.unstable_getCurrentPriorityLevel,mc=e.unstable_ImmediatePriority,hi=e.unstable_UserBlockingPriority,pc=e.unstable_NormalPriority,Fe=e.unstable_LowPriority,Qd=e.unstable_IdlePriority,Bo=null,Va=null;function Ur(p){if(Va&&typeof Va.onCommitFiberRoot=="function")try{Va.onCommitFiberRoot(Bo,p,void 0,(p.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:Ot,Sm=Math.log,Oe=Math.LN2;function Ot(p){return p>>>=0,p===0?32:31-(Sm(p)/Oe|0)|0}var tr=64,jr=4194304;function Yr(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function $n(p,x){var j=p.pendingLanes;if(j===0)return 0;var T=0,U=p.suspendedLanes,G=p.pingedLanes,de=j&268435455;if(de!==0){var Pe=de&~U;Pe!==0?T=Yr(Pe):(G&=de,G!==0&&(T=Yr(G)))}else de=j&~U,de!==0?T=Yr(de):G!==0&&(T=Yr(G));if(T===0)return 0;if(x!==0&&x!==T&&(x&U)===0&&(U=T&-T,G=x&-x,U>=G||U===16&&(G&4194240)!==0))return x;if((T&4)!==0&&(T|=j&16),x=p.entangledLanes,x!==0)for(p=p.entanglements,x&=T;0<x;)j=31-Sn(x),U=1<<j,T|=p[j],x&=~U;return T}function Oi(p,x){switch(p){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xn(p,x){for(var j=p.suspendedLanes,T=p.pingedLanes,U=p.expirationTimes,G=p.pendingLanes;0<G;){var de=31-Sn(G),Pe=1<<de,Re=U[de];Re===-1?((Pe&j)===0||(Pe&T)!==0)&&(U[de]=Oi(Pe,x)):Re<=x&&(p.expiredLanes|=Pe),G&=~Pe}}function eo(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function Ii(){var p=tr;return tr<<=1,(tr&4194240)===0&&(tr=64),p}function xc(p){for(var x=[],j=0;31>j;j++)x.push(p);return x}function cl(p,x,j){p.pendingLanes|=x,x!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,x=31-Sn(x),p[x]=j}function gc(p,x){var j=p.pendingLanes&~x;p.pendingLanes=x,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=x,p.mutableReadLanes&=x,p.entangledLanes&=x,x=p.entanglements;var T=p.eventTimes;for(p=p.expirationTimes;0<j;){var U=31-Sn(j),G=1<<U;x[U]=0,T[U]=-1,p[U]=-1,j&=~G}}function sf(p,x){var j=p.entangledLanes|=x;for(p=p.entanglements;j;){var T=31-Sn(j),U=1<<T;U&x|p[T]&x&&(p[T]|=x),j&=~U}}var Mn=0;function rd(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var af,_m,w0,j0,of,nd=!1,Fl=[],vc=null,mo=null,dl=null,Hr=new Map,Zu=new Map,yc=[],ev="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N0(p,x){switch(p){case"focusin":case"focusout":vc=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":dl=null;break;case"pointerover":case"pointerout":Hr.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zu.delete(x.pointerId)}}function Uo(p,x,j,T,U,G){return p===null||p.nativeEvent!==G?(p={blockedOn:x,domEventName:j,eventSystemFlags:T,nativeEvent:G,targetContainers:[U]},x!==null&&(x=wf(x),x!==null&&_m(x)),p):(p.eventSystemFlags|=T,x=p.targetContainers,U!==null&&x.indexOf(U)===-1&&x.push(U),p)}function sd(p,x,j,T,U){switch(x){case"focusin":return vc=Uo(vc,p,x,j,T,U),!0;case"dragenter":return mo=Uo(mo,p,x,j,T,U),!0;case"mouseover":return dl=Uo(dl,p,x,j,T,U),!0;case"pointerover":var G=U.pointerId;return Hr.set(G,Uo(Hr.get(G)||null,p,x,j,T,U)),!0;case"gotpointercapture":return G=U.pointerId,Zu.set(G,Uo(Zu.get(G)||null,p,x,j,T,U)),!0}return!1}function S0(p){var x=cu(p.target);if(x!==null){var j=xa(x);if(j!==null){if(x=j.tag,x===13){if(x=Qi(j),x!==null){p.blockedOn=x,of(p.priority,function(){w0(j)});return}}else if(x===3&&j.stateNode.current.memoizedState.isDehydrated){p.blockedOn=j.tag===3?j.stateNode.containerInfo:null;return}}}p.blockedOn=null}function lf(p){if(p.blockedOn!==null)return!1;for(var x=p.targetContainers;0<x.length;){var j=Qu(p.domEventName,p.eventSystemFlags,x[0],p.nativeEvent);if(j===null){j=p.nativeEvent;var T=new j.constructor(j.type,j);$e=T,j.target.dispatchEvent(T),$e=null}else return x=wf(j),x!==null&&_m(x),p.blockedOn=j,!1;x.shift()}return!0}function Ju(p,x,j){lf(p)&&j.delete(x)}function Cm(){nd=!1,vc!==null&&lf(vc)&&(vc=null),mo!==null&&lf(mo)&&(mo=null),dl!==null&&lf(dl)&&(dl=null),Hr.forEach(Ju),Zu.forEach(Ju)}function Bl(p,x){p.blockedOn===x&&(p.blockedOn=null,nd||(nd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Cm)))}function bc(p){function x(U){return Bl(U,p)}if(0<Fl.length){Bl(Fl[0],p);for(var j=1;j<Fl.length;j++){var T=Fl[j];T.blockedOn===p&&(T.blockedOn=null)}}for(vc!==null&&Bl(vc,p),mo!==null&&Bl(mo,p),dl!==null&&Bl(dl,p),Hr.forEach(x),Zu.forEach(x),j=0;j<yc.length;j++)T=yc[j],T.blockedOn===p&&(T.blockedOn=null);for(;0<yc.length&&(j=yc[0],j.blockedOn===null);)S0(j),j.blockedOn===null&&yc.shift()}var Ul=_.ReactCurrentBatchConfig,cf=!0;function km(p,x,j,T){var U=Mn,G=Ul.transition;Ul.transition=null;try{Mn=1,ad(p,x,j,T)}finally{Mn=U,Ul.transition=G}}function Am(p,x,j,T){var U=Mn,G=Ul.transition;Ul.transition=null;try{Mn=4,ad(p,x,j,T)}finally{Mn=U,Ul.transition=G}}function ad(p,x,j,T){if(cf){var U=Qu(p,x,j,T);if(U===null)Fm(p,x,T,wc,j),N0(p,T);else if(sd(U,p,x,j,T))T.stopPropagation();else if(N0(p,T),x&4&&-1<ev.indexOf(p)){for(;U!==null;){var G=wf(U);if(G!==null&&af(G),G=Qu(p,x,j,T),G===null&&Fm(p,x,T,wc,j),G===U)break;U=G}U!==null&&T.stopPropagation()}else Fm(p,x,T,null,j)}}var wc=null;function Qu(p,x,j,T){if(wc=null,p=nt(T),p=cu(p),p!==null)if(x=xa(p),x===null)p=null;else if(j=x.tag,j===13){if(p=Qi(x),p!==null)return p;p=null}else if(j===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;p=null}else x!==p&&(p=null);return wc=p,null}function eh(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nf()){case mc:return 1;case hi:return 4;case pc:case Fe:return 16;case Qd:return 536870912;default:return 16}default:return 16}}var ul=null,id=null,th=null;function Em(){if(th)return th;var p,x=id,j=x.length,T,U="value"in ul?ul.value:ul.textContent,G=U.length;for(p=0;p<j&&x[p]===U[p];p++);var de=j-p;for(T=1;T<=de&&x[j-T]===U[G-T];T++);return th=U.slice(p,1<T?1-T:void 0)}function hl(p){var x=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&x===13&&(p=13)):p=x,p===10&&(p=13),32<=p||p===13?p:0}function fl(){return!0}function Pm(){return!1}function $i(p){function x(j,T,U,G,de){this._reactName=j,this._targetInst=U,this.type=T,this.nativeEvent=G,this.target=de,this.currentTarget=null;for(var Pe in p)p.hasOwnProperty(Pe)&&(j=p[Pe],this[Pe]=j?j(G):G[Pe]);return this.isDefaultPrevented=(G.defaultPrevented!=null?G.defaultPrevented:G.returnValue===!1)?fl:Pm,this.isPropagationStopped=Pm,this}return se(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var j=this.nativeEvent;j&&(j.preventDefault?j.preventDefault():typeof j.returnValue!="unknown"&&(j.returnValue=!1),this.isDefaultPrevented=fl)},stopPropagation:function(){var j=this.nativeEvent;j&&(j.stopPropagation?j.stopPropagation():typeof j.cancelBubble!="unknown"&&(j.cancelBubble=!0),this.isPropagationStopped=fl)},persist:function(){},isPersistent:fl}),x}var ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},df=$i(ml),B=se({},ml,{view:0,detail:0}),le=$i(B),_e,De,We,mt=se({},B,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eu,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==We&&(We&&p.type==="mousemove"?(_e=p.screenX-We.screenX,De=p.screenY-We.screenY):De=_e=0,We=p),_e)},movementY:function(p){return"movementY"in p?p.movementY:De}}),St=$i(mt),mr=se({},mt,{dataTransfer:0}),Cr=$i(mr),Jr=se({},B,{relatedTarget:0}),Qr=$i(Jr),Bn=se({},ml,{animationName:0,elapsedTime:0,pseudoElement:0}),Ys=$i(Bn),Pa=se({},ml,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),Ns=$i(Pa),Wa=se({},ml,{data:0}),va=$i(Wa),fi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},po={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _0(p){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(p):(p=po[p])?!!x[p]:!1}function eu(){return _0}var rh=se({},B,{key:function(p){if(p.key){var x=fi[p.key]||p.key;if(x!=="Unidentified")return x}return p.type==="keypress"?(p=hl(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?pl[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eu,charCode:function(p){return p.type==="keypress"?hl(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?hl(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),tu=$i(rh),nh=se({},mt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ru=$i(nh),sh=se({},B,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eu}),Di=$i(sh),ah=se({},ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),ih=$i(ah),Tm=se({},mt,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),Om=$i(Tm),ra=[9,13,27,32],zl=l&&"CompositionEvent"in window,jc=null;l&&"documentMode"in document&&(jc=document.documentMode);var C0=l&&"TextEvent"in window&&!jc,zo=l&&(!zl||jc&&8<jc&&11>=jc),nu=" ",uf=!1;function hf(p,x){switch(p){case"keyup":return ra.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function od(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var xl=!1;function Vo(p,x){switch(p){case"compositionend":return od(x);case"keypress":return x.which!==32?null:(uf=!0,nu);case"textInput":return p=x.data,p===nu&&uf?null:p;default:return null}}function Wo(p,x){if(xl)return p==="compositionend"||!zl&&hf(p,x)?(p=Em(),th=id=ul=null,xl=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return zo&&x.locale!=="ko"?null:x.data;default:return null}}var su={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nc(p){var x=p&&p.nodeName&&p.nodeName.toLowerCase();return x==="input"?!!su[p.type]:x==="textarea"}function ld(p,x,j,T){_t(T),x=T0(x,"onChange"),0<x.length&&(j=new df("onChange","change",null,j,T),p.push({event:j,listeners:x}))}var cd=null,Sc=null;function ya(p){Rm(p,0)}function oh(p){var x=gh(p);if(we(x))return p}function _c(p,x){if(p==="change")return x}var Vl=!1;if(l){var lh;if(l){var ch="oninput"in document;if(!ch){var ff=document.createElement("div");ff.setAttribute("oninput","return;"),ch=typeof ff.oninput=="function"}lh=ch}else lh=!1;Vl=lh&&(!document.documentMode||9<document.documentMode)}function mf(){cd&&(cd.detachEvent("onpropertychange",dd),Sc=cd=null)}function dd(p){if(p.propertyName==="value"&&oh(Sc)){var x=[];ld(x,Sc,p,nt(p)),He(ya,x)}}function au(p,x,j){p==="focusin"?(mf(),cd=x,Sc=j,cd.attachEvent("onpropertychange",dd)):p==="focusout"&&mf()}function iu(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return oh(Sc)}function dh(p,x){if(p==="click")return oh(x)}function ou(p,x){if(p==="input"||p==="change")return oh(x)}function uh(p,x){return p===x&&(p!==0||1/p===1/x)||p!==p&&x!==x}var na=typeof Object.is=="function"?Object.is:uh;function xo(p,x){if(na(p,x))return!0;if(typeof p!="object"||p===null||typeof x!="object"||x===null)return!1;var j=Object.keys(p),T=Object.keys(x);if(j.length!==T.length)return!1;for(T=0;T<j.length;T++){var U=j[T];if(!c.call(x,U)||!na(p[U],x[U]))return!1}return!0}function Un(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function ss(p,x){var j=Un(p);p=0;for(var T;j;){if(j.nodeType===3){if(T=p+j.textContent.length,p<=x&&T>=x)return{node:j,offset:x-p};p=T}e:{for(;j;){if(j.nextSibling){j=j.nextSibling;break e}j=j.parentNode}j=void 0}j=Un(j)}}function sa(p,x){return p&&x?p===x?!0:p&&p.nodeType===3?!1:x&&x.nodeType===3?sa(p,x.parentNode):"contains"in p?p.contains(x):p.compareDocumentPosition?!!(p.compareDocumentPosition(x)&16):!1:!1}function Ta(){for(var p=window,x=Ie();x instanceof p.HTMLIFrameElement;){try{var j=typeof x.contentWindow.location.href=="string"}catch{j=!1}if(j)p=x.contentWindow;else break;x=Ie(p.document)}return x}function Wl(p){var x=p&&p.nodeName&&p.nodeName.toLowerCase();return x&&(x==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||x==="textarea"||p.contentEditable==="true")}function Im(p){var x=Ta(),j=p.focusedElem,T=p.selectionRange;if(x!==j&&j&&j.ownerDocument&&sa(j.ownerDocument.documentElement,j)){if(T!==null&&Wl(j)){if(x=T.start,p=T.end,p===void 0&&(p=x),"selectionStart"in j)j.selectionStart=x,j.selectionEnd=Math.min(p,j.value.length);else if(p=(x=j.ownerDocument||document)&&x.defaultView||window,p.getSelection){p=p.getSelection();var U=j.textContent.length,G=Math.min(T.start,U);T=T.end===void 0?G:Math.min(T.end,U),!p.extend&&G>T&&(U=T,T=G,G=U),U=ss(j,G);var de=ss(j,T);U&&de&&(p.rangeCount!==1||p.anchorNode!==U.node||p.anchorOffset!==U.offset||p.focusNode!==de.node||p.focusOffset!==de.offset)&&(x=x.createRange(),x.setStart(U.node,U.offset),p.removeAllRanges(),G>T?(p.addRange(x),p.extend(de.node,de.offset)):(x.setEnd(de.node,de.offset),p.addRange(x)))}}for(x=[],p=j;p=p.parentNode;)p.nodeType===1&&x.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<x.length;j++)p=x[j],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var pf=l&&"documentMode"in document&&11>=document.documentMode,ud=null,k0=null,xf=null,A0=!1;function tv(p,x,j){var T=j.window===j?j.document:j.nodeType===9?j:j.ownerDocument;A0||ud==null||ud!==Ie(T)||(T=ud,"selectionStart"in T&&Wl(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),xf&&xo(xf,T)||(xf=T,T=T0(k0,"onSelect"),0<T.length&&(x=new df("onSelect","select",null,x,j),p.push({event:x,listeners:T}),x.target=ud)))}function $m(p,x){var j={};return j[p.toLowerCase()]=x.toLowerCase(),j["Webkit"+p]="webkit"+x,j["Moz"+p]="moz"+x,j}var hh={animationend:$m("Animation","AnimationEnd"),animationiteration:$m("Animation","AnimationIteration"),animationstart:$m("Animation","AnimationStart"),transitionend:$m("Transition","TransitionEnd")},fh={},rv={};l&&(rv=document.createElement("div").style,"AnimationEvent"in window||(delete hh.animationend.animation,delete hh.animationiteration.animation,delete hh.animationstart.animation),"TransitionEvent"in window||delete hh.transitionend.transition);function Dm(p){if(fh[p])return fh[p];if(!hh[p])return p;var x=hh[p],j;for(j in x)if(x.hasOwnProperty(j)&&j in rv)return fh[p]=x[j];return p}var nv=Dm("animationend"),sv=Dm("animationiteration"),av=Dm("animationstart"),iv=Dm("transitionend"),ov=new Map,lv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cc(p,x){ov.set(p,x),i(x,[p])}for(var gf=0;gf<lv.length;gf++){var to=lv[gf],gl=to.toLowerCase(),E0=to[0].toUpperCase()+to.slice(1);Cc(gl,"on"+E0)}Cc(nv,"onAnimationEnd"),Cc(sv,"onAnimationIteration"),Cc(av,"onAnimationStart"),Cc("dblclick","onDoubleClick"),Cc("focusin","onFocus"),Cc("focusout","onBlur"),Cc(iv,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cb=new Set("cancel close invalid load scroll toggle".split(" ").concat(lu));function Mm(p,x,j){var T=p.type||"unknown-event";p.currentTarget=j,Lo(T,x,void 0,p),p.currentTarget=null}function Rm(p,x){x=(x&4)!==0;for(var j=0;j<p.length;j++){var T=p[j],U=T.event;T=T.listeners;e:{var G=void 0;if(x)for(var de=T.length-1;0<=de;de--){var Pe=T[de],Re=Pe.instance,it=Pe.currentTarget;if(Pe=Pe.listener,Re!==G&&U.isPropagationStopped())break e;Mm(U,Pe,it),G=Re}else for(de=0;de<T.length;de++){if(Pe=T[de],Re=Pe.instance,it=Pe.currentTarget,Pe=Pe.listener,Re!==G&&U.isPropagationStopped())break e;Mm(U,Pe,it),G=Re}}}if(fs)throw p=Rl,fs=!1,Rl=null,p}function ms(p,x){var j=x[vo];j===void 0&&(j=x[vo]=new Set);var T=p+"__bubble";j.has(T)||(Lm(x,p,2,!1),j.add(T))}function P0(p,x,j){var T=0;x&&(T|=4),Lm(j,p,T,x)}var vf="_reactListening"+Math.random().toString(36).slice(2);function mh(p){if(!p[vf]){p[vf]=!0,s.forEach(function(j){j!=="selectionchange"&&(Cb.has(j)||P0(j,!1,p),P0(j,!0,p))});var x=p.nodeType===9?p:p.ownerDocument;x===null||x[vf]||(x[vf]=!0,P0("selectionchange",!1,x))}}function Lm(p,x,j,T){switch(eh(x)){case 1:var U=km;break;case 4:U=Am;break;default:U=ad}j=U.bind(null,x,j,p),U=void 0,!fr||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(U=!0),T?U!==void 0?p.addEventListener(x,j,{capture:!0,passive:U}):p.addEventListener(x,j,!0):U!==void 0?p.addEventListener(x,j,{passive:U}):p.addEventListener(x,j,!1)}function Fm(p,x,j,T,U){var G=T;if((x&1)===0&&(x&2)===0&&T!==null)e:for(;;){if(T===null)return;var de=T.tag;if(de===3||de===4){var Pe=T.stateNode.containerInfo;if(Pe===U||Pe.nodeType===8&&Pe.parentNode===U)break;if(de===4)for(de=T.return;de!==null;){var Re=de.tag;if((Re===3||Re===4)&&(Re=de.stateNode.containerInfo,Re===U||Re.nodeType===8&&Re.parentNode===U))return;de=de.return}for(;Pe!==null;){if(de=cu(Pe),de===null)return;if(Re=de.tag,Re===5||Re===6){T=G=de;continue e}Pe=Pe.parentNode}}T=T.return}He(function(){var it=G,kt=nt(j),Pt=[];e:{var Ct=ov.get(p);if(Ct!==void 0){var rr=df,gr=p;switch(p){case"keypress":if(hl(j)===0)break e;case"keydown":case"keyup":rr=tu;break;case"focusin":gr="focus",rr=Qr;break;case"focusout":gr="blur",rr=Qr;break;case"beforeblur":case"afterblur":rr=Qr;break;case"click":if(j.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rr=St;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rr=Cr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rr=Di;break;case nv:case sv:case av:rr=Ys;break;case iv:rr=ih;break;case"scroll":rr=le;break;case"wheel":rr=Om;break;case"copy":case"cut":case"paste":rr=Ns;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rr=ru}var Sr=(x&4)!==0,Ga=!Sr&&p==="scroll",Je=Sr?Ct!==null?Ct+"Capture":null:Ct;Sr=[];for(var Ue=it,rt;Ue!==null;){rt=Ue;var Rt=rt.stateNode;if(rt.tag===5&&Rt!==null&&(rt=Rt,Je!==null&&(Rt=jt(Ue,Je),Rt!=null&&Sr.push(Bm(Ue,Rt,rt)))),Ga)break;Ue=Ue.return}0<Sr.length&&(Ct=new rr(Ct,gr,null,j,kt),Pt.push({event:Ct,listeners:Sr}))}}if((x&7)===0){e:{if(Ct=p==="mouseover"||p==="pointerover",rr=p==="mouseout"||p==="pointerout",Ct&&j!==$e&&(gr=j.relatedTarget||j.fromElement)&&(cu(gr)||gr[Mi]))break e;if((rr||Ct)&&(Ct=kt.window===kt?kt:(Ct=kt.ownerDocument)?Ct.defaultView||Ct.parentWindow:window,rr?(gr=j.relatedTarget||j.toElement,rr=it,gr=gr?cu(gr):null,gr!==null&&(Ga=xa(gr),gr!==Ga||gr.tag!==5&&gr.tag!==6)&&(gr=null)):(rr=null,gr=it),rr!==gr)){if(Sr=St,Rt="onMouseLeave",Je="onMouseEnter",Ue="mouse",(p==="pointerout"||p==="pointerover")&&(Sr=ru,Rt="onPointerLeave",Je="onPointerEnter",Ue="pointer"),Ga=rr==null?Ct:gh(rr),rt=gr==null?Ct:gh(gr),Ct=new Sr(Rt,Ue+"leave",rr,j,kt),Ct.target=Ga,Ct.relatedTarget=rt,Rt=null,cu(kt)===it&&(Sr=new Sr(Je,Ue+"enter",gr,j,kt),Sr.target=rt,Sr.relatedTarget=Ga,Rt=Sr),Ga=Rt,rr&&gr)t:{for(Sr=rr,Je=gr,Ue=0,rt=Sr;rt;rt=ph(rt))Ue++;for(rt=0,Rt=Je;Rt;Rt=ph(Rt))rt++;for(;0<Ue-rt;)Sr=ph(Sr),Ue--;for(;0<rt-Ue;)Je=ph(Je),rt--;for(;Ue--;){if(Sr===Je||Je!==null&&Sr===Je.alternate)break t;Sr=ph(Sr),Je=ph(Je)}Sr=null}else Sr=null;rr!==null&&kb(Pt,Ct,rr,Sr,!1),gr!==null&&Ga!==null&&kb(Pt,Ga,gr,Sr,!0)}}e:{if(Ct=it?gh(it):window,rr=Ct.nodeName&&Ct.nodeName.toLowerCase(),rr==="select"||rr==="input"&&Ct.type==="file")var Ar=_c;else if(Nc(Ct))if(Vl)Ar=ou;else{Ar=iu;var zr=au}else(rr=Ct.nodeName)&&rr.toLowerCase()==="input"&&(Ct.type==="checkbox"||Ct.type==="radio")&&(Ar=dh);if(Ar&&(Ar=Ar(p,it))){ld(Pt,Ar,j,kt);break e}zr&&zr(p,Ct,it),p==="focusout"&&(zr=Ct._wrapperState)&&zr.controlled&&Ct.type==="number"&&qe(Ct,"number",Ct.value)}switch(zr=it?gh(it):window,p){case"focusin":(Nc(zr)||zr.contentEditable==="true")&&(ud=zr,k0=it,xf=null);break;case"focusout":xf=k0=ud=null;break;case"mousedown":A0=!0;break;case"contextmenu":case"mouseup":case"dragend":A0=!1,tv(Pt,j,kt);break;case"selectionchange":if(pf)break;case"keydown":case"keyup":tv(Pt,j,kt)}var Vr;if(zl)e:{switch(p){case"compositionstart":var nn="onCompositionStart";break e;case"compositionend":nn="onCompositionEnd";break e;case"compositionupdate":nn="onCompositionUpdate";break e}nn=void 0}else xl?hf(p,j)&&(nn="onCompositionEnd"):p==="keydown"&&j.keyCode===229&&(nn="onCompositionStart");nn&&(zo&&j.locale!=="ko"&&(xl||nn!=="onCompositionStart"?nn==="onCompositionEnd"&&xl&&(Vr=Em()):(ul=kt,id="value"in ul?ul.value:ul.textContent,xl=!0)),zr=T0(it,nn),0<zr.length&&(nn=new va(nn,p,null,j,kt),Pt.push({event:nn,listeners:zr}),Vr?nn.data=Vr:(Vr=od(j),Vr!==null&&(nn.data=Vr)))),(Vr=C0?Vo(p,j):Wo(p,j))&&(it=T0(it,"onBeforeInput"),0<it.length&&(kt=new va("onBeforeInput","beforeinput",null,j,kt),Pt.push({event:kt,listeners:it}),kt.data=Vr))}Rm(Pt,x)})}function Bm(p,x,j){return{instance:p,listener:x,currentTarget:j}}function T0(p,x){for(var j=x+"Capture",T=[];p!==null;){var U=p,G=U.stateNode;U.tag===5&&G!==null&&(U=G,G=jt(p,j),G!=null&&T.unshift(Bm(p,G,U)),G=jt(p,x),G!=null&&T.push(Bm(p,G,U))),p=p.return}return T}function ph(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function kb(p,x,j,T,U){for(var G=x._reactName,de=[];j!==null&&j!==T;){var Pe=j,Re=Pe.alternate,it=Pe.stateNode;if(Re!==null&&Re===T)break;Pe.tag===5&&it!==null&&(Pe=it,U?(Re=jt(j,G),Re!=null&&de.unshift(Bm(j,Re,Pe))):U||(Re=jt(j,G),Re!=null&&de.push(Bm(j,Re,Pe)))),j=j.return}de.length!==0&&p.push({event:x,listeners:de})}var B5=/\r\n?/g,U5=/\u0000|\uFFFD/g;function Ab(p){return(typeof p=="string"?p:""+p).replace(B5,`
`).replace(U5,"")}function O0(p,x,j){if(x=Ab(x),Ab(p)!==x&&j)throw Error(r(425))}function yf(){}var Um=null,xh=null;function cv(p,x){return p==="textarea"||p==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var dv=typeof setTimeout=="function"?setTimeout:void 0,Eb=typeof clearTimeout=="function"?clearTimeout:void 0,Pb=typeof Promise=="function"?Promise:void 0,z5=typeof queueMicrotask=="function"?queueMicrotask:typeof Pb<"u"?function(p){return Pb.resolve(null).then(p).catch(V5)}:dv;function V5(p){setTimeout(function(){throw p})}function uv(p,x){var j=x,T=0;do{var U=j.nextSibling;if(p.removeChild(j),U&&U.nodeType===8)if(j=U.data,j==="/$"){if(T===0){p.removeChild(U),bc(x);return}T--}else j!=="$"&&j!=="$?"&&j!=="$!"||T++;j=U}while(j);bc(x)}function ro(p){for(;p!=null;p=p.nextSibling){var x=p.nodeType;if(x===1||x===3)break;if(x===8){if(x=p.data,x==="$"||x==="$!"||x==="$?")break;if(x==="/$")return null}}return p}function vl(p){p=p.previousSibling;for(var x=0;p;){if(p.nodeType===8){var j=p.data;if(j==="$"||j==="$!"||j==="$?"){if(x===0)return p;x--}else j==="/$"&&x++}p=p.previousSibling}return null}var go=Math.random().toString(36).slice(2),kc="__reactFiber$"+go,bf="__reactProps$"+go,Mi="__reactContainer$"+go,vo="__reactEvents$"+go,W5="__reactListeners$"+go,H5="__reactHandles$"+go;function cu(p){var x=p[kc];if(x)return x;for(var j=p.parentNode;j;){if(x=j[Mi]||j[kc]){if(j=x.alternate,x.child!==null||j!==null&&j.child!==null)for(p=vl(p);p!==null;){if(j=p[kc])return j;p=vl(p)}return x}p=j,j=p.parentNode}return null}function wf(p){return p=p[kc]||p[Mi],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function gh(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(r(33))}function zm(p){return p[bf]||null}var hv=[],hd=-1;function Hl(p){return{current:p}}function Qn(p){0>hd||(p.current=hv[hd],hv[hd]=null,hd--)}function as(p,x){hd++,hv[hd]=p.current,p.current=x}var du={},mi=Hl(du),yo=Hl(!1),vh=du;function jf(p,x){var j=p.type.contextTypes;if(!j)return du;var T=p.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===x)return T.__reactInternalMemoizedMaskedChildContext;var U={},G;for(G in j)U[G]=x[G];return T&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=x,p.__reactInternalMemoizedMaskedChildContext=U),U}function bo(p){return p=p.childContextTypes,p!=null}function I0(){Qn(yo),Qn(mi)}function Tb(p,x,j){if(mi.current!==du)throw Error(r(168));as(mi,x),as(yo,j)}function fv(p,x,j){var T=p.stateNode;if(x=x.childContextTypes,typeof T.getChildContext!="function")return j;T=T.getChildContext();for(var U in T)if(!(U in x))throw Error(r(108,ce(p)||"Unknown",U));return se({},j,T)}function yh(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||du,vh=mi.current,as(mi,p),as(yo,yo.current),!0}function Ob(p,x,j){var T=p.stateNode;if(!T)throw Error(r(169));j?(p=fv(p,x,vh),T.__reactInternalMemoizedMergedChildContext=p,Qn(yo),Qn(mi),as(mi,p)):Qn(yo),as(yo,j)}var fd=null,Vm=!1,k=!1;function D(p){fd===null?fd=[p]:fd.push(p)}function V(p){Vm=!0,D(p)}function te(){if(!k&&fd!==null){k=!0;var p=0,x=Mn;try{var j=fd;for(Mn=1;p<j.length;p++){var T=j[p];do T=T(!0);while(T!==null)}fd=null,Vm=!1}catch(U){throw fd!==null&&(fd=fd.slice(p+1)),Ll(mc,te),U}finally{Mn=x,k=!1}}return null}var oe=[],ue=0,he=null,xe=0,ye=[],je=0,Me=null,Xe=1,Se="";function Be(p,x){oe[ue++]=xe,oe[ue++]=he,he=p,xe=x}function Ge(p,x,j){ye[je++]=Xe,ye[je++]=Se,ye[je++]=Me,Me=p;var T=Xe;p=Se;var U=32-Sn(T)-1;T&=~(1<<U),j+=1;var G=32-Sn(x)+U;if(30<G){var de=U-U%5;G=(T&(1<<de)-1).toString(32),T>>=de,U-=de,Xe=1<<32-Sn(x)+U|j<<U|T,Se=G+p}else Xe=1<<G|j<<U|T,Se=p}function ut(p){p.return!==null&&(Be(p,1),Ge(p,1,0))}function Qe(p){for(;p===he;)he=oe[--ue],oe[ue]=null,xe=oe[--ue],oe[ue]=null;for(;p===Me;)Me=ye[--je],ye[je]=null,Se=ye[--je],ye[je]=null,Xe=ye[--je],ye[je]=null}var ct=null,dt=null,gt=!1,vt=null;function kr(p,x){var j=Oc(5,null,null,0);j.elementType="DELETED",j.stateNode=x,j.return=p,x=p.deletions,x===null?(p.deletions=[j],p.flags|=16):x.push(j)}function ar(p,x){switch(p.tag){case 5:var j=p.type;return x=x.nodeType!==1||j.toLowerCase()!==x.nodeName.toLowerCase()?null:x,x!==null?(p.stateNode=x,ct=p,dt=ro(x.firstChild),!0):!1;case 6:return x=p.pendingProps===""||x.nodeType!==3?null:x,x!==null?(p.stateNode=x,ct=p,dt=null,!0):!1;case 13:return x=x.nodeType!==8?null:x,x!==null?(j=Me!==null?{id:Xe,overflow:Se}:null,p.memoizedState={dehydrated:x,treeContext:j,retryLane:1073741824},j=Oc(18,null,null,0),j.stateNode=x,j.return=p,p.child=j,ct=p,dt=null,!0):!1;default:return!1}}function cn(p){return(p.mode&1)!==0&&(p.flags&128)===0}function pr(p){if(gt){var x=dt;if(x){var j=x;if(!ar(p,x)){if(cn(p))throw Error(r(418));x=ro(j.nextSibling);var T=ct;x&&ar(p,x)?kr(T,j):(p.flags=p.flags&-4097|2,gt=!1,ct=p)}}else{if(cn(p))throw Error(r(418));p.flags=p.flags&-4097|2,gt=!1,ct=p}}}function _n(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;ct=p}function aa(p){if(p!==ct)return!1;if(!gt)return _n(p),gt=!0,!1;var x;if((x=p.tag!==3)&&!(x=p.tag!==5)&&(x=p.type,x=x!=="head"&&x!=="body"&&!cv(p.type,p.memoizedProps)),x&&(x=dt)){if(cn(p))throw un(),Error(r(418));for(;x;)kr(p,x),x=ro(x.nextSibling)}if(_n(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));e:{for(p=p.nextSibling,x=0;p;){if(p.nodeType===8){var j=p.data;if(j==="/$"){if(x===0){dt=ro(p.nextSibling);break e}x--}else j!=="$"&&j!=="$!"&&j!=="$?"||x++}p=p.nextSibling}dt=null}}else dt=ct?ro(p.stateNode.nextSibling):null;return!0}function un(){for(var p=dt;p;)p=ro(p.nextSibling)}function ir(){dt=ct=null,gt=!1}function zt(p){vt===null?vt=[p]:vt.push(p)}var ba=_.ReactCurrentBatchConfig;function Xr(p,x,j){if(p=j.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(j._owner){if(j=j._owner,j){if(j.tag!==1)throw Error(r(309));var T=j.stateNode}if(!T)throw Error(r(147,p));var U=T,G=""+p;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===G?x.ref:(x=function(de){var Pe=U.refs;de===null?delete Pe[G]:Pe[G]=de},x._stringRef=G,x)}if(typeof p!="string")throw Error(r(284));if(!j._owner)throw Error(r(290,p))}return p}function gn(p,x){throw p=Object.prototype.toString.call(x),Error(r(31,p==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":p))}function Ss(p){var x=p._init;return x(p._payload)}function ri(p){function x(Je,Ue){if(p){var rt=Je.deletions;rt===null?(Je.deletions=[Ue],Je.flags|=16):rt.push(Ue)}}function j(Je,Ue){if(!p)return null;for(;Ue!==null;)x(Je,Ue),Ue=Ue.sibling;return null}function T(Je,Ue){for(Je=new Map;Ue!==null;)Ue.key!==null?Je.set(Ue.key,Ue):Je.set(Ue.index,Ue),Ue=Ue.sibling;return Je}function U(Je,Ue){return Je=Of(Je,Ue),Je.index=0,Je.sibling=null,Je}function G(Je,Ue,rt){return Je.index=rt,p?(rt=Je.alternate,rt!==null?(rt=rt.index,rt<Ue?(Je.flags|=2,Ue):rt):(Je.flags|=2,Ue)):(Je.flags|=1048576,Ue)}function de(Je){return p&&Je.alternate===null&&(Je.flags|=2),Je}function Pe(Je,Ue,rt,Rt){return Ue===null||Ue.tag!==6?(Ue=b4(rt,Je.mode,Rt),Ue.return=Je,Ue):(Ue=U(Ue,rt),Ue.return=Je,Ue)}function Re(Je,Ue,rt,Rt){var Ar=rt.type;return Ar===A?kt(Je,Ue,rt.props.children,Rt,rt.key):Ue!==null&&(Ue.elementType===Ar||typeof Ar=="object"&&Ar!==null&&Ar.$$typeof===K&&Ss(Ar)===Ue.type)?(Rt=U(Ue,rt.props),Rt.ref=Xr(Je,Ue,rt),Rt.return=Je,Rt):(Rt=Jb(rt.type,rt.key,rt.props,null,Je.mode,Rt),Rt.ref=Xr(Je,Ue,rt),Rt.return=Je,Rt)}function it(Je,Ue,rt,Rt){return Ue===null||Ue.tag!==4||Ue.stateNode.containerInfo!==rt.containerInfo||Ue.stateNode.implementation!==rt.implementation?(Ue=w4(rt,Je.mode,Rt),Ue.return=Je,Ue):(Ue=U(Ue,rt.children||[]),Ue.return=Je,Ue)}function kt(Je,Ue,rt,Rt,Ar){return Ue===null||Ue.tag!==7?(Ue=Zm(rt,Je.mode,Rt,Ar),Ue.return=Je,Ue):(Ue=U(Ue,rt),Ue.return=Je,Ue)}function Pt(Je,Ue,rt){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return Ue=b4(""+Ue,Je.mode,rt),Ue.return=Je,Ue;if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case C:return rt=Jb(Ue.type,Ue.key,Ue.props,null,Je.mode,rt),rt.ref=Xr(Je,null,Ue),rt.return=Je,rt;case E:return Ue=w4(Ue,Je.mode,rt),Ue.return=Je,Ue;case K:var Rt=Ue._init;return Pt(Je,Rt(Ue._payload),rt)}if(ft(Ue)||ee(Ue))return Ue=Zm(Ue,Je.mode,rt,null),Ue.return=Je,Ue;gn(Je,Ue)}return null}function Ct(Je,Ue,rt,Rt){var Ar=Ue!==null?Ue.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number")return Ar!==null?null:Pe(Je,Ue,""+rt,Rt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case C:return rt.key===Ar?Re(Je,Ue,rt,Rt):null;case E:return rt.key===Ar?it(Je,Ue,rt,Rt):null;case K:return Ar=rt._init,Ct(Je,Ue,Ar(rt._payload),Rt)}if(ft(rt)||ee(rt))return Ar!==null?null:kt(Je,Ue,rt,Rt,null);gn(Je,rt)}return null}function rr(Je,Ue,rt,Rt,Ar){if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number")return Je=Je.get(rt)||null,Pe(Ue,Je,""+Rt,Ar);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case C:return Je=Je.get(Rt.key===null?rt:Rt.key)||null,Re(Ue,Je,Rt,Ar);case E:return Je=Je.get(Rt.key===null?rt:Rt.key)||null,it(Ue,Je,Rt,Ar);case K:var zr=Rt._init;return rr(Je,Ue,rt,zr(Rt._payload),Ar)}if(ft(Rt)||ee(Rt))return Je=Je.get(rt)||null,kt(Ue,Je,Rt,Ar,null);gn(Ue,Rt)}return null}function gr(Je,Ue,rt,Rt){for(var Ar=null,zr=null,Vr=Ue,nn=Ue=0,Ui=null;Vr!==null&&nn<rt.length;nn++){Vr.index>nn?(Ui=Vr,Vr=null):Ui=Vr.sibling;var Kn=Ct(Je,Vr,rt[nn],Rt);if(Kn===null){Vr===null&&(Vr=Ui);break}p&&Vr&&Kn.alternate===null&&x(Je,Vr),Ue=G(Kn,Ue,nn),zr===null?Ar=Kn:zr.sibling=Kn,zr=Kn,Vr=Ui}if(nn===rt.length)return j(Je,Vr),gt&&Be(Je,nn),Ar;if(Vr===null){for(;nn<rt.length;nn++)Vr=Pt(Je,rt[nn],Rt),Vr!==null&&(Ue=G(Vr,Ue,nn),zr===null?Ar=Vr:zr.sibling=Vr,zr=Vr);return gt&&Be(Je,nn),Ar}for(Vr=T(Je,Vr);nn<rt.length;nn++)Ui=rr(Vr,Je,nn,rt[nn],Rt),Ui!==null&&(p&&Ui.alternate!==null&&Vr.delete(Ui.key===null?nn:Ui.key),Ue=G(Ui,Ue,nn),zr===null?Ar=Ui:zr.sibling=Ui,zr=Ui);return p&&Vr.forEach(function(If){return x(Je,If)}),gt&&Be(Je,nn),Ar}function Sr(Je,Ue,rt,Rt){var Ar=ee(rt);if(typeof Ar!="function")throw Error(r(150));if(rt=Ar.call(rt),rt==null)throw Error(r(151));for(var zr=Ar=null,Vr=Ue,nn=Ue=0,Ui=null,Kn=rt.next();Vr!==null&&!Kn.done;nn++,Kn=rt.next()){Vr.index>nn?(Ui=Vr,Vr=null):Ui=Vr.sibling;var If=Ct(Je,Vr,Kn.value,Rt);if(If===null){Vr===null&&(Vr=Ui);break}p&&Vr&&If.alternate===null&&x(Je,Vr),Ue=G(If,Ue,nn),zr===null?Ar=If:zr.sibling=If,zr=If,Vr=Ui}if(Kn.done)return j(Je,Vr),gt&&Be(Je,nn),Ar;if(Vr===null){for(;!Kn.done;nn++,Kn=rt.next())Kn=Pt(Je,Kn.value,Rt),Kn!==null&&(Ue=G(Kn,Ue,nn),zr===null?Ar=Kn:zr.sibling=Kn,zr=Kn);return gt&&Be(Je,nn),Ar}for(Vr=T(Je,Vr);!Kn.done;nn++,Kn=rt.next())Kn=rr(Vr,Je,nn,Kn.value,Rt),Kn!==null&&(p&&Kn.alternate!==null&&Vr.delete(Kn.key===null?nn:Kn.key),Ue=G(Kn,Ue,nn),zr===null?Ar=Kn:zr.sibling=Kn,zr=Kn);return p&&Vr.forEach(function(fne){return x(Je,fne)}),gt&&Be(Je,nn),Ar}function Ga(Je,Ue,rt,Rt){if(typeof rt=="object"&&rt!==null&&rt.type===A&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case C:e:{for(var Ar=rt.key,zr=Ue;zr!==null;){if(zr.key===Ar){if(Ar=rt.type,Ar===A){if(zr.tag===7){j(Je,zr.sibling),Ue=U(zr,rt.props.children),Ue.return=Je,Je=Ue;break e}}else if(zr.elementType===Ar||typeof Ar=="object"&&Ar!==null&&Ar.$$typeof===K&&Ss(Ar)===zr.type){j(Je,zr.sibling),Ue=U(zr,rt.props),Ue.ref=Xr(Je,zr,rt),Ue.return=Je,Je=Ue;break e}j(Je,zr);break}else x(Je,zr);zr=zr.sibling}rt.type===A?(Ue=Zm(rt.props.children,Je.mode,Rt,rt.key),Ue.return=Je,Je=Ue):(Rt=Jb(rt.type,rt.key,rt.props,null,Je.mode,Rt),Rt.ref=Xr(Je,Ue,rt),Rt.return=Je,Je=Rt)}return de(Je);case E:e:{for(zr=rt.key;Ue!==null;){if(Ue.key===zr)if(Ue.tag===4&&Ue.stateNode.containerInfo===rt.containerInfo&&Ue.stateNode.implementation===rt.implementation){j(Je,Ue.sibling),Ue=U(Ue,rt.children||[]),Ue.return=Je,Je=Ue;break e}else{j(Je,Ue);break}else x(Je,Ue);Ue=Ue.sibling}Ue=w4(rt,Je.mode,Rt),Ue.return=Je,Je=Ue}return de(Je);case K:return zr=rt._init,Ga(Je,Ue,zr(rt._payload),Rt)}if(ft(rt))return gr(Je,Ue,rt,Rt);if(ee(rt))return Sr(Je,Ue,rt,Rt);gn(Je,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"?(rt=""+rt,Ue!==null&&Ue.tag===6?(j(Je,Ue.sibling),Ue=U(Ue,rt),Ue.return=Je,Je=Ue):(j(Je,Ue),Ue=b4(rt,Je.mode,Rt),Ue.return=Je,Je=Ue),de(Je)):j(Je,Ue)}return Ga}var Oa=ri(!0),Xs=ri(!1),Ha=Hl(null),ni=null,Rs=null,Pn=null;function zn(){Pn=Rs=ni=null}function Ls(p){var x=Ha.current;Qn(Ha),p._currentValue=x}function Vn(p,x,j){for(;p!==null;){var T=p.alternate;if((p.childLanes&x)!==x?(p.childLanes|=x,T!==null&&(T.childLanes|=x)):T!==null&&(T.childLanes&x)!==x&&(T.childLanes|=x),p===j)break;p=p.return}}function ia(p,x){ni=p,Pn=Rs=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&x)!==0&&(bl=!0),p.firstContext=null)}function oa(p){var x=p._currentValue;if(Pn!==p)if(p={context:p,memoizedValue:x,next:null},Rs===null){if(ni===null)throw Error(r(308));Rs=p,ni.dependencies={lanes:0,firstContext:p}}else Rs=Rs.next=p;return x}var ps=null;function Ri(p){ps===null?ps=[p]:ps.push(p)}function is(p,x,j,T){var U=x.interleaved;return U===null?(j.next=j,Ri(x)):(j.next=U.next,U.next=j),x.interleaved=j,xs(p,T)}function xs(p,x){p.lanes|=x;var j=p.alternate;for(j!==null&&(j.lanes|=x),j=p,p=p.return;p!==null;)p.childLanes|=x,j=p.alternate,j!==null&&(j.childLanes|=x),j=p,p=p.return;return j.tag===3?j.stateNode:null}var Ia=!1;function pi(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wo(p,x){p=p.updateQueue,x.updateQueue===p&&(x.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function wa(p,x){return{eventTime:p,lane:x,tag:0,payload:null,callback:null,next:null}}function ja(p,x,j){var T=p.updateQueue;if(T===null)return null;if(T=T.shared,(Wn&2)!==0){var U=T.pending;return U===null?x.next=x:(x.next=U.next,U.next=x),T.pending=x,xs(p,j)}return U=T.interleaved,U===null?(x.next=x,Ri(T)):(x.next=U.next,U.next=x),T.interleaved=x,xs(p,j)}function Li(p,x,j){if(x=x.updateQueue,x!==null&&(x=x.shared,(j&4194240)!==0)){var T=x.lanes;T&=p.pendingLanes,j|=T,x.lanes=j,sf(p,j)}}function gs(p,x){var j=p.updateQueue,T=p.alternate;if(T!==null&&(T=T.updateQueue,j===T)){var U=null,G=null;if(j=j.firstBaseUpdate,j!==null){do{var de={eventTime:j.eventTime,lane:j.lane,tag:j.tag,payload:j.payload,callback:j.callback,next:null};G===null?U=G=de:G=G.next=de,j=j.next}while(j!==null);G===null?U=G=x:G=G.next=x}else U=G=x;j={baseState:T.baseState,firstBaseUpdate:U,lastBaseUpdate:G,shared:T.shared,effects:T.effects},p.updateQueue=j;return}p=j.lastBaseUpdate,p===null?j.firstBaseUpdate=x:p.next=x,j.lastBaseUpdate=x}function Fi(p,x,j,T){var U=p.updateQueue;Ia=!1;var G=U.firstBaseUpdate,de=U.lastBaseUpdate,Pe=U.shared.pending;if(Pe!==null){U.shared.pending=null;var Re=Pe,it=Re.next;Re.next=null,de===null?G=it:de.next=it,de=Re;var kt=p.alternate;kt!==null&&(kt=kt.updateQueue,Pe=kt.lastBaseUpdate,Pe!==de&&(Pe===null?kt.firstBaseUpdate=it:Pe.next=it,kt.lastBaseUpdate=Re))}if(G!==null){var Pt=U.baseState;de=0,kt=it=Re=null,Pe=G;do{var Ct=Pe.lane,rr=Pe.eventTime;if((T&Ct)===Ct){kt!==null&&(kt=kt.next={eventTime:rr,lane:0,tag:Pe.tag,payload:Pe.payload,callback:Pe.callback,next:null});e:{var gr=p,Sr=Pe;switch(Ct=x,rr=j,Sr.tag){case 1:if(gr=Sr.payload,typeof gr=="function"){Pt=gr.call(rr,Pt,Ct);break e}Pt=gr;break e;case 3:gr.flags=gr.flags&-65537|128;case 0:if(gr=Sr.payload,Ct=typeof gr=="function"?gr.call(rr,Pt,Ct):gr,Ct==null)break e;Pt=se({},Pt,Ct);break e;case 2:Ia=!0}}Pe.callback!==null&&Pe.lane!==0&&(p.flags|=64,Ct=U.effects,Ct===null?U.effects=[Pe]:Ct.push(Pe))}else rr={eventTime:rr,lane:Ct,tag:Pe.tag,payload:Pe.payload,callback:Pe.callback,next:null},kt===null?(it=kt=rr,Re=Pt):kt=kt.next=rr,de|=Ct;if(Pe=Pe.next,Pe===null){if(Pe=U.shared.pending,Pe===null)break;Ct=Pe,Pe=Ct.next,Ct.next=null,U.lastBaseUpdate=Ct,U.shared.pending=null}}while(!0);if(kt===null&&(Re=Pt),U.baseState=Re,U.firstBaseUpdate=it,U.lastBaseUpdate=kt,x=U.shared.interleaved,x!==null){U=x;do de|=U.lane,U=U.next;while(U!==x)}else G===null&&(U.shared.lanes=0);Gm|=de,p.lanes=de,p.memoizedState=Pt}}function yl(p,x,j){if(p=x.effects,x.effects=null,p!==null)for(x=0;x<p.length;x++){var T=p[x],U=T.callback;if(U!==null){if(T.callback=null,T=j,typeof U!="function")throw Error(r(191,U));U.call(T)}}}var ql={},si=Hl(ql),Na=Hl(ql),uu=Hl(ql);function md(p){if(p===ql)throw Error(r(174));return p}function Nf(p,x){switch(as(uu,x),as(Na,p),as(si,ql),p=x.nodeType,p){case 9:case 11:x=(x=x.documentElement)?x.namespaceURI:Gt(null,"");break;default:p=p===8?x.parentNode:x,x=p.namespaceURI||null,p=p.tagName,x=Gt(x,p)}Qn(si),as(si,x)}function Ac(){Qn(si),Qn(Na),Qn(uu)}function Ib(p){md(uu.current);var x=md(si.current),j=Gt(x,p.type);x!==j&&(as(Na,p),as(si,j))}function mv(p){Na.current===p&&(Qn(si),Qn(Na))}var Ts=Hl(0);function Gl(p){for(var x=p;x!==null;){if(x.tag===13){var j=x.memoizedState;if(j!==null&&(j=j.dehydrated,j===null||j.data==="$?"||j.data==="$!"))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===p)break;for(;x.sibling===null;){if(x.return===null||x.return===p)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var pv=[];function xv(){for(var p=0;p<pv.length;p++)pv[p]._workInProgressVersionPrimary=null;pv.length=0}var $0=_.ReactCurrentDispatcher,D0=_.ReactCurrentBatchConfig,Ec=0,Fs=null,$a=null,Sa=null,Sf=!1,pd=!1,_f=0,q5=0;function qa(){throw Error(r(321))}function M0(p,x){if(x===null)return!1;for(var j=0;j<x.length&&j<p.length;j++)if(!na(p[j],x[j]))return!1;return!0}function Wm(p,x,j,T,U,G){if(Ec=G,Fs=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,$0.current=p===null||p.memoizedState===null?Fre:Bre,p=j(T,U),pd){G=0;do{if(pd=!1,_f=0,25<=G)throw Error(r(301));G+=1,Sa=$a=null,x.updateQueue=null,$0.current=Ure,p=j(T,U)}while(pd)}if($0.current=Lb,x=$a!==null&&$a.next!==null,Ec=0,Sa=$a=Fs=null,Sf=!1,x)throw Error(r(300));return p}function Pc(){var p=_f!==0;return _f=0,p}function Kl(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sa===null?Fs.memoizedState=Sa=p:Sa=Sa.next=p,Sa}function Ho(){if($a===null){var p=Fs.alternate;p=p!==null?p.memoizedState:null}else p=$a.next;var x=Sa===null?Fs.memoizedState:Sa.next;if(x!==null)Sa=x,$a=p;else{if(p===null)throw Error(r(310));$a=p,p={memoizedState:$a.memoizedState,baseState:$a.baseState,baseQueue:$a.baseQueue,queue:$a.queue,next:null},Sa===null?Fs.memoizedState=Sa=p:Sa=Sa.next=p}return Sa}function Hm(p,x){return typeof x=="function"?x(p):x}function R0(p){var x=Ho(),j=x.queue;if(j===null)throw Error(r(311));j.lastRenderedReducer=p;var T=$a,U=T.baseQueue,G=j.pending;if(G!==null){if(U!==null){var de=U.next;U.next=G.next,G.next=de}T.baseQueue=U=G,j.pending=null}if(U!==null){G=U.next,T=T.baseState;var Pe=de=null,Re=null,it=G;do{var kt=it.lane;if((Ec&kt)===kt)Re!==null&&(Re=Re.next={lane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),T=it.hasEagerState?it.eagerState:p(T,it.action);else{var Pt={lane:kt,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null};Re===null?(Pe=Re=Pt,de=T):Re=Re.next=Pt,Fs.lanes|=kt,Gm|=kt}it=it.next}while(it!==null&&it!==G);Re===null?de=T:Re.next=Pe,na(T,x.memoizedState)||(bl=!0),x.memoizedState=T,x.baseState=de,x.baseQueue=Re,j.lastRenderedState=T}if(p=j.interleaved,p!==null){U=p;do G=U.lane,Fs.lanes|=G,Gm|=G,U=U.next;while(U!==p)}else U===null&&(j.lanes=0);return[x.memoizedState,j.dispatch]}function hu(p){var x=Ho(),j=x.queue;if(j===null)throw Error(r(311));j.lastRenderedReducer=p;var T=j.dispatch,U=j.pending,G=x.memoizedState;if(U!==null){j.pending=null;var de=U=U.next;do G=p(G,de.action),de=de.next;while(de!==U);na(G,x.memoizedState)||(bl=!0),x.memoizedState=G,x.baseQueue===null&&(x.baseState=G),j.lastRenderedState=G}return[G,T]}function $b(){}function gv(p,x){var j=Fs,T=Ho(),U=x(),G=!na(T.memoizedState,U);if(G&&(T.memoizedState=U,bl=!0),T=T.queue,B0(Mb.bind(null,j,T,p),[p]),T.getSnapshot!==x||G||Sa!==null&&Sa.memoizedState.tag&1){if(j.flags|=2048,qo(9,vv.bind(null,j,T,U,x),void 0,null),Bi===null)throw Error(r(349));(Ec&30)!==0||Db(j,x,U)}return U}function Db(p,x,j){p.flags|=16384,p={getSnapshot:x,value:j},x=Fs.updateQueue,x===null?(x={lastEffect:null,stores:null},Fs.updateQueue=x,x.stores=[p]):(j=x.stores,j===null?x.stores=[p]:j.push(p))}function vv(p,x,j,T){x.value=j,x.getSnapshot=T,Cf(x)&&L0(p)}function Mb(p,x,j){return j(function(){Cf(x)&&L0(p)})}function Cf(p){var x=p.getSnapshot;p=p.value;try{var j=x();return!na(p,j)}catch{return!0}}function L0(p){var x=xs(p,1);x!==null&&bd(x,p,1,-1)}function qm(p){var x=Kl();return typeof p=="function"&&(p=p()),x.memoizedState=x.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hm,lastRenderedState:p},x.queue=p,p=p.dispatch=Lre.bind(null,Fs,p),[x.memoizedState,p]}function qo(p,x,j,T){return p={tag:p,create:x,destroy:j,deps:T,next:null},x=Fs.updateQueue,x===null?(x={lastEffect:null,stores:null},Fs.updateQueue=x,x.lastEffect=p.next=p):(j=x.lastEffect,j===null?x.lastEffect=p.next=p:(T=j.next,j.next=p,p.next=T,x.lastEffect=p)),p}function xd(){return Ho().memoizedState}function Yl(p,x,j,T){var U=Kl();Fs.flags|=p,U.memoizedState=qo(1|x,j,void 0,T===void 0?null:T)}function bh(p,x,j,T){var U=Ho();T=T===void 0?null:T;var G=void 0;if($a!==null){var de=$a.memoizedState;if(G=de.destroy,T!==null&&M0(T,de.deps)){U.memoizedState=qo(x,j,G,T);return}}Fs.flags|=p,U.memoizedState=qo(1|x,j,G,T)}function F0(p,x){return Yl(8390656,8,p,x)}function B0(p,x){return bh(2048,8,p,x)}function Rb(p,x){return bh(4,2,p,x)}function U0(p,x){return bh(4,4,p,x)}function z0(p,x){if(typeof x=="function")return p=p(),x(p),function(){x(null)};if(x!=null)return p=p(),x.current=p,function(){x.current=null}}function VO(p,x,j){return j=j!=null?j.concat([p]):null,bh(4,4,z0.bind(null,x,p),j)}function G5(){}function WO(p,x){var j=Ho();x=x===void 0?null:x;var T=j.memoizedState;return T!==null&&x!==null&&M0(x,T[1])?T[0]:(j.memoizedState=[p,x],p)}function HO(p,x){var j=Ho();x=x===void 0?null:x;var T=j.memoizedState;return T!==null&&x!==null&&M0(x,T[1])?T[0]:(p=p(),j.memoizedState=[p,x],p)}function qO(p,x,j){return(Ec&21)===0?(p.baseState&&(p.baseState=!1,bl=!0),p.memoizedState=j):(na(j,x)||(j=Ii(),Fs.lanes|=j,Gm|=j,p.baseState=!0),x)}function Mre(p,x){var j=Mn;Mn=j!==0&&4>j?j:4,p(!0);var T=D0.transition;D0.transition={};try{p(!1),x()}finally{Mn=j,D0.transition=T}}function GO(){return Ho().memoizedState}function Rre(p,x,j){var T=Pf(p);if(j={lane:T,action:j,hasEagerState:!1,eagerState:null,next:null},KO(p))YO(x,j);else if(j=is(p,x,j,T),j!==null){var U=Ko();bd(j,p,T,U),XO(j,x,T)}}function Lre(p,x,j){var T=Pf(p),U={lane:T,action:j,hasEagerState:!1,eagerState:null,next:null};if(KO(p))YO(x,U);else{var G=p.alternate;if(p.lanes===0&&(G===null||G.lanes===0)&&(G=x.lastRenderedReducer,G!==null))try{var de=x.lastRenderedState,Pe=G(de,j);if(U.hasEagerState=!0,U.eagerState=Pe,na(Pe,de)){var Re=x.interleaved;Re===null?(U.next=U,Ri(x)):(U.next=Re.next,Re.next=U),x.interleaved=U;return}}catch{}finally{}j=is(p,x,U,T),j!==null&&(U=Ko(),bd(j,p,T,U),XO(j,x,T))}}function KO(p){var x=p.alternate;return p===Fs||x!==null&&x===Fs}function YO(p,x){pd=Sf=!0;var j=p.pending;j===null?x.next=x:(x.next=j.next,j.next=x),p.pending=x}function XO(p,x,j){if((j&4194240)!==0){var T=x.lanes;T&=p.pendingLanes,j|=T,x.lanes=j,sf(p,j)}}var Lb={readContext:oa,useCallback:qa,useContext:qa,useEffect:qa,useImperativeHandle:qa,useInsertionEffect:qa,useLayoutEffect:qa,useMemo:qa,useReducer:qa,useRef:qa,useState:qa,useDebugValue:qa,useDeferredValue:qa,useTransition:qa,useMutableSource:qa,useSyncExternalStore:qa,useId:qa,unstable_isNewReconciler:!1},Fre={readContext:oa,useCallback:function(p,x){return Kl().memoizedState=[p,x===void 0?null:x],p},useContext:oa,useEffect:F0,useImperativeHandle:function(p,x,j){return j=j!=null?j.concat([p]):null,Yl(4194308,4,z0.bind(null,x,p),j)},useLayoutEffect:function(p,x){return Yl(4194308,4,p,x)},useInsertionEffect:function(p,x){return Yl(4,2,p,x)},useMemo:function(p,x){var j=Kl();return x=x===void 0?null:x,p=p(),j.memoizedState=[p,x],p},useReducer:function(p,x,j){var T=Kl();return x=j!==void 0?j(x):x,T.memoizedState=T.baseState=x,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:x},T.queue=p,p=p.dispatch=Rre.bind(null,Fs,p),[T.memoizedState,p]},useRef:function(p){var x=Kl();return p={current:p},x.memoizedState=p},useState:qm,useDebugValue:G5,useDeferredValue:function(p){return Kl().memoizedState=p},useTransition:function(){var p=qm(!1),x=p[0];return p=Mre.bind(null,p[1]),Kl().memoizedState=p,[x,p]},useMutableSource:function(){},useSyncExternalStore:function(p,x,j){var T=Fs,U=Kl();if(gt){if(j===void 0)throw Error(r(407));j=j()}else{if(j=x(),Bi===null)throw Error(r(349));(Ec&30)!==0||Db(T,x,j)}U.memoizedState=j;var G={value:j,getSnapshot:x};return U.queue=G,F0(Mb.bind(null,T,G,p),[p]),T.flags|=2048,qo(9,vv.bind(null,T,G,j,x),void 0,null),j},useId:function(){var p=Kl(),x=Bi.identifierPrefix;if(gt){var j=Se,T=Xe;j=(T&~(1<<32-Sn(T)-1)).toString(32)+j,x=":"+x+"R"+j,j=_f++,0<j&&(x+="H"+j.toString(32)),x+=":"}else j=q5++,x=":"+x+"r"+j.toString(32)+":";return p.memoizedState=x},unstable_isNewReconciler:!1},Bre={readContext:oa,useCallback:WO,useContext:oa,useEffect:B0,useImperativeHandle:VO,useInsertionEffect:Rb,useLayoutEffect:U0,useMemo:HO,useReducer:R0,useRef:xd,useState:function(){return R0(Hm)},useDebugValue:G5,useDeferredValue:function(p){var x=Ho();return qO(x,$a.memoizedState,p)},useTransition:function(){var p=R0(Hm)[0],x=Ho().memoizedState;return[p,x]},useMutableSource:$b,useSyncExternalStore:gv,useId:GO,unstable_isNewReconciler:!1},Ure={readContext:oa,useCallback:WO,useContext:oa,useEffect:B0,useImperativeHandle:VO,useInsertionEffect:Rb,useLayoutEffect:U0,useMemo:HO,useReducer:hu,useRef:xd,useState:function(){return hu(Hm)},useDebugValue:G5,useDeferredValue:function(p){var x=Ho();return $a===null?x.memoizedState=p:qO(x,$a.memoizedState,p)},useTransition:function(){var p=hu(Hm)[0],x=Ho().memoizedState;return[p,x]},useMutableSource:$b,useSyncExternalStore:gv,useId:GO,unstable_isNewReconciler:!1};function gd(p,x){if(p&&p.defaultProps){x=se({},x),p=p.defaultProps;for(var j in p)x[j]===void 0&&(x[j]=p[j]);return x}return x}function K5(p,x,j,T){x=p.memoizedState,j=j(T,x),j=j==null?x:se({},x,j),p.memoizedState=j,p.lanes===0&&(p.updateQueue.baseState=j)}var Fb={isMounted:function(p){return(p=p._reactInternals)?xa(p)===p:!1},enqueueSetState:function(p,x,j){p=p._reactInternals;var T=Ko(),U=Pf(p),G=wa(T,U);G.payload=x,j!=null&&(G.callback=j),x=ja(p,G,U),x!==null&&(bd(x,p,U,T),Li(x,p,U))},enqueueReplaceState:function(p,x,j){p=p._reactInternals;var T=Ko(),U=Pf(p),G=wa(T,U);G.tag=1,G.payload=x,j!=null&&(G.callback=j),x=ja(p,G,U),x!==null&&(bd(x,p,U,T),Li(x,p,U))},enqueueForceUpdate:function(p,x){p=p._reactInternals;var j=Ko(),T=Pf(p),U=wa(j,T);U.tag=2,x!=null&&(U.callback=x),x=ja(p,U,T),x!==null&&(bd(x,p,T,j),Li(x,p,T))}};function ZO(p,x,j,T,U,G,de){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(T,G,de):x.prototype&&x.prototype.isPureReactComponent?!xo(j,T)||!xo(U,G):!0}function JO(p,x,j){var T=!1,U=du,G=x.contextType;return typeof G=="object"&&G!==null?G=oa(G):(U=bo(x)?vh:mi.current,T=x.contextTypes,G=(T=T!=null)?jf(p,U):du),x=new x(j,G),p.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Fb,p.stateNode=x,x._reactInternals=p,T&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=U,p.__reactInternalMemoizedMaskedChildContext=G),x}function QO(p,x,j,T){p=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(j,T),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(j,T),x.state!==p&&Fb.enqueueReplaceState(x,x.state,null)}function Y5(p,x,j,T){var U=p.stateNode;U.props=j,U.state=p.memoizedState,U.refs={},pi(p);var G=x.contextType;typeof G=="object"&&G!==null?U.context=oa(G):(G=bo(x)?vh:mi.current,U.context=jf(p,G)),U.state=p.memoizedState,G=x.getDerivedStateFromProps,typeof G=="function"&&(K5(p,x,G,j),U.state=p.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(x=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),x!==U.state&&Fb.enqueueReplaceState(U,U.state,null),Fi(p,j,U,T),U.state=p.memoizedState),typeof U.componentDidMount=="function"&&(p.flags|=4194308)}function V0(p,x){try{var j="",T=x;do j+=Q(T),T=T.return;while(T);var U=j}catch(G){U=`
Error generating stack: `+G.message+`
`+G.stack}return{value:p,source:x,stack:U,digest:null}}function X5(p,x,j){return{value:p,source:null,stack:j??null,digest:x??null}}function Z5(p,x){try{console.error(x.value)}catch(j){setTimeout(function(){throw j})}}var zre=typeof WeakMap=="function"?WeakMap:Map;function eI(p,x,j){j=wa(-1,j),j.tag=3,j.payload={element:null};var T=x.value;return j.callback=function(){qb||(qb=!0,h4=T),Z5(p,x)},j}function tI(p,x,j){j=wa(-1,j),j.tag=3;var T=p.type.getDerivedStateFromError;if(typeof T=="function"){var U=x.value;j.payload=function(){return T(U)},j.callback=function(){Z5(p,x)}}var G=p.stateNode;return G!==null&&typeof G.componentDidCatch=="function"&&(j.callback=function(){Z5(p,x),typeof T!="function"&&(Af===null?Af=new Set([this]):Af.add(this));var de=x.stack;this.componentDidCatch(x.value,{componentStack:de!==null?de:""})}),j}function rI(p,x,j){var T=p.pingCache;if(T===null){T=p.pingCache=new zre;var U=new Set;T.set(x,U)}else U=T.get(x),U===void 0&&(U=new Set,T.set(x,U));U.has(j)||(U.add(j),p=rne.bind(null,p,x,j),x.then(p,p))}function nI(p){do{var x;if((x=p.tag===13)&&(x=p.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return p;p=p.return}while(p!==null);return null}function sI(p,x,j,T,U){return(p.mode&1)===0?(p===x?p.flags|=65536:(p.flags|=128,j.flags|=131072,j.flags&=-52805,j.tag===1&&(j.alternate===null?j.tag=17:(x=wa(-1,1),x.tag=2,ja(j,x,1))),j.lanes|=1),p):(p.flags|=65536,p.lanes=U,p)}var Vre=_.ReactCurrentOwner,bl=!1;function Go(p,x,j,T){x.child=p===null?Xs(x,null,j,T):Oa(x,p.child,j,T)}function aI(p,x,j,T,U){j=j.render;var G=x.ref;return ia(x,U),T=Wm(p,x,j,T,G,U),j=Pc(),p!==null&&!bl?(x.updateQueue=p.updateQueue,x.flags&=-2053,p.lanes&=~U,wh(p,x,U)):(gt&&j&&ut(x),x.flags|=1,Go(p,x,T,U),x.child)}function iI(p,x,j,T,U){if(p===null){var G=j.type;return typeof G=="function"&&!y4(G)&&G.defaultProps===void 0&&j.compare===null&&j.defaultProps===void 0?(x.tag=15,x.type=G,oI(p,x,G,T,U)):(p=Jb(j.type,null,T,x,x.mode,U),p.ref=x.ref,p.return=x,x.child=p)}if(G=p.child,(p.lanes&U)===0){var de=G.memoizedProps;if(j=j.compare,j=j!==null?j:xo,j(de,T)&&p.ref===x.ref)return wh(p,x,U)}return x.flags|=1,p=Of(G,T),p.ref=x.ref,p.return=x,x.child=p}function oI(p,x,j,T,U){if(p!==null){var G=p.memoizedProps;if(xo(G,T)&&p.ref===x.ref)if(bl=!1,x.pendingProps=T=G,(p.lanes&U)!==0)(p.flags&131072)!==0&&(bl=!0);else return x.lanes=p.lanes,wh(p,x,U)}return J5(p,x,j,T,U)}function lI(p,x,j){var T=x.pendingProps,U=T.children,G=p!==null?p.memoizedState:null;if(T.mode==="hidden")if((x.mode&1)===0)x.memoizedState={baseLanes:0,cachePool:null,transitions:null},as(H0,Xl),Xl|=j;else{if((j&1073741824)===0)return p=G!==null?G.baseLanes|j:j,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:p,cachePool:null,transitions:null},x.updateQueue=null,as(H0,Xl),Xl|=p,null;x.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=G!==null?G.baseLanes:j,as(H0,Xl),Xl|=T}else G!==null?(T=G.baseLanes|j,x.memoizedState=null):T=j,as(H0,Xl),Xl|=T;return Go(p,x,U,j),x.child}function cI(p,x){var j=x.ref;(p===null&&j!==null||p!==null&&p.ref!==j)&&(x.flags|=512,x.flags|=2097152)}function J5(p,x,j,T,U){var G=bo(j)?vh:mi.current;return G=jf(x,G),ia(x,U),j=Wm(p,x,j,T,G,U),T=Pc(),p!==null&&!bl?(x.updateQueue=p.updateQueue,x.flags&=-2053,p.lanes&=~U,wh(p,x,U)):(gt&&T&&ut(x),x.flags|=1,Go(p,x,j,U),x.child)}function dI(p,x,j,T,U){if(bo(j)){var G=!0;yh(x)}else G=!1;if(ia(x,U),x.stateNode===null)Ub(p,x),JO(x,j,T),Y5(x,j,T,U),T=!0;else if(p===null){var de=x.stateNode,Pe=x.memoizedProps;de.props=Pe;var Re=de.context,it=j.contextType;typeof it=="object"&&it!==null?it=oa(it):(it=bo(j)?vh:mi.current,it=jf(x,it));var kt=j.getDerivedStateFromProps,Pt=typeof kt=="function"||typeof de.getSnapshotBeforeUpdate=="function";Pt||typeof de.UNSAFE_componentWillReceiveProps!="function"&&typeof de.componentWillReceiveProps!="function"||(Pe!==T||Re!==it)&&QO(x,de,T,it),Ia=!1;var Ct=x.memoizedState;de.state=Ct,Fi(x,T,de,U),Re=x.memoizedState,Pe!==T||Ct!==Re||yo.current||Ia?(typeof kt=="function"&&(K5(x,j,kt,T),Re=x.memoizedState),(Pe=Ia||ZO(x,j,Pe,T,Ct,Re,it))?(Pt||typeof de.UNSAFE_componentWillMount!="function"&&typeof de.componentWillMount!="function"||(typeof de.componentWillMount=="function"&&de.componentWillMount(),typeof de.UNSAFE_componentWillMount=="function"&&de.UNSAFE_componentWillMount()),typeof de.componentDidMount=="function"&&(x.flags|=4194308)):(typeof de.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=T,x.memoizedState=Re),de.props=T,de.state=Re,de.context=it,T=Pe):(typeof de.componentDidMount=="function"&&(x.flags|=4194308),T=!1)}else{de=x.stateNode,wo(p,x),Pe=x.memoizedProps,it=x.type===x.elementType?Pe:gd(x.type,Pe),de.props=it,Pt=x.pendingProps,Ct=de.context,Re=j.contextType,typeof Re=="object"&&Re!==null?Re=oa(Re):(Re=bo(j)?vh:mi.current,Re=jf(x,Re));var rr=j.getDerivedStateFromProps;(kt=typeof rr=="function"||typeof de.getSnapshotBeforeUpdate=="function")||typeof de.UNSAFE_componentWillReceiveProps!="function"&&typeof de.componentWillReceiveProps!="function"||(Pe!==Pt||Ct!==Re)&&QO(x,de,T,Re),Ia=!1,Ct=x.memoizedState,de.state=Ct,Fi(x,T,de,U);var gr=x.memoizedState;Pe!==Pt||Ct!==gr||yo.current||Ia?(typeof rr=="function"&&(K5(x,j,rr,T),gr=x.memoizedState),(it=Ia||ZO(x,j,it,T,Ct,gr,Re)||!1)?(kt||typeof de.UNSAFE_componentWillUpdate!="function"&&typeof de.componentWillUpdate!="function"||(typeof de.componentWillUpdate=="function"&&de.componentWillUpdate(T,gr,Re),typeof de.UNSAFE_componentWillUpdate=="function"&&de.UNSAFE_componentWillUpdate(T,gr,Re)),typeof de.componentDidUpdate=="function"&&(x.flags|=4),typeof de.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof de.componentDidUpdate!="function"||Pe===p.memoizedProps&&Ct===p.memoizedState||(x.flags|=4),typeof de.getSnapshotBeforeUpdate!="function"||Pe===p.memoizedProps&&Ct===p.memoizedState||(x.flags|=1024),x.memoizedProps=T,x.memoizedState=gr),de.props=T,de.state=gr,de.context=Re,T=it):(typeof de.componentDidUpdate!="function"||Pe===p.memoizedProps&&Ct===p.memoizedState||(x.flags|=4),typeof de.getSnapshotBeforeUpdate!="function"||Pe===p.memoizedProps&&Ct===p.memoizedState||(x.flags|=1024),T=!1)}return Q5(p,x,j,T,G,U)}function Q5(p,x,j,T,U,G){cI(p,x);var de=(x.flags&128)!==0;if(!T&&!de)return U&&Ob(x,j,!1),wh(p,x,G);T=x.stateNode,Vre.current=x;var Pe=de&&typeof j.getDerivedStateFromError!="function"?null:T.render();return x.flags|=1,p!==null&&de?(x.child=Oa(x,p.child,null,G),x.child=Oa(x,null,Pe,G)):Go(p,x,Pe,G),x.memoizedState=T.state,U&&Ob(x,j,!0),x.child}function uI(p){var x=p.stateNode;x.pendingContext?Tb(p,x.pendingContext,x.pendingContext!==x.context):x.context&&Tb(p,x.context,!1),Nf(p,x.containerInfo)}function hI(p,x,j,T,U){return ir(),zt(U),x.flags|=256,Go(p,x,j,T),x.child}var e4={dehydrated:null,treeContext:null,retryLane:0};function t4(p){return{baseLanes:p,cachePool:null,transitions:null}}function fI(p,x,j){var T=x.pendingProps,U=Ts.current,G=!1,de=(x.flags&128)!==0,Pe;if((Pe=de)||(Pe=p!==null&&p.memoizedState===null?!1:(U&2)!==0),Pe?(G=!0,x.flags&=-129):(p===null||p.memoizedState!==null)&&(U|=1),as(Ts,U&1),p===null)return pr(x),p=x.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((x.mode&1)===0?x.lanes=1:p.data==="$!"?x.lanes=8:x.lanes=1073741824,null):(de=T.children,p=T.fallback,G?(T=x.mode,G=x.child,de={mode:"hidden",children:de},(T&1)===0&&G!==null?(G.childLanes=0,G.pendingProps=de):G=Qb(de,T,0,null),p=Zm(p,T,j,null),G.return=x,p.return=x,G.sibling=p,x.child=G,x.child.memoizedState=t4(j),x.memoizedState=e4,p):r4(x,de));if(U=p.memoizedState,U!==null&&(Pe=U.dehydrated,Pe!==null))return Wre(p,x,de,T,Pe,U,j);if(G){G=T.fallback,de=x.mode,U=p.child,Pe=U.sibling;var Re={mode:"hidden",children:T.children};return(de&1)===0&&x.child!==U?(T=x.child,T.childLanes=0,T.pendingProps=Re,x.deletions=null):(T=Of(U,Re),T.subtreeFlags=U.subtreeFlags&14680064),Pe!==null?G=Of(Pe,G):(G=Zm(G,de,j,null),G.flags|=2),G.return=x,T.return=x,T.sibling=G,x.child=T,T=G,G=x.child,de=p.child.memoizedState,de=de===null?t4(j):{baseLanes:de.baseLanes|j,cachePool:null,transitions:de.transitions},G.memoizedState=de,G.childLanes=p.childLanes&~j,x.memoizedState=e4,T}return G=p.child,p=G.sibling,T=Of(G,{mode:"visible",children:T.children}),(x.mode&1)===0&&(T.lanes=j),T.return=x,T.sibling=null,p!==null&&(j=x.deletions,j===null?(x.deletions=[p],x.flags|=16):j.push(p)),x.child=T,x.memoizedState=null,T}function r4(p,x){return x=Qb({mode:"visible",children:x},p.mode,0,null),x.return=p,p.child=x}function Bb(p,x,j,T){return T!==null&&zt(T),Oa(x,p.child,null,j),p=r4(x,x.pendingProps.children),p.flags|=2,x.memoizedState=null,p}function Wre(p,x,j,T,U,G,de){if(j)return x.flags&256?(x.flags&=-257,T=X5(Error(r(422))),Bb(p,x,de,T)):x.memoizedState!==null?(x.child=p.child,x.flags|=128,null):(G=T.fallback,U=x.mode,T=Qb({mode:"visible",children:T.children},U,0,null),G=Zm(G,U,de,null),G.flags|=2,T.return=x,G.return=x,T.sibling=G,x.child=T,(x.mode&1)!==0&&Oa(x,p.child,null,de),x.child.memoizedState=t4(de),x.memoizedState=e4,G);if((x.mode&1)===0)return Bb(p,x,de,null);if(U.data==="$!"){if(T=U.nextSibling&&U.nextSibling.dataset,T)var Pe=T.dgst;return T=Pe,G=Error(r(419)),T=X5(G,T,void 0),Bb(p,x,de,T)}if(Pe=(de&p.childLanes)!==0,bl||Pe){if(T=Bi,T!==null){switch(de&-de){case 4:U=2;break;case 16:U=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:U=32;break;case 536870912:U=268435456;break;default:U=0}U=(U&(T.suspendedLanes|de))!==0?0:U,U!==0&&U!==G.retryLane&&(G.retryLane=U,xs(p,U),bd(T,p,U,-1))}return v4(),T=X5(Error(r(421))),Bb(p,x,de,T)}return U.data==="$?"?(x.flags|=128,x.child=p.child,x=nne.bind(null,p),U._reactRetry=x,null):(p=G.treeContext,dt=ro(U.nextSibling),ct=x,gt=!0,vt=null,p!==null&&(ye[je++]=Xe,ye[je++]=Se,ye[je++]=Me,Xe=p.id,Se=p.overflow,Me=x),x=r4(x,T.children),x.flags|=4096,x)}function mI(p,x,j){p.lanes|=x;var T=p.alternate;T!==null&&(T.lanes|=x),Vn(p.return,x,j)}function n4(p,x,j,T,U){var G=p.memoizedState;G===null?p.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:T,tail:j,tailMode:U}:(G.isBackwards=x,G.rendering=null,G.renderingStartTime=0,G.last=T,G.tail=j,G.tailMode=U)}function pI(p,x,j){var T=x.pendingProps,U=T.revealOrder,G=T.tail;if(Go(p,x,T.children,j),T=Ts.current,(T&2)!==0)T=T&1|2,x.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=x.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&mI(p,j,x);else if(p.tag===19)mI(p,j,x);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===x)break e;for(;p.sibling===null;){if(p.return===null||p.return===x)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}T&=1}if(as(Ts,T),(x.mode&1)===0)x.memoizedState=null;else switch(U){case"forwards":for(j=x.child,U=null;j!==null;)p=j.alternate,p!==null&&Gl(p)===null&&(U=j),j=j.sibling;j=U,j===null?(U=x.child,x.child=null):(U=j.sibling,j.sibling=null),n4(x,!1,U,j,G);break;case"backwards":for(j=null,U=x.child,x.child=null;U!==null;){if(p=U.alternate,p!==null&&Gl(p)===null){x.child=U;break}p=U.sibling,U.sibling=j,j=U,U=p}n4(x,!0,j,null,G);break;case"together":n4(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function Ub(p,x){(x.mode&1)===0&&p!==null&&(p.alternate=null,x.alternate=null,x.flags|=2)}function wh(p,x,j){if(p!==null&&(x.dependencies=p.dependencies),Gm|=x.lanes,(j&x.childLanes)===0)return null;if(p!==null&&x.child!==p.child)throw Error(r(153));if(x.child!==null){for(p=x.child,j=Of(p,p.pendingProps),x.child=j,j.return=x;p.sibling!==null;)p=p.sibling,j=j.sibling=Of(p,p.pendingProps),j.return=x;j.sibling=null}return x.child}function Hre(p,x,j){switch(x.tag){case 3:uI(x),ir();break;case 5:Ib(x);break;case 1:bo(x.type)&&yh(x);break;case 4:Nf(x,x.stateNode.containerInfo);break;case 10:var T=x.type._context,U=x.memoizedProps.value;as(Ha,T._currentValue),T._currentValue=U;break;case 13:if(T=x.memoizedState,T!==null)return T.dehydrated!==null?(as(Ts,Ts.current&1),x.flags|=128,null):(j&x.child.childLanes)!==0?fI(p,x,j):(as(Ts,Ts.current&1),p=wh(p,x,j),p!==null?p.sibling:null);as(Ts,Ts.current&1);break;case 19:if(T=(j&x.childLanes)!==0,(p.flags&128)!==0){if(T)return pI(p,x,j);x.flags|=128}if(U=x.memoizedState,U!==null&&(U.rendering=null,U.tail=null,U.lastEffect=null),as(Ts,Ts.current),T)break;return null;case 22:case 23:return x.lanes=0,lI(p,x,j)}return wh(p,x,j)}var xI,s4,gI,vI;xI=function(p,x){for(var j=x.child;j!==null;){if(j.tag===5||j.tag===6)p.appendChild(j.stateNode);else if(j.tag!==4&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===x)break;for(;j.sibling===null;){if(j.return===null||j.return===x)return;j=j.return}j.sibling.return=j.return,j=j.sibling}},s4=function(){},gI=function(p,x,j,T){var U=p.memoizedProps;if(U!==T){p=x.stateNode,md(si.current);var G=null;switch(j){case"input":U=Ee(p,U),T=Ee(p,T),G=[];break;case"select":U=se({},U,{value:void 0}),T=se({},T,{value:void 0}),G=[];break;case"textarea":U=lt(p,U),T=lt(p,T),G=[];break;default:typeof U.onClick!="function"&&typeof T.onClick=="function"&&(p.onclick=yf)}an(j,T);var de;j=null;for(it in U)if(!T.hasOwnProperty(it)&&U.hasOwnProperty(it)&&U[it]!=null)if(it==="style"){var Pe=U[it];for(de in Pe)Pe.hasOwnProperty(de)&&(j||(j={}),j[de]="")}else it!=="dangerouslySetInnerHTML"&&it!=="children"&&it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(a.hasOwnProperty(it)?G||(G=[]):(G=G||[]).push(it,null));for(it in T){var Re=T[it];if(Pe=U?.[it],T.hasOwnProperty(it)&&Re!==Pe&&(Re!=null||Pe!=null))if(it==="style")if(Pe){for(de in Pe)!Pe.hasOwnProperty(de)||Re&&Re.hasOwnProperty(de)||(j||(j={}),j[de]="");for(de in Re)Re.hasOwnProperty(de)&&Pe[de]!==Re[de]&&(j||(j={}),j[de]=Re[de])}else j||(G||(G=[]),G.push(it,j)),j=Re;else it==="dangerouslySetInnerHTML"?(Re=Re?Re.__html:void 0,Pe=Pe?Pe.__html:void 0,Re!=null&&Pe!==Re&&(G=G||[]).push(it,Re)):it==="children"?typeof Re!="string"&&typeof Re!="number"||(G=G||[]).push(it,""+Re):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&(a.hasOwnProperty(it)?(Re!=null&&it==="onScroll"&&ms("scroll",p),G||Pe===Re||(G=[])):(G=G||[]).push(it,Re))}j&&(G=G||[]).push("style",j);var it=G;(x.updateQueue=it)&&(x.flags|=4)}},vI=function(p,x,j,T){j!==T&&(x.flags|=4)};function yv(p,x){if(!gt)switch(p.tailMode){case"hidden":x=p.tail;for(var j=null;x!==null;)x.alternate!==null&&(j=x),x=x.sibling;j===null?p.tail=null:j.sibling=null;break;case"collapsed":j=p.tail;for(var T=null;j!==null;)j.alternate!==null&&(T=j),j=j.sibling;T===null?x||p.tail===null?p.tail=null:p.tail.sibling=null:T.sibling=null}}function jo(p){var x=p.alternate!==null&&p.alternate.child===p.child,j=0,T=0;if(x)for(var U=p.child;U!==null;)j|=U.lanes|U.childLanes,T|=U.subtreeFlags&14680064,T|=U.flags&14680064,U.return=p,U=U.sibling;else for(U=p.child;U!==null;)j|=U.lanes|U.childLanes,T|=U.subtreeFlags,T|=U.flags,U.return=p,U=U.sibling;return p.subtreeFlags|=T,p.childLanes=j,x}function qre(p,x,j){var T=x.pendingProps;switch(Qe(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jo(x),null;case 1:return bo(x.type)&&I0(),jo(x),null;case 3:return T=x.stateNode,Ac(),Qn(yo),Qn(mi),xv(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(p===null||p.child===null)&&(aa(x)?x.flags|=4:p===null||p.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,vt!==null&&(p4(vt),vt=null))),s4(p,x),jo(x),null;case 5:mv(x);var U=md(uu.current);if(j=x.type,p!==null&&x.stateNode!=null)gI(p,x,j,T,U),p.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!T){if(x.stateNode===null)throw Error(r(166));return jo(x),null}if(p=md(si.current),aa(x)){T=x.stateNode,j=x.type;var G=x.memoizedProps;switch(T[kc]=x,T[bf]=G,p=(x.mode&1)!==0,j){case"dialog":ms("cancel",T),ms("close",T);break;case"iframe":case"object":case"embed":ms("load",T);break;case"video":case"audio":for(U=0;U<lu.length;U++)ms(lu[U],T);break;case"source":ms("error",T);break;case"img":case"image":case"link":ms("error",T),ms("load",T);break;case"details":ms("toggle",T);break;case"input":H(T,G),ms("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!G.multiple},ms("invalid",T);break;case"textarea":Ve(T,G),ms("invalid",T)}an(j,G),U=null;for(var de in G)if(G.hasOwnProperty(de)){var Pe=G[de];de==="children"?typeof Pe=="string"?T.textContent!==Pe&&(G.suppressHydrationWarning!==!0&&O0(T.textContent,Pe,p),U=["children",Pe]):typeof Pe=="number"&&T.textContent!==""+Pe&&(G.suppressHydrationWarning!==!0&&O0(T.textContent,Pe,p),U=["children",""+Pe]):a.hasOwnProperty(de)&&Pe!=null&&de==="onScroll"&&ms("scroll",T)}switch(j){case"input":be(T),xt(T,G,!0);break;case"textarea":be(T),yt(T);break;case"select":case"option":break;default:typeof G.onClick=="function"&&(T.onclick=yf)}T=U,x.updateQueue=T,T!==null&&(x.flags|=4)}else{de=U.nodeType===9?U:U.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=Mt(j)),p==="http://www.w3.org/1999/xhtml"?j==="script"?(p=de.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof T.is=="string"?p=de.createElement(j,{is:T.is}):(p=de.createElement(j),j==="select"&&(de=p,T.multiple?de.multiple=!0:T.size&&(de.size=T.size))):p=de.createElementNS(p,j),p[kc]=x,p[bf]=T,xI(p,x,!1,!1),x.stateNode=p;e:{switch(de=er(j,T),j){case"dialog":ms("cancel",p),ms("close",p),U=T;break;case"iframe":case"object":case"embed":ms("load",p),U=T;break;case"video":case"audio":for(U=0;U<lu.length;U++)ms(lu[U],p);U=T;break;case"source":ms("error",p),U=T;break;case"img":case"image":case"link":ms("error",p),ms("load",p),U=T;break;case"details":ms("toggle",p),U=T;break;case"input":H(p,T),U=Ee(p,T),ms("invalid",p);break;case"option":U=T;break;case"select":p._wrapperState={wasMultiple:!!T.multiple},U=se({},T,{value:void 0}),ms("invalid",p);break;case"textarea":Ve(p,T),U=lt(p,T),ms("invalid",p);break;default:U=T}an(j,U),Pe=U;for(G in Pe)if(Pe.hasOwnProperty(G)){var Re=Pe[G];G==="style"?Ht(p,Re):G==="dangerouslySetInnerHTML"?(Re=Re?Re.__html:void 0,Re!=null&&At(p,Re)):G==="children"?typeof Re=="string"?(j!=="textarea"||Re!=="")&&Dt(p,Re):typeof Re=="number"&&Dt(p,""+Re):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(a.hasOwnProperty(G)?Re!=null&&G==="onScroll"&&ms("scroll",p):Re!=null&&N(p,G,Re,de))}switch(j){case"input":be(p),xt(p,T,!1);break;case"textarea":be(p),yt(p);break;case"option":T.value!=null&&p.setAttribute("value",""+ie(T.value));break;case"select":p.multiple=!!T.multiple,G=T.value,G!=null?ke(p,!!T.multiple,G,!1):T.defaultValue!=null&&ke(p,!!T.multiple,T.defaultValue,!0);break;default:typeof U.onClick=="function"&&(p.onclick=yf)}switch(j){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(x.flags|=4)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return jo(x),null;case 6:if(p&&x.stateNode!=null)vI(p,x,p.memoizedProps,T);else{if(typeof T!="string"&&x.stateNode===null)throw Error(r(166));if(j=md(uu.current),md(si.current),aa(x)){if(T=x.stateNode,j=x.memoizedProps,T[kc]=x,(G=T.nodeValue!==j)&&(p=ct,p!==null))switch(p.tag){case 3:O0(T.nodeValue,j,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&O0(T.nodeValue,j,(p.mode&1)!==0)}G&&(x.flags|=4)}else T=(j.nodeType===9?j:j.ownerDocument).createTextNode(T),T[kc]=x,x.stateNode=T}return jo(x),null;case 13:if(Qn(Ts),T=x.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(gt&&dt!==null&&(x.mode&1)!==0&&(x.flags&128)===0)un(),ir(),x.flags|=98560,G=!1;else if(G=aa(x),T!==null&&T.dehydrated!==null){if(p===null){if(!G)throw Error(r(318));if(G=x.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(r(317));G[kc]=x}else ir(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;jo(x),G=!1}else vt!==null&&(p4(vt),vt=null),G=!0;if(!G)return x.flags&65536?x:null}return(x.flags&128)!==0?(x.lanes=j,x):(T=T!==null,T!==(p!==null&&p.memoizedState!==null)&&T&&(x.child.flags|=8192,(x.mode&1)!==0&&(p===null||(Ts.current&1)!==0?xi===0&&(xi=3):v4())),x.updateQueue!==null&&(x.flags|=4),jo(x),null);case 4:return Ac(),s4(p,x),p===null&&mh(x.stateNode.containerInfo),jo(x),null;case 10:return Ls(x.type._context),jo(x),null;case 17:return bo(x.type)&&I0(),jo(x),null;case 19:if(Qn(Ts),G=x.memoizedState,G===null)return jo(x),null;if(T=(x.flags&128)!==0,de=G.rendering,de===null)if(T)yv(G,!1);else{if(xi!==0||p!==null&&(p.flags&128)!==0)for(p=x.child;p!==null;){if(de=Gl(p),de!==null){for(x.flags|=128,yv(G,!1),T=de.updateQueue,T!==null&&(x.updateQueue=T,x.flags|=4),x.subtreeFlags=0,T=j,j=x.child;j!==null;)G=j,p=T,G.flags&=14680066,de=G.alternate,de===null?(G.childLanes=0,G.lanes=p,G.child=null,G.subtreeFlags=0,G.memoizedProps=null,G.memoizedState=null,G.updateQueue=null,G.dependencies=null,G.stateNode=null):(G.childLanes=de.childLanes,G.lanes=de.lanes,G.child=de.child,G.subtreeFlags=0,G.deletions=null,G.memoizedProps=de.memoizedProps,G.memoizedState=de.memoizedState,G.updateQueue=de.updateQueue,G.type=de.type,p=de.dependencies,G.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),j=j.sibling;return as(Ts,Ts.current&1|2),x.child}p=p.sibling}G.tail!==null&&ns()>q0&&(x.flags|=128,T=!0,yv(G,!1),x.lanes=4194304)}else{if(!T)if(p=Gl(de),p!==null){if(x.flags|=128,T=!0,j=p.updateQueue,j!==null&&(x.updateQueue=j,x.flags|=4),yv(G,!0),G.tail===null&&G.tailMode==="hidden"&&!de.alternate&&!gt)return jo(x),null}else 2*ns()-G.renderingStartTime>q0&&j!==1073741824&&(x.flags|=128,T=!0,yv(G,!1),x.lanes=4194304);G.isBackwards?(de.sibling=x.child,x.child=de):(j=G.last,j!==null?j.sibling=de:x.child=de,G.last=de)}return G.tail!==null?(x=G.tail,G.rendering=x,G.tail=x.sibling,G.renderingStartTime=ns(),x.sibling=null,j=Ts.current,as(Ts,T?j&1|2:j&1),x):(jo(x),null);case 22:case 23:return g4(),T=x.memoizedState!==null,p!==null&&p.memoizedState!==null!==T&&(x.flags|=8192),T&&(x.mode&1)!==0?(Xl&1073741824)!==0&&(jo(x),x.subtreeFlags&6&&(x.flags|=8192)):jo(x),null;case 24:return null;case 25:return null}throw Error(r(156,x.tag))}function Gre(p,x){switch(Qe(x),x.tag){case 1:return bo(x.type)&&I0(),p=x.flags,p&65536?(x.flags=p&-65537|128,x):null;case 3:return Ac(),Qn(yo),Qn(mi),xv(),p=x.flags,(p&65536)!==0&&(p&128)===0?(x.flags=p&-65537|128,x):null;case 5:return mv(x),null;case 13:if(Qn(Ts),p=x.memoizedState,p!==null&&p.dehydrated!==null){if(x.alternate===null)throw Error(r(340));ir()}return p=x.flags,p&65536?(x.flags=p&-65537|128,x):null;case 19:return Qn(Ts),null;case 4:return Ac(),null;case 10:return Ls(x.type._context),null;case 22:case 23:return g4(),null;case 24:return null;default:return null}}var zb=!1,No=!1,Kre=typeof WeakSet=="function"?WeakSet:Set,ur=null;function W0(p,x){var j=p.ref;if(j!==null)if(typeof j=="function")try{j(null)}catch(T){Da(p,x,T)}else j.current=null}function a4(p,x,j){try{j()}catch(T){Da(p,x,T)}}var yI=!1;function Yre(p,x){if(Um=cf,p=Ta(),Wl(p)){if("selectionStart"in p)var j={start:p.selectionStart,end:p.selectionEnd};else e:{j=(j=p.ownerDocument)&&j.defaultView||window;var T=j.getSelection&&j.getSelection();if(T&&T.rangeCount!==0){j=T.anchorNode;var U=T.anchorOffset,G=T.focusNode;T=T.focusOffset;try{j.nodeType,G.nodeType}catch{j=null;break e}var de=0,Pe=-1,Re=-1,it=0,kt=0,Pt=p,Ct=null;t:for(;;){for(var rr;Pt!==j||U!==0&&Pt.nodeType!==3||(Pe=de+U),Pt!==G||T!==0&&Pt.nodeType!==3||(Re=de+T),Pt.nodeType===3&&(de+=Pt.nodeValue.length),(rr=Pt.firstChild)!==null;)Ct=Pt,Pt=rr;for(;;){if(Pt===p)break t;if(Ct===j&&++it===U&&(Pe=de),Ct===G&&++kt===T&&(Re=de),(rr=Pt.nextSibling)!==null)break;Pt=Ct,Ct=Pt.parentNode}Pt=rr}j=Pe===-1||Re===-1?null:{start:Pe,end:Re}}else j=null}j=j||{start:0,end:0}}else j=null;for(xh={focusedElem:p,selectionRange:j},cf=!1,ur=x;ur!==null;)if(x=ur,p=x.child,(x.subtreeFlags&1028)!==0&&p!==null)p.return=x,ur=p;else for(;ur!==null;){x=ur;try{var gr=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(gr!==null){var Sr=gr.memoizedProps,Ga=gr.memoizedState,Je=x.stateNode,Ue=Je.getSnapshotBeforeUpdate(x.elementType===x.type?Sr:gd(x.type,Sr),Ga);Je.__reactInternalSnapshotBeforeUpdate=Ue}break;case 3:var rt=x.stateNode.containerInfo;rt.nodeType===1?rt.textContent="":rt.nodeType===9&&rt.documentElement&&rt.removeChild(rt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Rt){Da(x,x.return,Rt)}if(p=x.sibling,p!==null){p.return=x.return,ur=p;break}ur=x.return}return gr=yI,yI=!1,gr}function bv(p,x,j){var T=x.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var U=T=T.next;do{if((U.tag&p)===p){var G=U.destroy;U.destroy=void 0,G!==void 0&&a4(x,j,G)}U=U.next}while(U!==T)}}function Vb(p,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var j=x=x.next;do{if((j.tag&p)===p){var T=j.create;j.destroy=T()}j=j.next}while(j!==x)}}function i4(p){var x=p.ref;if(x!==null){var j=p.stateNode;switch(p.tag){case 5:p=j;break;default:p=j}typeof x=="function"?x(p):x.current=p}}function bI(p){var x=p.alternate;x!==null&&(p.alternate=null,bI(x)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(x=p.stateNode,x!==null&&(delete x[kc],delete x[bf],delete x[vo],delete x[W5],delete x[H5])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function wI(p){return p.tag===5||p.tag===3||p.tag===4}function jI(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||wI(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function o4(p,x,j){var T=p.tag;if(T===5||T===6)p=p.stateNode,x?j.nodeType===8?j.parentNode.insertBefore(p,x):j.insertBefore(p,x):(j.nodeType===8?(x=j.parentNode,x.insertBefore(p,j)):(x=j,x.appendChild(p)),j=j._reactRootContainer,j!=null||x.onclick!==null||(x.onclick=yf));else if(T!==4&&(p=p.child,p!==null))for(o4(p,x,j),p=p.sibling;p!==null;)o4(p,x,j),p=p.sibling}function l4(p,x,j){var T=p.tag;if(T===5||T===6)p=p.stateNode,x?j.insertBefore(p,x):j.appendChild(p);else if(T!==4&&(p=p.child,p!==null))for(l4(p,x,j),p=p.sibling;p!==null;)l4(p,x,j),p=p.sibling}var no=null,vd=!1;function kf(p,x,j){for(j=j.child;j!==null;)NI(p,x,j),j=j.sibling}function NI(p,x,j){if(Va&&typeof Va.onCommitFiberUnmount=="function")try{Va.onCommitFiberUnmount(Bo,j)}catch{}switch(j.tag){case 5:No||W0(j,x);case 6:var T=no,U=vd;no=null,kf(p,x,j),no=T,vd=U,no!==null&&(vd?(p=no,j=j.stateNode,p.nodeType===8?p.parentNode.removeChild(j):p.removeChild(j)):no.removeChild(j.stateNode));break;case 18:no!==null&&(vd?(p=no,j=j.stateNode,p.nodeType===8?uv(p.parentNode,j):p.nodeType===1&&uv(p,j),bc(p)):uv(no,j.stateNode));break;case 4:T=no,U=vd,no=j.stateNode.containerInfo,vd=!0,kf(p,x,j),no=T,vd=U;break;case 0:case 11:case 14:case 15:if(!No&&(T=j.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){U=T=T.next;do{var G=U,de=G.destroy;G=G.tag,de!==void 0&&((G&2)!==0||(G&4)!==0)&&a4(j,x,de),U=U.next}while(U!==T)}kf(p,x,j);break;case 1:if(!No&&(W0(j,x),T=j.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=j.memoizedProps,T.state=j.memoizedState,T.componentWillUnmount()}catch(Pe){Da(j,x,Pe)}kf(p,x,j);break;case 21:kf(p,x,j);break;case 22:j.mode&1?(No=(T=No)||j.memoizedState!==null,kf(p,x,j),No=T):kf(p,x,j);break;default:kf(p,x,j)}}function SI(p){var x=p.updateQueue;if(x!==null){p.updateQueue=null;var j=p.stateNode;j===null&&(j=p.stateNode=new Kre),x.forEach(function(T){var U=sne.bind(null,p,T);j.has(T)||(j.add(T),T.then(U,U))})}}function yd(p,x){var j=x.deletions;if(j!==null)for(var T=0;T<j.length;T++){var U=j[T];try{var G=p,de=x,Pe=de;e:for(;Pe!==null;){switch(Pe.tag){case 5:no=Pe.stateNode,vd=!1;break e;case 3:no=Pe.stateNode.containerInfo,vd=!0;break e;case 4:no=Pe.stateNode.containerInfo,vd=!0;break e}Pe=Pe.return}if(no===null)throw Error(r(160));NI(G,de,U),no=null,vd=!1;var Re=U.alternate;Re!==null&&(Re.return=null),U.return=null}catch(it){Da(U,x,it)}}if(x.subtreeFlags&12854)for(x=x.child;x!==null;)_I(x,p),x=x.sibling}function _I(p,x){var j=p.alternate,T=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(yd(x,p),fu(p),T&4){try{bv(3,p,p.return),Vb(3,p)}catch(Sr){Da(p,p.return,Sr)}try{bv(5,p,p.return)}catch(Sr){Da(p,p.return,Sr)}}break;case 1:yd(x,p),fu(p),T&512&&j!==null&&W0(j,j.return);break;case 5:if(yd(x,p),fu(p),T&512&&j!==null&&W0(j,j.return),p.flags&32){var U=p.stateNode;try{Dt(U,"")}catch(Sr){Da(p,p.return,Sr)}}if(T&4&&(U=p.stateNode,U!=null)){var G=p.memoizedProps,de=j!==null?j.memoizedProps:G,Pe=p.type,Re=p.updateQueue;if(p.updateQueue=null,Re!==null)try{Pe==="input"&&G.type==="radio"&&G.name!=null&&Le(U,G),er(Pe,de);var it=er(Pe,G);for(de=0;de<Re.length;de+=2){var kt=Re[de],Pt=Re[de+1];kt==="style"?Ht(U,Pt):kt==="dangerouslySetInnerHTML"?At(U,Pt):kt==="children"?Dt(U,Pt):N(U,kt,Pt,it)}switch(Pe){case"input":Ye(U,G);break;case"textarea":Ke(U,G);break;case"select":var Ct=U._wrapperState.wasMultiple;U._wrapperState.wasMultiple=!!G.multiple;var rr=G.value;rr!=null?ke(U,!!G.multiple,rr,!1):Ct!==!!G.multiple&&(G.defaultValue!=null?ke(U,!!G.multiple,G.defaultValue,!0):ke(U,!!G.multiple,G.multiple?[]:"",!1))}U[bf]=G}catch(Sr){Da(p,p.return,Sr)}}break;case 6:if(yd(x,p),fu(p),T&4){if(p.stateNode===null)throw Error(r(162));U=p.stateNode,G=p.memoizedProps;try{U.nodeValue=G}catch(Sr){Da(p,p.return,Sr)}}break;case 3:if(yd(x,p),fu(p),T&4&&j!==null&&j.memoizedState.isDehydrated)try{bc(x.containerInfo)}catch(Sr){Da(p,p.return,Sr)}break;case 4:yd(x,p),fu(p);break;case 13:yd(x,p),fu(p),U=p.child,U.flags&8192&&(G=U.memoizedState!==null,U.stateNode.isHidden=G,!G||U.alternate!==null&&U.alternate.memoizedState!==null||(u4=ns())),T&4&&SI(p);break;case 22:if(kt=j!==null&&j.memoizedState!==null,p.mode&1?(No=(it=No)||kt,yd(x,p),No=it):yd(x,p),fu(p),T&8192){if(it=p.memoizedState!==null,(p.stateNode.isHidden=it)&&!kt&&(p.mode&1)!==0)for(ur=p,kt=p.child;kt!==null;){for(Pt=ur=kt;ur!==null;){switch(Ct=ur,rr=Ct.child,Ct.tag){case 0:case 11:case 14:case 15:bv(4,Ct,Ct.return);break;case 1:W0(Ct,Ct.return);var gr=Ct.stateNode;if(typeof gr.componentWillUnmount=="function"){T=Ct,j=Ct.return;try{x=T,gr.props=x.memoizedProps,gr.state=x.memoizedState,gr.componentWillUnmount()}catch(Sr){Da(T,j,Sr)}}break;case 5:W0(Ct,Ct.return);break;case 22:if(Ct.memoizedState!==null){AI(Pt);continue}}rr!==null?(rr.return=Ct,ur=rr):AI(Pt)}kt=kt.sibling}e:for(kt=null,Pt=p;;){if(Pt.tag===5){if(kt===null){kt=Pt;try{U=Pt.stateNode,it?(G=U.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none"):(Pe=Pt.stateNode,Re=Pt.memoizedProps.style,de=Re!=null&&Re.hasOwnProperty("display")?Re.display:null,Pe.style.display=Or("display",de))}catch(Sr){Da(p,p.return,Sr)}}}else if(Pt.tag===6){if(kt===null)try{Pt.stateNode.nodeValue=it?"":Pt.memoizedProps}catch(Sr){Da(p,p.return,Sr)}}else if((Pt.tag!==22&&Pt.tag!==23||Pt.memoizedState===null||Pt===p)&&Pt.child!==null){Pt.child.return=Pt,Pt=Pt.child;continue}if(Pt===p)break e;for(;Pt.sibling===null;){if(Pt.return===null||Pt.return===p)break e;kt===Pt&&(kt=null),Pt=Pt.return}kt===Pt&&(kt=null),Pt.sibling.return=Pt.return,Pt=Pt.sibling}}break;case 19:yd(x,p),fu(p),T&4&&SI(p);break;case 21:break;default:yd(x,p),fu(p)}}function fu(p){var x=p.flags;if(x&2){try{e:{for(var j=p.return;j!==null;){if(wI(j)){var T=j;break e}j=j.return}throw Error(r(160))}switch(T.tag){case 5:var U=T.stateNode;T.flags&32&&(Dt(U,""),T.flags&=-33);var G=jI(p);l4(p,G,U);break;case 3:case 4:var de=T.stateNode.containerInfo,Pe=jI(p);o4(p,Pe,de);break;default:throw Error(r(161))}}catch(Re){Da(p,p.return,Re)}p.flags&=-3}x&4096&&(p.flags&=-4097)}function Xre(p,x,j){ur=p,CI(p)}function CI(p,x,j){for(var T=(p.mode&1)!==0;ur!==null;){var U=ur,G=U.child;if(U.tag===22&&T){var de=U.memoizedState!==null||zb;if(!de){var Pe=U.alternate,Re=Pe!==null&&Pe.memoizedState!==null||No;Pe=zb;var it=No;if(zb=de,(No=Re)&&!it)for(ur=U;ur!==null;)de=ur,Re=de.child,de.tag===22&&de.memoizedState!==null?EI(U):Re!==null?(Re.return=de,ur=Re):EI(U);for(;G!==null;)ur=G,CI(G),G=G.sibling;ur=U,zb=Pe,No=it}kI(p)}else(U.subtreeFlags&8772)!==0&&G!==null?(G.return=U,ur=G):kI(p)}}function kI(p){for(;ur!==null;){var x=ur;if((x.flags&8772)!==0){var j=x.alternate;try{if((x.flags&8772)!==0)switch(x.tag){case 0:case 11:case 15:No||Vb(5,x);break;case 1:var T=x.stateNode;if(x.flags&4&&!No)if(j===null)T.componentDidMount();else{var U=x.elementType===x.type?j.memoizedProps:gd(x.type,j.memoizedProps);T.componentDidUpdate(U,j.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var G=x.updateQueue;G!==null&&yl(x,G,T);break;case 3:var de=x.updateQueue;if(de!==null){if(j=null,x.child!==null)switch(x.child.tag){case 5:j=x.child.stateNode;break;case 1:j=x.child.stateNode}yl(x,de,j)}break;case 5:var Pe=x.stateNode;if(j===null&&x.flags&4){j=Pe;var Re=x.memoizedProps;switch(x.type){case"button":case"input":case"select":case"textarea":Re.autoFocus&&j.focus();break;case"img":Re.src&&(j.src=Re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(x.memoizedState===null){var it=x.alternate;if(it!==null){var kt=it.memoizedState;if(kt!==null){var Pt=kt.dehydrated;Pt!==null&&bc(Pt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}No||x.flags&512&&i4(x)}catch(Ct){Da(x,x.return,Ct)}}if(x===p){ur=null;break}if(j=x.sibling,j!==null){j.return=x.return,ur=j;break}ur=x.return}}function AI(p){for(;ur!==null;){var x=ur;if(x===p){ur=null;break}var j=x.sibling;if(j!==null){j.return=x.return,ur=j;break}ur=x.return}}function EI(p){for(;ur!==null;){var x=ur;try{switch(x.tag){case 0:case 11:case 15:var j=x.return;try{Vb(4,x)}catch(Re){Da(x,j,Re)}break;case 1:var T=x.stateNode;if(typeof T.componentDidMount=="function"){var U=x.return;try{T.componentDidMount()}catch(Re){Da(x,U,Re)}}var G=x.return;try{i4(x)}catch(Re){Da(x,G,Re)}break;case 5:var de=x.return;try{i4(x)}catch(Re){Da(x,de,Re)}}}catch(Re){Da(x,x.return,Re)}if(x===p){ur=null;break}var Pe=x.sibling;if(Pe!==null){Pe.return=x.return,ur=Pe;break}ur=x.return}}var Zre=Math.ceil,Wb=_.ReactCurrentDispatcher,c4=_.ReactCurrentOwner,Tc=_.ReactCurrentBatchConfig,Wn=0,Bi=null,ai=null,so=0,Xl=0,H0=Hl(0),xi=0,wv=null,Gm=0,Hb=0,d4=0,jv=null,wl=null,u4=0,q0=1/0,jh=null,qb=!1,h4=null,Af=null,Gb=!1,Ef=null,Kb=0,Nv=0,f4=null,Yb=-1,Xb=0;function Ko(){return(Wn&6)!==0?ns():Yb!==-1?Yb:Yb=ns()}function Pf(p){return(p.mode&1)===0?1:(Wn&2)!==0&&so!==0?so&-so:ba.transition!==null?(Xb===0&&(Xb=Ii()),Xb):(p=Mn,p!==0||(p=window.event,p=p===void 0?16:eh(p.type)),p)}function bd(p,x,j,T){if(50<Nv)throw Nv=0,f4=null,Error(r(185));cl(p,j,T),((Wn&2)===0||p!==Bi)&&(p===Bi&&((Wn&2)===0&&(Hb|=j),xi===4&&Tf(p,so)),jl(p,T),j===1&&Wn===0&&(x.mode&1)===0&&(q0=ns()+500,Vm&&te()))}function jl(p,x){var j=p.callbackNode;xn(p,x);var T=$n(p,p===Bi?so:0);if(T===0)j!==null&&ll(j),p.callbackNode=null,p.callbackPriority=0;else if(x=T&-T,p.callbackPriority!==x){if(j!=null&&ll(j),x===1)p.tag===0?V(TI.bind(null,p)):D(TI.bind(null,p)),z5(function(){(Wn&6)===0&&te()}),j=null;else{switch(rd(T)){case 1:j=mc;break;case 4:j=hi;break;case 16:j=pc;break;case 536870912:j=Qd;break;default:j=pc}j=FI(j,PI.bind(null,p))}p.callbackPriority=x,p.callbackNode=j}}function PI(p,x){if(Yb=-1,Xb=0,(Wn&6)!==0)throw Error(r(327));var j=p.callbackNode;if(G0()&&p.callbackNode!==j)return null;var T=$n(p,p===Bi?so:0);if(T===0)return null;if((T&30)!==0||(T&p.expiredLanes)!==0||x)x=Zb(p,T);else{x=T;var U=Wn;Wn|=2;var G=II();(Bi!==p||so!==x)&&(jh=null,q0=ns()+500,Ym(p,x));do try{ene();break}catch(Pe){OI(p,Pe)}while(!0);zn(),Wb.current=G,Wn=U,ai!==null?x=0:(Bi=null,so=0,x=xi)}if(x!==0){if(x===2&&(U=eo(p),U!==0&&(T=U,x=m4(p,U))),x===1)throw j=wv,Ym(p,0),Tf(p,T),jl(p,ns()),j;if(x===6)Tf(p,T);else{if(U=p.current.alternate,(T&30)===0&&!Jre(U)&&(x=Zb(p,T),x===2&&(G=eo(p),G!==0&&(T=G,x=m4(p,G))),x===1))throw j=wv,Ym(p,0),Tf(p,T),jl(p,ns()),j;switch(p.finishedWork=U,p.finishedLanes=T,x){case 0:case 1:throw Error(r(345));case 2:Xm(p,wl,jh);break;case 3:if(Tf(p,T),(T&130023424)===T&&(x=u4+500-ns(),10<x)){if($n(p,0)!==0)break;if(U=p.suspendedLanes,(U&T)!==T){Ko(),p.pingedLanes|=p.suspendedLanes&U;break}p.timeoutHandle=dv(Xm.bind(null,p,wl,jh),x);break}Xm(p,wl,jh);break;case 4:if(Tf(p,T),(T&4194240)===T)break;for(x=p.eventTimes,U=-1;0<T;){var de=31-Sn(T);G=1<<de,de=x[de],de>U&&(U=de),T&=~G}if(T=U,T=ns()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*Zre(T/1960))-T,10<T){p.timeoutHandle=dv(Xm.bind(null,p,wl,jh),T);break}Xm(p,wl,jh);break;case 5:Xm(p,wl,jh);break;default:throw Error(r(329))}}}return jl(p,ns()),p.callbackNode===j?PI.bind(null,p):null}function m4(p,x){var j=jv;return p.current.memoizedState.isDehydrated&&(Ym(p,x).flags|=256),p=Zb(p,x),p!==2&&(x=wl,wl=j,x!==null&&p4(x)),p}function p4(p){wl===null?wl=p:wl.push.apply(wl,p)}function Jre(p){for(var x=p;;){if(x.flags&16384){var j=x.updateQueue;if(j!==null&&(j=j.stores,j!==null))for(var T=0;T<j.length;T++){var U=j[T],G=U.getSnapshot;U=U.value;try{if(!na(G(),U))return!1}catch{return!1}}}if(j=x.child,x.subtreeFlags&16384&&j!==null)j.return=x,x=j;else{if(x===p)break;for(;x.sibling===null;){if(x.return===null||x.return===p)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function Tf(p,x){for(x&=~d4,x&=~Hb,p.suspendedLanes|=x,p.pingedLanes&=~x,p=p.expirationTimes;0<x;){var j=31-Sn(x),T=1<<j;p[j]=-1,x&=~T}}function TI(p){if((Wn&6)!==0)throw Error(r(327));G0();var x=$n(p,0);if((x&1)===0)return jl(p,ns()),null;var j=Zb(p,x);if(p.tag!==0&&j===2){var T=eo(p);T!==0&&(x=T,j=m4(p,T))}if(j===1)throw j=wv,Ym(p,0),Tf(p,x),jl(p,ns()),j;if(j===6)throw Error(r(345));return p.finishedWork=p.current.alternate,p.finishedLanes=x,Xm(p,wl,jh),jl(p,ns()),null}function x4(p,x){var j=Wn;Wn|=1;try{return p(x)}finally{Wn=j,Wn===0&&(q0=ns()+500,Vm&&te())}}function Km(p){Ef!==null&&Ef.tag===0&&(Wn&6)===0&&G0();var x=Wn;Wn|=1;var j=Tc.transition,T=Mn;try{if(Tc.transition=null,Mn=1,p)return p()}finally{Mn=T,Tc.transition=j,Wn=x,(Wn&6)===0&&te()}}function g4(){Xl=H0.current,Qn(H0)}function Ym(p,x){p.finishedWork=null,p.finishedLanes=0;var j=p.timeoutHandle;if(j!==-1&&(p.timeoutHandle=-1,Eb(j)),ai!==null)for(j=ai.return;j!==null;){var T=j;switch(Qe(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&I0();break;case 3:Ac(),Qn(yo),Qn(mi),xv();break;case 5:mv(T);break;case 4:Ac();break;case 13:Qn(Ts);break;case 19:Qn(Ts);break;case 10:Ls(T.type._context);break;case 22:case 23:g4()}j=j.return}if(Bi=p,ai=p=Of(p.current,null),so=Xl=x,xi=0,wv=null,d4=Hb=Gm=0,wl=jv=null,ps!==null){for(x=0;x<ps.length;x++)if(j=ps[x],T=j.interleaved,T!==null){j.interleaved=null;var U=T.next,G=j.pending;if(G!==null){var de=G.next;G.next=U,T.next=de}j.pending=T}ps=null}return p}function OI(p,x){do{var j=ai;try{if(zn(),$0.current=Lb,Sf){for(var T=Fs.memoizedState;T!==null;){var U=T.queue;U!==null&&(U.pending=null),T=T.next}Sf=!1}if(Ec=0,Sa=$a=Fs=null,pd=!1,_f=0,c4.current=null,j===null||j.return===null){xi=1,wv=x,ai=null;break}e:{var G=p,de=j.return,Pe=j,Re=x;if(x=so,Pe.flags|=32768,Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var it=Re,kt=Pe,Pt=kt.tag;if((kt.mode&1)===0&&(Pt===0||Pt===11||Pt===15)){var Ct=kt.alternate;Ct?(kt.updateQueue=Ct.updateQueue,kt.memoizedState=Ct.memoizedState,kt.lanes=Ct.lanes):(kt.updateQueue=null,kt.memoizedState=null)}var rr=nI(de);if(rr!==null){rr.flags&=-257,sI(rr,de,Pe,G,x),rr.mode&1&&rI(G,it,x),x=rr,Re=it;var gr=x.updateQueue;if(gr===null){var Sr=new Set;Sr.add(Re),x.updateQueue=Sr}else gr.add(Re);break e}else{if((x&1)===0){rI(G,it,x),v4();break e}Re=Error(r(426))}}else if(gt&&Pe.mode&1){var Ga=nI(de);if(Ga!==null){(Ga.flags&65536)===0&&(Ga.flags|=256),sI(Ga,de,Pe,G,x),zt(V0(Re,Pe));break e}}G=Re=V0(Re,Pe),xi!==4&&(xi=2),jv===null?jv=[G]:jv.push(G),G=de;do{switch(G.tag){case 3:G.flags|=65536,x&=-x,G.lanes|=x;var Je=eI(G,Re,x);gs(G,Je);break e;case 1:Pe=Re;var Ue=G.type,rt=G.stateNode;if((G.flags&128)===0&&(typeof Ue.getDerivedStateFromError=="function"||rt!==null&&typeof rt.componentDidCatch=="function"&&(Af===null||!Af.has(rt)))){G.flags|=65536,x&=-x,G.lanes|=x;var Rt=tI(G,Pe,x);gs(G,Rt);break e}}G=G.return}while(G!==null)}DI(j)}catch(Ar){x=Ar,ai===j&&j!==null&&(ai=j=j.return);continue}break}while(!0)}function II(){var p=Wb.current;return Wb.current=Lb,p===null?Lb:p}function v4(){(xi===0||xi===3||xi===2)&&(xi=4),Bi===null||(Gm&268435455)===0&&(Hb&268435455)===0||Tf(Bi,so)}function Zb(p,x){var j=Wn;Wn|=2;var T=II();(Bi!==p||so!==x)&&(jh=null,Ym(p,x));do try{Qre();break}catch(U){OI(p,U)}while(!0);if(zn(),Wn=j,Wb.current=T,ai!==null)throw Error(r(261));return Bi=null,so=0,xi}function Qre(){for(;ai!==null;)$I(ai)}function ene(){for(;ai!==null&&!fc();)$I(ai)}function $I(p){var x=LI(p.alternate,p,Xl);p.memoizedProps=p.pendingProps,x===null?DI(p):ai=x,c4.current=null}function DI(p){var x=p;do{var j=x.alternate;if(p=x.return,(x.flags&32768)===0){if(j=qre(j,x,Xl),j!==null){ai=j;return}}else{if(j=Gre(j,x),j!==null){j.flags&=32767,ai=j;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{xi=6,ai=null;return}}if(x=x.sibling,x!==null){ai=x;return}ai=x=p}while(x!==null);xi===0&&(xi=5)}function Xm(p,x,j){var T=Mn,U=Tc.transition;try{Tc.transition=null,Mn=1,tne(p,x,j,T)}finally{Tc.transition=U,Mn=T}return null}function tne(p,x,j,T){do G0();while(Ef!==null);if((Wn&6)!==0)throw Error(r(327));j=p.finishedWork;var U=p.finishedLanes;if(j===null)return null;if(p.finishedWork=null,p.finishedLanes=0,j===p.current)throw Error(r(177));p.callbackNode=null,p.callbackPriority=0;var G=j.lanes|j.childLanes;if(gc(p,G),p===Bi&&(ai=Bi=null,so=0),(j.subtreeFlags&2064)===0&&(j.flags&2064)===0||Gb||(Gb=!0,FI(pc,function(){return G0(),null})),G=(j.flags&15990)!==0,(j.subtreeFlags&15990)!==0||G){G=Tc.transition,Tc.transition=null;var de=Mn;Mn=1;var Pe=Wn;Wn|=4,c4.current=null,Yre(p,j),_I(j,p),Im(xh),cf=!!Um,xh=Um=null,p.current=j,Xre(j),Nm(),Wn=Pe,Mn=de,Tc.transition=G}else p.current=j;if(Gb&&(Gb=!1,Ef=p,Kb=U),G=p.pendingLanes,G===0&&(Af=null),Ur(j.stateNode),jl(p,ns()),x!==null)for(T=p.onRecoverableError,j=0;j<x.length;j++)U=x[j],T(U.value,{componentStack:U.stack,digest:U.digest});if(qb)throw qb=!1,p=h4,h4=null,p;return(Kb&1)!==0&&p.tag!==0&&G0(),G=p.pendingLanes,(G&1)!==0?p===f4?Nv++:(Nv=0,f4=p):Nv=0,te(),null}function G0(){if(Ef!==null){var p=rd(Kb),x=Tc.transition,j=Mn;try{if(Tc.transition=null,Mn=16>p?16:p,Ef===null)var T=!1;else{if(p=Ef,Ef=null,Kb=0,(Wn&6)!==0)throw Error(r(331));var U=Wn;for(Wn|=4,ur=p.current;ur!==null;){var G=ur,de=G.child;if((ur.flags&16)!==0){var Pe=G.deletions;if(Pe!==null){for(var Re=0;Re<Pe.length;Re++){var it=Pe[Re];for(ur=it;ur!==null;){var kt=ur;switch(kt.tag){case 0:case 11:case 15:bv(8,kt,G)}var Pt=kt.child;if(Pt!==null)Pt.return=kt,ur=Pt;else for(;ur!==null;){kt=ur;var Ct=kt.sibling,rr=kt.return;if(bI(kt),kt===it){ur=null;break}if(Ct!==null){Ct.return=rr,ur=Ct;break}ur=rr}}}var gr=G.alternate;if(gr!==null){var Sr=gr.child;if(Sr!==null){gr.child=null;do{var Ga=Sr.sibling;Sr.sibling=null,Sr=Ga}while(Sr!==null)}}ur=G}}if((G.subtreeFlags&2064)!==0&&de!==null)de.return=G,ur=de;else e:for(;ur!==null;){if(G=ur,(G.flags&2048)!==0)switch(G.tag){case 0:case 11:case 15:bv(9,G,G.return)}var Je=G.sibling;if(Je!==null){Je.return=G.return,ur=Je;break e}ur=G.return}}var Ue=p.current;for(ur=Ue;ur!==null;){de=ur;var rt=de.child;if((de.subtreeFlags&2064)!==0&&rt!==null)rt.return=de,ur=rt;else e:for(de=Ue;ur!==null;){if(Pe=ur,(Pe.flags&2048)!==0)try{switch(Pe.tag){case 0:case 11:case 15:Vb(9,Pe)}}catch(Ar){Da(Pe,Pe.return,Ar)}if(Pe===de){ur=null;break e}var Rt=Pe.sibling;if(Rt!==null){Rt.return=Pe.return,ur=Rt;break e}ur=Pe.return}}if(Wn=U,te(),Va&&typeof Va.onPostCommitFiberRoot=="function")try{Va.onPostCommitFiberRoot(Bo,p)}catch{}T=!0}return T}finally{Mn=j,Tc.transition=x}}return!1}function MI(p,x,j){x=V0(j,x),x=eI(p,x,1),p=ja(p,x,1),x=Ko(),p!==null&&(cl(p,1,x),jl(p,x))}function Da(p,x,j){if(p.tag===3)MI(p,p,j);else for(;x!==null;){if(x.tag===3){MI(x,p,j);break}else if(x.tag===1){var T=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Af===null||!Af.has(T))){p=V0(j,p),p=tI(x,p,1),x=ja(x,p,1),p=Ko(),x!==null&&(cl(x,1,p),jl(x,p));break}}x=x.return}}function rne(p,x,j){var T=p.pingCache;T!==null&&T.delete(x),x=Ko(),p.pingedLanes|=p.suspendedLanes&j,Bi===p&&(so&j)===j&&(xi===4||xi===3&&(so&130023424)===so&&500>ns()-u4?Ym(p,0):d4|=j),jl(p,x)}function RI(p,x){x===0&&((p.mode&1)===0?x=1:(x=jr,jr<<=1,(jr&130023424)===0&&(jr=4194304)));var j=Ko();p=xs(p,x),p!==null&&(cl(p,x,j),jl(p,j))}function nne(p){var x=p.memoizedState,j=0;x!==null&&(j=x.retryLane),RI(p,j)}function sne(p,x){var j=0;switch(p.tag){case 13:var T=p.stateNode,U=p.memoizedState;U!==null&&(j=U.retryLane);break;case 19:T=p.stateNode;break;default:throw Error(r(314))}T!==null&&T.delete(x),RI(p,j)}var LI;LI=function(p,x,j){if(p!==null)if(p.memoizedProps!==x.pendingProps||yo.current)bl=!0;else{if((p.lanes&j)===0&&(x.flags&128)===0)return bl=!1,Hre(p,x,j);bl=(p.flags&131072)!==0}else bl=!1,gt&&(x.flags&1048576)!==0&&Ge(x,xe,x.index);switch(x.lanes=0,x.tag){case 2:var T=x.type;Ub(p,x),p=x.pendingProps;var U=jf(x,mi.current);ia(x,j),U=Wm(null,x,T,p,U,j);var G=Pc();return x.flags|=1,typeof U=="object"&&U!==null&&typeof U.render=="function"&&U.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,bo(T)?(G=!0,yh(x)):G=!1,x.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,pi(x),U.updater=Fb,x.stateNode=U,U._reactInternals=x,Y5(x,T,p,j),x=Q5(null,x,T,!0,G,j)):(x.tag=0,gt&&G&&ut(x),Go(null,x,U,j),x=x.child),x;case 16:T=x.elementType;e:{switch(Ub(p,x),p=x.pendingProps,U=T._init,T=U(T._payload),x.type=T,U=x.tag=ine(T),p=gd(T,p),U){case 0:x=J5(null,x,T,p,j);break e;case 1:x=dI(null,x,T,p,j);break e;case 11:x=aI(null,x,T,p,j);break e;case 14:x=iI(null,x,T,gd(T.type,p),j);break e}throw Error(r(306,T,""))}return x;case 0:return T=x.type,U=x.pendingProps,U=x.elementType===T?U:gd(T,U),J5(p,x,T,U,j);case 1:return T=x.type,U=x.pendingProps,U=x.elementType===T?U:gd(T,U),dI(p,x,T,U,j);case 3:e:{if(uI(x),p===null)throw Error(r(387));T=x.pendingProps,G=x.memoizedState,U=G.element,wo(p,x),Fi(x,T,null,j);var de=x.memoizedState;if(T=de.element,G.isDehydrated)if(G={element:T,isDehydrated:!1,cache:de.cache,pendingSuspenseBoundaries:de.pendingSuspenseBoundaries,transitions:de.transitions},x.updateQueue.baseState=G,x.memoizedState=G,x.flags&256){U=V0(Error(r(423)),x),x=hI(p,x,T,j,U);break e}else if(T!==U){U=V0(Error(r(424)),x),x=hI(p,x,T,j,U);break e}else for(dt=ro(x.stateNode.containerInfo.firstChild),ct=x,gt=!0,vt=null,j=Xs(x,null,T,j),x.child=j;j;)j.flags=j.flags&-3|4096,j=j.sibling;else{if(ir(),T===U){x=wh(p,x,j);break e}Go(p,x,T,j)}x=x.child}return x;case 5:return Ib(x),p===null&&pr(x),T=x.type,U=x.pendingProps,G=p!==null?p.memoizedProps:null,de=U.children,cv(T,U)?de=null:G!==null&&cv(T,G)&&(x.flags|=32),cI(p,x),Go(p,x,de,j),x.child;case 6:return p===null&&pr(x),null;case 13:return fI(p,x,j);case 4:return Nf(x,x.stateNode.containerInfo),T=x.pendingProps,p===null?x.child=Oa(x,null,T,j):Go(p,x,T,j),x.child;case 11:return T=x.type,U=x.pendingProps,U=x.elementType===T?U:gd(T,U),aI(p,x,T,U,j);case 7:return Go(p,x,x.pendingProps,j),x.child;case 8:return Go(p,x,x.pendingProps.children,j),x.child;case 12:return Go(p,x,x.pendingProps.children,j),x.child;case 10:e:{if(T=x.type._context,U=x.pendingProps,G=x.memoizedProps,de=U.value,as(Ha,T._currentValue),T._currentValue=de,G!==null)if(na(G.value,de)){if(G.children===U.children&&!yo.current){x=wh(p,x,j);break e}}else for(G=x.child,G!==null&&(G.return=x);G!==null;){var Pe=G.dependencies;if(Pe!==null){de=G.child;for(var Re=Pe.firstContext;Re!==null;){if(Re.context===T){if(G.tag===1){Re=wa(-1,j&-j),Re.tag=2;var it=G.updateQueue;if(it!==null){it=it.shared;var kt=it.pending;kt===null?Re.next=Re:(Re.next=kt.next,kt.next=Re),it.pending=Re}}G.lanes|=j,Re=G.alternate,Re!==null&&(Re.lanes|=j),Vn(G.return,j,x),Pe.lanes|=j;break}Re=Re.next}}else if(G.tag===10)de=G.type===x.type?null:G.child;else if(G.tag===18){if(de=G.return,de===null)throw Error(r(341));de.lanes|=j,Pe=de.alternate,Pe!==null&&(Pe.lanes|=j),Vn(de,j,x),de=G.sibling}else de=G.child;if(de!==null)de.return=G;else for(de=G;de!==null;){if(de===x){de=null;break}if(G=de.sibling,G!==null){G.return=de.return,de=G;break}de=de.return}G=de}Go(p,x,U.children,j),x=x.child}return x;case 9:return U=x.type,T=x.pendingProps.children,ia(x,j),U=oa(U),T=T(U),x.flags|=1,Go(p,x,T,j),x.child;case 14:return T=x.type,U=gd(T,x.pendingProps),U=gd(T.type,U),iI(p,x,T,U,j);case 15:return oI(p,x,x.type,x.pendingProps,j);case 17:return T=x.type,U=x.pendingProps,U=x.elementType===T?U:gd(T,U),Ub(p,x),x.tag=1,bo(T)?(p=!0,yh(x)):p=!1,ia(x,j),JO(x,T,U),Y5(x,T,U,j),Q5(null,x,T,!0,p,j);case 19:return pI(p,x,j);case 22:return lI(p,x,j)}throw Error(r(156,x.tag))};function FI(p,x){return Ll(p,x)}function ane(p,x,j,T){this.tag=p,this.key=j,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(p,x,j,T){return new ane(p,x,j,T)}function y4(p){return p=p.prototype,!(!p||!p.isReactComponent)}function ine(p){if(typeof p=="function")return y4(p)?1:0;if(p!=null){if(p=p.$$typeof,p===M)return 11;if(p===Y)return 14}return 2}function Of(p,x){var j=p.alternate;return j===null?(j=Oc(p.tag,x,p.key,p.mode),j.elementType=p.elementType,j.type=p.type,j.stateNode=p.stateNode,j.alternate=p,p.alternate=j):(j.pendingProps=x,j.type=p.type,j.flags=0,j.subtreeFlags=0,j.deletions=null),j.flags=p.flags&14680064,j.childLanes=p.childLanes,j.lanes=p.lanes,j.child=p.child,j.memoizedProps=p.memoizedProps,j.memoizedState=p.memoizedState,j.updateQueue=p.updateQueue,x=p.dependencies,j.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},j.sibling=p.sibling,j.index=p.index,j.ref=p.ref,j}function Jb(p,x,j,T,U,G){var de=2;if(T=p,typeof p=="function")y4(p)&&(de=1);else if(typeof p=="string")de=5;else e:switch(p){case A:return Zm(j.children,U,G,x);case I:de=8,U|=8;break;case $:return p=Oc(12,j,x,U|2),p.elementType=$,p.lanes=G,p;case R:return p=Oc(13,j,x,U),p.elementType=R,p.lanes=G,p;case W:return p=Oc(19,j,x,U),p.elementType=W,p.lanes=G,p;case L:return Qb(j,U,G,x);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case O:de=10;break e;case P:de=9;break e;case M:de=11;break e;case Y:de=14;break e;case K:de=16,T=null;break e}throw Error(r(130,p==null?p:typeof p,""))}return x=Oc(de,j,x,U),x.elementType=p,x.type=T,x.lanes=G,x}function Zm(p,x,j,T){return p=Oc(7,p,T,x),p.lanes=j,p}function Qb(p,x,j,T){return p=Oc(22,p,T,x),p.elementType=L,p.lanes=j,p.stateNode={isHidden:!1},p}function b4(p,x,j){return p=Oc(6,p,null,x),p.lanes=j,p}function w4(p,x,j){return x=Oc(4,p.children!==null?p.children:[],p.key,x),x.lanes=j,x.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},x}function one(p,x,j,T,U){this.tag=x,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xc(0),this.expirationTimes=xc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xc(0),this.identifierPrefix=T,this.onRecoverableError=U,this.mutableSourceEagerHydrationData=null}function j4(p,x,j,T,U,G,de,Pe,Re){return p=new one(p,x,j,Pe,Re),x===1?(x=1,G===!0&&(x|=8)):x=0,G=Oc(3,null,null,x),p.current=G,G.stateNode=p,G.memoizedState={element:T,isDehydrated:j,cache:null,transitions:null,pendingSuspenseBoundaries:null},pi(G),p}function lne(p,x,j){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:T==null?null:""+T,children:p,containerInfo:x,implementation:j}}function BI(p){if(!p)return du;p=p._reactInternals;e:{if(xa(p)!==p||p.tag!==1)throw Error(r(170));var x=p;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(bo(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(r(171))}if(p.tag===1){var j=p.type;if(bo(j))return fv(p,j,x)}return x}function UI(p,x,j,T,U,G,de,Pe,Re){return p=j4(j,T,!0,p,U,G,de,Pe,Re),p.context=BI(null),j=p.current,T=Ko(),U=Pf(j),G=wa(T,U),G.callback=x??null,ja(j,G,U),p.current.lanes=U,cl(p,U,T),jl(p,T),p}function e2(p,x,j,T){var U=x.current,G=Ko(),de=Pf(U);return j=BI(j),x.context===null?x.context=j:x.pendingContext=j,x=wa(G,de),x.payload={element:p},T=T===void 0?null:T,T!==null&&(x.callback=T),p=ja(U,x,de),p!==null&&(bd(p,U,de,G),Li(p,U,de)),de}function t2(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function zI(p,x){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var j=p.retryLane;p.retryLane=j!==0&&j<x?j:x}}function N4(p,x){zI(p,x),(p=p.alternate)&&zI(p,x)}function cne(){return null}var VI=typeof reportError=="function"?reportError:function(p){console.error(p)};function S4(p){this._internalRoot=p}r2.prototype.render=S4.prototype.render=function(p){var x=this._internalRoot;if(x===null)throw Error(r(409));e2(p,x,null,null)},r2.prototype.unmount=S4.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var x=p.containerInfo;Km(function(){e2(null,p,null,null)}),x[Mi]=null}};function r2(p){this._internalRoot=p}r2.prototype.unstable_scheduleHydration=function(p){if(p){var x=j0();p={blockedOn:null,target:p,priority:x};for(var j=0;j<yc.length&&x!==0&&x<yc[j].priority;j++);yc.splice(j,0,p),j===0&&S0(p)}};function _4(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function n2(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function WI(){}function dne(p,x,j,T,U){if(U){if(typeof T=="function"){var G=T;T=function(){var it=t2(de);G.call(it)}}var de=UI(x,T,p,0,null,!1,!1,"",WI);return p._reactRootContainer=de,p[Mi]=de.current,mh(p.nodeType===8?p.parentNode:p),Km(),de}for(;U=p.lastChild;)p.removeChild(U);if(typeof T=="function"){var Pe=T;T=function(){var it=t2(Re);Pe.call(it)}}var Re=j4(p,0,!1,null,null,!1,!1,"",WI);return p._reactRootContainer=Re,p[Mi]=Re.current,mh(p.nodeType===8?p.parentNode:p),Km(function(){e2(x,Re,j,T)}),Re}function s2(p,x,j,T,U){var G=j._reactRootContainer;if(G){var de=G;if(typeof U=="function"){var Pe=U;U=function(){var Re=t2(de);Pe.call(Re)}}e2(x,de,p,U)}else de=dne(j,x,p,U,T);return t2(de)}af=function(p){switch(p.tag){case 3:var x=p.stateNode;if(x.current.memoizedState.isDehydrated){var j=Yr(x.pendingLanes);j!==0&&(sf(x,j|1),jl(x,ns()),(Wn&6)===0&&(q0=ns()+500,te()))}break;case 13:Km(function(){var T=xs(p,1);if(T!==null){var U=Ko();bd(T,p,1,U)}}),N4(p,1)}},_m=function(p){if(p.tag===13){var x=xs(p,134217728);if(x!==null){var j=Ko();bd(x,p,134217728,j)}N4(p,134217728)}},w0=function(p){if(p.tag===13){var x=Pf(p),j=xs(p,x);if(j!==null){var T=Ko();bd(j,p,x,T)}N4(p,x)}},j0=function(){return Mn},of=function(p,x){var j=Mn;try{return Mn=p,x()}finally{Mn=j}},sr=function(p,x,j){switch(x){case"input":if(Ye(p,j),x=j.name,j.type==="radio"&&x!=null){for(j=p;j.parentNode;)j=j.parentNode;for(j=j.querySelectorAll("input[name="+JSON.stringify(""+x)+'][type="radio"]'),x=0;x<j.length;x++){var T=j[x];if(T!==p&&T.form===p.form){var U=zm(T);if(!U)throw Error(r(90));we(T),Ye(T,U)}}}break;case"textarea":Ke(p,j);break;case"select":x=j.value,x!=null&&ke(p,!!j.multiple,x,!1)}},Ze=x4,Ae=Km;var une={usingClientEntryPoint:!1,Events:[wf,gh,zm,_t,Lr,x4]},Sv={findFiberByHostInstance:cu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hne={bundleType:Sv.bundleType,version:Sv.version,rendererPackageName:Sv.rendererPackageName,rendererConfig:Sv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=za(p),p===null?null:p.stateNode},findFiberByHostInstance:Sv.findFiberByHostInstance||cne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var a2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!a2.isDisabled&&a2.supportsFiber)try{Bo=a2.inject(hne),Va=a2}catch{}}return Nl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=une,Nl.createPortal=function(p,x){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_4(x))throw Error(r(200));return lne(p,x,null,j)},Nl.createRoot=function(p,x){if(!_4(p))throw Error(r(299));var j=!1,T="",U=VI;return x!=null&&(x.unstable_strictMode===!0&&(j=!0),x.identifierPrefix!==void 0&&(T=x.identifierPrefix),x.onRecoverableError!==void 0&&(U=x.onRecoverableError)),x=j4(p,1,!1,null,null,j,!1,T,U),p[Mi]=x.current,mh(p.nodeType===8?p.parentNode:p),new S4(x)},Nl.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var x=p._reactInternals;if(x===void 0)throw typeof p.render=="function"?Error(r(188)):(p=Object.keys(p).join(","),Error(r(268,p)));return p=za(x),p=p===null?null:p.stateNode,p},Nl.flushSync=function(p){return Km(p)},Nl.hydrate=function(p,x,j){if(!n2(x))throw Error(r(200));return s2(null,p,x,!0,j)},Nl.hydrateRoot=function(p,x,j){if(!_4(p))throw Error(r(405));var T=j!=null&&j.hydratedSources||null,U=!1,G="",de=VI;if(j!=null&&(j.unstable_strictMode===!0&&(U=!0),j.identifierPrefix!==void 0&&(G=j.identifierPrefix),j.onRecoverableError!==void 0&&(de=j.onRecoverableError)),x=UI(x,null,p,1,j??null,U,!1,G,de),p[Mi]=x.current,mh(p),T)for(p=0;p<T.length;p++)j=T[p],U=j._getVersion,U=U(j._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[j,U]:x.mutableSourceEagerHydrationData.push(j,U);return new r2(x)},Nl.render=function(p,x,j){if(!n2(x))throw Error(r(200));return s2(null,p,x,!1,j)},Nl.unmountComponentAtNode=function(p){if(!n2(p))throw Error(r(40));return p._reactRootContainer?(Km(function(){s2(null,null,p,!1,function(){p._reactRootContainer=null,p[Mi]=null})}),!0):!1},Nl.unstable_batchedUpdates=x4,Nl.unstable_renderSubtreeIntoContainer=function(p,x,j,T){if(!n2(j))throw Error(r(200));if(p==null||p._reactInternals===void 0)throw Error(r(38));return s2(p,x,j,!1,T)},Nl.version="18.3.1-next-f1338f8080-20240426",Nl}var JI;function oW(){if(JI)return A4.exports;JI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),A4.exports=bne(),A4.exports}var QI;function wne(){if(QI)return o2;QI=1;var t=oW();return o2.createRoot=t.createRoot,o2.hydrateRoot=t.hydrateRoot,o2}var e7=wne(),S=Ag();const fe=Jn(S),SP=iW({__proto__:null,default:fe},[S]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nne=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),t7=t=>{const e=Nne(t);return e.charAt(0).toUpperCase()+e.slice(1)},lW=(...t)=>t.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>S.createElement("svg",{ref:c,...Sne,width:e,height:e,stroke:t,strokeWidth:s?Number(r)*24/Number(e):r,className:lW("lucide",a),...l},[...o.map(([d,u])=>S.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(t,e)=>{const r=S.forwardRef(({className:s,...a},i)=>S.createElement(_ne,{ref:i,iconNode:e,className:lW(`lucide-${jne(t7(t))}`,`lucide-${t}`,s),...a}));return r.displayName=t7(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]],kne=ot("accessibility",Cne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ane=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Uc=ot("activity",Ane);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Pne=ot("arrow-down-right",Ene);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tne=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],One=ot("arrow-left",Tne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$ne=ot("arrow-right",Ine);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dne=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Mne=ot("arrow-up-right",Dne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rne=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Dh=ot("award",Rne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]],Fne=ot("baby",Lne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],uo=ot("bell",Bne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],jk=ot("book-open",Une);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],d1=ot("bot",zne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],u1=ot("brain",Vne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Hne=ot("briefcase",Wne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qne=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],ic=ot("building-2",qne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Kne=ot("building",Gne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Hc=ot("calendar-days",Yne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Nn=ot("calendar",Xne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Kp=ot("camera",Zne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ru=ot("chart-column",Jne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],ese=ot("chart-line",Qne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],rse=ot("chart-pie",tse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],cW=ot("check-check",nse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jn=ot("check",sse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Dd=ot("chevron-down",ase);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],qn=ot("chevron-left",ise);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ose=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ds=ot("chevron-right",ose);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],dW=ot("chevron-up",lse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],T4=ot("chrome",cse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],us=ot("circle-alert",dse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wi=ot("circle-check-big",use);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Tt=ot("circle-check",hse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Wf=ot("circle-help",fse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],pse=ot("circle-user",mse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ds=ot("circle-x",xse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Qt=ot("clock",gse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],yse=ot("cloud",vse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],r7=ot("code-xml",bse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],Fh=ot("code",wse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],uW=ot("columns-2",jse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Vs=ot("copy",Nse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],_se=ot("cpu",Sse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],fa=ot("credit-card",Cse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],T1=ot("crown",kse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],O1=ot("database",Ase);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Si=ot("dollar-sign",Ese);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],hs=ot("download",Pse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],ka=ot("ellipsis-vertical",Tse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],al=ot("external-link",Ose);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Op=ot("eye-off",Ise);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $se=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ln=ot("eye",$se);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dse=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Iw=ot("facebook",Dse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Rse=ot("file-check",Mse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],Fse=ot("file-image",Lse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bse=[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],O4=ot("file-pen-line",Bse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Use=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],zse=ot("file-plus",Use);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vse=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$s=ot("file-text",Vse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wse=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],I4=ot("folder-open",Wse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hse=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ld=ot("funnel",Hse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qse=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],I1=ot("gamepad-2",qse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gse=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Oo=ot("gift",Gse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kse=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Yse=ot("github",Kse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ku=ot("globe",Xse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zse=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],_P=ot("grid-3x3",Zse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jse=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],hW=ot("hard-drive",Jse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Md=ot("heart",Qse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],fW=ot("history",eae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],$4=ot("house",tae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],qc=ot("image",rae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],mW=ot("inbox",nae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],rs=ot("info",sae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],iae=ot("key-round",aae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],nm=ot("key",oae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],cae=ot("languages",lae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],pW=ot("layout-dashboard",dae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],hae=ot("lightbulb",uae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],CP=ot("list",fae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Yp=ot("loader-circle",mae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],da=ot("lock",pae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],xW=ot("log-out",xae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Gn=ot("mail",gae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],El=ot("map-pin",vae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],gW=ot("megaphone",yae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],vW=ot("menu",bae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],ei=ot("message-square",wae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Nae=ot("minimize-2",jae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=[["path",{d:"M5 12h14",key:"1ays0h"}]],Nk=ot("minus",Sae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],$1=ot("monitor",_ae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cae=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Eg=ot("moon",Cae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],yW=ot("mouse-pointer-click",kae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Eae=ot("network",Aae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pae=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Tae=ot("package",Pae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oae=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],Ip=ot("palette",Oae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],n7=ot("pause",Iae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ae=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Sk=ot("pen",$ae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dae=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Jm=ot("pencil",Dae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],h1=ot("percent",Mae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rae=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Gs=ot("phone",Rae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lae=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Au=ot("play",Lae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],An=ot("plus",Fae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],hw=ot("qr-code",Bae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uae=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],zae=ot("receipt",Uae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Rd=ot("refresh-ccw",Vae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Gc=ot("refresh-cw",Wae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hae=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Xv=ot("rotate-ccw",Hae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ki=ot("save",qae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],Kae=ot("scan",Gae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Ba=ot("search",Yae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xae=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],vu=ot("send",Xae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zae=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],$w=ot("server",Zae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],D1=ot("settings-2",Jae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sm=ot("settings",Qae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],K0=ot("shield-check",eie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tie=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Xn=ot("shield",tie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ua=ot("shopping-cart",rie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],xN=ot("smartphone",nie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sie=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ma=ot("sparkles",sie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],iie=ot("square-check-big",aie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$p=ot("square-pen",oie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],cie=ot("square-x",lie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const die=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],yn=ot("star",die);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Ry=ot("sun",uie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],fie=ot("tablet",hie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],_k=ot("tag",mie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Gf=ot("target",pie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xie=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],D4=ot("thumbs-up",xie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gie=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Dn=ot("trash-2",gie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vie=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],kP=ot("trending-down",vie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yie=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Is=ot("trending-up",yie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Dw=ot("triangle-alert",bie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wie=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],jie=ot("type",wie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nie=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Qo=ot("upload",Nie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sie=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Ck=ot("user-check",Sie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],Cie=ot("user-cog",_ie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],am=ot("user-plus",kie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],bW=ot("user-x",Aie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eie=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ca=ot("user",Eie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Wr=ot("users",Pie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],s7=ot("video",Tie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],kk=ot("volume-2",Oie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],In=ot("x",Iie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Gd=ot("zap",$ie);function a7(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Hu(...t){return e=>{let r=!1;const s=t.map(a=>{const i=a7(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():a7(t[a],null)}}}}function Zr(...t){return S.useCallback(Hu(...t),t)}var Die=Symbol.for("react.lazy"),Mw=SP[" use ".trim().toString()];function Mie(t){return typeof t=="object"&&t!==null&&"then"in t}function wW(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Die&&"_payload"in t&&Mie(t._payload)}function Pg(t){const e=Rie(t),r=S.forwardRef((s,a)=>{let{children:i,...o}=s;wW(i)&&typeof Mw=="function"&&(i=Mw(i._payload));const l=S.Children.toArray(i),c=l.find(Fie);if(c){const d=c.props.children,u=l.map(h=>h===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:h);return n.jsx(e,{...o,ref:a,children:S.isValidElement(d)?S.cloneElement(d,void 0,u):null})}return n.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var jW=Pg("Slot");function Rie(t){const e=S.forwardRef((r,s)=>{let{children:a,...i}=r;if(wW(a)&&typeof Mw=="function"&&(a=Mw(a._payload)),S.isValidElement(a)){const o=Uie(a),l=Bie(i,a.props);return a.type!==S.Fragment&&(l.ref=s?Hu(s,o):o),S.cloneElement(a,l)}return S.Children.count(a)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Lie=Symbol("radix.slottable");function Fie(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Lie}function Bie(t,e){const r={...e};for(const s in e){const a=t[s],i=e[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function Uie(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function NW(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=NW(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function dn(){for(var t,e,r=0,s="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=NW(t))&&(s&&(s+=" "),s+=e);return s}const i7=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,o7=dn,AP=(t,e)=>r=>{var s;if(e?.variants==null)return o7(t,r?.class,r?.className);const{variants:a,defaultVariants:i}=e,o=Object.keys(a).map(d=>{const u=r?.[d],h=i?.[d];if(u===null)return null;const f=i7(u)||i7(h);return a[d][f]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:h,className:f,...m}=u;return Object.entries(m).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...d,h,f]:d},[]);return o7(t,o,c,r?.class,r?.className)},EP="-",zie=t=>{const e=Wie(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const l=o.split(EP);return l[0]===""&&l.length!==1&&l.shift(),SW(l,e)||Vie(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},SW=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),a=s?SW(t.slice(1),s):void 0;if(a)return a;if(e.validators.length===0)return;const i=t.join(EP);return e.validators.find(({validator:o})=>o(i))?.classGroupId},l7=/^\[(.+)\]$/,Vie=t=>{if(l7.test(t)){const e=l7.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Wie=t=>{const{theme:e,classGroups:r}=t,s={nextPart:new Map,validators:[]};for(const a in r)Ak(r[a],s,a,e);return s},Ak=(t,e,r,s)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?e:c7(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(Hie(a)){Ak(a(s),e,r,s);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Ak(o,c7(e,i),r,s)})})},c7=(t,e)=>{let r=t;return e.split(EP).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},Hie=t=>t.isThemeGetter,qie=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},Ek="!",Pk=":",Gie=Pk.length,Kie=t=>{const{prefix:e,experimentalParseClassName:r}=t;let s=a=>{const i=[];let o=0,l=0,c=0,d;for(let y=0;y<a.length;y++){let g=a[y];if(o===0&&l===0){if(g===Pk){i.push(a.slice(c,y)),c=y+Gie;continue}if(g==="/"){d=y;continue}}g==="["?o++:g==="]"?o--:g==="("?l++:g===")"&&l--}const u=i.length===0?a:a.substring(c),h=Yie(u),f=h!==u,m=d&&d>c?d-c:void 0;return{modifiers:i,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}};if(e){const a=e+Pk,i=s;s=o=>o.startsWith(a)?i(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const a=s;s=i=>r({className:i,parseClassName:a})}return s},Yie=t=>t.endsWith(Ek)?t.substring(0,t.length-1):t.startsWith(Ek)?t.substring(1):t,Xie=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let i=[];return s.forEach(o=>{o[0]==="["||e[o]?(a.push(...i.sort(),o),i=[]):i.push(o)}),a.push(...i.sort()),a}},Zie=t=>({cache:qie(t.cacheSize),parseClassName:Kie(t),sortModifiers:Xie(t),...zie(t)}),Jie=/\s+/,Qie=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:i}=e,o=[],l=t.trim().split(Jie);let c="";for(let d=l.length-1;d>=0;d-=1){const u=l[d],{isExternal:h,modifiers:f,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}=r(u);if(h){c=u+(c.length>0?" "+c:c);continue}let v=!!g,b=s(v?y.substring(0,g):y);if(!b){if(!v){c=u+(c.length>0?" "+c:c);continue}if(b=s(y),!b){c=u+(c.length>0?" "+c:c);continue}v=!1}const w=i(f).join(":"),N=m?w+Ek:w,_=N+b;if(o.includes(_))continue;o.push(_);const C=a(b,v);for(let E=0;E<C.length;++E){const A=C[E];o.push(N+A)}c=u+(c.length>0?" "+c:c)}return c};function eoe(){let t=0,e,r,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=_W(e))&&(s&&(s+=" "),s+=r);return s}const _W=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=_W(t[s]))&&(r&&(r+=" "),r+=e);return r};function toe(t,...e){let r,s,a,i=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return r=Zie(d),s=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=Qie(c,r);return a(c,u),u}return function(){return i(eoe.apply(null,arguments))}}const gi=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},CW=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,kW=/^\((?:(\w[\w-]*):)?(.+)\)$/i,roe=/^\d+\/\d+$/,noe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,soe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aoe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ioe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ooe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Y0=t=>roe.test(t),vn=t=>!!t&&!Number.isNaN(Number(t)),$f=t=>!!t&&Number.isInteger(Number(t)),M4=t=>t.endsWith("%")&&vn(t.slice(0,-1)),Nh=t=>noe.test(t),loe=()=>!0,coe=t=>soe.test(t)&&!aoe.test(t),AW=()=>!1,doe=t=>ioe.test(t),uoe=t=>ooe.test(t),hoe=t=>!vr(t)&&!yr(t),foe=t=>Tg(t,TW,AW),vr=t=>CW.test(t),Qm=t=>Tg(t,OW,coe),R4=t=>Tg(t,voe,vn),d7=t=>Tg(t,EW,AW),moe=t=>Tg(t,PW,uoe),l2=t=>Tg(t,IW,doe),yr=t=>kW.test(t),Cv=t=>Og(t,OW),poe=t=>Og(t,yoe),u7=t=>Og(t,EW),xoe=t=>Og(t,TW),goe=t=>Og(t,PW),c2=t=>Og(t,IW,!0),Tg=(t,e,r)=>{const s=CW.exec(t);return s?s[1]?e(s[1]):r(s[2]):!1},Og=(t,e,r=!1)=>{const s=kW.exec(t);return s?s[1]?e(s[1]):r:!1},EW=t=>t==="position"||t==="percentage",PW=t=>t==="image"||t==="url",TW=t=>t==="length"||t==="size"||t==="bg-size",OW=t=>t==="length",voe=t=>t==="number",yoe=t=>t==="family-name",IW=t=>t==="shadow",boe=()=>{const t=gi("color"),e=gi("font"),r=gi("text"),s=gi("font-weight"),a=gi("tracking"),i=gi("leading"),o=gi("breakpoint"),l=gi("container"),c=gi("spacing"),d=gi("radius"),u=gi("shadow"),h=gi("inset-shadow"),f=gi("text-shadow"),m=gi("drop-shadow"),y=gi("blur"),g=gi("perspective"),v=gi("aspect"),b=gi("ease"),w=gi("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[..._(),yr,vr],E=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],I=()=>[yr,vr,c],$=()=>[Y0,"full","auto",...I()],O=()=>[$f,"none","subgrid",yr,vr],P=()=>["auto",{span:["full",$f,yr,vr]},$f,yr,vr],M=()=>[$f,"auto",yr,vr],R=()=>["auto","min","max","fr",yr,vr],W=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...I()],L=()=>[Y0,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],F=()=>[t,yr,vr],ee=()=>[..._(),u7,d7,{position:[yr,vr]}],se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",xoe,foe,{size:[yr,vr]}],z=()=>[M4,Cv,Qm],Z=()=>["","none","full",d,yr,vr],X=()=>["",vn,Cv,Qm],Q=()=>["solid","dashed","dotted","double"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[vn,M4,u7,d7],ie=()=>["","none",y,yr,vr],pe=()=>["none",vn,yr,vr],ae=()=>["none",vn,yr,vr],be=()=>[vn,yr,vr],we=()=>[Y0,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Nh],breakpoint:[Nh],color:[loe],container:[Nh],"drop-shadow":[Nh],ease:["in","out","in-out"],font:[hoe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Nh],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Nh],shadow:[Nh],spacing:["px",vn],text:[Nh],"text-shadow":[Nh],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Y0,vr,yr,v]}],container:["container"],columns:[{columns:[vn,vr,yr,l]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{start:$()}],end:[{end:$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[$f,"auto",yr,vr]}],basis:[{basis:[Y0,"full","auto",l,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[vn,Y0,"auto","initial","none",vr]}],grow:[{grow:["",vn,yr,vr]}],shrink:[{shrink:["",vn,yr,vr]}],order:[{order:[$f,"first","last","none",yr,vr]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:L()}],w:[{w:[l,"screen",...L()]}],"min-w":[{"min-w":[l,"screen","none",...L()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...L()]}],h:[{h:["screen","lh",...L()]}],"min-h":[{"min-h":["screen","lh","none",...L()]}],"max-h":[{"max-h":["screen","lh",...L()]}],"font-size":[{text:["base",r,Cv,Qm]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,yr,R4]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",M4,vr]}],"font-family":[{font:[poe,vr,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,yr,vr]}],"line-clamp":[{"line-clamp":[vn,"none",yr,R4]}],leading:[{leading:[i,...I()]}],"list-image":[{"list-image":["none",yr,vr]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",yr,vr]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:[vn,"from-font","auto",yr,Qm]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[vn,"auto",yr,vr]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yr,vr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yr,vr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:se()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},$f,yr,vr],radial:["",yr,vr],conic:[$f,yr,vr]},goe,moe]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:X()}],"border-w-x":[{"border-x":X()}],"border-w-y":[{"border-y":X()}],"border-w-s":[{"border-s":X()}],"border-w-e":[{"border-e":X()}],"border-w-t":[{"border-t":X()}],"border-w-r":[{"border-r":X()}],"border-w-b":[{"border-b":X()}],"border-w-l":[{"border-l":X()}],"divide-x":[{"divide-x":X()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":X()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Q(),"hidden","none"]}],"divide-style":[{divide:[...Q(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...Q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[vn,yr,vr]}],"outline-w":[{outline:["",vn,Cv,Qm]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",u,c2,l2]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",h,c2,l2]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[vn,Qm]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":X()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",f,c2,l2]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[vn,yr,vr]}],"mix-blend":[{"mix-blend":[...ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[vn]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[yr,vr]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[vn]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:se()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",yr,vr]}],filter:[{filter:["","none",yr,vr]}],blur:[{blur:ie()}],brightness:[{brightness:[vn,yr,vr]}],contrast:[{contrast:[vn,yr,vr]}],"drop-shadow":[{"drop-shadow":["","none",m,c2,l2]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",vn,yr,vr]}],"hue-rotate":[{"hue-rotate":[vn,yr,vr]}],invert:[{invert:["",vn,yr,vr]}],saturate:[{saturate:[vn,yr,vr]}],sepia:[{sepia:["",vn,yr,vr]}],"backdrop-filter":[{"backdrop-filter":["","none",yr,vr]}],"backdrop-blur":[{"backdrop-blur":ie()}],"backdrop-brightness":[{"backdrop-brightness":[vn,yr,vr]}],"backdrop-contrast":[{"backdrop-contrast":[vn,yr,vr]}],"backdrop-grayscale":[{"backdrop-grayscale":["",vn,yr,vr]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[vn,yr,vr]}],"backdrop-invert":[{"backdrop-invert":["",vn,yr,vr]}],"backdrop-opacity":[{"backdrop-opacity":[vn,yr,vr]}],"backdrop-saturate":[{"backdrop-saturate":[vn,yr,vr]}],"backdrop-sepia":[{"backdrop-sepia":["",vn,yr,vr]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",yr,vr]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[vn,"initial",yr,vr]}],ease:[{ease:["linear","initial",b,yr,vr]}],delay:[{delay:[vn,yr,vr]}],animate:[{animate:["none",w,yr,vr]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,yr,vr]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:pe()}],"rotate-x":[{"rotate-x":pe()}],"rotate-y":[{"rotate-y":pe()}],"rotate-z":[{"rotate-z":pe()}],scale:[{scale:ae()}],"scale-x":[{"scale-x":ae()}],"scale-y":[{"scale-y":ae()}],"scale-z":[{"scale-z":ae()}],"scale-3d":["scale-3d"],skew:[{skew:be()}],"skew-x":[{"skew-x":be()}],"skew-y":[{"skew-y":be()}],transform:[{transform:[yr,vr,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:we()}],"translate-x":[{"translate-x":we()}],"translate-y":[{"translate-y":we()}],"translate-z":[{"translate-z":we()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yr,vr]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yr,vr]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[vn,Cv,Qm,R4]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},woe=toe(boe);function nr(...t){return woe(dn(t))}const M1=AP("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),J=S.forwardRef(({className:t,variant:e,size:r,asChild:s=!1,...a},i)=>{const o=s?jW:"button";return n.jsx(o,{"data-slot":"button",className:nr(M1({variant:e,size:r,className:t})),ref:i,...a})});J.displayName="Button";const joe="modulepreload",Noe=function(t){return"/"+t},h7={},Dx=function(e,r,s){let a=Promise.resolve();if(r&&r.length>0){let o=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");a=o(r.map(d=>{if(d=Noe(d),d in h7)return;h7[d]=!0;const u=d.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":joe,u||(f.as="script"),f.crossOrigin="",f.href=d,c&&f.setAttribute("nonce",c),document.head.appendChild(f),u)return new Promise((m,y)=>{f.addEventListener("load",m),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Soe=["dashboard.view","dashboard.stats","bookings.view","bookings.create","bookings.edit","bookings.delete","bookings.export","venues.view","venues.create","venues.edit","venues.delete","venues.configure","games.view","games.create","games.edit","games.delete","widgets.view","widgets.edit","widgets.create","widgets.delete","widgets.calendar.view","widgets.calendar.edit","widgets.calendar.create","customers.view","customers.create","customers.edit","customers.delete","customers.export","marketing.view","marketing.edit","campaigns.view","campaigns.edit","ai-agents.view","ai-agents.edit","reports.view","reports.export","staff.view","staff.edit","staff.create","staff.delete","waivers.view","waivers.edit","waivers.create","media.view","media.upload","media.delete","settings.view","settings.edit","accounts.view","accounts.manage","accounts.roles","payments.view","payments.refund","payments.export","payments.reconcile"],_oe=["dashboard.view","dashboard.stats","bookings.view","bookings.create","bookings.edit","bookings.delete","bookings.export","venues.view","venues.create","venues.edit","venues.delete","venues.configure","games.view","games.create","games.edit","games.delete","widgets.view","widgets.edit","widgets.create","widgets.delete","widgets.calendar.view","widgets.calendar.edit","widgets.calendar.create","customers.view","customers.create","customers.edit","customers.delete","customers.export","marketing.view","marketing.edit","campaigns.view","campaigns.edit","ai-agents.view","ai-agents.edit","reports.view","reports.export","staff.view","staff.edit","staff.create","staff.delete","waivers.view","waivers.edit","waivers.create","media.view","media.upload","media.delete","settings.view","payments.view","payments.refund","payments.export","payments.reconcile"],Coe=["dashboard.view","bookings.view","bookings.create","bookings.export","games.view","games.create","games.edit","games.delete","customers.view","customers.edit","customers.export","reports.view","reports.export","waivers.view","media.view","staff.view","payments.view","payments.export","payments.refund","payments.reconcile"],koe=["dashboard.view","bookings.view","games.view","customers.view","waivers.view"],Aoe=["dashboard.view","dashboard.stats","bookings.view","bookings.create","bookings.edit","bookings.delete","bookings.export","venues.view","venues.create","venues.edit","venues.delete","venues.configure","games.view","games.create","games.edit","games.delete","widgets.view","widgets.calendar.view","widgets.calendar.edit","widgets.calendar.create","customers.view","customers.create","customers.edit","customers.export","waivers.view","waivers.edit","waivers.create","reports.view","reports.export","payments.view","payments.export","ai-agents.view","settings.view","settings.edit"],$W=[{id:"super-admin",name:"Super Admin",description:"Full system access including user management and account settings",permissions:Soe,color:"#ef4444",icon:"Shield"},{id:"admin",name:"Admin",description:"Full operational access to bookings, events, widgets, and all features",permissions:_oe,color:"#4f46e5",icon:"UserCog"},{id:"beta-owner",name:"Beta Owner",description:"MVP Testing - Escape room owner with calendar widgets only, no staff access",permissions:Aoe,color:"#f59e0b",icon:"Building2"},{id:"manager",name:"Manager",description:"View and manage bookings, events, and rooms",permissions:Coe,color:"#10b981",icon:"Users"},{id:"staff",name:"Staff",description:"Basic view access for operational tasks",permissions:koe,color:"#6b7280",icon:"Briefcase"}],Eoe=[{path:"/dashboard",requiredPermissions:["dashboard.view"]},{path:"/bookings",requiredPermissions:["bookings.view"]},{path:"/games",requiredPermissions:["games.view"]},{path:"/booking-widgets",requiredPermissions:["widgets.view"]},{path:"/marketing",requiredPermissions:["marketing.view"]},{path:"/campaigns",requiredPermissions:["campaigns.view"]},{path:"/customers",requiredPermissions:["customers.view"]},{path:"/ai-agents",requiredPermissions:["ai-agents.view"]},{path:"/reports",requiredPermissions:["reports.view"]},{path:"/staff",requiredPermissions:["staff.view"]},{path:"/team",requiredPermissions:["staff.view"]},{path:"/waivers",requiredPermissions:["waivers.view"]},{path:"/media",requiredPermissions:["media.view"]},{path:"/settings",requiredPermissions:["settings.view"]},{path:"/payment-history",requiredPermissions:["payments.view"]},{path:"/account-settings",requiredPermissions:["accounts.view"],requiredRole:["super-admin"],redirectTo:"/dashboard"}];function Poe(t){return $W.find(e=>e.id===t)}function Toe(t){return Poe(t)?.permissions||[]}function Ooe(t){return Eoe.find(e=>e.path===t)}var d2={};let ao=null,Ioe=null,Tk=null;const f7=t=>{if(typeof window<"u")return window[t]||void 0},$oe=async()=>{if(typeof window>"u")return null;let t,e;try{t=typeof process<"u"&&d2?d2.NEXT_PUBLIC_SUPABASE_URL:f7("NEXT_PUBLIC_SUPABASE_URL"),e=typeof process<"u"&&d2?d2.NEXT_PUBLIC_SUPABASE_ANON_KEY:f7("NEXT_PUBLIC_SUPABASE_ANON_KEY")}catch{return console.log(" Cannot access environment variables - using mock data"),null}if(!t||!e)return console.log(" Supabase not configured - using mock data"),null;try{const{supabase:r,getCurrentUser:s,signOut:a}=await Dx(async()=>{const{supabase:i,getCurrentUser:o,signOut:l}=await import("./client-C7kB8owu.js");return{supabase:i,getCurrentUser:o,signOut:l}},[]);return ao=r,Ioe=s,Tk=a,console.log(" Supabase connected"),r}catch(r){return console.warn(" Supabase connection failed - using mock data:",r),null}},u2=[{id:"1",email:"superadmin@bookingtms.com",name:"Super Admin User",role:"super-admin",status:"active",createdAt:"2024-01-01T00:00:00Z",lastLogin:"2025-11-04T10:30:00Z",organizationId:"00000000-0000-0000-0000-000000000001"},{id:"2",email:"admin@bookingtms.com",name:"Admin User",role:"admin",status:"active",createdAt:"2024-02-15T00:00:00Z",lastLogin:"2025-11-04T09:15:00Z",organizationId:"00000000-0000-0000-0000-000000000001"},{id:"5",email:"betaadmin@bookingtms.com",name:"Beta Admin",role:"beta-owner",status:"active",createdAt:"2024-11-08T00:00:00Z",lastLogin:"2025-11-08T00:00:00Z",organizationId:"00000000-0000-0000-0000-000000000001"},{id:"3",email:"manager@bookingtms.com",name:"Manager User",role:"manager",status:"active",createdAt:"2024-03-20T00:00:00Z",lastLogin:"2025-11-04T08:45:00Z",organizationId:"00000000-0000-0000-0000-000000000001"},{id:"4",email:"staff@bookingtms.com",name:"Staff User",role:"staff",status:"active",createdAt:"2024-04-10T00:00:00Z",lastLogin:"2025-11-04T07:30:00Z",organizationId:"00000000-0000-0000-0000-000000000001"}],DW=S.createContext(void 0),m7=({children:t})=>{const[e,r]=S.useState(null),[s,a]=S.useState(u2),[i,o]=S.useState(!0),[l,c]=S.useState(!1),[d,u]=S.useState(null);S.useEffect(()=>{h()},[]);const h=async()=>{try{o(!0);const M=await $oe();M?(c(!0),await f(M)):await m()}catch(M){console.error("Failed to initialize auth:",M),await m()}finally{o(!1)}},f=async M=>{try{const{data:{session:R},error:W}=await M.auth.getSession();if(W){console.error("Error getting session:",W);return}R?.user&&(u(R.user),await y(R.user.id));const{data:{subscription:Y}}=M.auth.onAuthStateChange(async(K,L)=>{console.log("Auth state changed:",K),K==="SIGNED_IN"&&L?.user?(u(L.user),await y(L.user.id)):K==="SIGNED_OUT"&&(r(null),u(null))});return()=>{Y.unsubscribe()}}catch(R){console.error("Supabase auth initialization failed:",R)}},m=async()=>{try{const M=localStorage.getItem("currentUserId");if(M){const R=u2.find(W=>W.id===M);if(R){r(R);return}}r(null)}catch(M){console.error("Mock auth initialization failed:",M)}},y=async M=>{if(ao)try{const{data:R,error:W}=await ao.from("users").select(`
          *,
          organization:organizations(*)
        `).eq("id",M).single();if(W){console.error("Error loading user profile:",W);return}if(R){const Y={id:R.id,email:R.email,name:R.full_name,role:R.role,status:R.is_active?"active":"inactive",avatar:R.avatar_url||void 0,phone:R.phone||void 0,createdAt:R.created_at,lastLogin:R.last_login_at||void 0,organizationId:R.organization_id};r(Y),await ao.from("users").update({last_login_at:new Date().toISOString()}).eq("id",M)}}catch(R){console.error("Failed to load user profile:",R)}},g=async(M,R,W)=>{if(l&&ao)try{const{data:Y,error:K}=await ao.auth.signInWithPassword({email:M,password:R});if(K)throw new Error(K.message);Y.user&&(u(Y.user),await y(Y.user.id))}catch(Y){throw console.error("Login error:",Y),Y}else{const Y={superadmin:{username:"superadmin",password:"demo123",role:"super-admin"},admin:{username:"admin",password:"demo123",role:"admin"},betaadmin:{username:"betaadmin",password:"123admin",role:"beta-owner"},manager:{username:"manager",password:"demo123",role:"manager"},staff:{username:"staff",password:"demo123",role:"staff"}},K=M.toLowerCase().trim(),L=Y[K];if(console.log(" Login attempt:",{inputUsername:K,passwordLength:R.length,expectedPasswordLength:L?.password?.length||0,credentialFound:!!L}),L){const ee=R.trim();if(L.password!==ee)throw console.error(" Login failed: Invalid password for username:",K),console.error("Expected:",L.password,"Got:",ee),new Error("Invalid credentials");let se=u2.find(q=>q.role===L.role);se||(console.warn("Creating new demo user for role:",L.role),se={id:Math.random().toString(36).substring(7),email:`${L.username}@bookingtms.com`,name:`${L.role.split("-").map(q=>q.charAt(0).toUpperCase()+q.slice(1)).join(" ")} User`,role:L.role,status:"active",createdAt:new Date().toISOString(),lastLogin:new Date().toISOString(),organizationId:"00000000-0000-0000-0000-000000000001"}),se.lastLogin=new Date().toISOString(),r(se),localStorage.setItem("currentUserId",se.id),console.log(" Login successful:",se.email,se.role);return}const F=u2.find(ee=>ee.email===M);if(F){F.lastLogin=new Date().toISOString(),r(F),localStorage.setItem("currentUserId",F.id),console.log(" Login successful via email:",F.email);return}throw console.error("Login failed: No user found for:",M),new Error("Invalid credentials")}},v=async()=>{if(l&&Tk)try{await Tk(),r(null),u(null)}catch(M){throw console.error("Logout error:",M),M}else r(null),localStorage.removeItem("currentUserId")},b=async M=>{if(l)throw console.warn("switchUser is not supported with Supabase auth"),new Error("User switching requires re-authentication");{const R=s.find(W=>W.id===M);if(R)r(R),localStorage.setItem("currentUserId",M);else throw new Error("User not found")}},w=M=>e?Toe(e.role).includes(M):!1,N=M=>M.some(R=>w(R)),_=M=>M.every(R=>w(R)),C=M=>{const R=Ooe(M);return R?w(R):!0},E=M=>e?Array.isArray(M)?M.includes(e.role):e.role===M:!1,A=async M=>{if(!w("users.create"))throw new Error("Insufficient permissions to create users");if(l&&ao)try{const{data:R,error:W}=await ao.auth.admin.createUser({email:M.email,password:M.password,email_confirm:!0,user_metadata:{full_name:M.name}});if(W||!R.user)throw new Error(W?.message||"Failed to create auth user");const{data:Y,error:K}=await ao.from("users").insert({id:R.user.id,email:M.email,full_name:M.name,role:M.role,organization_id:e.organizationId,phone:M.phone||null,is_active:!0}).select().single();if(K||!Y)throw await ao.auth.admin.deleteUser(R.user.id),new Error(K?.message||"Failed to create user profile");const L={id:Y.id,email:Y.email,name:Y.full_name,role:Y.role,status:Y.is_active?"active":"inactive",phone:Y.phone||void 0,createdAt:Y.created_at,organizationId:Y.organization_id};return await O(),L}catch(R){throw console.error("Error creating user:",R),R}else{const R={id:`user-${Date.now()}`,email:M.email,name:M.name,role:M.role,status:M.status||"active",phone:M.phone,createdAt:new Date().toISOString(),organizationId:e?.organizationId};return a(W=>[...W,R]),R}},I=async(M,R)=>{if(!w("users.edit"))throw new Error("Insufficient permissions to update users");if(l&&ao)try{const W={updated_at:new Date().toISOString()};R.name!==void 0&&(W.full_name=R.name),R.email!==void 0&&(W.email=R.email),R.role!==void 0&&(W.role=R.role),R.phone!==void 0&&(W.phone=R.phone),R.avatar!==void 0&&(W.avatar_url=R.avatar),R.status!==void 0&&(W.is_active=R.status==="active");const{data:Y,error:K}=await ao.from("users").update(W).eq("id",M).select().single();if(K||!Y)throw new Error(K?.message||"Failed to update user");R.email&&await ao.auth.admin.updateUserById(M,{email:R.email});const L={id:Y.id,email:Y.email,name:Y.full_name,role:Y.role,status:Y.is_active?"active":"inactive",phone:Y.phone||void 0,avatar:Y.avatar_url||void 0,createdAt:Y.created_at,lastLogin:Y.last_login_at||void 0,organizationId:Y.organization_id};return M===e?.id&&r(L),await O(),L}catch(W){throw console.error("Error updating user:",W),W}else{const W=s.find(K=>K.id===M);if(!W)throw new Error("User not found");const Y={...W,...R};return a(K=>K.map(L=>L.id===M?Y:L)),e?.id===M&&r(Y),Y}},$=async M=>{if(!w("users.delete"))throw new Error("Insufficient permissions to delete users");if(M===e?.id)throw new Error("Cannot delete your own account");if(l&&ao)try{const{error:R}=await ao.auth.admin.deleteUser(M);if(R)throw new Error(R.message);await O()}catch(R){throw console.error("Error deleting user:",R),R}else a(R=>R.filter(W=>W.id!==M))},O=async()=>{if(w("users.view")&&l&&ao&&e?.organizationId)try{const{data:M,error:R}=await ao.from("users").select("*").eq("organization_id",e.organizationId).order("created_at",{ascending:!1});if(R){console.error("Error loading users:",R);return}const W=(M||[]).map(Y=>({id:Y.id,email:Y.email,name:Y.full_name,role:Y.role,status:Y.is_active?"active":"inactive",phone:Y.phone||void 0,avatar:Y.avatar_url||void 0,createdAt:Y.created_at,lastLogin:Y.last_login_at||void 0,organizationId:Y.organization_id}));a(W)}catch(M){console.error("Failed to load users:",M)}};S.useEffect(()=>{e&&w("users.view")&&l&&O()},[e?.id,l]);const P={currentUser:e,users:s,roles:$W,isLoading:i,login:g,logout:v,switchUser:b,hasPermission:w,hasAnyPermission:N,hasAllPermissions:_,canAccessRoute:C,isRole:E,createUser:A,updateUser:I,deleteUser:$,refreshUsers:O};return n.jsx(DW.Provider,{value:P,children:t})},il=()=>{const t=S.useContext(DW);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};function Doe({currentPage:t,onNavigate:e=()=>{},isMobileOpen:r=!1,onMobileClose:s}){const{hasPermission:a,isRole:i,logout:o}=il(),l=[{id:"dashboard",label:"Dashboard",icon:pW,permission:"dashboard.view"},{id:"bookings",label:"Bookings",icon:Nn,permission:"bookings.view"},{id:"games",label:"Events / Rooms",icon:I1,permission:"games.view"},{id:"venues",label:"Venues",icon:ic,permission:"venues.view"},{id:"widgets",label:"Booking Widgets",icon:Fh,permission:"widgets.view"},{id:"customers",label:"Customers / Guests",icon:pse,permission:"customers.view"},{id:"inbox",label:"Inbox",icon:mW,permission:"dashboard.view"},{id:"campaigns",label:"Campaigns",icon:gW,permission:"campaigns.view"},{id:"marketing",label:"Marketing",icon:_k,permission:"marketing.view"},{id:"aiagents",label:"AI Agents",icon:d1,permission:"ai-agents.view"},{id:"staff",label:"Staff",icon:Wr,permission:"staff.view"},{id:"reports",label:"Reports",icon:Ru,permission:"reports.view"},{id:"media",label:"Media / Photos",icon:qc,permission:"media.view"},{id:"waivers",label:"Waivers",icon:$s,permission:"waivers.view"},{id:"payment-history",label:"Payments & History",icon:fa,permission:"payments.view"},{id:"settings",label:"Settings",icon:sm,permission:"settings.view"}];i("super-admin")&&(l.push({id:"account-settings",label:"Account Settings",icon:Xn,permission:"accounts.view"}),l.push({id:"backend-dashboard",label:"Backend Dashboard",icon:$w,permission:"accounts.view"}));const c=l.filter(u=>a(u.permission)),d=u=>{e&&e(u),s?.()};return n.jsxs(n.Fragment,{children:[r&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:s}),n.jsxs("div",{className:`
        w-64 bg-white dark:bg-[#0a0a0a] border-r border-gray-200 dark:border-[#1e1e1e] flex flex-col h-screen fixed left-0 top-0 z-50
        transform transition-all duration-300 ease-in-out
        lg:translate-x-0
        ${r?"translate-x-0":"-translate-x-full"}
      `,children:[n.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200 dark:border-[#1e1e1e]",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-600 dark:bg-[#4f46e5] rounded-lg flex items-center justify-center transition-colors shadow-lg shadow-blue-500/20 dark:shadow-[#4f46e5]/20",children:n.jsx(I1,{className:"w-5 h-5 text-white"})}),n.jsx("span",{className:"text-gray-900 dark:text-white transition-colors",children:"BookingTMS"})]}),n.jsx("button",{onClick:s,className:"lg:hidden p-2 hover:bg-gray-100 dark:hover:bg-[#161616] rounded-lg transition-colors",children:n.jsx(In,{className:"w-5 h-5 text-gray-600 dark:text-[#737373]"})})]})}),n.jsx("nav",{className:"flex-1 p-3 sm:p-4 space-y-1 overflow-y-auto",children:c.map(u=>{const h=u.icon,f=t===u.id;return n.jsxs("button",{onClick:()=>d(u.id),className:`
                  w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all
                  ${f?"bg-blue-600 dark:bg-[#4f46e5] text-white shadow-lg shadow-blue-500/20 dark:shadow-[#4f46e5]/20":"text-gray-600 dark:text-[#737373] hover:bg-gray-100 dark:hover:bg-[#161616] hover:text-gray-900 dark:hover:text-white"}
                `,children:[n.jsx(h,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:u.label})]},u.id)})}),n.jsx("div",{className:"p-3 sm:p-4 border-t border-gray-200 dark:border-[#1e1e1e]",children:n.jsxs(J,{variant:"ghost",className:"w-full justify-start text-gray-600 dark:text-[#737373] hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-[#161616] h-11",onClick:async()=>{try{await o(),e("login")}catch(u){console.error("Logout failed:",u)}},children:[n.jsx(xW,{className:"w-5 h-5 mr-3"}),"Logout"]})})]})]})}const ge=S.forwardRef(({className:t,type:e,...r},s)=>n.jsx("input",{type:e,ref:s,"data-slot":"input",className:nr("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r}));ge.displayName="Input";function Vt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t?.(a),r===!1||!a.defaultPrevented)return e?.(a)}}function Moe(t,e){const r=S.createContext(e),s=i=>{const{children:o,...l}=i,c=S.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=t+"Provider";function a(i){const o=S.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[s,a]}function Mo(t,e=[]){let r=[];function s(i,o){const l=S.createContext(o),c=r.length;r=[...r,o];const d=h=>{const{scope:f,children:m,...y}=h,g=f?.[t]?.[c]||l,v=S.useMemo(()=>y,Object.values(y));return n.jsx(g.Provider,{value:v,children:m})};d.displayName=i+"Provider";function u(h,f){const m=f?.[t]?.[c]||l,y=S.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>S.createContext(o));return function(l){const c=l?.[t]||i;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[s,Roe(a,...e)]}function Roe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const s=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var ti=globalThis?.document?S.useLayoutEffect:()=>{},Loe=SP[" useInsertionEffect ".trim().toString()]||ti;function uc({prop:t,defaultProp:e,onChange:r=()=>{},caller:s}){const[a,i,o]=Foe({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:a;{const u=S.useRef(t!==void 0);S.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,s])}const d=S.useCallback(u=>{if(l){const h=Boe(u)?u(t):u;h!==t&&o.current?.(h)}else i(u)},[l,t,i,o]);return[c,d]}function Foe({defaultProp:t,onChange:e}){const[r,s]=S.useState(t),a=S.useRef(r),i=S.useRef(e);return Loe(()=>{i.current=e},[e]),S.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,s,i]}function Boe(t){return typeof t=="function"}var Ly=oW();const MW=Jn(Ly);function Uoe(t){const e=zoe(t),r=S.forwardRef((s,a)=>{const{children:i,...o}=s,l=S.Children.toArray(i),c=l.find(Woe);if(c){const d=c.props.children,u=l.map(h=>h===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:h);return n.jsx(e,{...o,ref:a,children:S.isValidElement(d)?S.cloneElement(d,void 0,u):null})}return n.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function zoe(t){const e=S.forwardRef((r,s)=>{const{children:a,...i}=r;if(S.isValidElement(a)){const o=qoe(a),l=Hoe(i,a.props);return a.type!==S.Fragment&&(l.ref=s?Hu(s,o):o),S.cloneElement(a,l)}return S.Children.count(a)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Voe=Symbol("radix.slottable");function Woe(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Voe}function Hoe(t,e){const r={...e};for(const s in e){const a=t[s],i=e[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function qoe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Goe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Tr=Goe.reduce((t,e)=>{const r=Uoe(`Primitive.${e}`),s=S.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function RW(t,e){t&&Ly.flushSync(()=>t.dispatchEvent(e))}function p7(t){const e=Koe(t),r=S.forwardRef((s,a)=>{const{children:i,...o}=s,l=S.Children.toArray(i),c=l.find(Xoe);if(c){const d=c.props.children,u=l.map(h=>h===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:h);return n.jsx(e,{...o,ref:a,children:S.isValidElement(d)?S.cloneElement(d,void 0,u):null})}return n.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function Koe(t){const e=S.forwardRef((r,s)=>{const{children:a,...i}=r;if(S.isValidElement(a)){const o=Joe(a),l=Zoe(i,a.props);return a.type!==S.Fragment&&(l.ref=s?Hu(s,o):o),S.cloneElement(a,l)}return S.Children.count(a)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Yoe=Symbol("radix.slottable");function Xoe(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Yoe}function Zoe(t,e){const r={...e};for(const s in e){const a=t[s],i=e[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function Joe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Fy(t){const e=t+"CollectionProvider",[r,s]=Mo(e),[a,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:b}=g,w=fe.useRef(null),N=fe.useRef(new Map).current;return n.jsx(a,{scope:v,itemMap:N,collectionRef:w,children:b})};o.displayName=e;const l=t+"CollectionSlot",c=p7(l),d=fe.forwardRef((g,v)=>{const{scope:b,children:w}=g,N=i(l,b),_=Zr(v,N.collectionRef);return n.jsx(c,{ref:_,children:w})});d.displayName=l;const u=t+"CollectionItemSlot",h="data-radix-collection-item",f=p7(u),m=fe.forwardRef((g,v)=>{const{scope:b,children:w,...N}=g,_=fe.useRef(null),C=Zr(v,_),E=i(u,b);return fe.useEffect(()=>(E.itemMap.set(_,{ref:_,...N}),()=>void E.itemMap.delete(_))),n.jsx(f,{[h]:"",ref:C,children:w})});m.displayName=u;function y(g){const v=i(t+"CollectionConsumer",g);return fe.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const N=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((E,A)=>N.indexOf(E.ref.current)-N.indexOf(A.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},y,s]}var Qoe=S.createContext(void 0);function u0(t){const e=S.useContext(Qoe);return t||e||"ltr"}function Ki(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...r)=>e.current?.(...r),[])}function ele(t,e=globalThis?.document){const r=Ki(t);S.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[r,e])}var tle="DismissableLayer",Ok="dismissableLayer.update",rle="dismissableLayer.pointerDownOutside",nle="dismissableLayer.focusOutside",x7,LW=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),By=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,d=S.useContext(LW),[u,h]=S.useState(null),f=u?.ownerDocument??globalThis?.document,[,m]=S.useState({}),y=Zr(e,A=>h(A)),g=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(v),w=u?g.indexOf(u):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,_=w>=b,C=ile(A=>{const I=A.target,$=[...d.branches].some(O=>O.contains(I));!_||$||(a?.(A),o?.(A),A.defaultPrevented||l?.())},f),E=ole(A=>{const I=A.target;[...d.branches].some(O=>O.contains(I))||(i?.(A),o?.(A),A.defaultPrevented||l?.())},f);return ele(A=>{w===d.layers.size-1&&(s?.(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},f),S.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(x7=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),g7(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=x7)}},[u,f,r,d]),S.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),g7())},[u,d]),S.useEffect(()=>{const A=()=>m({});return document.addEventListener(Ok,A),()=>document.removeEventListener(Ok,A)},[]),n.jsx(Tr.div,{...c,ref:y,style:{pointerEvents:N?_?"auto":"none":void 0,...t.style},onFocusCapture:Vt(t.onFocusCapture,E.onFocusCapture),onBlurCapture:Vt(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Vt(t.onPointerDownCapture,C.onPointerDownCapture)})});By.displayName=tle;var sle="DismissableLayerBranch",ale=S.forwardRef((t,e)=>{const r=S.useContext(LW),s=S.useRef(null),a=Zr(e,s);return S.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(Tr.div,{...t,ref:a})});ale.displayName=sle;function ile(t,e=globalThis?.document){const r=Ki(t),s=S.useRef(!1),a=S.useRef(()=>{});return S.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){FW(rle,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=c,e.addEventListener("click",a.current,{once:!0})):c()}else e.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>s.current=!0}}function ole(t,e=globalThis?.document){const r=Ki(t),s=S.useRef(!1);return S.useEffect(()=>{const a=i=>{i.target&&!s.current&&FW(nle,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function g7(){const t=new CustomEvent(Ok);document.dispatchEvent(t)}function FW(t,e,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),s?RW(a,i):a.dispatchEvent(i)}var L4=0;function gN(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??v7()),document.body.insertAdjacentElement("beforeend",t[1]??v7()),L4++,()=>{L4===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),L4--}},[])}function v7(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var F4="focusScope.autoFocusOnMount",B4="focusScope.autoFocusOnUnmount",y7={bubbles:!1,cancelable:!0},lle="FocusScope",Uy=S.forwardRef((t,e)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=t,[l,c]=S.useState(null),d=Ki(a),u=Ki(i),h=S.useRef(null),f=Zr(e,g=>c(g)),m=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(s){let g=function(N){if(m.paused||!l)return;const _=N.target;l.contains(_)?h.current=_:Uf(h.current,{select:!0})},v=function(N){if(m.paused||!l)return;const _=N.relatedTarget;_!==null&&(l.contains(_)||Uf(h.current,{select:!0}))},b=function(N){if(document.activeElement===document.body)for(const C of N)C.removedNodes.length>0&&Uf(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const w=new MutationObserver(b);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),w.disconnect()}}},[s,l,m.paused]),S.useEffect(()=>{if(l){w7.add(m);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(F4,y7);l.addEventListener(F4,d),l.dispatchEvent(b),b.defaultPrevented||(cle(mle(BW(l)),{select:!0}),document.activeElement===g&&Uf(l))}return()=>{l.removeEventListener(F4,d),setTimeout(()=>{const b=new CustomEvent(B4,y7);l.addEventListener(B4,u),l.dispatchEvent(b),b.defaultPrevented||Uf(g??document.body,{select:!0}),l.removeEventListener(B4,u),w7.remove(m)},0)}}},[l,d,u,m]);const y=S.useCallback(g=>{if(!r&&!s||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(v&&b){const w=g.currentTarget,[N,_]=dle(w);N&&_?!g.shiftKey&&b===_?(g.preventDefault(),r&&Uf(N,{select:!0})):g.shiftKey&&b===N&&(g.preventDefault(),r&&Uf(_,{select:!0})):b===w&&g.preventDefault()}},[r,s,m.paused]);return n.jsx(Tr.div,{tabIndex:-1,...o,ref:f,onKeyDown:y})});Uy.displayName=lle;function cle(t,{select:e=!1}={}){const r=document.activeElement;for(const s of t)if(Uf(s,{select:e}),document.activeElement!==r)return}function dle(t){const e=BW(t),r=b7(e,t),s=b7(e.reverse(),t);return[r,s]}function BW(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function b7(t,e){for(const r of t)if(!ule(r,{upTo:e}))return r}function ule(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function hle(t){return t instanceof HTMLInputElement&&"select"in t}function Uf(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&hle(t)&&e&&t.select()}}var w7=fle();function fle(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=j7(t,e),t.unshift(e)},remove(e){t=j7(t,e),t[0]?.resume()}}}function j7(t,e){const r=[...t],s=r.indexOf(e);return s!==-1&&r.splice(s,1),r}function mle(t){return t.filter(e=>e.tagName!=="A")}var ple=SP[" useId ".trim().toString()]||(()=>{}),xle=0;function oc(t){const[e,r]=S.useState(ple());return ti(()=>{r(s=>s??String(xle++))},[t]),t||(e?`radix-${e}`:"")}const gle=["top","right","bottom","left"],im=Math.min,tc=Math.max,Rw=Math.round,h2=Math.floor,Eu=t=>({x:t,y:t}),vle={left:"right",right:"left",bottom:"top",top:"bottom"},yle={start:"end",end:"start"};function Ik(t,e,r){return tc(t,im(e,r))}function Vh(t,e){return typeof t=="function"?t(e):t}function Wh(t){return t.split("-")[0]}function Ig(t){return t.split("-")[1]}function PP(t){return t==="x"?"y":"x"}function TP(t){return t==="y"?"height":"width"}const ble=new Set(["top","bottom"]);function yu(t){return ble.has(Wh(t))?"y":"x"}function OP(t){return PP(yu(t))}function wle(t,e,r){r===void 0&&(r=!1);const s=Ig(t),a=OP(t),i=TP(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Lw(o)),[o,Lw(o)]}function jle(t){const e=Lw(t);return[$k(t),e,$k(e)]}function $k(t){return t.replace(/start|end/g,e=>yle[e])}const N7=["left","right"],S7=["right","left"],Nle=["top","bottom"],Sle=["bottom","top"];function _le(t,e,r){switch(t){case"top":case"bottom":return r?e?S7:N7:e?N7:S7;case"left":case"right":return e?Nle:Sle;default:return[]}}function Cle(t,e,r,s){const a=Ig(t);let i=_le(Wh(t),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),e&&(i=i.concat(i.map($k)))),i}function Lw(t){return t.replace(/left|right|bottom|top/g,e=>vle[e])}function kle(t){return{top:0,right:0,bottom:0,left:0,...t}}function UW(t){return typeof t!="number"?kle(t):{top:t,right:t,bottom:t,left:t}}function Fw(t){const{x:e,y:r,width:s,height:a}=t;return{width:s,height:a,top:r,left:e,right:e+s,bottom:r+a,x:e,y:r}}function _7(t,e,r){let{reference:s,floating:a}=t;const i=yu(e),o=OP(e),l=TP(o),c=Wh(e),d=i==="y",u=s.x+s.width/2-a.width/2,h=s.y+s.height/2-a.height/2,f=s[l]/2-a[l]/2;let m;switch(c){case"top":m={x:u,y:s.y-a.height};break;case"bottom":m={x:u,y:s.y+s.height};break;case"right":m={x:s.x+s.width,y:h};break;case"left":m={x:s.x-a.width,y:h};break;default:m={x:s.x,y:s.y}}switch(Ig(e)){case"start":m[o]-=f*(r&&d?-1:1);break;case"end":m[o]+=f*(r&&d?-1:1);break}return m}const Ale=async(t,e,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:a}),{x:u,y:h}=_7(d,s,c),f=s,m={},y=0;for(let g=0;g<l.length;g++){const{name:v,fn:b}=l[g],{x:w,y:N,data:_,reset:C}=await b({x:u,y:h,initialPlacement:s,placement:f,strategy:a,middlewareData:m,rects:d,platform:o,elements:{reference:t,floating:e}});u=w??u,h=N??h,m={...m,[v]:{...m[v],..._}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(d=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:a}):C.rects),{x:u,y:h}=_7(d,f,c)),g=-1)}return{x:u,y:h,placement:f,strategy:a,middlewareData:m}};async function R1(t,e){var r;e===void 0&&(e={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Vh(e,t),y=UW(m),v=l[f?h==="floating"?"reference":"floating":h],b=Fw(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),w=h==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},C=Fw(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:N,strategy:c}):w);return{top:(b.top-C.top+y.top)/_.y,bottom:(C.bottom-b.bottom+y.bottom)/_.y,left:(b.left-C.left+y.left)/_.x,right:(C.right-b.right+y.right)/_.x}}const Ele=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=Vh(t,e)||{};if(d==null)return{};const h=UW(u),f={x:r,y:s},m=OP(a),y=TP(m),g=await o.getDimensions(d),v=m==="y",b=v?"top":"left",w=v?"bottom":"right",N=v?"clientHeight":"clientWidth",_=i.reference[y]+i.reference[m]-f[m]-i.floating[y],C=f[m]-i.reference[m],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let A=E?E[N]:0;(!A||!await(o.isElement==null?void 0:o.isElement(E)))&&(A=l.floating[N]||i.floating[y]);const I=_/2-C/2,$=A/2-g[y]/2-1,O=im(h[b],$),P=im(h[w],$),M=O,R=A-g[y]-P,W=A/2-g[y]/2+I,Y=Ik(M,W,R),K=!c.arrow&&Ig(a)!=null&&W!==Y&&i.reference[y]/2-(W<M?O:P)-g[y]/2<0,L=K?W<M?W-M:W-R:0;return{[m]:f[m]+L,data:{[m]:Y,centerOffset:W-Y-L,...K&&{alignmentOffset:L}},reset:K}}}),Ple=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=Vh(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=Wh(a),w=yu(l),N=Wh(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(d.floating)),C=f||(N||!g?[Lw(l)]:jle(l)),E=y!=="none";!f&&E&&C.push(...Cle(l,g,y,_));const A=[l,...C],I=await R1(e,v),$=[];let O=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&$.push(I[b]),h){const W=wle(a,o,_);$.push(I[W[0]],I[W[1]])}if(O=[...O,{placement:a,overflows:$}],!$.every(W=>W<=0)){var P,M;const W=(((P=i.flip)==null?void 0:P.index)||0)+1,Y=A[W];if(Y&&(!(h==="alignment"?w!==yu(Y):!1)||O.every(F=>yu(F.placement)===w?F.overflows[0]>0:!0)))return{data:{index:W,overflows:O},reset:{placement:Y}};let K=(M=O.filter(L=>L.overflows[0]<=0).sort((L,F)=>L.overflows[1]-F.overflows[1])[0])==null?void 0:M.placement;if(!K)switch(m){case"bestFit":{var R;const L=(R=O.filter(F=>{if(E){const ee=yu(F.placement);return ee===w||ee==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(ee=>ee>0).reduce((ee,se)=>ee+se,0)]).sort((F,ee)=>F[1]-ee[1])[0])==null?void 0:R[0];L&&(K=L);break}case"initialPlacement":K=l;break}if(a!==K)return{reset:{placement:K}}}return{}}}};function C7(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function k7(t){return gle.some(e=>t[e]>=0)}const Tle=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:s="referenceHidden",...a}=Vh(t,e);switch(s){case"referenceHidden":{const i=await R1(e,{...a,elementContext:"reference"}),o=C7(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:k7(o)}}}case"escaped":{const i=await R1(e,{...a,altBoundary:!0}),o=C7(i,r.floating);return{data:{escapedOffsets:o,escaped:k7(o)}}}default:return{}}}}},zW=new Set(["left","top"]);async function Ole(t,e){const{placement:r,platform:s,elements:a}=t,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Wh(r),l=Ig(r),c=yu(r)==="y",d=zW.has(o)?-1:1,u=i&&c?-1:1,h=Vh(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof y=="number"&&(m=l==="end"?y*-1:y),c?{x:m*u,y:f*d}:{x:f*d,y:m*u}}const Ile=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=e,c=await Ole(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},$le=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:s,placement:a}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:b,y:w}=v;return{x:b,y:w}}},...c}=Vh(t,e),d={x:r,y:s},u=await R1(e,c),h=yu(Wh(a)),f=PP(h);let m=d[f],y=d[h];if(i){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=m+u[v],N=m-u[b];m=Ik(w,m,N)}if(o){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",w=y+u[v],N=y-u[b];y=Ik(w,y,N)}const g=l.fn({...e,[f]:m,[h]:y});return{...g,data:{x:g.x-r,y:g.y-s,enabled:{[f]:i,[h]:o}}}}}},Dle=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Vh(t,e),u={x:r,y:s},h=yu(a),f=PP(h);let m=u[f],y=u[h];const g=Vh(l,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const N=f==="y"?"height":"width",_=i.reference[f]-i.floating[N]+v.mainAxis,C=i.reference[f]+i.reference[N]-v.mainAxis;m<_?m=_:m>C&&(m=C)}if(d){var b,w;const N=f==="y"?"width":"height",_=zW.has(Wh(a)),C=i.reference[h]-i.floating[N]+(_&&((b=o.offset)==null?void 0:b[h])||0)+(_?0:v.crossAxis),E=i.reference[h]+i.reference[N]+(_?0:((w=o.offset)==null?void 0:w[h])||0)-(_?v.crossAxis:0);y<C?y=C:y>E&&(y=E)}return{[f]:m,[h]:y}}}},Mle=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,s;const{placement:a,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Vh(t,e),u=await R1(e,d),h=Wh(a),f=Ig(a),m=yu(a)==="y",{width:y,height:g}=i.floating;let v,b;h==="top"||h==="bottom"?(v=h,b=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,v=f==="end"?"top":"bottom");const w=g-u.top-u.bottom,N=y-u.left-u.right,_=im(g-u[v],w),C=im(y-u[b],N),E=!e.middlewareData.shift;let A=_,I=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(I=N),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(A=w),E&&!f){const O=tc(u.left,0),P=tc(u.right,0),M=tc(u.top,0),R=tc(u.bottom,0);m?I=y-2*(O!==0||P!==0?O+P:tc(u.left,u.right)):A=g-2*(M!==0||R!==0?M+R:tc(u.top,u.bottom))}await c({...e,availableWidth:I,availableHeight:A});const $=await o.getDimensions(l.floating);return y!==$.width||g!==$.height?{reset:{rects:!0}}:{}}}};function vN(){return typeof window<"u"}function $g(t){return VW(t)?(t.nodeName||"").toLowerCase():"#document"}function lc(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qu(t){var e;return(e=(VW(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function VW(t){return vN()?t instanceof Node||t instanceof lc(t).Node:!1}function Ud(t){return vN()?t instanceof Element||t instanceof lc(t).Element:!1}function Lu(t){return vN()?t instanceof HTMLElement||t instanceof lc(t).HTMLElement:!1}function A7(t){return!vN()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof lc(t).ShadowRoot}const Rle=new Set(["inline","contents"]);function zy(t){const{overflow:e,overflowX:r,overflowY:s,display:a}=zd(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+r)&&!Rle.has(a)}const Lle=new Set(["table","td","th"]);function Fle(t){return Lle.has($g(t))}const Ble=[":popover-open",":modal"];function yN(t){return Ble.some(e=>{try{return t.matches(e)}catch{return!1}})}const Ule=["transform","translate","scale","rotate","perspective"],zle=["transform","translate","scale","rotate","perspective","filter"],Vle=["paint","layout","strict","content"];function IP(t){const e=$P(),r=Ud(t)?zd(t):t;return Ule.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||zle.some(s=>(r.willChange||"").includes(s))||Vle.some(s=>(r.contain||"").includes(s))}function Wle(t){let e=om(t);for(;Lu(e)&&!Kx(e);){if(IP(e))return e;if(yN(e))return null;e=om(e)}return null}function $P(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Hle=new Set(["html","body","#document"]);function Kx(t){return Hle.has($g(t))}function zd(t){return lc(t).getComputedStyle(t)}function bN(t){return Ud(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function om(t){if($g(t)==="html")return t;const e=t.assignedSlot||t.parentNode||A7(t)&&t.host||qu(t);return A7(e)?e.host:e}function WW(t){const e=om(t);return Kx(e)?t.ownerDocument?t.ownerDocument.body:t.body:Lu(e)&&zy(e)?e:WW(e)}function L1(t,e,r){var s;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=WW(t),i=a===((s=t.ownerDocument)==null?void 0:s.body),o=lc(a);if(i){const l=Dk(o);return e.concat(o,o.visualViewport||[],zy(a)?a:[],l&&r?L1(l):[])}return e.concat(a,L1(a,[],r))}function Dk(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function HW(t){const e=zd(t);let r=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const a=Lu(t),i=a?t.offsetWidth:r,o=a?t.offsetHeight:s,l=Rw(r)!==i||Rw(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function DP(t){return Ud(t)?t:t.contextElement}function Mx(t){const e=DP(t);if(!Lu(e))return Eu(1);const r=e.getBoundingClientRect(),{width:s,height:a,$:i}=HW(e);let o=(i?Rw(r.width):r.width)/s,l=(i?Rw(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const qle=Eu(0);function qW(t){const e=lc(t);return!$P()||!e.visualViewport?qle:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Gle(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==lc(t)?!1:e}function Xp(t,e,r,s){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=DP(t);let o=Eu(1);e&&(s?Ud(s)&&(o=Mx(s)):o=Mx(t));const l=Gle(i,r,s)?qW(i):Eu(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(i){const f=lc(i),m=s&&Ud(s)?lc(s):s;let y=f,g=Dk(y);for(;g&&s&&m!==y;){const v=Mx(g),b=g.getBoundingClientRect(),w=zd(g),N=b.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,_=b.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,h*=v.y,c+=N,d+=_,y=lc(g),g=Dk(y)}}return Fw({width:u,height:h,x:c,y:d})}function wN(t,e){const r=bN(t).scrollLeft;return e?e.left+r:Xp(qu(t)).left+r}function GW(t,e){const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-wN(t,r),a=r.top+e.scrollTop;return{x:s,y:a}}function Kle(t){let{elements:e,rect:r,offsetParent:s,strategy:a}=t;const i=a==="fixed",o=qu(s),l=e?yN(e.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Eu(1);const u=Eu(0),h=Lu(s);if((h||!h&&!i)&&(($g(s)!=="body"||zy(o))&&(c=bN(s)),Lu(s))){const m=Xp(s);d=Mx(s),u.x=m.x+s.clientLeft,u.y=m.y+s.clientTop}const f=o&&!h&&!i?GW(o,c):Eu(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:r.y*d.y-c.scrollTop*d.y+u.y+f.y}}function Yle(t){return Array.from(t.getClientRects())}function Xle(t){const e=qu(t),r=bN(t),s=t.ownerDocument.body,a=tc(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=tc(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+wN(t);const l=-r.scrollTop;return zd(s).direction==="rtl"&&(o+=tc(e.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}const E7=25;function Zle(t,e){const r=lc(t),s=qu(t),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=$P();(!u||u&&e==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const d=wN(s);if(d<=0){const u=s.ownerDocument,h=u.body,f=getComputedStyle(h),m=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,y=Math.abs(s.clientWidth-h.clientWidth-m);y<=E7&&(i-=y)}else d<=E7&&(i+=d);return{width:i,height:o,x:l,y:c}}const Jle=new Set(["absolute","fixed"]);function Qle(t,e){const r=Xp(t,!0,e==="fixed"),s=r.top+t.clientTop,a=r.left+t.clientLeft,i=Lu(t)?Mx(t):Eu(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function P7(t,e,r){let s;if(e==="viewport")s=Zle(t,r);else if(e==="document")s=Xle(qu(t));else if(Ud(e))s=Qle(e,r);else{const a=qW(t);s={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Fw(s)}function KW(t,e){const r=om(t);return r===e||!Ud(r)||Kx(r)?!1:zd(r).position==="fixed"||KW(r,e)}function ece(t,e){const r=e.get(t);if(r)return r;let s=L1(t,[],!1).filter(l=>Ud(l)&&$g(l)!=="body"),a=null;const i=zd(t).position==="fixed";let o=i?om(t):t;for(;Ud(o)&&!Kx(o);){const l=zd(o),c=IP(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&Jle.has(a.position)||zy(o)&&!c&&KW(t,o))?s=s.filter(u=>u!==o):a=l,o=om(o)}return e.set(t,s),s}function tce(t){let{element:e,boundary:r,rootBoundary:s,strategy:a}=t;const o=[...r==="clippingAncestors"?yN(e)?[]:ece(e,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,u)=>{const h=P7(e,u,a);return d.top=tc(h.top,d.top),d.right=im(h.right,d.right),d.bottom=im(h.bottom,d.bottom),d.left=tc(h.left,d.left),d},P7(e,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function rce(t){const{width:e,height:r}=HW(t);return{width:e,height:r}}function nce(t,e,r){const s=Lu(e),a=qu(e),i=r==="fixed",o=Xp(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Eu(0);function d(){c.x=wN(a)}if(s||!s&&!i)if(($g(e)!=="body"||zy(a))&&(l=bN(e)),s){const m=Xp(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else a&&d();i&&!s&&a&&d();const u=a&&!s&&!i?GW(a,l):Eu(0),h=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function U4(t){return zd(t).position==="static"}function T7(t,e){if(!Lu(t)||zd(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return qu(t)===r&&(r=r.ownerDocument.body),r}function YW(t,e){const r=lc(t);if(yN(t))return r;if(!Lu(t)){let a=om(t);for(;a&&!Kx(a);){if(Ud(a)&&!U4(a))return a;a=om(a)}return r}let s=T7(t,e);for(;s&&Fle(s)&&U4(s);)s=T7(s,e);return s&&Kx(s)&&U4(s)&&!IP(s)?r:s||Wle(t)||r}const sce=async function(t){const e=this.getOffsetParent||YW,r=this.getDimensions,s=await r(t.floating);return{reference:nce(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function ace(t){return zd(t).direction==="rtl"}const ice={convertOffsetParentRelativeRectToViewportRelativeRect:Kle,getDocumentElement:qu,getClippingRect:tce,getOffsetParent:YW,getElementRects:sce,getClientRects:Yle,getDimensions:rce,getScale:Mx,isElement:Ud,isRTL:ace};function XW(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function oce(t,e){let r=null,s;const a=qu(t);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:u,top:h,width:f,height:m}=d;if(l||e(),!f||!m)return;const y=h2(h),g=h2(a.clientWidth-(u+f)),v=h2(a.clientHeight-(h+m)),b=h2(u),N={rootMargin:-y+"px "+-g+"px "+-v+"px "+-b+"px",threshold:tc(0,im(1,c))||1};let _=!0;function C(E){const A=E[0].intersectionRatio;if(A!==c){if(!_)return o();A?o(!1,A):s=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!XW(d,t.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(C,{...N,root:a.ownerDocument})}catch{r=new IntersectionObserver(C,N)}r.observe(t)}return o(!0),i}function lce(t,e,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=DP(t),u=a||i?[...d?L1(d):[],...L1(e)]:[];u.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const h=d&&l?oce(d,r):null;let f=-1,m=null;o&&(m=new ResizeObserver(b=>{let[w]=b;w&&w.target===d&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var N;(N=m)==null||N.observe(e)})),r()}),d&&!c&&m.observe(d),m.observe(e));let y,g=c?Xp(t):null;c&&v();function v(){const b=Xp(t);g&&!XW(g,b)&&r(),g=b,y=requestAnimationFrame(v)}return r(),()=>{var b;u.forEach(w=>{a&&w.removeEventListener("scroll",r),i&&w.removeEventListener("resize",r)}),h?.(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const cce=Ile,dce=$le,uce=Ple,hce=Mle,fce=Tle,O7=Ele,mce=Dle,pce=(t,e,r)=>{const s=new Map,a={platform:ice,...r},i={...a.platform,_c:s};return Ale(t,e,{...a,platform:i})};var xce=typeof document<"u",gce=function(){},fw=xce?S.useLayoutEffect:gce;function Bw(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,s,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(s=r;s--!==0;)if(!Bw(t[s],e[s]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(e,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&t.$$typeof)&&!Bw(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function ZW(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function I7(t,e){const r=ZW(t);return Math.round(e*r)/r}function z4(t){const e=S.useRef(t);return fw(()=>{e.current=t}),e}function vce(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,h]=S.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=S.useState(s);Bw(f,s)||m(s);const[y,g]=S.useState(null),[v,b]=S.useState(null),w=S.useCallback(F=>{F!==E.current&&(E.current=F,g(F))},[]),N=S.useCallback(F=>{F!==A.current&&(A.current=F,b(F))},[]),_=i||y,C=o||v,E=S.useRef(null),A=S.useRef(null),I=S.useRef(u),$=c!=null,O=z4(c),P=z4(a),M=z4(d),R=S.useCallback(()=>{if(!E.current||!A.current)return;const F={placement:e,strategy:r,middleware:f};P.current&&(F.platform=P.current),pce(E.current,A.current,F).then(ee=>{const se={...ee,isPositioned:M.current!==!1};W.current&&!Bw(I.current,se)&&(I.current=se,Ly.flushSync(()=>{h(se)}))})},[f,e,r,P,M]);fw(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[d]);const W=S.useRef(!1);fw(()=>(W.current=!0,()=>{W.current=!1}),[]),fw(()=>{if(_&&(E.current=_),C&&(A.current=C),_&&C){if(O.current)return O.current(_,C,R);R()}},[_,C,R,O,$]);const Y=S.useMemo(()=>({reference:E,floating:A,setReference:w,setFloating:N}),[w,N]),K=S.useMemo(()=>({reference:_,floating:C}),[_,C]),L=S.useMemo(()=>{const F={position:r,left:0,top:0};if(!K.floating)return F;const ee=I7(K.floating,u.x),se=I7(K.floating,u.y);return l?{...F,transform:"translate("+ee+"px, "+se+"px)",...ZW(K.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ee,top:se}},[r,l,K.floating,u.x,u.y]);return S.useMemo(()=>({...u,update:R,refs:Y,elements:K,floatingStyles:L}),[u,R,Y,K,L])}const yce=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:s,padding:a}=typeof t=="function"?t(r):t;return s&&e(s)?s.current!=null?O7({element:s.current,padding:a}).fn(r):{}:s?O7({element:s,padding:a}).fn(r):{}}}},bce=(t,e)=>({...cce(t),options:[t,e]}),wce=(t,e)=>({...dce(t),options:[t,e]}),jce=(t,e)=>({...mce(t),options:[t,e]}),Nce=(t,e)=>({...uce(t),options:[t,e]}),Sce=(t,e)=>({...hce(t),options:[t,e]}),_ce=(t,e)=>({...fce(t),options:[t,e]}),Cce=(t,e)=>({...yce(t),options:[t,e]});var kce="Arrow",JW=S.forwardRef((t,e)=>{const{children:r,width:s=10,height:a=5,...i}=t;return n.jsx(Tr.svg,{...i,ref:e,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});JW.displayName=kce;var Ace=JW;function jN(t){const[e,r]=S.useState(void 0);return ti(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else r(void 0)},[t]),e}var MP="Popper",[QW,Dg]=Mo(MP),[Ece,eH]=QW(MP),tH=t=>{const{__scopePopper:e,children:r}=t,[s,a]=S.useState(null);return n.jsx(Ece,{scope:e,anchor:s,onAnchorChange:a,children:r})};tH.displayName=MP;var rH="PopperAnchor",nH=S.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:s,...a}=t,i=eH(rH,r),o=S.useRef(null),l=Zr(e,o),c=S.useRef(null);return S.useEffect(()=>{const d=c.current;c.current=s?.current||o.current,d!==c.current&&i.onAnchorChange(c.current)}),s?null:n.jsx(Tr.div,{...a,ref:l})});nH.displayName=rH;var RP="PopperContent",[Pce,Tce]=QW(RP),sH=S.forwardRef((t,e)=>{const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=t,v=eH(RP,r),[b,w]=S.useState(null),N=Zr(e,ce=>w(ce)),[_,C]=S.useState(null),E=jN(_),A=E?.width??0,I=E?.height??0,$=s+(i!=="center"?"-"+i:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},P=Array.isArray(d)?d:[d],M=P.length>0,R={padding:O,boundary:P.filter(Ice),altBoundary:M},{refs:W,floatingStyles:Y,placement:K,isPositioned:L,middlewareData:F}=vce({strategy:"fixed",placement:$,whileElementsMounted:(...ce)=>lce(...ce,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[bce({mainAxis:a+I,alignmentAxis:o}),c&&wce({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?jce():void 0,...R}),c&&Nce({...R}),Sce({...R,apply:({elements:ce,rects:ie,availableWidth:pe,availableHeight:ae})=>{const{width:be,height:we}=ie.reference,Ie=ce.floating.style;Ie.setProperty("--radix-popper-available-width",`${pe}px`),Ie.setProperty("--radix-popper-available-height",`${ae}px`),Ie.setProperty("--radix-popper-anchor-width",`${be}px`),Ie.setProperty("--radix-popper-anchor-height",`${we}px`)}}),_&&Cce({element:_,padding:l}),$ce({arrowWidth:A,arrowHeight:I}),f&&_ce({strategy:"referenceHidden",...R})]}),[ee,se]=oH(K),q=Ki(y);ti(()=>{L&&q?.()},[L,q]);const z=F.arrow?.x,Z=F.arrow?.y,X=F.arrow?.centerOffset!==0,[Q,ne]=S.useState();return ti(()=>{b&&ne(window.getComputedStyle(b).zIndex)},[b]),n.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:L?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[F.transformOrigin?.x,F.transformOrigin?.y].join(" "),...F.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:n.jsx(Pce,{scope:r,placedSide:ee,onArrowChange:C,arrowX:z,arrowY:Z,shouldHideArrow:X,children:n.jsx(Tr.div,{"data-side":ee,"data-align":se,...g,ref:N,style:{...g.style,animation:L?void 0:"none"}})})})});sH.displayName=RP;var aH="PopperArrow",Oce={top:"bottom",right:"left",bottom:"top",left:"right"},iH=S.forwardRef(function(e,r){const{__scopePopper:s,...a}=e,i=Tce(aH,s),o=Oce[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(Ace,{...a,ref:r,style:{...a.style,display:"block"}})})});iH.displayName=aH;function Ice(t){return t!==null}var $ce=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:s,middlewareData:a}=e,o=a.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,u]=oH(r),h={start:"0%",center:"50%",end:"100%"}[u],f=(a.arrow?.x??0)+l/2,m=(a.arrow?.y??0)+c/2;let y="",g="";return d==="bottom"?(y=o?h:`${f}px`,g=`${-c}px`):d==="top"?(y=o?h:`${f}px`,g=`${s.floating.height+c}px`):d==="right"?(y=`${-c}px`,g=o?h:`${m}px`):d==="left"&&(y=`${s.floating.width+c}px`,g=o?h:`${m}px`),{data:{x:y,y:g}}}});function oH(t){const[e,r="center"]=t.split("-");return[e,r]}var LP=tH,NN=nH,FP=sH,BP=iH,Dce="Portal",Vy=S.forwardRef((t,e)=>{const{container:r,...s}=t,[a,i]=S.useState(!1);ti(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?MW.createPortal(n.jsx(Tr.div,{...s,ref:e}),o):null});Vy.displayName=Dce;function Mce(t,e){return S.useReducer((r,s)=>e[r][s]??r,t)}var fo=t=>{const{present:e,children:r}=t,s=Rce(e),a=typeof r=="function"?r({present:s.isPresent}):S.Children.only(r),i=Zr(s.ref,Lce(a));return typeof r=="function"||s.isPresent?S.cloneElement(a,{ref:i}):null};fo.displayName="Presence";function Rce(t){const[e,r]=S.useState(),s=S.useRef(null),a=S.useRef(t),i=S.useRef("none"),o=t?"mounted":"unmounted",[l,c]=Mce(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const d=f2(s.current);i.current=l==="mounted"?d:"none"},[l]),ti(()=>{const d=s.current,u=a.current;if(u!==t){const f=i.current,m=f2(d);t?c("MOUNT"):m==="none"||d?.display==="none"?c("UNMOUNT"):c(u&&f!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),ti(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=m=>{const g=f2(s.current).includes(CSS.escape(m.animationName));if(m.target===e&&g&&(c("ANIMATION_END"),!a.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=m=>{m.target===e&&(i.current=f2(s.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:S.useCallback(d=>{s.current=d?getComputedStyle(d):null,r(d)},[])}}function f2(t){return t?.animationName||"none"}function Lce(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var V4="rovingFocusGroup.onEntryFocus",Fce={bubbles:!1,cancelable:!0},Wy="RovingFocusGroup",[Mk,lH,Bce]=Fy(Wy),[Uce,SN]=Mo(Wy,[Bce]),[zce,Vce]=Uce(Wy),cH=S.forwardRef((t,e)=>n.jsx(Mk.Provider,{scope:t.__scopeRovingFocusGroup,children:n.jsx(Mk.Slot,{scope:t.__scopeRovingFocusGroup,children:n.jsx(Wce,{...t,ref:e})})}));cH.displayName=Wy;var Wce=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,f=S.useRef(null),m=Zr(e,f),y=u0(i),[g,v]=uc({prop:o,defaultProp:l??null,onChange:c,caller:Wy}),[b,w]=S.useState(!1),N=Ki(d),_=lH(r),C=S.useRef(!1),[E,A]=S.useState(0);return S.useEffect(()=>{const I=f.current;if(I)return I.addEventListener(V4,N),()=>I.removeEventListener(V4,N)},[N]),n.jsx(zce,{scope:r,orientation:s,dir:y,loop:a,currentTabStopId:g,onItemFocus:S.useCallback(I=>v(I),[v]),onItemShiftTab:S.useCallback(()=>w(!0),[]),onFocusableItemAdd:S.useCallback(()=>A(I=>I+1),[]),onFocusableItemRemove:S.useCallback(()=>A(I=>I-1),[]),children:n.jsx(Tr.div,{tabIndex:b||E===0?-1:0,"data-orientation":s,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:Vt(t.onMouseDown,()=>{C.current=!0}),onFocus:Vt(t.onFocus,I=>{const $=!C.current;if(I.target===I.currentTarget&&$&&!b){const O=new CustomEvent(V4,Fce);if(I.currentTarget.dispatchEvent(O),!O.defaultPrevented){const P=_().filter(K=>K.focusable),M=P.find(K=>K.active),R=P.find(K=>K.id===g),Y=[M,R,...P].filter(Boolean).map(K=>K.ref.current);hH(Y,u)}}C.current=!1}),onBlur:Vt(t.onBlur,()=>w(!1))})})}),dH="RovingFocusGroupItem",uH=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=t,c=oc(),d=i||c,u=Vce(dH,r),h=u.currentTabStopId===d,f=lH(r),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:g}=u;return S.useEffect(()=>{if(s)return m(),()=>y()},[s,m,y]),n.jsx(Mk.ItemSlot,{scope:r,id:d,focusable:s,active:a,children:n.jsx(Tr.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:e,onMouseDown:Vt(t.onMouseDown,v=>{s?u.onItemFocus(d):v.preventDefault()}),onFocus:Vt(t.onFocus,()=>u.onItemFocus(d)),onKeyDown:Vt(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=Gce(v,u.orientation,u.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let N=f().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")N.reverse();else if(b==="prev"||b==="next"){b==="prev"&&N.reverse();const _=N.indexOf(v.currentTarget);N=u.loop?Kce(N,_+1):N.slice(_+1)}setTimeout(()=>hH(N))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});uH.displayName=dH;var Hce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qce(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Gce(t,e,r){const s=qce(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Hce[s]}function hH(t,e=!1){const r=document.activeElement;for(const s of t)if(s===r||(s.focus({preventScroll:e}),document.activeElement!==r))return}function Kce(t,e){return t.map((r,s)=>t[(e+s)%t.length])}var fH=cH,mH=uH;function Yce(t){const e=Xce(t),r=S.forwardRef((s,a)=>{const{children:i,...o}=s,l=S.Children.toArray(i),c=l.find(Jce);if(c){const d=c.props.children,u=l.map(h=>h===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:h);return n.jsx(e,{...o,ref:a,children:S.isValidElement(d)?S.cloneElement(d,void 0,u):null})}return n.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function Xce(t){const e=S.forwardRef((r,s)=>{const{children:a,...i}=r;if(S.isValidElement(a)){const o=ede(a),l=Qce(i,a.props);return a.type!==S.Fragment&&(l.ref=s?Hu(s,o):o),S.cloneElement(a,l)}return S.Children.count(a)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Zce=Symbol("radix.slottable");function Jce(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Zce}function Qce(t,e){const r={...e};for(const s in e){const a=t[s],i=e[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function ede(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var tde=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},X0=new WeakMap,m2=new WeakMap,p2={},W4=0,pH=function(t){return t&&(t.host||pH(t.parentNode))},rde=function(t,e){return e.map(function(r){if(t.contains(r))return r;var s=pH(r);return s&&t.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},nde=function(t,e,r,s){var a=rde(e,Array.isArray(t)?t:[t]);p2[r]||(p2[r]=new WeakMap);var i=p2[r],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))u(f);else try{var m=f.getAttribute(s),y=m!==null&&m!=="false",g=(X0.get(f)||0)+1,v=(i.get(f)||0)+1;X0.set(f,g),i.set(f,v),o.push(f),g===1&&y&&m2.set(f,!0),v===1&&f.setAttribute(r,"true"),y||f.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return u(e),l.clear(),W4++,function(){o.forEach(function(h){var f=X0.get(h)-1,m=i.get(h)-1;X0.set(h,f),i.set(h,m),f||(m2.has(h)||h.removeAttribute(s),m2.delete(h)),m||h.removeAttribute(r)}),W4--,W4||(X0=new WeakMap,X0=new WeakMap,m2=new WeakMap,p2={})}},_N=function(t,e,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),a=tde(t);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),nde(s,a,r,"aria-hidden")):function(){return null}},Rk=function(t,e){return Rk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},Rk(t,e)};function xH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Rk(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Fc=function(){return Fc=Object.assign||function(e){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Fc.apply(this,arguments)};function um(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(r[s[a]]=t[s[a]]);return r}function gH(t,e,r,s){var a=arguments.length,i=a<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,s);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(i=(a<3?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i}function vH(t,e){return function(r,s){e(r,s,t)}}function yH(t,e,r,s,a,i){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var l=s.kind,c=l==="getter"?"get":l==="setter"?"set":"value",d=!e&&t?s.static?t:t.prototype:null,u=e||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),h,f=!1,m=r.length-1;m>=0;m--){var y={};for(var g in s)y[g]=g==="access"?{}:s[g];for(var g in s.access)y.access[g]=s.access[g];y.addInitializer=function(b){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(b||null))};var v=(0,r[m])(l==="accessor"?{get:u.get,set:u.set}:u[c],y);if(l==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(h=o(v.get))&&(u.get=h),(h=o(v.set))&&(u.set=h),(h=o(v.init))&&a.unshift(h)}else(h=o(v))&&(l==="field"?a.unshift(h):u[c]=h)}d&&Object.defineProperty(d,s.name,u),f=!0}function bH(t,e,r){for(var s=arguments.length>2,a=0;a<e.length;a++)r=s?e[a].call(t,r):e[a].call(t);return s?r:void 0}function wH(t){return typeof t=="symbol"?t:"".concat(t)}function jH(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function NH(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Er(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})}function SH(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(s=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,a=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(u){d=[6,u],a=0}finally{s=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var CN=Object.create?(function(t,e,r,s){s===void 0&&(s=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,a)}):(function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]});function _H(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&CN(e,t,r)}function Uw(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function UP(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),a,i=[],o;try{for(;(e===void 0||e-- >0)&&!(a=s.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}function CH(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(UP(arguments[e]));return t}function kH(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var s=Array(t),a=0,e=0;e<r;e++)for(var i=arguments[e],o=0,l=i.length;o<l;o++,a++)s[a]=i[o];return s}function zP(t,e,r){if(r||arguments.length===2)for(var s=0,a=e.length,i;s<a;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}function Yx(t){return this instanceof Yx?(this.v=t,this):new Yx(t)}function AH(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(t,e||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(m){return function(y){return Promise.resolve(y).then(m,h)}}function l(m,y){s[m]&&(a[m]=function(g){return new Promise(function(v,b){i.push([m,g,v,b])>1||c(m,g)})},y&&(a[m]=y(a[m])))}function c(m,y){try{d(s[m](y))}catch(g){f(i[0][3],g)}}function d(m){m.value instanceof Yx?Promise.resolve(m.value.v).then(u,h):f(i[0][2],m)}function u(m){c("next",m)}function h(m){c("throw",m)}function f(m,y){m(y),i.shift(),i.length&&c(i[0][0],i[0][1])}}function EH(t){var e,r;return e={},s("next"),s("throw",function(a){throw a}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(a,i){e[a]=t[a]?function(o){return(r=!r)?{value:Yx(t[a](o)),done:!1}:i?i(o):o}:i}}function PH(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Uw=="function"?Uw(t):t[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(i){r[i]=t[i]&&function(o){return new Promise(function(l,c){o=t[i](o),a(l,c,o.done,o.value)})}}function a(i,o,l,c){Promise.resolve(c).then(function(d){i({value:d,done:l})},o)}}function TH(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var sde=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Lk=function(t){return Lk=Object.getOwnPropertyNames||function(e){var r=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[r.length]=s);return r},Lk(t)};function OH(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Lk(t),s=0;s<r.length;s++)r[s]!=="default"&&CN(e,t,r[s]);return sde(e,t),e}function IH(t){return t&&t.__esModule?t:{default:t}}function $H(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function DH(t,e,r,s,a){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?a.call(t,r):a?a.value=r:e.set(t,r),r}function MH(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function RH(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],r&&(a=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");a&&(s=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:s,async:r})}else r&&t.stack.push({async:!0});return e}var ade=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var s=new Error(r);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function LH(t){function e(i){t.error=t.hasError?new ade(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,s=0;function a(){for(;r=t.stack.pop();)try{if(!r.async&&s===1)return s=0,t.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(i).then(a,function(o){return e(o),a()})}else s|=1}catch(o){e(o)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return a()}function FH(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,a,i,o){return s?e?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):t}const ide={__extends:xH,__assign:Fc,__rest:um,__decorate:gH,__param:vH,__esDecorate:yH,__runInitializers:bH,__propKey:wH,__setFunctionName:jH,__metadata:NH,__awaiter:Er,__generator:SH,__createBinding:CN,__exportStar:_H,__values:Uw,__read:UP,__spread:CH,__spreadArrays:kH,__spreadArray:zP,__await:Yx,__asyncGenerator:AH,__asyncDelegator:EH,__asyncValues:PH,__makeTemplateObject:TH,__importStar:OH,__importDefault:IH,__classPrivateFieldGet:$H,__classPrivateFieldSet:DH,__classPrivateFieldIn:MH,__addDisposableResource:RH,__disposeResources:LH,__rewriteRelativeImportExtension:FH},ode=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:RH,get __assign(){return Fc},__asyncDelegator:EH,__asyncGenerator:AH,__asyncValues:PH,__await:Yx,__awaiter:Er,__classPrivateFieldGet:$H,__classPrivateFieldIn:MH,__classPrivateFieldSet:DH,__createBinding:CN,__decorate:gH,__disposeResources:LH,__esDecorate:yH,__exportStar:_H,__extends:xH,__generator:SH,__importDefault:IH,__importStar:OH,__makeTemplateObject:TH,__metadata:NH,__param:vH,__propKey:wH,__read:UP,__rest:um,__rewriteRelativeImportExtension:FH,__runInitializers:bH,__setFunctionName:jH,__spread:CH,__spreadArray:zP,__spreadArrays:kH,__values:Uw,default:ide},Symbol.toStringTag,{value:"Module"}));var mw="right-scroll-bar-position",pw="width-before-scroll-bar",lde="with-scroll-bars-hidden",cde="--removed-body-scroll-bar-size";function H4(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function dde(t,e){var r=S.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=e,r.facade}var ude=typeof window<"u"?S.useLayoutEffect:S.useEffect,$7=new WeakMap;function hde(t,e){var r=dde(null,function(s){return t.forEach(function(a){return H4(a,s)})});return ude(function(){var s=$7.get(r);if(s){var a=new Set(s),i=new Set(t),o=r.current;a.forEach(function(l){i.has(l)||H4(l,null)}),i.forEach(function(l){a.has(l)||H4(l,o)})}$7.set(r,t)},[t]),r}function fde(t){return t}function mde(t,e){e===void 0&&(e=fde);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function pde(t){t===void 0&&(t={});var e=mde(null);return e.options=Fc({async:!0,ssr:!1},t),e}var BH=function(t){var e=t.sideCar,r=um(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return S.createElement(s,Fc({},r))};BH.isSideCarExport=!0;function xde(t,e){return t.useMedium(e),BH}var UH=pde(),q4=function(){},kN=S.forwardRef(function(t,e){var r=S.useRef(null),s=S.useState({onScrollCapture:q4,onWheelCapture:q4,onTouchMoveCapture:q4}),a=s[0],i=s[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,h=t.shards,f=t.sideCar,m=t.noRelative,y=t.noIsolation,g=t.inert,v=t.allowPinchZoom,b=t.as,w=b===void 0?"div":b,N=t.gapMode,_=um(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,E=hde([r,e]),A=Fc(Fc({},_),a);return S.createElement(S.Fragment,null,u&&S.createElement(C,{sideCar:UH,removeScrollBar:d,shards:h,noRelative:m,noIsolation:y,inert:g,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:N}),o?S.cloneElement(S.Children.only(l),Fc(Fc({},A),{ref:E})):S.createElement(w,Fc({},A,{className:c,ref:E}),l))});kN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kN.classNames={fullWidth:pw,zeroRight:mw};var gde=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vde(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=gde();return e&&t.setAttribute("nonce",e),t}function yde(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function bde(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var wde=function(){var t=0,e=null;return{add:function(r){t==0&&(e=vde())&&(yde(e,r),bde(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},jde=function(){var t=wde();return function(e,r){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},zH=function(){var t=jde(),e=function(r){var s=r.styles,a=r.dynamic;return t(s,a),null};return e},Nde={left:0,top:0,right:0,gap:0},G4=function(t){return parseInt(t||"",10)||0},Sde=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[G4(r),G4(s),G4(a)]},_de=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Nde;var e=Sde(t),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-r+e[2]-e[0])}},Cde=zH(),Rx="data-scroll-locked",kde=function(t,e,r,s){var a=t.left,i=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(lde,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Rx,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mw,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(pw,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(mw," .").concat(mw,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(pw," .").concat(pw,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Rx,`] {
    `).concat(cde,": ").concat(l,`px;
  }
`)},D7=function(){var t=parseInt(document.body.getAttribute(Rx)||"0",10);return isFinite(t)?t:0},Ade=function(){S.useEffect(function(){return document.body.setAttribute(Rx,(D7()+1).toString()),function(){var t=D7()-1;t<=0?document.body.removeAttribute(Rx):document.body.setAttribute(Rx,t.toString())}},[])},Ede=function(t){var e=t.noRelative,r=t.noImportant,s=t.gapMode,a=s===void 0?"margin":s;Ade();var i=S.useMemo(function(){return _de(a)},[a]);return S.createElement(Cde,{styles:kde(i,!e,a,r?"":"!important")})},Fk=!1;if(typeof window<"u")try{var x2=Object.defineProperty({},"passive",{get:function(){return Fk=!0,!0}});window.addEventListener("test",x2,x2),window.removeEventListener("test",x2,x2)}catch{Fk=!1}var Z0=Fk?{passive:!1}:!1,Pde=function(t){return t.tagName==="TEXTAREA"},VH=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Pde(t)&&r[e]==="visible")},Tde=function(t){return VH(t,"overflowY")},Ode=function(t){return VH(t,"overflowX")},M7=function(t,e){var r=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=WH(t,s);if(a){var i=HH(t,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},Ide=function(t){var e=t.scrollTop,r=t.scrollHeight,s=t.clientHeight;return[e,r,s]},$de=function(t){var e=t.scrollLeft,r=t.scrollWidth,s=t.clientWidth;return[e,r,s]},WH=function(t,e){return t==="v"?Tde(e):Ode(e)},HH=function(t,e){return t==="v"?Ide(e):$de(e)},Dde=function(t,e){return t==="h"&&e==="rtl"?-1:1},Mde=function(t,e,r,s,a){var i=Dde(t,window.getComputedStyle(e).direction),o=i*s,l=r.target,c=e.contains(l),d=!1,u=o>0,h=0,f=0;do{if(!l)break;var m=HH(t,l),y=m[0],g=m[1],v=m[2],b=g-v-i*y;(y||b)&&WH(t,l)&&(h+=b,f+=y);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(u&&Math.abs(h)<1||!u&&Math.abs(f)<1)&&(d=!0),d},g2=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},R7=function(t){return[t.deltaX,t.deltaY]},L7=function(t){return t&&"current"in t?t.current:t},Rde=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Lde=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Fde=0,J0=[];function Bde(t){var e=S.useRef([]),r=S.useRef([0,0]),s=S.useRef(),a=S.useState(Fde++)[0],i=S.useState(zH)[0],o=S.useRef(t);S.useEffect(function(){o.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var g=zP([t.lockRef.current],(t.shards||[]).map(L7),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=S.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=g2(g),w=r.current,N="deltaX"in g?g.deltaX:w[0]-b[0],_="deltaY"in g?g.deltaY:w[1]-b[1],C,E=g.target,A=Math.abs(N)>Math.abs(_)?"h":"v";if("touches"in g&&A==="h"&&E.type==="range")return!1;var I=M7(A,E);if(!I)return!0;if(I?C=A:(C=A==="v"?"h":"v",I=M7(A,E)),!I)return!1;if(!s.current&&"changedTouches"in g&&(N||_)&&(s.current=C),!C)return!0;var $=s.current||C;return Mde($,v,g,$==="h"?N:_)},[]),c=S.useCallback(function(g){var v=g;if(!(!J0.length||J0[J0.length-1]!==i)){var b="deltaY"in v?R7(v):g2(v),w=e.current.filter(function(C){return C.name===v.type&&(C.target===v.target||v.target===C.shadowParent)&&Rde(C.delta,b)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var N=(o.current.shards||[]).map(L7).filter(Boolean).filter(function(C){return C.contains(v.target)}),_=N.length>0?l(v,N[0]):!o.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),d=S.useCallback(function(g,v,b,w){var N={name:g,delta:v,target:b,should:w,shadowParent:Ude(b)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(_){return _!==N})},1)},[]),u=S.useCallback(function(g){r.current=g2(g),s.current=void 0},[]),h=S.useCallback(function(g){d(g.type,R7(g),g.target,l(g,t.lockRef.current))},[]),f=S.useCallback(function(g){d(g.type,g2(g),g.target,l(g,t.lockRef.current))},[]);S.useEffect(function(){return J0.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Z0),document.addEventListener("touchmove",c,Z0),document.addEventListener("touchstart",u,Z0),function(){J0=J0.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Z0),document.removeEventListener("touchmove",c,Z0),document.removeEventListener("touchstart",u,Z0)}},[]);var m=t.removeScrollBar,y=t.inert;return S.createElement(S.Fragment,null,y?S.createElement(i,{styles:Lde(a)}):null,m?S.createElement(Ede,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Ude(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const zde=xde(UH,Bde);var Hy=S.forwardRef(function(t,e){return S.createElement(kN,Fc({},t,{ref:e,sideCar:zde}))});Hy.classNames=kN.classNames;var Bk=["Enter"," "],Vde=["ArrowDown","PageUp","Home"],qH=["ArrowUp","PageDown","End"],Wde=[...Vde,...qH],Hde={ltr:[...Bk,"ArrowRight"],rtl:[...Bk,"ArrowLeft"]},qde={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qy="Menu",[F1,Gde,Kde]=Fy(qy),[h0,GH]=Mo(qy,[Kde,Dg,SN]),AN=Dg(),KH=SN(),[Yde,f0]=h0(qy),[Xde,Gy]=h0(qy),YH=t=>{const{__scopeMenu:e,open:r=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=t,l=AN(e),[c,d]=S.useState(null),u=S.useRef(!1),h=Ki(i),f=u0(a);return S.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),n.jsx(LP,{...l,children:n.jsx(Yde,{scope:e,open:r,onOpenChange:h,content:c,onContentChange:d,children:n.jsx(Xde,{scope:e,onClose:S.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:f,modal:o,children:s})})})};YH.displayName=qy;var Zde="MenuAnchor",VP=S.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t,a=AN(r);return n.jsx(NN,{...a,...s,ref:e})});VP.displayName=Zde;var WP="MenuPortal",[Jde,XH]=h0(WP,{forceMount:void 0}),ZH=t=>{const{__scopeMenu:e,forceMount:r,children:s,container:a}=t,i=f0(WP,e);return n.jsx(Jde,{scope:e,forceMount:r,children:n.jsx(fo,{present:r||i.open,children:n.jsx(Vy,{asChild:!0,container:a,children:s})})})};ZH.displayName=WP;var Kc="MenuContent",[Qde,HP]=h0(Kc),JH=S.forwardRef((t,e)=>{const r=XH(Kc,t.__scopeMenu),{forceMount:s=r.forceMount,...a}=t,i=f0(Kc,t.__scopeMenu),o=Gy(Kc,t.__scopeMenu);return n.jsx(F1.Provider,{scope:t.__scopeMenu,children:n.jsx(fo,{present:s||i.open,children:n.jsx(F1.Slot,{scope:t.__scopeMenu,children:o.modal?n.jsx(eue,{...a,ref:e}):n.jsx(tue,{...a,ref:e})})})})}),eue=S.forwardRef((t,e)=>{const r=f0(Kc,t.__scopeMenu),s=S.useRef(null),a=Zr(e,s);return S.useEffect(()=>{const i=s.current;if(i)return _N(i)},[]),n.jsx(qP,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Vt(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),tue=S.forwardRef((t,e)=>{const r=f0(Kc,t.__scopeMenu);return n.jsx(qP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),rue=Yce("MenuContent.ScrollLock"),qP=S.forwardRef((t,e)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:y,...g}=t,v=f0(Kc,r),b=Gy(Kc,r),w=AN(r),N=KH(r),_=Gde(r),[C,E]=S.useState(null),A=S.useRef(null),I=Zr(e,A,v.onContentChange),$=S.useRef(0),O=S.useRef(""),P=S.useRef(0),M=S.useRef(null),R=S.useRef("right"),W=S.useRef(0),Y=y?Hy:S.Fragment,K=y?{as:rue,allowPinchZoom:!0}:void 0,L=ee=>{const se=O.current+ee,q=_().filter(ce=>!ce.disabled),z=document.activeElement,Z=q.find(ce=>ce.ref.current===z)?.textValue,X=q.map(ce=>ce.textValue),Q=mue(X,se,Z),ne=q.find(ce=>ce.textValue===Q)?.ref.current;(function ce(ie){O.current=ie,window.clearTimeout($.current),ie!==""&&($.current=window.setTimeout(()=>ce(""),1e3))})(se),ne&&setTimeout(()=>ne.focus())};S.useEffect(()=>()=>window.clearTimeout($.current),[]),gN();const F=S.useCallback(ee=>R.current===M.current?.side&&xue(ee,M.current?.area),[]);return n.jsx(Qde,{scope:r,searchRef:O,onItemEnter:S.useCallback(ee=>{F(ee)&&ee.preventDefault()},[F]),onItemLeave:S.useCallback(ee=>{F(ee)||(A.current?.focus(),E(null))},[F]),onTriggerLeave:S.useCallback(ee=>{F(ee)&&ee.preventDefault()},[F]),pointerGraceTimerRef:P,onPointerGraceIntentChange:S.useCallback(ee=>{M.current=ee},[]),children:n.jsx(Y,{...K,children:n.jsx(Uy,{asChild:!0,trapped:a,onMountAutoFocus:Vt(i,ee=>{ee.preventDefault(),A.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(By,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:n.jsx(fH,{asChild:!0,...N,dir:b.dir,orientation:"vertical",loop:s,currentTabStopId:C,onCurrentTabStopIdChange:E,onEntryFocus:Vt(c,ee=>{b.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(FP,{role:"menu","aria-orientation":"vertical","data-state":mq(v.open),"data-radix-menu-content":"",dir:b.dir,...w,...g,ref:I,style:{outline:"none",...g.style},onKeyDown:Vt(g.onKeyDown,ee=>{const q=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,z=ee.ctrlKey||ee.altKey||ee.metaKey,Z=ee.key.length===1;q&&(ee.key==="Tab"&&ee.preventDefault(),!z&&Z&&L(ee.key));const X=A.current;if(ee.target!==X||!Wde.includes(ee.key))return;ee.preventDefault();const ne=_().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);qH.includes(ee.key)&&ne.reverse(),hue(ne)}),onBlur:Vt(t.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout($.current),O.current="")}),onPointerMove:Vt(t.onPointerMove,B1(ee=>{const se=ee.target,q=W.current!==ee.clientX;if(ee.currentTarget.contains(se)&&q){const z=ee.clientX>W.current?"right":"left";R.current=z,W.current=ee.clientX}}))})})})})})})});JH.displayName=Kc;var nue="MenuGroup",GP=S.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t;return n.jsx(Tr.div,{role:"group",...s,ref:e})});GP.displayName=nue;var sue="MenuLabel",QH=S.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t;return n.jsx(Tr.div,{...s,ref:e})});QH.displayName=sue;var zw="MenuItem",F7="menu.itemSelect",EN=S.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:s,...a}=t,i=S.useRef(null),o=Gy(zw,t.__scopeMenu),l=HP(zw,t.__scopeMenu),c=Zr(e,i),d=S.useRef(!1),u=()=>{const h=i.current;if(!r&&h){const f=new CustomEvent(F7,{bubbles:!0,cancelable:!0});h.addEventListener(F7,m=>s?.(m),{once:!0}),RW(h,f),f.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(eq,{...a,ref:c,disabled:r,onClick:Vt(t.onClick,u),onPointerDown:h=>{t.onPointerDown?.(h),d.current=!0},onPointerUp:Vt(t.onPointerUp,h=>{d.current||h.currentTarget?.click()}),onKeyDown:Vt(t.onKeyDown,h=>{const f=l.searchRef.current!=="";r||f&&h.key===" "||Bk.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});EN.displayName=zw;var eq=S.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...i}=t,o=HP(zw,r),l=KH(r),c=S.useRef(null),d=Zr(e,c),[u,h]=S.useState(!1),[f,m]=S.useState("");return S.useEffect(()=>{const y=c.current;y&&m((y.textContent??"").trim())},[i.children]),n.jsx(F1.ItemSlot,{scope:r,disabled:s,textValue:a??f,children:n.jsx(mH,{asChild:!0,...l,focusable:!s,children:n.jsx(Tr.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:Vt(t.onPointerMove,B1(y=>{s?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Vt(t.onPointerLeave,B1(y=>o.onItemLeave(y))),onFocus:Vt(t.onFocus,()=>h(!0)),onBlur:Vt(t.onBlur,()=>h(!1))})})})}),aue="MenuCheckboxItem",tq=S.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:s,...a}=t;return n.jsx(iq,{scope:t.__scopeMenu,checked:r,children:n.jsx(EN,{role:"menuitemcheckbox","aria-checked":Vw(r)?"mixed":r,...a,ref:e,"data-state":YP(r),onSelect:Vt(a.onSelect,()=>s?.(Vw(r)?!0:!r),{checkForDefaultPrevented:!1})})})});tq.displayName=aue;var rq="MenuRadioGroup",[iue,oue]=h0(rq,{value:void 0,onValueChange:()=>{}}),nq=S.forwardRef((t,e)=>{const{value:r,onValueChange:s,...a}=t,i=Ki(s);return n.jsx(iue,{scope:t.__scopeMenu,value:r,onValueChange:i,children:n.jsx(GP,{...a,ref:e})})});nq.displayName=rq;var sq="MenuRadioItem",aq=S.forwardRef((t,e)=>{const{value:r,...s}=t,a=oue(sq,t.__scopeMenu),i=r===a.value;return n.jsx(iq,{scope:t.__scopeMenu,checked:i,children:n.jsx(EN,{role:"menuitemradio","aria-checked":i,...s,ref:e,"data-state":YP(i),onSelect:Vt(s.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});aq.displayName=sq;var KP="MenuItemIndicator",[iq,lue]=h0(KP,{checked:!1}),oq=S.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:s,...a}=t,i=lue(KP,r);return n.jsx(fo,{present:s||Vw(i.checked)||i.checked===!0,children:n.jsx(Tr.span,{...a,ref:e,"data-state":YP(i.checked)})})});oq.displayName=KP;var cue="MenuSeparator",lq=S.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t;return n.jsx(Tr.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});lq.displayName=cue;var due="MenuArrow",cq=S.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t,a=AN(r);return n.jsx(BP,{...a,...s,ref:e})});cq.displayName=due;var uue="MenuSub",[kVe,dq]=h0(uue),Zv="MenuSubTrigger",uq=S.forwardRef((t,e)=>{const r=f0(Zv,t.__scopeMenu),s=Gy(Zv,t.__scopeMenu),a=dq(Zv,t.__scopeMenu),i=HP(Zv,t.__scopeMenu),o=S.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},u=S.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return S.useEffect(()=>u,[u]),S.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),n.jsx(VP,{asChild:!0,...d,children:n.jsx(eq,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":mq(r.open),...t,ref:Hu(e,a.onTriggerChange),onClick:h=>{t.onClick?.(h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Vt(t.onPointerMove,B1(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:Vt(t.onPointerLeave,B1(h=>{u();const f=r.content?.getBoundingClientRect();if(f){const m=r.content?.dataset.side,y=m==="right",g=y?-5:5,v=f[y?"left":"right"],b=f[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+g,y:h.clientY},{x:v,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x:v,y:f.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Vt(t.onKeyDown,h=>{const f=i.searchRef.current!=="";t.disabled||f&&h.key===" "||Hde[s.dir].includes(h.key)&&(r.onOpenChange(!0),r.content?.focus(),h.preventDefault())})})})});uq.displayName=Zv;var hq="MenuSubContent",fq=S.forwardRef((t,e)=>{const r=XH(Kc,t.__scopeMenu),{forceMount:s=r.forceMount,...a}=t,i=f0(Kc,t.__scopeMenu),o=Gy(Kc,t.__scopeMenu),l=dq(hq,t.__scopeMenu),c=S.useRef(null),d=Zr(e,c);return n.jsx(F1.Provider,{scope:t.__scopeMenu,children:n.jsx(fo,{present:s||i.open,children:n.jsx(F1.Slot,{scope:t.__scopeMenu,children:n.jsx(qP,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{o.isUsingKeyboardRef.current&&c.current?.focus(),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Vt(t.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Vt(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Vt(t.onKeyDown,u=>{const h=u.currentTarget.contains(u.target),f=qde[o.dir].includes(u.key);h&&f&&(i.onOpenChange(!1),l.trigger?.focus(),u.preventDefault())})})})})})});fq.displayName=hq;function mq(t){return t?"open":"closed"}function Vw(t){return t==="indeterminate"}function YP(t){return Vw(t)?"indeterminate":t?"checked":"unchecked"}function hue(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function fue(t,e){return t.map((r,s)=>t[(e+s)%t.length])}function mue(t,e,r){const a=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=fue(t,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function pue(t,e){const{x:r,y:s}=t;let a=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],c=e[o],d=l.x,u=l.y,h=c.x,f=c.y;u>s!=f>s&&r<(h-d)*(s-u)/(f-u)+d&&(a=!a)}return a}function xue(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return pue(r,e)}function B1(t){return e=>e.pointerType==="mouse"?t(e):void 0}var gue=YH,vue=VP,yue=ZH,bue=JH,wue=GP,jue=QH,Nue=EN,Sue=tq,_ue=nq,Cue=aq,kue=oq,Aue=lq,Eue=cq,Pue=uq,Tue=fq,PN="DropdownMenu",[Oue]=Mo(PN,[GH]),ol=GH(),[Iue,pq]=Oue(PN),xq=t=>{const{__scopeDropdownMenu:e,children:r,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,c=ol(e),d=S.useRef(null),[u,h]=uc({prop:a,defaultProp:i??!1,onChange:o,caller:PN});return n.jsx(Iue,{scope:e,triggerId:oc(),triggerRef:d,contentId:oc(),open:u,onOpenChange:h,onOpenToggle:S.useCallback(()=>h(f=>!f),[h]),modal:l,children:n.jsx(gue,{...c,open:u,onOpenChange:h,dir:s,modal:l,children:r})})};xq.displayName=PN;var gq="DropdownMenuTrigger",vq=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=t,i=pq(gq,r),o=ol(r);return n.jsx(vue,{asChild:!0,...o,children:n.jsx(Tr.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Hu(e,i.triggerRef),onPointerDown:Vt(t.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Vt(t.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});vq.displayName=gq;var $ue="DropdownMenuPortal",yq=t=>{const{__scopeDropdownMenu:e,...r}=t,s=ol(e);return n.jsx(yue,{...s,...r})};yq.displayName=$ue;var bq="DropdownMenuContent",wq=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=pq(bq,r),i=ol(r),o=S.useRef(!1);return n.jsx(bue,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:e,onCloseAutoFocus:Vt(t.onCloseAutoFocus,l=>{o.current||a.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Vt(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wq.displayName=bq;var Due="DropdownMenuGroup",Mue=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=ol(r);return n.jsx(wue,{...a,...s,ref:e})});Mue.displayName=Due;var Rue="DropdownMenuLabel",jq=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=ol(r);return n.jsx(jue,{...a,...s,ref:e})});jq.displayName=Rue;var Lue="DropdownMenuItem",Nq=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=ol(r);return n.jsx(Nue,{...a,...s,ref:e})});Nq.displayName=Lue;var Fue="DropdownMenuCheckboxItem",Bue=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=ol(r);return n.jsx(Sue,{...a,...s,ref:e})});Bue.displayName=Fue;var Uue="DropdownMenuRadioGroup",zue=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=ol(r);return n.jsx(_ue,{...a,...s,ref:e})});zue.displayName=Uue;var Vue="DropdownMenuRadioItem",Wue=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=ol(r);return n.jsx(Cue,{...a,...s,ref:e})});Wue.displayName=Vue;var Hue="DropdownMenuItemIndicator",que=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=ol(r);return n.jsx(kue,{...a,...s,ref:e})});que.displayName=Hue;var Gue="DropdownMenuSeparator",Sq=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=ol(r);return n.jsx(Aue,{...a,...s,ref:e})});Sq.displayName=Gue;var Kue="DropdownMenuArrow",Yue=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=ol(r);return n.jsx(Eue,{...a,...s,ref:e})});Yue.displayName=Kue;var Xue="DropdownMenuSubTrigger",Zue=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=ol(r);return n.jsx(Pue,{...a,...s,ref:e})});Zue.displayName=Xue;var Jue="DropdownMenuSubContent",Que=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,a=ol(r);return n.jsx(Tue,{...a,...s,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Que.displayName=Jue;var ehe=xq,the=vq,rhe=yq,nhe=wq,she=jq,ahe=Nq,ihe=Sq;function Cs({...t}){return n.jsx(ehe,{"data-slot":"dropdown-menu",...t})}function ks({...t}){return n.jsx(the,{"data-slot":"dropdown-menu-trigger",...t})}function As({className:t,sideOffset:e=4,...r}){return n.jsx(rhe,{children:n.jsx(nhe,{"data-slot":"dropdown-menu-content",sideOffset:e,className:nr("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function Et({className:t,inset:e,variant:r="default",...s}){return n.jsx(ahe,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":r,className:nr("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function ohe({className:t,inset:e,...r}){return n.jsx(she,{"data-slot":"dropdown-menu-label","data-inset":e,className:nr("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...r})}function Pu({className:t,...e}){return n.jsx(ihe,{"data-slot":"dropdown-menu-separator",className:nr("bg-border -mx-1 my-1 h-px",t),...e})}function lhe(t,e=[]){let r=[];function s(i,o){const l=S.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const d=h=>{const{scope:f,children:m,...y}=h,g=f?.[t]?.[c]||l,v=S.useMemo(()=>y,Object.values(y));return n.jsx(g.Provider,{value:v,children:m})};d.displayName=i+"Provider";function u(h,f){const m=f?.[t]?.[c]||l,y=S.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>S.createContext(o));return function(l){const c=l?.[t]||i;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[s,che(a,...e)]}function che(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const s=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var dhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],XP=dhe.reduce((t,e)=>{const r=Pg(`Primitive.${e}`),s=S.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),K4={exports:{}},Y4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B7;function uhe(){if(B7)return Y4;B7=1;var t=Ag();function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var r=typeof Object.is=="function"?Object.is:e,s=t.useState,a=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function l(h,f){var m=f(),y=s({inst:{value:m,getSnapshot:f}}),g=y[0].inst,v=y[1];return i(function(){g.value=m,g.getSnapshot=f,c(g)&&v({inst:g})},[h,m,f]),a(function(){return c(g)&&v({inst:g}),h(function(){c(g)&&v({inst:g})})},[h]),o(m),m}function c(h){var f=h.getSnapshot;h=h.value;try{var m=f();return!r(h,m)}catch{return!0}}function d(h,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Y4.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,Y4}var U7;function hhe(){return U7||(U7=1,K4.exports=uhe()),K4.exports}var fhe=hhe();function mhe(){return fhe.useSyncExternalStore(phe,()=>!0,()=>!1)}function phe(){return()=>{}}var ZP="Avatar",[xhe]=lhe(ZP),[ghe,_q]=xhe(ZP),Cq=S.forwardRef((t,e)=>{const{__scopeAvatar:r,...s}=t,[a,i]=S.useState("idle");return n.jsx(ghe,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:n.jsx(XP.span,{...s,ref:e})})});Cq.displayName=ZP;var kq="AvatarImage",Aq=S.forwardRef((t,e)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:a=()=>{},...i}=t,o=_q(kq,r),l=vhe(s,i),c=Ki(d=>{a(d),o.onImageLoadingStatusChange(d)});return ti(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(XP.img,{...i,ref:e,src:s}):null});Aq.displayName=kq;var Eq="AvatarFallback",Pq=S.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:s,...a}=t,i=_q(Eq,r),[o,l]=S.useState(s===void 0);return S.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(XP.span,{...a,ref:e}):null});Pq.displayName=Eq;function z7(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function vhe(t,{referrerPolicy:e,crossOrigin:r}){const s=mhe(),a=S.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[o,l]=S.useState(()=>z7(i,t));return ti(()=>{l(z7(i,t))},[i,t]),ti(()=>{const c=h=>()=>{l(h)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),e&&(i.referrerPolicy=e),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,e]),o}var yhe=Cq,bhe=Aq,whe=Pq;function Th({className:t,...e}){return n.jsx(yhe,{"data-slot":"avatar",className:nr("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function Oh({className:t,...e}){return n.jsx(bhe,{"data-slot":"avatar-image",className:nr("aspect-square size-full",t),...e})}function Ih({className:t,...e}){return n.jsx(whe,{"data-slot":"avatar-fallback",className:nr("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}const Tq=S.createContext(void 0);function xw({children:t}){const[e,r]=S.useState(()=>{const i=localStorage.getItem("bookingTMS-theme");return i||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});S.useEffect(()=>{const i=document.documentElement;i.classList.remove("light","dark"),i.classList.add(e),localStorage.setItem("bookingTMS-theme",e)},[e]);const s=()=>{r(i=>i==="light"?"dark":"light")},a=i=>{r(i)};return n.jsx(Tq.Provider,{value:{theme:e,toggleTheme:s,setTheme:a},children:t})}function fn(){const t=S.useContext(Tq);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function jhe(){const{theme:t,toggleTheme:e}=fn();return n.jsxs(J,{variant:"ghost",size:"icon",onClick:e,className:"relative h-9 w-9 rounded-lg hover:bg-accent transition-colors","aria-label":`Switch to ${t==="light"?"dark":"light"} mode`,children:[n.jsx(Ry,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),n.jsx(Eg,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]})}const X4={soundEnabled:!0,soundVolume:70,soundForBookings:!0,soundForPayments:!0,soundForCancellations:!0,desktopEnabled:!0,desktopForBookings:!0,desktopForPayments:!0,desktopForCancellations:!0,desktopForMessages:!0,desktopForStaffUpdates:!0,emailEnabled:!0,emailForBookings:!0,emailForCancellations:!0,emailForPayments:!0,emailForRefunds:!0,emailForCustomerMessages:!0,emailForSystemUpdates:!1,emailForReports:!0,emailForMarketing:!1,emailDigest:"instant",smsEnabled:!1,smsPhoneNumber:"",smsForBookings:!1,smsForCancellations:!1,smsForUrgentAlerts:!1,quietHoursEnabled:!1,quietHoursStart:"22:00",quietHoursEnd:"08:00",showInAppNotifications:!0,autoMarkReadAfter:0,groupSimilarNotifications:!0},Nhe=[{id:"notif-001",type:"booking",priority:"high",title:"New Booking Received",message:"Sarah Johnson booked Mystery Manor for 6 guests on Nov 5, 2:00 PM",timestamp:new Date(Date.now()-300*1e3).toISOString(),read:!1,actionUrl:"/bookings",actionLabel:"View Booking",metadata:{bookingId:"BK-2024-1145",customerId:"CUST-001",gameId:"mystery-manor",amount:180}},{id:"notif-002",type:"payment",priority:"medium",title:"Payment Received",message:"$240.00 payment received from Michael Chen",timestamp:new Date(Date.now()-900*1e3).toISOString(),read:!1,actionUrl:"/payment-history",actionLabel:"View Transaction",metadata:{bookingId:"BK-2024-1144",customerId:"CUST-002",amount:240}},{id:"notif-003",type:"cancellation",priority:"high",title:"Booking Cancelled",message:"Emily Davis cancelled Space Odyssey booking for Nov 4, 4:30 PM",timestamp:new Date(Date.now()-1800*1e3).toISOString(),read:!1,actionUrl:"/bookings",actionLabel:"View Details",metadata:{bookingId:"BK-2024-1143",customerId:"CUST-003",gameId:"space-odyssey"}},{id:"notif-004",type:"customer",priority:"low",title:"New Customer Registered",message:"Jessica Martinez created an account",timestamp:new Date(Date.now()-3600*1e3).toISOString(),read:!0,actionUrl:"/customers",actionLabel:"View Profile",metadata:{customerId:"CUST-005"}},{id:"notif-005",type:"alert",priority:"urgent",title:"High Demand Alert",message:"Treasure Hunt is 90% booked for this weekend",timestamp:new Date(Date.now()-7200*1e3).toISOString(),read:!0,actionUrl:"/games",actionLabel:"View Capacity",metadata:{gameId:"treasure-hunt",capacityPercent:90}},{id:"notif-006",type:"refund",priority:"medium",title:"Refund Processed",message:"$120.00 refund issued to James Wilson",timestamp:new Date(Date.now()-10800*1e3).toISOString(),read:!0,actionUrl:"/payment-history",actionLabel:"View Transaction",metadata:{bookingId:"BK-2024-1140",customerId:"CUST-004",amount:120}},{id:"notif-007",type:"booking",priority:"high",title:"New Booking Received",message:"Alex Thompson booked Haunted Mansion for 4 guests on Nov 6, 7:00 PM",timestamp:new Date(Date.now()-14400*1e3).toISOString(),read:!0,actionUrl:"/bookings",actionLabel:"View Booking",metadata:{bookingId:"BK-2024-1142",customerId:"CUST-006",gameId:"haunted-mansion",amount:160}},{id:"notif-008",type:"staff",priority:"medium",title:"Staff Assignment",message:"John Smith assigned to Mystery Manor on Nov 5, 2:00 PM",timestamp:new Date(Date.now()-300*60*1e3).toISOString(),read:!0,actionUrl:"/staff",actionLabel:"View Schedule",metadata:{staffId:"STAFF-001",bookingId:"BK-2024-1145",gameId:"mystery-manor"}},{id:"notif-009",type:"message",priority:"medium",title:"Customer Message",message:"Sarah Johnson sent a message about their upcoming booking",timestamp:new Date(Date.now()-360*60*1e3).toISOString(),read:!0,actionUrl:"/customers",actionLabel:"View Message",metadata:{customerId:"CUST-001",bookingId:"BK-2024-1145"}},{id:"notif-010",type:"system",priority:"low",title:"System Update",message:"New features available: Enhanced reporting and analytics",timestamp:new Date(Date.now()-1440*60*1e3).toISOString(),read:!0,actionUrl:"/reports",actionLabel:"Explore Features"},{id:"notif-011",type:"payment",priority:"medium",title:"Payment Received",message:"$320.00 payment received from David Brown",timestamp:new Date(Date.now()-1500*60*1e3).toISOString(),read:!0,actionUrl:"/payment-history",actionLabel:"View Transaction",metadata:{bookingId:"BK-2024-1138",customerId:"CUST-007",amount:320}},{id:"notif-012",type:"booking",priority:"high",title:"New Booking Received",message:"Lisa Martinez booked Space Odyssey for 8 guests on Nov 7, 5:30 PM",timestamp:new Date(Date.now()-1560*60*1e3).toISOString(),read:!0,actionUrl:"/bookings",actionLabel:"View Booking",metadata:{bookingId:"BK-2024-1141",customerId:"CUST-005",gameId:"space-odyssey",amount:280}}],Oq=S.createContext(void 0),She=({children:t})=>{const{currentUser:e}=il(),[r,s]=S.useState(Nhe),a=S.useCallback(()=>e?`notificationSettings_${e.id}`:"notificationSettings_guest",[e]),i=S.useCallback(()=>{if(typeof window<"u"){const _=a(),C=localStorage.getItem(_);if(C)try{return{...X4,...JSON.parse(C)}}catch(E){console.error("Failed to parse notification settings:",E)}}return X4},[a]),[o,l]=S.useState(i);S.useEffect(()=>{l(i())},[i,e?.id]);const c=r.filter(_=>!_.read).length,d=S.useCallback(()=>{if(o.soundEnabled)try{const _=new(window.AudioContext||window.webkitAudioContext),C=_.createOscillator(),E=_.createGain();C.connect(E),E.connect(_.destination),C.frequency.value=800,C.type="sine",E.gain.setValueAtTime(o.soundVolume/100*.3,_.currentTime),E.gain.exponentialRampToValueAtTime(.01,_.currentTime+.3),C.start(_.currentTime),C.stop(_.currentTime+.3)}catch(_){console.error("Error playing notification sound:",_)}},[o.soundEnabled,o.soundVolume]),u=S.useCallback(()=>{if(!o.quietHoursEnabled)return!1;const _=new Date,C=`${_.getHours().toString().padStart(2,"0")}:${_.getMinutes().toString().padStart(2,"0")}`,E=o.quietHoursStart,A=o.quietHoursEnd;return E>A?C>=E||C<=A:C>=E&&C<=A},[o.quietHoursEnabled,o.quietHoursStart,o.quietHoursEnd]),h=S.useCallback(async()=>{"Notification"in window&&Notification.permission==="default"&&await Notification.requestPermission()},[]),f=S.useCallback(_=>{!o.desktopEnabled||u()||!("Notification"in window)||Notification.permission!=="granted"||!(_.type==="booking"&&o.desktopForBookings||_.type==="payment"&&o.desktopForPayments||_.type==="cancellation"&&o.desktopForCancellations||_.type==="message"&&o.desktopForMessages)||new Notification(_.title,{body:_.message,icon:"/notification-icon.png",badge:"/notification-badge.png",tag:_.id})},[o,u]);S.useEffect(()=>{h()},[o,d,f,u,h]);const m=S.useCallback(_=>{s(C=>C.map(E=>E.id===_?{...E,read:!0}:E))},[]),y=S.useCallback(()=>{s(_=>_.map(C=>({...C,read:!0})))},[]),g=S.useCallback(_=>{s(C=>C.filter(E=>E.id!==_))},[]),v=S.useCallback(()=>{s([])},[]),b=S.useCallback(_=>{l(C=>{const E={...C,..._};if(typeof window<"u"){const A=a();localStorage.setItem(A,JSON.stringify(E))}return _.desktopEnabled&&!C.desktopEnabled&&h(),E})},[h,a]),w=S.useCallback(()=>{l(X4)},[]),N={notifications:r,unreadCount:c,settings:o,markAsRead:m,markAllAsRead:y,deleteNotification:g,clearAll:v,updateSettings:b,clearSettings:w,playNotificationSound:d};return n.jsx(Oq.Provider,{value:N,children:t})},JP=()=>{const t=S.useContext(Oq);if(t===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return t},_he=AP("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function ze({className:t,variant:e,asChild:r=!1,...s}){const a=r?jW:"span";return n.jsx(a,{"data-slot":"badge",className:nr(_he({variant:e}),t),...s})}var Che=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],khe=Che.reduce((t,e)=>{const r=Pg(`Primitive.${e}`),s=S.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),Ahe="Separator",V7="horizontal",Ehe=["horizontal","vertical"],Iq=S.forwardRef((t,e)=>{const{decorative:r,orientation:s=V7,...a}=t,i=Phe(s)?s:V7,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(khe.div,{"data-orientation":i,...l,...a,ref:e})});Iq.displayName=Ahe;function Phe(t){return Ehe.includes(t)}var The=Iq;function tt({className:t,orientation:e="horizontal",decorative:r=!0,...s}){return n.jsx(The,{"data-slot":"separator-root",decorative:r,orientation:e,className:nr("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...s})}function U1(t,[e,r]){return Math.min(r,Math.max(e,t))}function Ohe(t,e){return S.useReducer((r,s)=>e[r][s]??r,t)}var QP="ScrollArea",[$q]=Mo(QP),[Ihe,Qc]=$q(QP),Dq=S.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=t,[l,c]=S.useState(null),[d,u]=S.useState(null),[h,f]=S.useState(null),[m,y]=S.useState(null),[g,v]=S.useState(null),[b,w]=S.useState(0),[N,_]=S.useState(0),[C,E]=S.useState(!1),[A,I]=S.useState(!1),$=Zr(e,P=>c(P)),O=u0(a);return n.jsx(Ihe,{scope:r,type:s,dir:O,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:C,onScrollbarXEnabledChange:E,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:A,onScrollbarYEnabledChange:I,onCornerWidthChange:w,onCornerHeightChange:_,children:n.jsx(Tr.div,{dir:O,...o,ref:$,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":N+"px",...t.style}})})});Dq.displayName=QP;var Mq="ScrollAreaViewport",Rq=S.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:s,nonce:a,...i}=t,o=Qc(Mq,r),l=S.useRef(null),c=Zr(e,l,o.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(Tr.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:n.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});Rq.displayName=Mq;var Gu="ScrollAreaScrollbar",Lq=S.forwardRef((t,e)=>{const{forceMount:r,...s}=t,a=Qc(Gu,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=t.orientation==="horizontal";return S.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?n.jsx($he,{...s,ref:e,forceMount:r}):a.type==="scroll"?n.jsx(Dhe,{...s,ref:e,forceMount:r}):a.type==="auto"?n.jsx(Fq,{...s,ref:e,forceMount:r}):a.type==="always"?n.jsx(eT,{...s,ref:e}):null});Lq.displayName=Gu;var $he=S.forwardRef((t,e)=>{const{forceMount:r,...s}=t,a=Qc(Gu,t.__scopeScrollArea),[i,o]=S.useState(!1);return S.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(fo,{present:r||i,children:n.jsx(Fq,{"data-state":i?"visible":"hidden",...s,ref:e})})}),Dhe=S.forwardRef((t,e)=>{const{forceMount:r,...s}=t,a=Qc(Gu,t.__scopeScrollArea),i=t.orientation==="horizontal",o=ON(()=>c("SCROLL_END"),100),[l,c]=Ohe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),S.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const f=()=>{const m=d[u];h!==m&&(c("SCROLL"),o()),h=m};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[a.viewport,i,c,o]),n.jsx(fo,{present:r||l!=="hidden",children:n.jsx(eT,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:Vt(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Vt(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Fq=S.forwardRef((t,e)=>{const r=Qc(Gu,t.__scopeScrollArea),{forceMount:s,...a}=t,[i,o]=S.useState(!1),l=t.orientation==="horizontal",c=ON(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return Xx(r.viewport,c),Xx(r.content,c),n.jsx(fo,{present:s||i,children:n.jsx(eT,{"data-state":i?"visible":"hidden",...a,ref:e})})}),eT=S.forwardRef((t,e)=>{const{orientation:r="vertical",...s}=t,a=Qc(Gu,t.__scopeScrollArea),i=S.useRef(null),o=S.useRef(0),[l,c]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Wq(l.viewport,l.content),u={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return Uhe(f,o.current,l,m)}return r==="horizontal"?n.jsx(Mhe,{...u,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollLeft,m=W7(f,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=h(f,a.dir))}}):r==="vertical"?n.jsx(Rhe,{...u,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollTop,m=W7(f,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=h(f))}}):null}),Mhe=S.forwardRef((t,e)=>{const{sizes:r,onSizesChange:s,...a}=t,i=Qc(Gu,t.__scopeScrollArea),[o,l]=S.useState(),c=S.useRef(null),d=Zr(e,c,i.onScrollbarXChange);return S.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(Uq,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":TN(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(f),qq(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Hw(o.paddingLeft),paddingEnd:Hw(o.paddingRight)}})}})}),Rhe=S.forwardRef((t,e)=>{const{sizes:r,onSizesChange:s,...a}=t,i=Qc(Gu,t.__scopeScrollArea),[o,l]=S.useState(),c=S.useRef(null),d=Zr(e,c,i.onScrollbarYChange);return S.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(Uq,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":TN(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(f),qq(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Hw(o.paddingTop),paddingEnd:Hw(o.paddingBottom)}})}})}),[Lhe,Bq]=$q(Gu),Uq=S.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...f}=t,m=Qc(Gu,r),[y,g]=S.useState(null),v=Zr(e,$=>g($)),b=S.useRef(null),w=S.useRef(""),N=m.viewport,_=s.content-s.viewport,C=Ki(u),E=Ki(c),A=ON(h,10);function I($){if(b.current){const O=$.clientX-b.current.left,P=$.clientY-b.current.top;d({x:O,y:P})}}return S.useEffect(()=>{const $=O=>{const P=O.target;y?.contains(P)&&C(O,_)};return document.addEventListener("wheel",$,{passive:!1}),()=>document.removeEventListener("wheel",$,{passive:!1})},[N,y,_,C]),S.useEffect(E,[s,E]),Xx(y,A),Xx(m.content,A),n.jsx(Lhe,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:Ki(i),onThumbPointerUp:Ki(o),onThumbPositionChange:E,onThumbPointerDown:Ki(l),children:n.jsx(Tr.div,{...f,ref:v,style:{position:"absolute",...f.style},onPointerDown:Vt(t.onPointerDown,$=>{$.button===0&&($.target.setPointerCapture($.pointerId),b.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),I($))}),onPointerMove:Vt(t.onPointerMove,I),onPointerUp:Vt(t.onPointerUp,$=>{const O=$.target;O.hasPointerCapture($.pointerId)&&O.releasePointerCapture($.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),Ww="ScrollAreaThumb",zq=S.forwardRef((t,e)=>{const{forceMount:r,...s}=t,a=Bq(Ww,t.__scopeScrollArea);return n.jsx(fo,{present:r||a.hasThumb,children:n.jsx(Fhe,{ref:e,...s})})}),Fhe=S.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:s,...a}=t,i=Qc(Ww,r),o=Bq(Ww,r),{onThumbPositionChange:l}=o,c=Zr(e,h=>o.onThumbChange(h)),d=S.useRef(void 0),u=ON(()=>{d.current&&(d.current(),d.current=void 0)},100);return S.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(u(),!d.current){const m=zhe(h,l);d.current=m,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,u,l]),n.jsx(Tr.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Vt(t.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),y=h.clientX-m.left,g=h.clientY-m.top;o.onThumbPointerDown({x:y,y:g})}),onPointerUp:Vt(t.onPointerUp,o.onThumbPointerUp)})});zq.displayName=Ww;var tT="ScrollAreaCorner",Vq=S.forwardRef((t,e)=>{const r=Qc(tT,t.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?n.jsx(Bhe,{...t,ref:e}):null});Vq.displayName=tT;var Bhe=S.forwardRef((t,e)=>{const{__scopeScrollArea:r,...s}=t,a=Qc(tT,r),[i,o]=S.useState(0),[l,c]=S.useState(0),d=!!(i&&l);return Xx(a.scrollbarX,()=>{const u=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(u),c(u)}),Xx(a.scrollbarY,()=>{const u=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(u),o(u)}),d?n.jsx(Tr.div,{...s,ref:e,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Hw(t){return t?parseInt(t,10):0}function Wq(t,e){const r=t/e;return isNaN(r)?0:r}function TN(t){const e=Wq(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-r)*e;return Math.max(s,18)}function Uhe(t,e,r,s="ltr"){const a=TN(r),i=a/2,o=e||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,h=s==="ltr"?[0,u]:[u*-1,0];return Hq([c,d],h)(t)}function W7(t,e,r="ltr"){const s=TN(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-a,o=e.content-e.viewport,l=i-s,c=r==="ltr"?[0,o]:[o*-1,0],d=U1(t,c);return Hq([0,o],[0,l])(d)}function Hq(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(r-t[0])}}function qq(t,e){return t>0&&t<e}var zhe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},s=0;return(function a(){const i={left:t.scrollLeft,top:t.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&e(),r=i,s=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(s)};function ON(t,e){const r=Ki(t),s=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(s.current),[]),S.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,e)},[r,e])}function Xx(t,e){const r=Ki(e);ti(()=>{let s=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(s),a.unobserve(t)}}},[t,r])}var Vhe=Dq,Whe=Rq,Hhe=Vq;function Ps({className:t,children:e,...r}){return n.jsxs(Vhe,{"data-slot":"scroll-area",className:nr("relative",t),...r,children:[n.jsx(Whe,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),n.jsx(qhe,{}),n.jsx(Hhe,{})]})}function qhe({className:t,orientation:e="vertical",...r}){return n.jsx(Lq,{"data-slot":"scroll-area-scrollbar",orientation:e,className:nr("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...r,children:n.jsx(zq,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function Ghe({onNavigate:t=()=>{}}){const{theme:e}=fn(),r=e==="dark",{notifications:s,unreadCount:a,markAsRead:i,markAllAsRead:o,deleteNotification:l}=JP(),[c,d]=S.useState(!1),u=s.slice(0,10),h=b=>{const w=r?"text-[#a3a3a3]":"text-gray-600";switch(b){case"booking":return n.jsx(Nn,{className:`w-4 h-4 ${w}`});case"payment":return n.jsx(fa,{className:`w-4 h-4 ${w}`});case"cancellation":return n.jsx(In,{className:`w-4 h-4 ${w}`});case"customer":return n.jsx(am,{className:`w-4 h-4 ${w}`});case"alert":return n.jsx(Dw,{className:`w-4 h-4 ${w}`});case"message":return n.jsx(ei,{className:`w-4 h-4 ${w}`});case"system":return n.jsx(rs,{className:`w-4 h-4 ${w}`});default:return n.jsx(uo,{className:`w-4 h-4 ${w}`})}},f=b=>{switch(b){case"urgent":return r?"bg-red-500/20 border-red-500/40":"bg-red-50 border-red-200";case"high":return r?"bg-orange-500/20 border-orange-500/40":"bg-orange-50 border-orange-200";case"medium":return r?"bg-blue-500/20 border-blue-500/40":"bg-blue-50 border-blue-200";case"low":return r?"bg-gray-500/20 border-gray-500/40":"bg-gray-50 border-gray-200";default:return r?"bg-gray-500/20 border-gray-500/40":"bg-gray-50 border-gray-200"}},m=b=>{const w=new Date,N=new Date(b),_=w.getTime()-N.getTime(),C=Math.floor(_/6e4),E=Math.floor(_/36e5),A=Math.floor(_/864e5);return C<1?"Just now":C<60?`${C}m ago`:E<24?`${E}h ago`:A<7?`${A}d ago`:N.toLocaleDateString()},y=b=>{if(i(b.id),b.actionUrl&&t){const N={"/bookings":"bookings","/payment-history":"payment-history","/customers":"customers","/games":"games","/staff":"staff","/reports":"reports"}[b.actionUrl]||"dashboard";t(N),d(!1)}},g=b=>{b.stopPropagation(),o()},v=(b,w)=>{b.stopPropagation(),l(w)};return n.jsxs(Cs,{open:c,onOpenChange:d,children:[n.jsx(ks,{asChild:!0,children:n.jsxs(J,{variant:"ghost",size:"icon",className:`relative ${r?"hover:bg-[#1e1e1e]":"hover:bg-gray-100"}`,children:[n.jsx(uo,{className:`w-5 h-5 ${r?"text-[#a3a3a3]":"text-gray-600"}`}),a>0&&n.jsx(ze,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-[#4f46e5] text-white text-xs border-0",children:a>9?"9+":a})]})}),n.jsxs(As,{align:"end",sideOffset:8,className:`w-screen sm:w-[420px] max-w-[420px] p-0 ${r?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white border-gray-200"} sm:mr-0`,children:[n.jsx("div",{className:`p-3 sm:p-4 border-b ${r?"border-[#2a2a2a]":"border-gray-200"}`,children:n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:`font-semibold text-base sm:text-lg ${r?"text-white":"text-gray-900"}`,children:"Notifications"}),a>0&&n.jsx(ze,{className:"bg-[#4f46e5] text-white text-xs px-2 py-0.5 border-0",children:a})]}),a>0&&n.jsxs(J,{variant:"ghost",size:"sm",onClick:g,className:`h-8 text-xs gap-1 flex-shrink-0 ${r?"text-[#a3a3a3] hover:text-white hover:bg-[#161616]":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(cW,{className:"w-3.5 h-3.5 sm:w-3 sm:h-3"}),n.jsx("span",{className:"hidden sm:inline",children:"Mark all read"})]})]})}),n.jsx(Ps,{className:"h-[60vh] sm:h-[400px] max-h-[500px]",children:u.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-[200px] text-center px-4",children:[n.jsx(uo,{className:`w-10 h-10 sm:w-12 sm:h-12 mb-3 ${r?"text-[#2a2a2a]":"text-gray-300"}`}),n.jsx("p",{className:`text-sm ${r?"text-[#737373]":"text-gray-500"}`,children:"No notifications yet"})]}):n.jsx("div",{className:"divide-y",style:{borderColor:r?"#2a2a2a":"#e5e7eb"},children:u.map(b=>n.jsx("div",{onClick:()=>y(b),className:`p-3 sm:p-4 cursor-pointer transition-colors active:scale-[0.98] ${b.read?r?"hover:bg-[#161616]":"hover:bg-gray-50":r?"bg-[#161616] hover:bg-[#1a1a1a]":"bg-blue-50 hover:bg-blue-100"}`,children:n.jsxs("div",{className:"flex gap-2.5 sm:gap-3",children:[n.jsx("div",{className:`w-9 h-9 sm:w-10 sm:h-10 rounded-full flex items-center justify-center flex-shrink-0 border ${f(b.priority)}`,children:h(b.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2 mb-0.5 sm:mb-1",children:[n.jsx("h4",{className:`text-sm leading-tight ${b.read?r?"text-[#a3a3a3]":"text-gray-700":r?"text-white":"text-gray-900 font-medium"}`,children:b.title}),!b.read&&n.jsx("div",{className:"w-2 h-2 rounded-full bg-[#4f46e5] flex-shrink-0 mt-1"})]}),n.jsx("p",{className:`text-xs sm:text-sm mb-2 line-clamp-2 ${r?"text-[#737373]":"text-gray-600"}`,children:b.message}),n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("span",{className:`text-xs flex-shrink-0 ${r?"text-[#737373]":"text-gray-500"}`,children:m(b.timestamp)}),n.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[b.actionLabel&&n.jsxs(J,{variant:"ghost",size:"sm",className:`h-7 sm:h-6 text-xs gap-0.5 sm:gap-1 px-1.5 sm:px-2 ${r?"text-[#4f46e5] hover:bg-[#1a1a1a]":"text-blue-600 hover:bg-blue-50"}`,children:[n.jsx("span",{className:"truncate max-w-[60px] sm:max-w-none",children:b.actionLabel}),n.jsx(Ds,{className:"w-3 h-3 flex-shrink-0"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:w=>v(w,b.id),className:`h-7 w-7 sm:h-6 sm:w-6 p-0 ${r?"text-[#737373] hover:text-red-400 hover:bg-[#1a1a1a]":"text-gray-400 hover:text-red-600 hover:bg-gray-100"}`,children:n.jsx(Dn,{className:"w-3.5 h-3.5 sm:w-3 sm:h-3"})})]})]})]})]})},b.id))})}),u.length>0&&n.jsxs(n.Fragment,{children:[n.jsx(tt,{className:r?"bg-[#2a2a2a]":"bg-gray-200"}),n.jsx("div",{className:"p-2 sm:p-3",children:n.jsx(J,{variant:"ghost",className:`w-full justify-center text-sm h-10 sm:h-9 ${r?"text-[#4f46e5] hover:bg-[#161616]":"text-blue-600 hover:bg-blue-50"}`,onClick:()=>{t&&(t("notifications"),d(!1))},children:"View all notifications"})})]})]})]})}function Khe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const Yhe=t=>{switch(t){case"success":return Jhe;case"info":return efe;case"warning":return Qhe;case"error":return tfe;default:return null}},Xhe=Array(12).fill(0),Zhe=({visible:t,className:e})=>fe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},fe.createElement("div",{className:"sonner-spinner"},Xhe.map((r,s)=>fe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Jhe=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Qhe=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),efe=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tfe=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rfe=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},fe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),fe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),nfe=()=>{const[t,e]=fe.useState(document.hidden);return fe.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let Uk=1;class sfe{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:s,...a}=e,i=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:Uk++,o=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:s}),{...c,...e,id:i,dismissible:l,title:s}):c):this.addToast({title:s,...a,dismissible:l,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(s=>s({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let s;r.loading!==void 0&&(s=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let i=s!==void 0,o;const l=a.then(async d=>{if(o=["resolve",d],fe.isValidElement(d))i=!1,this.create({id:s,type:"default",message:d});else if(ife(d)&&!d.ok){i=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${d.status}`):r.error,f=typeof r.description=="function"?await r.description(`HTTP error! status: ${d.status}`):r.description,y=typeof h=="object"&&!fe.isValidElement(h)?h:{message:h};this.create({id:s,type:"error",description:f,...y})}else if(d instanceof Error){i=!1;const h=typeof r.error=="function"?await r.error(d):r.error,f=typeof r.description=="function"?await r.description(d):r.description,y=typeof h=="object"&&!fe.isValidElement(h)?h:{message:h};this.create({id:s,type:"error",description:f,...y})}else if(r.success!==void 0){i=!1;const h=typeof r.success=="function"?await r.success(d):r.success,f=typeof r.description=="function"?await r.description(d):r.description,y=typeof h=="object"&&!fe.isValidElement(h)?h:{message:h};this.create({id:s,type:"success",description:f,...y})}}).catch(async d=>{if(o=["reject",d],r.error!==void 0){i=!1;const u=typeof r.error=="function"?await r.error(d):r.error,h=typeof r.description=="function"?await r.description(d):r.description,m=typeof u=="object"&&!fe.isValidElement(u)?u:{message:u};this.create({id:s,type:"error",description:h,...m})}}).finally(()=>{i&&(this.dismiss(s),s=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((d,u)=>l.then(()=>o[0]==="reject"?u(o[1]):d(o[1])).catch(u));return typeof s!="string"&&typeof s!="number"?{unwrap:c}:Object.assign(s,{unwrap:c})},this.custom=(e,r)=>{const s=r?.id||Uk++;return this.create({jsx:e(s),id:s,...r}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Cl=new sfe,afe=(t,e)=>{const r=e?.id||Uk++;return Cl.addToast({title:t,...e,id:r}),r},ife=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",ofe=afe,lfe=()=>Cl.toasts,cfe=()=>Cl.getActiveToasts(),me=Object.assign(ofe,{success:Cl.success,info:Cl.info,warning:Cl.warning,error:Cl.error,custom:Cl.custom,message:Cl.message,promise:Cl.promise,dismiss:Cl.dismiss,loading:Cl.loading},{getHistory:lfe,getToasts:cfe});Khe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function v2(t){return t.label!==void 0}const dfe=3,ufe="24px",hfe="16px",H7=4e3,ffe=356,mfe=14,pfe=45,xfe=200;function mu(...t){return t.filter(Boolean).join(" ")}function gfe(t){const[e,r]=t.split("-"),s=[];return e&&s.push(e),r&&s.push(r),s}const vfe=t=>{var e,r,s,a,i,o,l,c,d;const{invert:u,toast:h,unstyled:f,interacting:m,setHeights:y,visibleToasts:g,heights:v,index:b,toasts:w,expanded:N,removeToast:_,defaultRichColors:C,closeButton:E,style:A,cancelButtonStyle:I,actionButtonStyle:$,className:O="",descriptionClassName:P="",duration:M,position:R,gap:W,expandByDefault:Y,classNames:K,icons:L,closeButtonAriaLabel:F="Close toast"}=t,[ee,se]=fe.useState(null),[q,z]=fe.useState(null),[Z,X]=fe.useState(!1),[Q,ne]=fe.useState(!1),[ce,ie]=fe.useState(!1),[pe,ae]=fe.useState(!1),[be,we]=fe.useState(!1),[Ie,Ee]=fe.useState(0),[H,Le]=fe.useState(0),Ye=fe.useRef(h.duration||M||H7),xt=fe.useRef(null),qe=fe.useRef(null),ft=b===0,ke=b+1<=g,lt=h.type,Ve=h.dismissible!==!1,Ke=h.className||"",yt=h.descriptionClassName||"",Mt=fe.useMemo(()=>v.findIndex(_t=>_t.toastId===h.id)||0,[v,h.id]),Gt=fe.useMemo(()=>{var _t;return(_t=h.closeButton)!=null?_t:E},[h.closeButton,E]),qt=fe.useMemo(()=>h.duration||M||H7,[h.duration,M]),At=fe.useRef(0),Dt=fe.useRef(0),Nt=fe.useRef(0),$r=fe.useRef(null),[Or,Ht]=R.split("-"),bt=fe.useMemo(()=>v.reduce((_t,Lr,Ze)=>Ze>=Mt?_t:_t+Lr.height,0),[v,Mt]),an=nfe(),er=h.invert||u,$e=lt==="loading";Dt.current=fe.useMemo(()=>Mt*W+bt,[Mt,bt]),fe.useEffect(()=>{Ye.current=qt},[qt]),fe.useEffect(()=>{X(!0)},[]),fe.useEffect(()=>{const _t=qe.current;if(_t){const Lr=_t.getBoundingClientRect().height;return Le(Lr),y(Ze=>[{toastId:h.id,height:Lr,position:h.position},...Ze]),()=>y(Ze=>Ze.filter(Ae=>Ae.toastId!==h.id))}},[y,h.id]),fe.useLayoutEffect(()=>{if(!Z)return;const _t=qe.current,Lr=_t.style.height;_t.style.height="auto";const Ze=_t.getBoundingClientRect().height;_t.style.height=Lr,Le(Ze),y(Ae=>Ae.find(He=>He.toastId===h.id)?Ae.map(He=>He.toastId===h.id?{...He,height:Ze}:He):[{toastId:h.id,height:Ze,position:h.position},...Ae])},[Z,h.title,h.description,y,h.id,h.jsx,h.action,h.cancel]);const nt=fe.useCallback(()=>{ne(!0),Ee(Dt.current),y(_t=>_t.filter(Lr=>Lr.toastId!==h.id)),setTimeout(()=>{_(h)},xfe)},[h,_,y,Dt]);fe.useEffect(()=>{if(h.promise&&lt==="loading"||h.duration===1/0||h.type==="loading")return;let _t;return N||m||an?(()=>{if(Nt.current<At.current){const Ae=new Date().getTime()-At.current;Ye.current=Ye.current-Ae}Nt.current=new Date().getTime()})():(()=>{Ye.current!==1/0&&(At.current=new Date().getTime(),_t=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),nt()},Ye.current))})(),()=>clearTimeout(_t)},[N,m,h,lt,an,nt]),fe.useEffect(()=>{h.delete&&(nt(),h.onDismiss==null||h.onDismiss.call(h,h))},[nt,h.delete]);function sr(){var _t;if(L?.loading){var Lr;return fe.createElement("div",{className:mu(K?.loader,h==null||(Lr=h.classNames)==null?void 0:Lr.loader,"sonner-loader"),"data-visible":lt==="loading"},L.loading)}return fe.createElement(Zhe,{className:mu(K?.loader,h==null||(_t=h.classNames)==null?void 0:_t.loader),visible:lt==="loading"})}const dr=h.icon||L?.[lt]||Yhe(lt);var Rr,Jt;return fe.createElement("li",{tabIndex:0,ref:qe,className:mu(O,Ke,K?.toast,h==null||(e=h.classNames)==null?void 0:e.toast,K?.default,K?.[lt],h==null||(r=h.classNames)==null?void 0:r[lt]),"data-sonner-toast":"","data-rich-colors":(Rr=h.richColors)!=null?Rr:C,"data-styled":!(h.jsx||h.unstyled||f),"data-mounted":Z,"data-promise":!!h.promise,"data-swiped":be,"data-removed":Q,"data-visible":ke,"data-y-position":Or,"data-x-position":Ht,"data-index":b,"data-front":ft,"data-swiping":ce,"data-dismissible":Ve,"data-type":lt,"data-invert":er,"data-swipe-out":pe,"data-swipe-direction":q,"data-expanded":!!(N||Y&&Z),"data-testid":h.testId,style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${Q?Ie:Dt.current}px`,"--initial-height":Y?"auto":`${H}px`,...A,...h.style},onDragEnd:()=>{ie(!1),se(null),$r.current=null},onPointerDown:_t=>{_t.button!==2&&($e||!Ve||(xt.current=new Date,Ee(Dt.current),_t.target.setPointerCapture(_t.pointerId),_t.target.tagName!=="BUTTON"&&(ie(!0),$r.current={x:_t.clientX,y:_t.clientY})))},onPointerUp:()=>{var _t,Lr,Ze;if(pe||!Ve)return;$r.current=null;const Ae=Number(((_t=qe.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),wt=Number(((Lr=qe.current)==null?void 0:Lr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),He=new Date().getTime()-((Ze=xt.current)==null?void 0:Ze.getTime()),jt=ee==="x"?Ae:wt,fr=Math.abs(jt)/He;if(Math.abs(jt)>=pfe||fr>.11){Ee(Dt.current),h.onDismiss==null||h.onDismiss.call(h,h),z(ee==="x"?Ae>0?"right":"left":wt>0?"down":"up"),nt(),ae(!0);return}else{var on,En;(on=qe.current)==null||on.style.setProperty("--swipe-amount-x","0px"),(En=qe.current)==null||En.style.setProperty("--swipe-amount-y","0px")}we(!1),ie(!1),se(null)},onPointerMove:_t=>{var Lr,Ze,Ae;if(!$r.current||!Ve||((Lr=window.getSelection())==null?void 0:Lr.toString().length)>0)return;const He=_t.clientY-$r.current.y,jt=_t.clientX-$r.current.x;var fr;const on=(fr=t.swipeDirections)!=null?fr:gfe(R);!ee&&(Math.abs(jt)>1||Math.abs(He)>1)&&se(Math.abs(jt)>Math.abs(He)?"x":"y");let En={x:0,y:0};const pn=Dr=>1/(1.5+Math.abs(Dr)/20);if(ee==="y"){if(on.includes("top")||on.includes("bottom"))if(on.includes("top")&&He<0||on.includes("bottom")&&He>0)En.y=He;else{const Dr=He*pn(He);En.y=Math.abs(Dr)<Math.abs(He)?Dr:He}}else if(ee==="x"&&(on.includes("left")||on.includes("right")))if(on.includes("left")&&jt<0||on.includes("right")&&jt>0)En.x=jt;else{const Dr=jt*pn(jt);En.x=Math.abs(Dr)<Math.abs(jt)?Dr:jt}(Math.abs(En.x)>0||Math.abs(En.y)>0)&&we(!0),(Ze=qe.current)==null||Ze.style.setProperty("--swipe-amount-x",`${En.x}px`),(Ae=qe.current)==null||Ae.style.setProperty("--swipe-amount-y",`${En.y}px`)}},Gt&&!h.jsx&&lt!=="loading"?fe.createElement("button",{"aria-label":F,"data-disabled":$e,"data-close-button":!0,onClick:$e||!Ve?()=>{}:()=>{nt(),h.onDismiss==null||h.onDismiss.call(h,h)},className:mu(K?.closeButton,h==null||(s=h.classNames)==null?void 0:s.closeButton)},(Jt=L?.close)!=null?Jt:rfe):null,(lt||h.icon||h.promise)&&h.icon!==null&&(L?.[lt]!==null||h.icon)?fe.createElement("div",{"data-icon":"",className:mu(K?.icon,h==null||(a=h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||sr():null,h.type!=="loading"?dr:null):null,fe.createElement("div",{"data-content":"",className:mu(K?.content,h==null||(i=h.classNames)==null?void 0:i.content)},fe.createElement("div",{"data-title":"",className:mu(K?.title,h==null||(o=h.classNames)==null?void 0:o.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?fe.createElement("div",{"data-description":"",className:mu(P,yt,K?.description,h==null||(l=h.classNames)==null?void 0:l.description)},typeof h.description=="function"?h.description():h.description):null),fe.isValidElement(h.cancel)?h.cancel:h.cancel&&v2(h.cancel)?fe.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||I,onClick:_t=>{v2(h.cancel)&&Ve&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,_t),nt())},className:mu(K?.cancelButton,h==null||(c=h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,fe.isValidElement(h.action)?h.action:h.action&&v2(h.action)?fe.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||$,onClick:_t=>{v2(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,_t),!_t.defaultPrevented&&nt())},className:mu(K?.actionButton,h==null||(d=h.classNames)==null?void 0:d.actionButton)},h.action.label):null)};function q7(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function yfe(t,e){const r={};return[t,e].forEach((s,a)=>{const i=a===1,o=i?"--mobile-offset":"--offset",l=i?hfe:ufe;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(d=>{s[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof s[d]=="number"?`${s[d]}px`:s[d]}):c(l)}),r}const bfe=fe.forwardRef(function(e,r){const{id:s,invert:a,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:d,offset:u,mobileOffset:h,theme:f="light",richColors:m,duration:y,style:g,visibleToasts:v=dfe,toastOptions:b,dir:w=q7(),gap:N=mfe,icons:_,containerAriaLabel:C="Notifications"}=e,[E,A]=fe.useState([]),I=fe.useMemo(()=>s?E.filter(Z=>Z.toasterId===s):E.filter(Z=>!Z.toasterId),[E,s]),$=fe.useMemo(()=>Array.from(new Set([i].concat(I.filter(Z=>Z.position).map(Z=>Z.position)))),[I,i]),[O,P]=fe.useState([]),[M,R]=fe.useState(!1),[W,Y]=fe.useState(!1),[K,L]=fe.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=fe.useRef(null),ee=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),se=fe.useRef(null),q=fe.useRef(!1),z=fe.useCallback(Z=>{A(X=>{var Q;return(Q=X.find(ne=>ne.id===Z.id))!=null&&Q.delete||Cl.dismiss(Z.id),X.filter(({id:ne})=>ne!==Z.id)})},[]);return fe.useEffect(()=>Cl.subscribe(Z=>{if(Z.dismiss){requestAnimationFrame(()=>{A(X=>X.map(Q=>Q.id===Z.id?{...Q,delete:!0}:Q))});return}setTimeout(()=>{MW.flushSync(()=>{A(X=>{const Q=X.findIndex(ne=>ne.id===Z.id);return Q!==-1?[...X.slice(0,Q),{...X[Q],...Z},...X.slice(Q+1)]:[Z,...X]})})})}),[E]),fe.useEffect(()=>{if(f!=="system"){L(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;const Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:X})=>{L(X?"dark":"light")})}catch{Z.addListener(({matches:Q})=>{try{L(Q?"dark":"light")}catch(ne){console.error(ne)}})}},[f]),fe.useEffect(()=>{E.length<=1&&R(!1)},[E]),fe.useEffect(()=>{const Z=X=>{var Q;if(o.every(ie=>X[ie]||X.code===ie)){var ce;R(!0),(ce=F.current)==null||ce.focus()}X.code==="Escape"&&(document.activeElement===F.current||(Q=F.current)!=null&&Q.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[o]),fe.useEffect(()=>{if(F.current)return()=>{se.current&&(se.current.focus({preventScroll:!0}),se.current=null,q.current=!1)}},[F.current]),fe.createElement("section",{ref:r,"aria-label":`${C} ${ee}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},$.map((Z,X)=>{var Q;const[ne,ce]=Z.split("-");return I.length?fe.createElement("ol",{key:Z,dir:w==="auto"?q7():w,tabIndex:-1,ref:F,className:d,"data-sonner-toaster":!0,"data-sonner-theme":K,"data-y-position":ne,"data-x-position":ce,style:{"--front-toast-height":`${((Q=O[0])==null?void 0:Q.height)||0}px`,"--width":`${ffe}px`,"--gap":`${N}px`,...g,...yfe(u,h)},onBlur:ie=>{q.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(q.current=!1,se.current&&(se.current.focus({preventScroll:!0}),se.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||q.current||(q.current=!0,se.current=ie.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{W||R(!1)},onDragEnd:()=>R(!1),onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||Y(!0)},onPointerUp:()=>Y(!1)},I.filter(ie=>!ie.position&&X===0||ie.position===Z).map((ie,pe)=>{var ae,be;return fe.createElement(vfe,{key:ie.id,icons:_,index:pe,toast:ie,defaultRichColors:m,duration:(ae=b?.duration)!=null?ae:y,className:b?.className,descriptionClassName:b?.descriptionClassName,invert:a,visibleToasts:v,closeButton:(be=b?.closeButton)!=null?be:c,interacting:W,position:Z,style:b?.style,unstyled:b?.unstyled,classNames:b?.classNames,cancelButtonStyle:b?.cancelButtonStyle,actionButtonStyle:b?.actionButtonStyle,closeButtonAriaLabel:b?.closeButtonAriaLabel,removeToast:z,toasts:I.filter(we=>we.position==ie.position),heights:O.filter(we=>we.position==ie.position),setHeights:P,expandByDefault:l,gap:N,expanded:M,swipeDirections:e.swipeDirections})})):null}))}),IN="/assets/00e8f72492f468a73fc822a8f3b89537848df6aa-0xMsBHsB.png";function wfe({onNavigate:t,onMobileMenuToggle:e}){const{currentUser:r,logout:s}=il(),[a,i]=S.useState(!1),[o,l]=S.useState(""),c=S.useRef(null),d=async()=>{try{await s(),me.success("Logged out successfully")}catch(g){console.error("Logout error:",g),me.error("Failed to logout")}},u=()=>{i(!a)};S.useEffect(()=>{a&&c.current&&setTimeout(()=>{c.current?.focus()},100)},[a]);const h=g=>{g.preventDefault(),o.trim()&&(me.success(`Searching for: ${o}`),i(!1),l(""))};S.useEffect(()=>{const g=v=>{v.key==="Escape"&&a&&(i(!1),l(""))};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[a]);const f=g=>g.split(" ").map(v=>v[0]).join("").toUpperCase().slice(0,2),m=g=>{switch(g){case"super-admin":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";case"admin":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"manager":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"staff":return"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},y=g=>g.split("-").map(v=>v.charAt(0).toUpperCase()+v.slice(1)).join(" ");return n.jsxs("header",{className:"h-16 bg-white dark:bg-[#0a0a0a] border-b border-gray-200 dark:border-[#1e1e1e] fixed top-0 right-0 left-0 lg:left-64 z-30 transition-colors",children:[n.jsxs("div",{className:"h-full px-4 sm:px-6 flex items-center justify-between gap-3",children:[n.jsx(J,{variant:"ghost",size:"icon",className:"lg:hidden hover:bg-gray-100 dark:hover:bg-[#161616]",onClick:e,children:n.jsx(vW,{className:"w-5 h-5 text-gray-600 dark:text-[#737373]"})}),n.jsx("div",{className:"flex-1 max-w-md hidden sm:block",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-[#737373]"}),n.jsx(ge,{type:"search",placeholder:"Search bookings, games, staff...",className:"h-10 pl-10 bg-gray-100 border-gray-300 placeholder:text-gray-500 dark:bg-[#161616] dark:border-[#2a2a2a] dark:text-white dark:placeholder:text-[#737373]"})]})}),n.jsx(J,{variant:"ghost",size:"icon",className:"sm:hidden hover:bg-gray-100 dark:hover:bg-[#161616]",onClick:u,children:n.jsx(Ba,{className:"w-5 h-5 text-gray-600 dark:text-[#737373]"})}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[n.jsx(jhe,{}),n.jsx(Ghe,{onNavigate:t}),n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsxs(J,{variant:"ghost",className:"gap-2 px-2 sm:px-4 hover:bg-gray-100 dark:hover:bg-[#161616]",children:[n.jsxs(Th,{className:"w-8 h-8",children:[n.jsx(Oh,{src:r?.avatar||IN}),n.jsx(Ih,{className:"bg-[#4f46e5] text-white",children:r?f(r.name):"U"})]}),n.jsx("span",{className:"text-sm text-gray-700 dark:text-white hidden md:inline",children:r?.name||"User"}),n.jsx(Dd,{className:"w-4 h-4 text-gray-400 dark:text-[#737373] hidden sm:inline"})]})}),n.jsxs(As,{align:"end",className:"w-64 bg-white dark:bg-[#1e1e1e] border-gray-200 dark:border-[#2a2a2a]",children:[n.jsx(ohe,{className:"text-gray-900 dark:text-white",children:n.jsxs("div",{className:"flex flex-col space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r?.name||"User"}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-[#737373]",children:r?.email||""}),r?.role&&n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium w-fit ${m(r.role)}`,children:y(r.role)})]})}),n.jsx(Pu,{className:"bg-gray-200 dark:bg-[#2a2a2a]"}),n.jsx(Et,{onClick:()=>t("myaccount"),className:"text-gray-700 dark:text-[#d4d4d4] hover:bg-gray-100 dark:hover:bg-[#252525] cursor-pointer focus:bg-gray-100 dark:focus:bg-[#252525]",children:"My Account"}),n.jsx(Pu,{className:"bg-gray-200 dark:bg-[#2a2a2a]"}),n.jsx(Et,{onClick:()=>t("profile"),className:"text-gray-700 dark:text-[#d4d4d4] hover:bg-gray-100 dark:hover:bg-[#252525] cursor-pointer focus:bg-gray-100 dark:focus:bg-[#252525]",children:"Profile Settings"}),n.jsx(Et,{onClick:()=>t("billing"),className:"text-gray-700 dark:text-[#d4d4d4] hover:bg-gray-100 dark:hover:bg-[#252525] cursor-pointer focus:bg-gray-100 dark:focus:bg-[#252525]",children:"Billing"}),n.jsx(Et,{onClick:()=>t("team"),className:"text-gray-700 dark:text-[#d4d4d4] hover:bg-gray-100 dark:hover:bg-[#252525] cursor-pointer focus:bg-gray-100 dark:focus:bg-[#252525]",children:"Team"}),n.jsx(Pu,{className:"bg-gray-200 dark:bg-[#2a2a2a]"}),n.jsxs(Et,{onClick:d,className:"text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 cursor-pointer focus:bg-red-50 dark:focus:bg-red-900/20 flex items-center gap-2",children:[n.jsx(xW,{className:"w-4 h-4"}),"Logout"]})]})]})]})]}),a&&n.jsxs("div",{className:"fixed inset-0 z-50 sm:hidden bg-white dark:bg-[#0a0a0a] animate-in slide-in-from-top duration-200",children:[n.jsxs("div",{className:"h-16 border-b border-gray-200 dark:border-[#1e1e1e] flex items-center px-4 gap-3",children:[n.jsx(J,{variant:"ghost",size:"icon",onClick:()=>{i(!1),l("")},className:"flex-shrink-0 hover:bg-gray-100 dark:hover:bg-[#161616]",children:n.jsx(In,{className:"w-5 h-5 text-gray-600 dark:text-[#737373]"})}),n.jsx("form",{onSubmit:h,className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-[#737373]"}),n.jsx(ge,{ref:c,type:"search",placeholder:"Search bookings, games, staff...",value:o,onChange:g=>l(g.target.value),className:"pl-10 pr-4 h-11 bg-gray-100 border-gray-300 placeholder:text-gray-500 dark:bg-[#161616] dark:border-[#2a2a2a] dark:text-white dark:placeholder:text-[#737373] text-base rounded-lg",autoComplete:"off"})]})})]}),n.jsxs("div",{className:"p-4 space-y-4",children:[o===""&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-xs text-gray-500 dark:text-[#737373] uppercase tracking-wide",children:"Recent Searches"}),n.jsx("div",{className:"space-y-2",children:["Sarah Johnson","Mystery Manor","Today's bookings","Pending payments"].map((g,v)=>n.jsxs("button",{onClick:()=>l(g),className:"w-full text-left p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-[#161616] transition-colors flex items-center gap-3",children:[n.jsx(Ba,{className:"w-4 h-4 text-gray-400 dark:text-[#737373] flex-shrink-0"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:g})]},v))})]}),o===""&&n.jsxs("div",{className:"space-y-3 pt-2",children:[n.jsx("p",{className:"text-xs text-gray-500 dark:text-[#737373] uppercase tracking-wide",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("button",{className:"p-4 rounded-lg bg-gray-100 dark:bg-[#161616] text-left hover:bg-gray-200 dark:hover:bg-[#1e1e1e] transition-colors",children:[n.jsx("div",{className:"text-2xl mb-1",children:""}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:"New Booking"})]}),n.jsxs("button",{className:"p-4 rounded-lg bg-gray-100 dark:bg-[#161616] text-left hover:bg-gray-200 dark:hover:bg-[#1e1e1e] transition-colors",children:[n.jsx("div",{className:"text-2xl mb-1",children:""}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:"Customers"})]}),n.jsxs("button",{className:"p-4 rounded-lg bg-gray-100 dark:bg-[#161616] text-left hover:bg-gray-200 dark:hover:bg-[#1e1e1e] transition-colors",children:[n.jsx("div",{className:"text-2xl mb-1",children:""}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:"Games"})]}),n.jsxs("button",{className:"p-4 rounded-lg bg-gray-100 dark:bg-[#161616] text-left hover:bg-gray-200 dark:hover:bg-[#1e1e1e] transition-colors",children:[n.jsx("div",{className:"text-2xl mb-1",children:""}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:"Reports"})]})]})]}),o!==""&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-xs text-gray-500 dark:text-[#737373] uppercase tracking-wide",children:['Results for "',o,'"']}),n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ba,{className:"w-12 h-12 mx-auto text-gray-300 dark:text-[#404040] mb-3"}),n.jsx("p",{className:"text-gray-500 dark:text-[#737373]",children:"Press Enter to search"})]})]})]})]})]})}function jfe({currentPage:t,onNavigate:e=()=>{},onMenuOpen:r}){const s=[{id:"dashboard",label:"Home",icon:pW},{id:"bookings",label:"Bookings",icon:Nn},{id:"inbox",label:"Inbox",icon:mW},{id:"games",label:"Events",icon:I1}];return n.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-50 bg-white dark:bg-[#0a0a0a] border-t border-gray-200 dark:border-[#1e1e1e] safe-area-bottom",children:n.jsxs("nav",{className:"flex items-center justify-around px-2 py-2",children:[s.map(a=>{const i=a.icon,o=t===a.id;return n.jsxs("button",{onClick:()=>{e&&e(a.id)},className:`
                flex flex-col items-center gap-1 px-3 py-2 rounded-lg transition-all min-w-[64px]
                ${o?"bg-blue-600 dark:bg-[#4f46e5] text-white shadow-md shadow-blue-500/20 dark:shadow-[#4f46e5]/20":"text-gray-600 dark:text-[#737373] hover:bg-gray-100 dark:hover:bg-[#161616]"}
              `,children:[n.jsx(i,{className:`w-6 h-6 ${o?"scale-110":""} transition-transform`}),n.jsx("span",{className:"text-xs",children:a.label})]},a.id)}),n.jsxs("button",{onClick:r,className:"flex flex-col items-center gap-1 px-3 py-2 rounded-lg transition-all min-w-[64px] text-gray-600 dark:text-[#737373] hover:bg-gray-100 dark:hover:bg-[#161616]",children:[n.jsx(vW,{className:"w-6 h-6"}),n.jsx("span",{className:"text-xs",children:"More"})]})]})})}function Gq({children:t,currentPage:e,onNavigate:r}){const[s,a]=S.useState(!1);return n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-[#161616] transition-colors",children:[n.jsx(Doe,{currentPage:e,onNavigate:r,isMobileOpen:s,onMobileClose:()=>a(!1)}),n.jsx(wfe,{onNavigate:r,onMobileMenuToggle:()=>a(!s)}),n.jsx("main",{className:"lg:ml-64 pt-16 pb-20 lg:pb-0",children:n.jsx("div",{className:"p-4 sm:p-6 lg:p-8 max-w-[1920px] mx-auto",children:t})}),n.jsx(jfe,{currentPage:e,onNavigate:r,onMenuOpen:()=>a(!0)})]})}const Kq=S.createContext({});function Nfe(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const rT=typeof window<"u",Sfe=rT?S.useLayoutEffect:S.useEffect,nT=S.createContext(null);function sT(t,e){t.indexOf(e)===-1&&t.push(e)}function aT(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Hh=(t,e,r)=>r>e?e:r<t?t:r;let iT=()=>{};const qh={},Yq=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Xq(t){return typeof t=="object"&&t!==null}const Zq=t=>/^0[^.\s]+$/u.test(t);function oT(t){let e;return()=>(e===void 0&&(e=t()),e)}const Yc=t=>t,_fe=(t,e)=>r=>e(t(r)),Ky=(...t)=>t.reduce(_fe),z1=(t,e,r)=>{const s=e-t;return s===0?1:(r-t)/s};class lT{constructor(){this.subscriptions=[]}add(e){return sT(this.subscriptions,e),()=>aT(this.subscriptions,e)}notify(e,r,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Tu=t=>t*1e3,zc=t=>t/1e3;function Jq(t,e){return e?t*(1e3/e):0}const Qq=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Cfe=1e-7,kfe=12;function Afe(t,e,r,s,a){let i,o,l=0;do o=e+(r-e)/2,i=Qq(o,s,a)-t,i>0?r=o:e=o;while(Math.abs(i)>Cfe&&++l<kfe);return o}function Yy(t,e,r,s){if(t===e&&r===s)return Yc;const a=i=>Afe(i,0,1,t,r);return i=>i===0||i===1?i:Qq(a(i),e,s)}const eG=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tG=t=>e=>1-t(1-e),rG=Yy(.33,1.53,.69,.99),cT=tG(rG),nG=eG(cT),sG=t=>(t*=2)<1?.5*cT(t):.5*(2-Math.pow(2,-10*(t-1))),dT=t=>1-Math.sin(Math.acos(t)),aG=tG(dT),iG=eG(dT),Efe=Yy(.42,0,1,1),Pfe=Yy(0,0,.58,1),oG=Yy(.42,0,.58,1),Tfe=t=>Array.isArray(t)&&typeof t[0]!="number",lG=t=>Array.isArray(t)&&typeof t[0]=="number",Ofe={linear:Yc,easeIn:Efe,easeInOut:oG,easeOut:Pfe,circIn:dT,circInOut:iG,circOut:aG,backIn:cT,backInOut:nG,backOut:rG,anticipate:sG},Ife=t=>typeof t=="string",G7=t=>{if(lG(t)){iT(t.length===4);const[e,r,s,a]=t;return Yy(e,r,s,a)}else if(Ife(t))return Ofe[t];return t},y2=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function $fe(t,e){let r=new Set,s=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),t()),u(l)}const d={schedule:(u,h=!1,f=!1)=>{const y=f&&a?r:s;return h&&o.add(u),y.has(u)||y.add(u),u},cancel:u=>{s.delete(u),o.delete(u)},process:u=>{if(l=u,a){i=!0;return}a=!0,[r,s]=[s,r],r.forEach(c),r.clear(),a=!1,i&&(i=!1,d.process(u))}};return d}const Dfe=40;function cG(t,e){let r=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=y2.reduce((N,_)=>(N[_]=$fe(i),N),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:f,render:m,postRender:y}=o,g=()=>{const N=qh.useManualTiming?a.timestamp:performance.now();r=!1,qh.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(N-a.timestamp,Dfe),1)),a.timestamp=N,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),h.process(a),f.process(a),m.process(a),y.process(a),a.isProcessing=!1,r&&e&&(s=!1,t(g))},v=()=>{r=!0,s=!0,a.isProcessing||t(g)};return{schedule:y2.reduce((N,_)=>{const C=o[_];return N[_]=(E,A=!1,I=!1)=>(r||v(),C.schedule(E,A,I)),N},{}),cancel:N=>{for(let _=0;_<y2.length;_++)o[y2[_]].cancel(N)},state:a,steps:o}}const{schedule:ua,cancel:lm,state:co,steps:Z4}=cG(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yc,!0);let gw;function Mfe(){gw=void 0}const Pl={now:()=>(gw===void 0&&Pl.set(co.isProcessing||qh.useManualTiming?co.timestamp:performance.now()),gw),set:t=>{gw=t,queueMicrotask(Mfe)}},dG=t=>e=>typeof e=="string"&&e.startsWith(t),uT=dG("--"),Rfe=dG("var(--"),hT=t=>Rfe(t)?Lfe.test(t.split("/*")[0].trim()):!1,Lfe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Mg={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},V1={...Mg,transform:t=>Hh(0,1,t)},b2={...Mg,default:1},f1=t=>Math.round(t*1e5)/1e5,fT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ffe(t){return t==null}const Bfe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mT=(t,e)=>r=>!!(typeof r=="string"&&Bfe.test(r)&&r.startsWith(t)||e&&!Ffe(r)&&Object.prototype.hasOwnProperty.call(r,e)),uG=(t,e,r)=>s=>{if(typeof s!="string")return s;const[a,i,o,l]=s.match(fT);return{[t]:parseFloat(a),[e]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Ufe=t=>Hh(0,255,t),J4={...Mg,transform:t=>Math.round(Ufe(t))},wp={test:mT("rgb","red"),parse:uG("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:s=1})=>"rgba("+J4.transform(t)+", "+J4.transform(e)+", "+J4.transform(r)+", "+f1(V1.transform(s))+")"};function zfe(t){let e="",r="",s="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const zk={test:mT("#"),parse:zfe,transform:wp.transform},Xy=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zf=Xy("deg"),Ou=Xy("%"),tn=Xy("px"),Vfe=Xy("vh"),Wfe=Xy("vw"),K7={...Ou,parse:t=>Ou.parse(t)/100,transform:t=>Ou.transform(t*100)},yx={test:mT("hsl","hue"),parse:uG("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ou.transform(f1(e))+", "+Ou.transform(f1(r))+", "+f1(V1.transform(s))+")"},li={test:t=>wp.test(t)||zk.test(t)||yx.test(t),parse:t=>wp.test(t)?wp.parse(t):yx.test(t)?yx.parse(t):zk.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wp.transform(t):yx.transform(t),getAnimatableNone:t=>{const e=li.parse(t);return e.alpha=0,li.transform(e)}},Hfe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qfe(t){return isNaN(t)&&typeof t=="string"&&(t.match(fT)?.length||0)+(t.match(Hfe)?.length||0)>0}const hG="number",fG="color",Gfe="var",Kfe="var(",Y7="${}",Yfe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function W1(t){const e=t.toString(),r=[],s={color:[],number:[],var:[]},a=[];let i=0;const l=e.replace(Yfe,c=>(li.test(c)?(s.color.push(i),a.push(fG),r.push(li.parse(c))):c.startsWith(Kfe)?(s.var.push(i),a.push(Gfe),r.push(c)):(s.number.push(i),a.push(hG),r.push(parseFloat(c))),++i,Y7)).split(Y7);return{values:r,split:l,indexes:s,types:a}}function mG(t){return W1(t).values}function pG(t){const{split:e,types:r}=W1(t),s=e.length;return a=>{let i="";for(let o=0;o<s;o++)if(i+=e[o],a[o]!==void 0){const l=r[o];l===hG?i+=f1(a[o]):l===fG?i+=li.transform(a[o]):i+=a[o]}return i}}const Xfe=t=>typeof t=="number"?0:li.test(t)?li.getAnimatableNone(t):t;function Zfe(t){const e=mG(t);return pG(t)(e.map(Xfe))}const cm={test:qfe,parse:mG,createTransformer:pG,getAnimatableNone:Zfe};function Q4(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Jfe({hue:t,saturation:e,lightness:r,alpha:s}){t/=360,e/=100,r/=100;let a=0,i=0,o=0;if(!e)a=i=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;a=Q4(c,l,t+1/3),i=Q4(c,l,t),o=Q4(c,l,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function qw(t,e){return r=>r>0?e:t}const Ea=(t,e,r)=>t+(e-t)*r,e3=(t,e,r)=>{const s=t*t,a=r*(e*e-s)+s;return a<0?0:Math.sqrt(a)},Qfe=[zk,wp,yx],eme=t=>Qfe.find(e=>e.test(t));function X7(t){const e=eme(t);if(!e)return!1;let r=e.parse(t);return e===yx&&(r=Jfe(r)),r}const Z7=(t,e)=>{const r=X7(t),s=X7(e);if(!r||!s)return qw(t,e);const a={...r};return i=>(a.red=e3(r.red,s.red,i),a.green=e3(r.green,s.green,i),a.blue=e3(r.blue,s.blue,i),a.alpha=Ea(r.alpha,s.alpha,i),wp.transform(a))},Vk=new Set(["none","hidden"]);function tme(t,e){return Vk.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function rme(t,e){return r=>Ea(t,e,r)}function pT(t){return typeof t=="number"?rme:typeof t=="string"?hT(t)?qw:li.test(t)?Z7:ame:Array.isArray(t)?xG:typeof t=="object"?li.test(t)?Z7:nme:qw}function xG(t,e){const r=[...t],s=r.length,a=t.map((i,o)=>pT(i)(i,e[o]));return i=>{for(let o=0;o<s;o++)r[o]=a[o](i);return r}}function nme(t,e){const r={...t,...e},s={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(s[a]=pT(t[a])(t[a],e[a]));return a=>{for(const i in s)r[i]=s[i](a);return r}}function sme(t,e){const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],o=t.indexes[i][s[i]],l=t.values[o]??0;r[a]=l,s[i]++}return r}const ame=(t,e)=>{const r=cm.createTransformer(e),s=W1(t),a=W1(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Vk.has(t)&&!a.values.length||Vk.has(e)&&!s.values.length?tme(t,e):Ky(xG(sme(s,a),a.values),r):qw(t,e)};function gG(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Ea(t,e,r):pT(t)(t,e)}const ime=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>ua.update(e,r),stop:()=>lm(e),now:()=>co.isProcessing?co.timestamp:Pl.now()}},vG=(t,e,r=10)=>{let s="";const a=Math.max(Math.round(e/r),2);for(let i=0;i<a;i++)s+=Math.round(t(i/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Gw=2e4;function xT(t){let e=0;const r=50;let s=t.next(e);for(;!s.done&&e<Gw;)e+=r,s=t.next(e);return e>=Gw?1/0:e}function ome(t,e=100,r){const s=r({...t,keyframes:[0,e]}),a=Math.min(xT(s),Gw);return{type:"keyframes",ease:i=>s.next(a*i).value/e,duration:zc(a)}}const lme=5;function yG(t,e,r){const s=Math.max(e-lme,0);return Jq(r-t(s),e-s)}const La={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},t3=.001;function cme({duration:t=La.duration,bounce:e=La.bounce,velocity:r=La.velocity,mass:s=La.mass}){let a,i,o=1-e;o=Hh(La.minDamping,La.maxDamping,o),t=Hh(La.minDuration,La.maxDuration,zc(t)),o<1?(a=d=>{const u=d*o,h=u*t,f=u-r,m=Wk(d,o),y=Math.exp(-h);return t3-f/m*y},i=d=>{const h=d*o*t,f=h*r+r,m=Math.pow(o,2)*Math.pow(d,2)*t,y=Math.exp(-h),g=Wk(Math.pow(d,2),o);return(-a(d)+t3>0?-1:1)*((f-m)*y)/g}):(a=d=>{const u=Math.exp(-d*t),h=(d-r)*t+1;return-t3+u*h},i=d=>{const u=Math.exp(-d*t),h=(r-d)*(t*t);return u*h});const l=5/t,c=ume(a,i,l);if(t=Tu(t),isNaN(c))return{stiffness:La.stiffness,damping:La.damping,duration:t};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:t}}}const dme=12;function ume(t,e,r){let s=r;for(let a=1;a<dme;a++)s=s-t(s)/e(s);return s}function Wk(t,e){return t*Math.sqrt(1-e*e)}const hme=["duration","bounce"],fme=["stiffness","damping","mass"];function J7(t,e){return e.some(r=>t[r]!==void 0)}function mme(t){let e={velocity:La.velocity,stiffness:La.stiffness,damping:La.damping,mass:La.mass,isResolvedFromDuration:!1,...t};if(!J7(t,fme)&&J7(t,hme))if(t.visualDuration){const r=t.visualDuration,s=2*Math.PI/(r*1.2),a=s*s,i=2*Hh(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:La.mass,stiffness:a,damping:i}}else{const r=cme(t);e={...e,...r,mass:La.mass},e.isResolvedFromDuration=!0}return e}function Kw(t=La.visualDuration,e=La.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:m}=mme({...r,velocity:-zc(r.velocity||0)}),y=f||0,g=d/(2*Math.sqrt(c*u)),v=o-i,b=zc(Math.sqrt(c/u)),w=Math.abs(v)<5;s||(s=w?La.restSpeed.granular:La.restSpeed.default),a||(a=w?La.restDelta.granular:La.restDelta.default);let N;if(g<1){const C=Wk(b,g);N=E=>{const A=Math.exp(-g*b*E);return o-A*((y+g*b*v)/C*Math.sin(C*E)+v*Math.cos(C*E))}}else if(g===1)N=C=>o-Math.exp(-b*C)*(v+(y+b*v)*C);else{const C=b*Math.sqrt(g*g-1);N=E=>{const A=Math.exp(-g*b*E),I=Math.min(C*E,300);return o-A*((y+g*b*v)*Math.sinh(I)+C*v*Math.cosh(I))/C}}const _={calculatedDuration:m&&h||null,next:C=>{const E=N(C);if(m)l.done=C>=h;else{let A=C===0?y:0;g<1&&(A=C===0?Tu(y):yG(N,C,E));const I=Math.abs(A)<=s,$=Math.abs(o-E)<=a;l.done=I&&$}return l.value=l.done?o:E,l},toString:()=>{const C=Math.min(xT(_),Gw),E=vG(A=>_.next(C*A).value,C,30);return C+"ms "+E},toTransition:()=>{}};return _}Kw.applyToOptions=t=>{const e=ome(t,100,Kw);return t.ease=e.ease,t.duration=Tu(e.duration),t.type="keyframes",t};function Hk({keyframes:t,velocity:e=0,power:r=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},m=I=>l!==void 0&&I<l||c!==void 0&&I>c,y=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let g=r*e;const v=h+g,b=o===void 0?v:o(v);b!==v&&(g=b-h);const w=I=>-g*Math.exp(-I/s),N=I=>b+w(I),_=I=>{const $=w(I),O=N(I);f.done=Math.abs($)<=d,f.value=f.done?b:O};let C,E;const A=I=>{m(f.value)&&(C=I,E=Kw({keyframes:[f.value,y(f.value)],velocity:yG(N,I,f.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return A(0),{calculatedDuration:null,next:I=>{let $=!1;return!E&&C===void 0&&($=!0,_(I),A(I)),C!==void 0&&I>=C?E.next(I-C):(!$&&_(I),f)}}}function pme(t,e,r){const s=[],a=r||qh.mix||gG,i=t.length-1;for(let o=0;o<i;o++){let l=a(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Yc:e;l=Ky(c,l)}s.push(l)}return s}function xme(t,e,{clamp:r=!0,ease:s,mixer:a}={}){const i=t.length;if(iT(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=pme(e,s,a),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=z1(t[h],t[h+1],u);return l[h](f)};return r?u=>d(Hh(t[0],t[i-1],u)):d}function gme(t,e){const r=t[t.length-1];for(let s=1;s<=e;s++){const a=z1(0,e,s);t.push(Ea(r,1,a))}}function vme(t){const e=[0];return gme(e,t.length-1),e}function yme(t,e){return t.map(r=>r*e)}function bme(t,e){return t.map(()=>e||oG).splice(0,t.length-1)}function m1({duration:t=300,keyframes:e,times:r,ease:s="easeInOut"}){const a=Tfe(s)?s.map(G7):G7(s),i={done:!1,value:e[0]},o=yme(r&&r.length===e.length?r:vme(e),t),l=xme(o,e,{ease:Array.isArray(a)?a:bme(e,a)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const wme=t=>t!==null;function gT(t,{repeat:e,repeatType:r="loop"},s,a=1){const i=t.filter(wme),l=a<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const jme={decay:Hk,inertia:Hk,tween:m1,keyframes:m1,spring:Kw};function bG(t){typeof t.type=="string"&&(t.type=jme[t.type])}class vT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Nme=t=>t/100;class yT extends vT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Pl.now()&&this.tick(Pl.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;bG(e);const{type:r=m1,repeat:s=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=r||m1;c!==m1&&typeof l[0]!="number"&&(this.mixKeyframes=Ky(Nme,gG(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=xT(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=d}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:s,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:m,type:y,onUpdate:g,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?b<0:b>a;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let N=this.currentTime,_=s;if(h){const I=Math.min(this.currentTime,a)/l;let $=Math.floor(I),O=I%1;!O&&I>=1&&(O=1),O===1&&$--,$=Math.min($,h+1),!!($%2)&&(f==="reverse"?(O=1-O,m&&(O-=m/l)):f==="mirror"&&(_=o)),N=Hh(0,1,O)*l}const C=w?{done:!1,value:u[0]}:_.next(N);i&&(C.value=i(C.value));let{done:E}=C;!w&&c!==null&&(E=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return A&&y!==Hk&&(C.value=gT(u,this.options,v,this.speed)),g&&g(C.value),A&&this.finish(),C}then(e,r){return this.finished.then(e,r)}get duration(){return zc(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+zc(e)}get time(){return zc(this.currentTime)}set time(e){e=Tu(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pl.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=zc(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=ime,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=r??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pl.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Sme(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const jp=t=>t*180/Math.PI,qk=t=>{const e=jp(Math.atan2(t[1],t[0]));return Gk(e)},_me={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:qk,rotateZ:qk,skewX:t=>jp(Math.atan(t[1])),skewY:t=>jp(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Gk=t=>(t=t%360,t<0&&(t+=360),t),Q7=qk,e$=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),t$=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Cme={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:e$,scaleY:t$,scale:t=>(e$(t)+t$(t))/2,rotateX:t=>Gk(jp(Math.atan2(t[6],t[5]))),rotateY:t=>Gk(jp(Math.atan2(-t[2],t[0]))),rotateZ:Q7,rotate:Q7,skewX:t=>jp(Math.atan(t[4])),skewY:t=>jp(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Kk(t){return t.includes("scale")?1:0}function Yk(t,e){if(!t||t==="none")return Kk(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(r)s=Cme,a=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=_me,a=l}if(!a)return Kk(e);const i=s[e],o=a[1].split(",").map(Ame);return typeof i=="function"?i(o):o[i]}const kme=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Yk(r,e)};function Ame(t){return parseFloat(t.trim())}const Rg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Lg=new Set(Rg),r$=t=>t===Mg||t===tn,Eme=new Set(["x","y","z"]),Pme=Rg.filter(t=>!Eme.has(t));function Tme(t){const e=[];return Pme.forEach(r=>{const s=t.getValue(r);s!==void 0&&(e.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),e}const Dp={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Yk(e,"x"),y:(t,{transform:e})=>Yk(e,"y")};Dp.translateX=Dp.x;Dp.translateY=Dp.y;const Mp=new Set;let Xk=!1,Zk=!1,Jk=!1;function wG(){if(Zk){const t=Array.from(Mp).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),r=new Map;e.forEach(s=>{const a=Tme(s);a.length&&(r.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=r.get(s);a&&a.forEach(([i,o])=>{s.getValue(i)?.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Zk=!1,Xk=!1,Mp.forEach(t=>t.complete(Jk)),Mp.clear()}function jG(){Mp.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Zk=!0)})}function Ome(){Jk=!0,jG(),wG(),Jk=!1}class bT{constructor(e,r,s,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=s,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Mp.add(this),Xk||(Xk=!0,ua.read(jG),ua.resolveKeyframes(wG))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:s,motionValue:a}=this;if(e[0]===null){const i=a?.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&r){const l=s.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),a&&i===void 0&&a.set(e[0])}Sme(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Mp.delete(this)}cancel(){this.state==="scheduled"&&(Mp.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Ime=t=>t.startsWith("--");function $me(t,e,r){Ime(e)?t.style.setProperty(e,r):t.style[e]=r}const Dme=oT(()=>window.ScrollTimeline!==void 0),Mme={};function Rme(t,e){const r=oT(t);return()=>Mme[e]??r()}const NG=Rme(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jv=([t,e,r,s])=>`cubic-bezier(${t}, ${e}, ${r}, ${s})`,n$={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jv([0,.65,.55,1]),circOut:Jv([.55,0,1,.45]),backIn:Jv([.31,.01,.66,-.59]),backOut:Jv([.33,1.53,.69,.99])};function SG(t,e){if(t)return typeof t=="function"?NG()?vG(t,e):"ease-out":lG(t)?Jv(t):Array.isArray(t)?t.map(r=>SG(r,e)||n$.easeOut):n$[t]}function Lme(t,e,r,{delay:s=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[e]:r};c&&(u.offset=c);const h=SG(l,a);Array.isArray(h)&&(u.easing=h);const f={delay:s,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),t.animate(u,f)}function _G(t){return typeof t=="function"&&"applyToOptions"in t}function Fme({type:t,...e}){return _G(t)&&NG()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Bme extends vT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:s,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,iT(typeof e.type!="string");const d=Fme(e);this.animation=Lme(r,s,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=gT(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):$me(r,s,u),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return zc(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+zc(e)}get time(){return zc(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Tu(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Dme()?(this.animation.timeline=e,Yc):r(this)}}const CG={anticipate:sG,backInOut:nG,circInOut:iG};function Ume(t){return t in CG}function zme(t){typeof t.ease=="string"&&Ume(t.ease)&&(t.ease=CG[t.ease])}const s$=10;class Vme extends Bme{constructor(e){zme(e),bG(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:s,onComplete:a,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new yT({...o,autoplay:!1}),c=Tu(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-s$).value,l.sample(c).value,s$),l.stop()}}const a$=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(cm.test(t)||t==="0")&&!t.startsWith("url("));function Wme(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Hme(t,e,r,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=a$(a,e),l=a$(i,e);return!o||!l?!1:Wme(t)||(r==="spring"||_G(r))&&s}function Qk(t){t.duration=0,t.type="keyframes"}const qme=new Set(["opacity","clipPath","filter","transform"]),Gme=oT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Kme(t){const{motionValue:e,name:r,repeatDelay:s,repeatType:a,damping:i,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return Gme()&&r&&qme.has(r)&&(r!=="transform"||!d)&&!c&&!s&&a!=="mirror"&&i!==0&&o!=="inertia"}const Yme=40;class Xme extends vT{constructor({autoplay:e=!0,delay:r=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Pl.now();const f={autoplay:e,delay:r,type:s,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...h},m=u?.KeyframeResolver||bT;this.keyframeResolver=new m(l,(y,g,v)=>this.onKeyframesResolved(y,g,f,!v),c,d,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,s,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=s;this.resolvedAt=Pl.now(),Hme(e,i,o,l)||((qh.instantAnimations||!c)&&u?.(gT(e,s,r)),e[0]=e[e.length-1],Qk(s),s.repeat=0);const f={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Yme?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...s,keyframes:e},m=!d&&Kme(f)?new Vme({...f,element:f.motionValue.owner.current}):new yT(f);m.finished.then(()=>this.notifyFinished()).catch(Yc),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Ome()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Zme=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Jme(t){const e=Zme.exec(t);if(!e)return[,];const[,r,s,a]=e;return[`--${r??s}`,a]}function kG(t,e,r=1){const[s,a]=Jme(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const o=i.trim();return Yq(o)?parseFloat(o):o}return hT(a)?kG(a,e,r+1):a}function wT(t,e){return t?.[e]??t?.default??t}const AG=new Set(["width","height","top","left","right","bottom",...Rg]),Qme={test:t=>t==="auto",parse:t=>t},EG=t=>e=>e.test(t),PG=[Mg,tn,Ou,zf,Wfe,Vfe,Qme],i$=t=>PG.find(EG(t));function epe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Zq(t):!0}const tpe=new Set(["brightness","contrast","saturate","opacity"]);function rpe(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=r.match(fT)||[];if(!s)return t;const a=r.replace(s,"");let i=tpe.has(e)?1:0;return s!==r&&(i*=100),e+"("+i+a+")"}const npe=/\b([a-z-]*)\(.*?\)/gu,eA={...cm,getAnimatableNone:t=>{const e=t.match(npe);return e?e.map(rpe).join(" "):t}},o$={...Mg,transform:Math.round},spe={rotate:zf,rotateX:zf,rotateY:zf,rotateZ:zf,scale:b2,scaleX:b2,scaleY:b2,scaleZ:b2,skew:zf,skewX:zf,skewY:zf,distance:tn,translateX:tn,translateY:tn,translateZ:tn,x:tn,y:tn,z:tn,perspective:tn,transformPerspective:tn,opacity:V1,originX:K7,originY:K7,originZ:tn},jT={borderWidth:tn,borderTopWidth:tn,borderRightWidth:tn,borderBottomWidth:tn,borderLeftWidth:tn,borderRadius:tn,radius:tn,borderTopLeftRadius:tn,borderTopRightRadius:tn,borderBottomRightRadius:tn,borderBottomLeftRadius:tn,width:tn,maxWidth:tn,height:tn,maxHeight:tn,top:tn,right:tn,bottom:tn,left:tn,padding:tn,paddingTop:tn,paddingRight:tn,paddingBottom:tn,paddingLeft:tn,margin:tn,marginTop:tn,marginRight:tn,marginBottom:tn,marginLeft:tn,backgroundPositionX:tn,backgroundPositionY:tn,...spe,zIndex:o$,fillOpacity:V1,strokeOpacity:V1,numOctaves:o$},ape={...jT,color:li,backgroundColor:li,outlineColor:li,fill:li,stroke:li,borderColor:li,borderTopColor:li,borderRightColor:li,borderBottomColor:li,borderLeftColor:li,filter:eA,WebkitFilter:eA},TG=t=>ape[t];function OG(t,e){let r=TG(t);return r!==eA&&(r=cm),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const ipe=new Set(["auto","none","0"]);function ope(t,e,r){let s=0,a;for(;s<t.length&&!a;){const i=t[s];typeof i=="string"&&!ipe.has(i)&&W1(i).values.length&&(a=t[s]),s++}if(a&&r)for(const i of e)t[i]=OG(r,a)}class lpe extends bT{constructor(e,r,s,a,i){super(e,r,s,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),hT(d))){const u=kG(d,r.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!AG.has(s)||e.length!==2)return;const[a,i]=e,o=i$(a),l=i$(i);if(o!==l)if(r$(o)&&r$(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Dp[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||epe(e[a]))&&s.push(a);s.length&&ope(e,s,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Dp[s](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=Dp[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function cpe(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=r?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const IG=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function dpe(t){return Xq(t)&&"offsetHeight"in t}const l$=30,upe=t=>!isNaN(parseFloat(t));class hpe{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Pl.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Pl.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=upe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new lT);const s=this.events[e].add(r);return e==="change"?()=>{s(),ua.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>l$)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,l$);return Jq(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zx(t,e){return new hpe(t,e)}const{schedule:NT}=cG(queueMicrotask,!1),Cd={x:!1,y:!1};function $G(){return Cd.x||Cd.y}function fpe(t){return t==="x"||t==="y"?Cd[t]?null:(Cd[t]=!0,()=>{Cd[t]=!1}):Cd.x||Cd.y?null:(Cd.x=Cd.y=!0,()=>{Cd.x=Cd.y=!1})}function DG(t,e){const r=cpe(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[r,a,()=>s.abort()]}function c$(t){return!(t.pointerType==="touch"||$G())}function mpe(t,e,r={}){const[s,a,i]=DG(t,r),o=l=>{if(!c$(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const u=h=>{c$(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return s.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const MG=(t,e)=>e?t===e?!0:MG(t,e.parentElement):!1,ST=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ppe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xpe(t){return ppe.has(t.tagName)||t.tabIndex!==-1}const vw=new WeakSet;function d$(t){return e=>{e.key==="Enter"&&t(e)}}function r3(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const gpe=(t,e)=>{const r=t.currentTarget;if(!r)return;const s=d$(()=>{if(vw.has(r))return;r3(r,"down");const a=d$(()=>{r3(r,"up")}),i=()=>r3(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",s,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),e)};function u$(t){return ST(t)&&!$G()}function vpe(t,e,r={}){const[s,a,i]=DG(t,r),o=l=>{const c=l.currentTarget;if(!u$(l))return;vw.add(c);const d=e(c,l),u=(m,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),vw.has(c)&&vw.delete(c),u$(m)&&typeof d=="function"&&d(m,{success:y})},h=m=>{u(m,c===window||c===document||r.useGlobalTarget||MG(c,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",f,a)};return s.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),dpe(l)&&(l.addEventListener("focus",d=>gpe(d,a)),!xpe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function RG(t){return Xq(t)&&"ownerSVGElement"in t}function ype(t){return RG(t)&&t.tagName==="svg"}const Do=t=>!!(t&&t.getVelocity),bpe=[...PG,li,cm],wpe=t=>bpe.find(EG(t)),LG=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function jpe(t=!0){const e=S.useContext(nT);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:a}=e,i=S.useId();S.useEffect(()=>{if(t)return a(i)},[t]);const o=S.useCallback(()=>t&&s&&s(i),[i,s,t]);return!r&&s?[!1,o]:[!0]}const FG=S.createContext({strict:!1}),h$={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Jx={};for(const t in h$)Jx[t]={isEnabled:e=>h$[t].some(r=>!!e[r])};function Npe(t){for(const e in t)Jx[e]={...Jx[e],...t[e]}}const Spe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yw(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Spe.has(t)}let BG=t=>!Yw(t);function _pe(t){typeof t=="function"&&(BG=e=>e.startsWith("on")?!Yw(e):t(e))}try{_pe(require("@emotion/is-prop-valid").default)}catch{}function Cpe(t,e,r){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(BG(a)||r===!0&&Yw(a)||!e&&!Yw(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const $N=S.createContext({});function DN(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function H1(t){return typeof t=="string"||Array.isArray(t)}const _T=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],CT=["initial",..._T];function MN(t){return DN(t.animate)||CT.some(e=>H1(t[e]))}function UG(t){return!!(MN(t)||t.variants)}function kpe(t,e){if(MN(t)){const{initial:r,animate:s}=t;return{initial:r===!1||H1(r)?r:void 0,animate:H1(s)?s:void 0}}return t.inherit!==!1?e:{}}function Ape(t){const{initial:e,animate:r}=kpe(t,S.useContext($N));return S.useMemo(()=>({initial:e,animate:r}),[f$(e),f$(r)])}function f$(t){return Array.isArray(t)?t.join(" "):t}const q1={};function Epe(t){for(const e in t)q1[e]=t[e],uT(e)&&(q1[e].isCSSVariable=!0)}function zG(t,{layout:e,layoutId:r}){return Lg.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!q1[t]||t==="opacity")}const Ppe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Tpe=Rg.length;function Ope(t,e,r){let s="",a=!0;for(let i=0;i<Tpe;i++){const o=Rg[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=IG(l,jT[o]);if(!c){a=!1;const u=Ppe[o]||o;s+=`${u}(${d}) `}r&&(e[o]=d)}}return s=s.trim(),r?s=r(e,a?"":s):a&&(s="none"),s}function kT(t,e,r){const{style:s,vars:a,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Lg.has(c)){o=!0;continue}else if(uT(c)){a[c]=d;continue}else{const u=IG(d,jT[c]);c.startsWith("origin")?(l=!0,i[c]=u):s[c]=u}}if(e.transform||(o||r?s.transform=Ope(e,t.transform,r):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;s.transformOrigin=`${c} ${d} ${u}`}}const AT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VG(t,e,r){for(const s in e)!Do(e[s])&&!zG(s,r)&&(t[s]=e[s])}function Ipe({transformTemplate:t},e){return S.useMemo(()=>{const r=AT();return kT(r,e,t),Object.assign({},r.vars,r.style)},[e])}function $pe(t,e){const r=t.style||{},s={};return VG(s,r,t),Object.assign(s,Ipe(t,e)),s}function Dpe(t,e){const r={},s=$pe(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const Mpe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Rpe={offset:"strokeDashoffset",array:"strokeDasharray"};function Lpe(t,e,r=1,s=0,a=!0){t.pathLength=1;const i=a?Mpe:Rpe;t[i.offset]=tn.transform(-s);const o=tn.transform(e),l=tn.transform(r);t[i.array]=`${o} ${l}`}function WG(t,{attrX:e,attrY:r,attrScale:s,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(kT(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=u?.transformBox??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),s!==void 0&&(h.scale=s),a!==void 0&&Lpe(h,a,i,o,!1)}const HG=()=>({...AT(),attrs:{}}),qG=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Fpe(t,e,r,s){const a=S.useMemo(()=>{const i=HG();return WG(i,e,qG(s),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};VG(i,t.style,t),a.style={...i,...a.style}}return a}const Bpe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ET(t){return typeof t!="string"||t.includes("-")?!1:!!(Bpe.indexOf(t)>-1||/[A-Z]/u.test(t))}function Upe(t,e,r,{latestValues:s},a,i=!1){const l=(ET(t)?Fpe:Dpe)(e,s,a,t),c=Cpe(e,typeof t=="string",i),d=t!==S.Fragment?{...c,...l,ref:r}:{},{children:u}=e,h=S.useMemo(()=>Do(u)?u.get():u,[u]);return S.createElement(t,{...d,children:h})}function m$(t){const e=[{},{}];return t?.values.forEach((r,s)=>{e[0][s]=r.get(),e[1][s]=r.getVelocity()}),e}function PT(t,e,r,s){if(typeof e=="function"){const[a,i]=m$(s);e=e(r!==void 0?r:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=m$(s);e=e(r!==void 0?r:t.custom,a,i)}return e}function yw(t){return Do(t)?t.get():t}function zpe({scrapeMotionValuesFromProps:t,createRenderState:e},r,s,a){return{latestValues:Vpe(r,s,a,t),renderState:e()}}function Vpe(t,e,r,s){const a={},i=s(t,{});for(const f in i)a[f]=yw(i[f]);let{initial:o,animate:l}=t;const c=MN(t),d=UG(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!DN(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const y=PT(t,f[m]);if(y){const{transitionEnd:g,transition:v,...b}=y;for(const w in b){let N=b[w];if(Array.isArray(N)){const _=u?N.length-1:0;N=N[_]}N!==null&&(a[w]=N)}for(const w in g)a[w]=g[w]}}}return a}const GG=t=>(e,r)=>{const s=S.useContext($N),a=S.useContext(nT),i=()=>zpe(t,e,s,a);return r?i():Nfe(i)};function TT(t,e,r){const{style:s}=t,a={};for(const i in s)(Do(s[i])||e.style&&Do(e.style[i])||zG(i,t)||r?.getValue(i)?.liveStyle!==void 0)&&(a[i]=s[i]);return a}const Wpe=GG({scrapeMotionValuesFromProps:TT,createRenderState:AT});function KG(t,e,r){const s=TT(t,e,r);for(const a in t)if(Do(t[a])||Do(e[a])){const i=Rg.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[i]=t[a]}return s}const Hpe=GG({scrapeMotionValuesFromProps:KG,createRenderState:HG}),qpe=Symbol.for("motionComponentSymbol");function bx(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Gpe(t,e,r){return S.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),r&&(typeof r=="function"?r(s):bx(r)&&(r.current=s))},[e])}const OT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Kpe="framerAppearId",YG="data-"+OT(Kpe),XG=S.createContext({});function Ype(t,e,r,s,a){const{visualElement:i}=S.useContext($N),o=S.useContext(FG),l=S.useContext(nT),c=S.useContext(LG).reducedMotion,d=S.useRef(null);s=s||o.renderer,!d.current&&s&&(d.current=s(t,{visualState:e,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=S.useContext(XG);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&Xpe(d.current,r,a,h);const f=S.useRef(!1);S.useInsertionEffect(()=>{u&&f.current&&u.update(r,l)});const m=r[YG],y=S.useRef(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return Sfe(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),y.current&&u.animationState&&u.animationState.animateChanges())}),S.useEffect(()=>{u&&(!y.current&&u.animationState&&u.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),y.current=!1),u.enteringChildren=void 0)}),u}function Xpe(t,e,r,s){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:ZG(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&bx(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:d})}function ZG(t){if(t)return t.options.allowProjection!==!1?t.projection:ZG(t.parent)}function n3(t,{forwardMotionProps:e=!1}={},r,s){r&&Npe(r);const a=ET(t)?Hpe:Wpe;function i(l,c){let d;const u={...S.useContext(LG),...l,layoutId:Zpe(l)},{isStatic:h}=u,f=Ape(l),m=a(l,h);if(!h&&rT){Jpe();const y=Qpe(u);d=y.MeasureLayout,f.visualElement=Ype(t,m,u,s,y.ProjectionNode)}return n.jsxs($N.Provider,{value:f,children:[d&&f.visualElement?n.jsx(d,{visualElement:f.visualElement,...u}):null,Upe(t,l,Gpe(m,f.visualElement,c),m,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=S.forwardRef(i);return o[qpe]=t,o}function Zpe({layoutId:t}){const e=S.useContext(Kq).id;return e&&t!==void 0?e+"-"+t:t}function Jpe(t,e){S.useContext(FG).strict}function Qpe(t){const{drag:e,layout:r}=Jx;if(!e&&!r)return{};const s={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function e0e(t,e){if(typeof Proxy>"u")return n3;const r=new Map,s=(i,o)=>n3(i,o,t,e),a=(i,o)=>s(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?s:(r.has(o)||r.set(o,n3(o,void 0,t,e)),r.get(o))})}function JG({top:t,left:e,right:r,bottom:s}){return{x:{min:e,max:r},y:{min:t,max:s}}}function t0e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function r0e(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function s3(t){return t===void 0||t===1}function tA({scale:t,scaleX:e,scaleY:r}){return!s3(t)||!s3(e)||!s3(r)}function dp(t){return tA(t)||QG(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function QG(t){return p$(t.x)||p$(t.y)}function p$(t){return t&&t!=="0%"}function Xw(t,e,r){const s=t-r,a=e*s;return r+a}function x$(t,e,r,s,a){return a!==void 0&&(t=Xw(t,a,s)),Xw(t,r,s)+e}function rA(t,e=0,r=1,s,a){t.min=x$(t.min,e,r,s,a),t.max=x$(t.max,e,r,s,a)}function eK(t,{x:e,y:r}){rA(t.x,e.translate,e.scale,e.originPoint),rA(t.y,r.translate,r.scale,r.originPoint)}const g$=.999999999999,v$=1.0000000000001;function n0e(t,e,r,s=!1){const a=r.length;if(!a)return;e.x=e.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&jx(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,eK(t,o)),s&&dp(i.latestValues)&&jx(t,i.latestValues))}e.x<v$&&e.x>g$&&(e.x=1),e.y<v$&&e.y>g$&&(e.y=1)}function wx(t,e){t.min=t.min+e,t.max=t.max+e}function y$(t,e,r,s,a=.5){const i=Ea(t.min,t.max,a);rA(t,e,r,i,s)}function jx(t,e){y$(t.x,e.x,e.scaleX,e.scale,e.originX),y$(t.y,e.y,e.scaleY,e.scale,e.originY)}function tK(t,e){return JG(r0e(t.getBoundingClientRect(),e))}function s0e(t,e,r){const s=tK(t,r),{scroll:a}=e;return a&&(wx(s.x,a.offset.x),wx(s.y,a.offset.y)),s}const b$=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nx=()=>({x:b$(),y:b$()}),w$=()=>({min:0,max:0}),Ka=()=>({x:w$(),y:w$()}),nA={current:null},rK={current:!1};function a0e(){if(rK.current=!0,!!rT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>nA.current=t.matches;t.addEventListener("change",e),e()}else nA.current=!1}const i0e=new WeakMap;function o0e(t,e,r){for(const s in e){const a=e[s],i=r[s];if(Do(a))t.addValue(s,a);else if(Do(i))t.addValue(s,Zx(a,{owner:t}));else if(i!==a)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(s);t.addValue(s,Zx(o!==void 0?o:a,{owner:t}))}}for(const s in r)e[s]===void 0&&t.removeValue(s);return e}const j$=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class l0e{scrapeMotionValuesFromProps(e,r,s){return{}}constructor({parent:e,props:r,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Pl.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ua.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=MN(r),this.isVariantNode=UG(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&Do(m)&&m.set(c[f])}}mount(e){this.current=e,i0e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),rK.current||a0e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nA.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),lm(this.notifyUpdate),lm(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Lg.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ua.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Jx){const r=Jx[e];if(!r)continue;const{isEnabled:s,Feature:a}=r;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ka()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<j$.length;s++){const a=j$[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=o0e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const s=this.values.get(e);r!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&r!==void 0&&(s=Zx(r===null?void 0:r,{owner:this}),this.addValue(e,s)),s}readValue(e,r){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Yq(s)||Zq(s))?s=parseFloat(s):!wpe(s)&&cm.test(r)&&(s=OG(e,r)),this.setBaseTarget(e,Do(s)?s.get():s)),Do(s)?s.get():s}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const i=PT(this.props,r,this.presenceContext?.custom);i&&(s=i[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Do(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new lT),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){NT.render(this.render)}}class nK extends l0e{constructor(){super(...arguments),this.KeyframeResolver=lpe}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:s}){delete r[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Do(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function sK(t,{style:e,vars:r},s,a){const i=t.style;let o;for(o in e)i[o]=e[o];a?.applyProjectionStyles(i,s);for(o in r)i.setProperty(o,r[o])}function c0e(t){return window.getComputedStyle(t)}class d0e extends nK{constructor(){super(...arguments),this.type="html",this.renderInstance=sK}readValueFromInstance(e,r){if(Lg.has(r))return this.projection?.isProjecting?Kk(r):kme(e,r);{const s=c0e(e),a=(uT(r)?s.getPropertyValue(r):s[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return tK(e,r)}build(e,r,s){kT(e,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,r,s){return TT(e,r,s)}}const aK=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function u0e(t,e,r,s){sK(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(aK.has(a)?a:OT(a),e.attrs[a])}class h0e extends nK{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ka}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Lg.has(r)){const s=TG(r);return s&&s.default||0}return r=aK.has(r)?r:OT(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,s){return KG(e,r,s)}build(e,r,s){WG(e,r,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,r,s,a){u0e(e,r,s,a)}mount(e){this.isSVGTag=qG(e.tagName),super.mount(e)}}const f0e=(t,e)=>ET(t)?new h0e(e):new d0e(e,{allowProjection:t!==S.Fragment});function Lx(t,e,r){const s=t.getProps();return PT(s,e,r!==void 0?r:s.custom,t)}const sA=t=>Array.isArray(t);function m0e(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Zx(r))}function p0e(t){return sA(t)?t[t.length-1]||0:t}function x0e(t,e){const r=Lx(t,e);let{transitionEnd:s={},transition:a={},...i}=r||{};i={...i,...s};for(const o in i){const l=p0e(i[o]);m0e(t,o,l)}}function g0e(t){return!!(Do(t)&&t.add)}function aA(t,e){const r=t.getValue("willChange");if(g0e(r))return r.add(e);if(!r&&qh.WillChange){const s=new qh.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function iK(t){return t.props[YG]}const v0e=t=>t!==null;function y0e(t,{repeat:e,repeatType:r="loop"},s){const a=t.filter(v0e),i=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[i]}const b0e={type:"spring",stiffness:500,damping:25,restSpeed:10},w0e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),j0e={type:"keyframes",duration:.8},N0e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},S0e=(t,{keyframes:e})=>e.length>2?j0e:Lg.has(t)?t.startsWith("scale")?w0e(e[1]):b0e:N0e;function _0e({when:t,delay:e,delayChildren:r,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const IT=(t,e,r,s={},a,i)=>o=>{const l=wT(s,t)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-Tu(c);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:a};_0e(l)||Object.assign(u,S0e(t,u)),u.duration&&(u.duration=Tu(u.duration)),u.repeatDelay&&(u.repeatDelay=Tu(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Qk(u),u.delay===0&&(h=!0)),(qh.instantAnimations||qh.skipAnimations)&&(h=!0,Qk(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!i&&e.get()!==void 0){const f=y0e(u.keyframes,l);if(f!==void 0){ua.update(()=>{u.onUpdate(f),u.onComplete()});return}}return l.isSync?new yT(u):new Xme(u)};function C0e({protectedKeys:t,needsAnimating:e},r){const s=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,s}function oK(t,e,{delay:r=0,transitionOverride:s,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;s&&(i=s);const c=[],d=a&&t.animationState&&t.animationState.getState()[a];for(const u in l){const h=t.getValue(u,t.latestValues[u]??null),f=l[u];if(f===void 0||d&&C0e(d,u))continue;const m={delay:r,...wT(i||{},u)},y=h.get();if(y!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===y&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const b=iK(t);if(b){const w=window.MotionHandoffAnimation(b,u,ua);w!==null&&(m.startTime=w,g=!0)}}aA(t,u),h.start(IT(u,h,f,t.shouldReduceMotion&&AG.has(u)?{type:!1}:m,t,g));const v=h.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{ua.update(()=>{o&&x0e(t,o)})}),c}function lK(t,e,r,s=0,a=1){const i=Array.from(t).sort((d,u)=>d.sortNodePosition(u)).indexOf(e),o=t.size,l=(o-1)*s;return typeof r=="function"?r(i,o):a===1?i*s:l-i*s}function iA(t,e,r={}){const s=Lx(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(a=r.transitionOverride);const i=s?()=>Promise.all(oK(t,s,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=a;return k0e(t,e,c,d,u,h,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,d]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(r.delay)])}function k0e(t,e,r=0,s=0,a=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(iA(c,e,{...o,delay:r+(typeof s=="function"?0:s)+lK(t.variantChildren,c,s,a,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function A0e(t,e,r={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(i=>iA(t,i,r));s=Promise.all(a)}else if(typeof e=="string")s=iA(t,e,r);else{const a=typeof e=="function"?Lx(t,e,r.custom):e;s=Promise.all(oK(t,a,r))}return s.then(()=>{t.notify("AnimationComplete",e)})}function cK(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let s=0;s<r;s++)if(e[s]!==t[s])return!1;return!0}const E0e=CT.length;function dK(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?dK(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<E0e;r++){const s=CT[r],a=t.props[s];(H1(a)||a===!1)&&(e[s]=a)}return e}const P0e=[..._T].reverse(),T0e=_T.length;function O0e(t){return e=>Promise.all(e.map(({animation:r,options:s})=>A0e(t,r,s)))}function I0e(t){let e=O0e(t),r=N$(),s=!0;const a=c=>(d,u)=>{const h=Lx(t,u,c==="exit"?t.presenceContext?.custom:void 0);if(h){const{transition:f,transitionEnd:m,...y}=h;d={...d,...y,...m}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,u=dK(t.parent)||{},h=[],f=new Set;let m={},y=1/0;for(let v=0;v<T0e;v++){const b=P0e[v],w=r[b],N=d[b]!==void 0?d[b]:u[b],_=H1(N),C=b===c?w.isActive:null;C===!1&&(y=v);let E=N===u[b]&&N!==d[b]&&_;if(E&&s&&t.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...m},!w.isActive&&C===null||!N&&!w.prevProp||DN(N)||typeof N=="boolean")continue;const A=$0e(w.prevProp,N);let I=A||b===c&&w.isActive&&!E&&_||v>y&&_,$=!1;const O=Array.isArray(N)?N:[N];let P=O.reduce(a(b),{});C===!1&&(P={});const{prevResolvedValues:M={}}=w,R={...M,...P},W=L=>{I=!0,f.has(L)&&($=!0,f.delete(L)),w.needsAnimating[L]=!0;const F=t.getValue(L);F&&(F.liveStyle=!1)};for(const L in R){const F=P[L],ee=M[L];if(m.hasOwnProperty(L))continue;let se=!1;sA(F)&&sA(ee)?se=!cK(F,ee):se=F!==ee,se?F!=null?W(L):f.add(L):F!==void 0&&f.has(L)?W(L):w.protectedKeys[L]=!0}w.prevProp=N,w.prevResolvedValues=P,w.isActive&&(m={...m,...P}),s&&t.blockInitialAnimation&&(I=!1);const Y=E&&A;I&&(!Y||$)&&h.push(...O.map(L=>{const F={type:b};if(typeof L=="string"&&s&&!Y&&t.manuallyAnimateOnMount&&t.parent){const{parent:ee}=t,se=Lx(ee,L);if(ee.enteringChildren&&se){const{delayChildren:q}=se.transition||{};F.delay=lK(ee.enteringChildren,t,q)}}return{animation:L,options:F}}))}if(f.size){const v={};if(typeof d.initial!="boolean"){const b=Lx(t,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(v.transition=b.transition)}f.forEach(b=>{const w=t.getBaseTarget(b),N=t.getValue(b);N&&(N.liveStyle=!0),v[b]=w??null}),h.push({animation:v})}let g=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(g=!1),s=!1,g?e(h):Promise.resolve()}function l(c,d){if(r[c].isActive===d)return Promise.resolve();t.variantChildren?.forEach(h=>h.animationState?.setActive(c,d)),r[c].isActive=d;const u=o(c);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=N$()}}}function $0e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!cK(e,t):!1}function ep(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function N$(){return{animate:ep(!0),whileInView:ep(),whileHover:ep(),whileTap:ep(),whileDrag:ep(),whileFocus:ep(),exit:ep()}}class hm{constructor(e){this.isMounted=!1,this.node=e}update(){}}class D0e extends hm{constructor(e){super(e),e.animationState||(e.animationState=I0e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();DN(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let M0e=0;class R0e extends hm{constructor(){super(...arguments),this.id=M0e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const L0e={animation:{Feature:D0e},exit:{Feature:R0e}};function G1(t,e,r,s={passive:!0}){return t.addEventListener(e,r,s),()=>t.removeEventListener(e,r)}function Zy(t){return{point:{x:t.pageX,y:t.pageY}}}const F0e=t=>e=>ST(e)&&t(e,Zy(e));function p1(t,e,r,s){return G1(t,e,F0e(r),s)}const uK=1e-4,B0e=1-uK,U0e=1+uK,hK=.01,z0e=0-hK,V0e=0+hK;function el(t){return t.max-t.min}function W0e(t,e,r){return Math.abs(t-e)<=r}function S$(t,e,r,s=.5){t.origin=s,t.originPoint=Ea(e.min,e.max,t.origin),t.scale=el(r)/el(e),t.translate=Ea(r.min,r.max,t.origin)-t.originPoint,(t.scale>=B0e&&t.scale<=U0e||isNaN(t.scale))&&(t.scale=1),(t.translate>=z0e&&t.translate<=V0e||isNaN(t.translate))&&(t.translate=0)}function x1(t,e,r,s){S$(t.x,e.x,r.x,s?s.originX:void 0),S$(t.y,e.y,r.y,s?s.originY:void 0)}function _$(t,e,r){t.min=r.min+e.min,t.max=t.min+el(e)}function H0e(t,e,r){_$(t.x,e.x,r.x),_$(t.y,e.y,r.y)}function C$(t,e,r){t.min=e.min-r.min,t.max=t.min+el(e)}function g1(t,e,r){C$(t.x,e.x,r.x),C$(t.y,e.y,r.y)}function Rc(t){return[t("x"),t("y")]}const fK=({current:t})=>t?t.ownerDocument.defaultView:null,k$=(t,e)=>Math.abs(t-e);function q0e(t,e){const r=k$(t.x,e.x),s=k$(t.y,e.y);return Math.sqrt(r**2+s**2)}class mK{constructor(e,r,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=i3(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=q0e(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!y)return;const{point:g}=f,{timestamp:v}=co;this.history.push({...g,timestamp:v});const{onStart:b,onMove:w}=this.handlers;m||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=a3(m,this.transformPagePoint),ua.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:y,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=i3(f.type==="pointercancel"?this.lastMoveEventInfo:a3(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,b),g&&g(f,b)},!ST(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=a||window;const l=Zy(e),c=a3(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=co;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=r;h&&h(e,i3(c,this.history)),this.removeListeners=Ky(p1(this.contextWindow,"pointermove",this.handlePointerMove),p1(this.contextWindow,"pointerup",this.handlePointerUp),p1(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),lm(this.updatePoint)}}function a3(t,e){return e?{point:e(t.point)}:t}function A$(t,e){return{x:t.x-e.x,y:t.y-e.y}}function i3({point:t},e){return{point:t,delta:A$(t,pK(e)),offset:A$(t,G0e(e)),velocity:K0e(e,.1)}}function G0e(t){return t[0]}function pK(t){return t[t.length-1]}function K0e(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,s=null;const a=pK(t);for(;r>=0&&(s=t[r],!(a.timestamp-s.timestamp>Tu(e)));)r--;if(!s)return{x:0,y:0};const i=zc(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Y0e(t,{min:e,max:r},s){return e!==void 0&&t<e?t=s?Ea(e,t,s.min):Math.max(t,e):r!==void 0&&t>r&&(t=s?Ea(r,t,s.max):Math.min(t,r)),t}function E$(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function X0e(t,{top:e,left:r,bottom:s,right:a}){return{x:E$(t.x,r,a),y:E$(t.y,e,s)}}function P$(t,e){let r=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,s]=[s,r]),{min:r,max:s}}function Z0e(t,e){return{x:P$(t.x,e.x),y:P$(t.y,e.y)}}function J0e(t,e){let r=.5;const s=el(t),a=el(e);return a>s?r=z1(e.min,e.max-s,t.min):s>a&&(r=z1(t.min,t.max-a,e.min)),Hh(0,1,r)}function Q0e(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const oA=.35;function exe(t=oA){return t===!1?t=0:t===!0&&(t=oA),{x:T$(t,"left","right"),y:T$(t,"top","bottom")}}function T$(t,e,r){return{min:O$(t,e),max:O$(t,r)}}function O$(t,e){return typeof t=="number"?t:t[e]||0}const txe=new WeakMap;class rxe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ka(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Zy(h).point)},o=(h,f)=>{const{drag:m,dragPropagation:y,onDragStart:g}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fpe(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rc(b=>{let w=this.getAxisMotionValue(b).get()||0;if(Ou.test(w)){const{projection:N}=this.visualElement;if(N&&N.layout){const _=N.layout.layoutBox[b];_&&(w=el(_)*(parseFloat(w)/100))}}this.originPoint[b]=w}),g&&ua.postRender(()=>g(h,f)),aA(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:g,onDrag:v}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=f;if(y&&this.currentDirection===null){this.currentDirection=nxe(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),v&&v(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Rc(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new mK(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:fK(this.visualElement)})}stop(e,r){const s=e||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!s)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ua.postRender(()=>l(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,s){const{drag:a}=this.getProps();if(!s||!w2(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=Y0e(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&bx(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=X0e(s.layoutBox,e):this.constraints=!1,this.elastic=exe(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Rc(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Q0e(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!bx(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=s0e(s,a.root,this.visualElement.getTransformPagePoint());let o=Z0e(a.layout.layoutBox,i);if(r){const l=r(t0e(o));this.hasMutatedConstraints=!!l,l&&(o=JG(l))}return o}startAnimation(e){const{drag:r,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Rc(u=>{if(!w2(u,r,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=a?200:1e6,m=a?40:1e7,y={type:"inertia",velocity:s?e[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,y)});return Promise.all(d).then(l)}startAxisValueAnimation(e,r){const s=this.getAxisMotionValue(e);return aA(this.visualElement,e),s.start(IT(e,s,0,r,this.visualElement,!1))}stopAnimation(){Rc(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rc(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[r];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Rc(r=>{const{drag:s}=this.getProps();if(!w2(r,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(e[r]-Ea(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!bx(r)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Rc(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=J0e({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Rc(o=>{if(!w2(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Ea(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;txe.set(this.visualElement,this);const e=this.visualElement.current,r=p1(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();bx(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ua.read(s);const o=G1(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Rc(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=oA,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function w2(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function nxe(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class sxe extends hm{constructor(e){super(e),this.removeGroupControls=Yc,this.removeListeners=Yc,this.controls=new rxe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yc}unmount(){this.removeGroupControls(),this.removeListeners()}}const I$=t=>(e,r)=>{t&&ua.postRender(()=>t(e,r))};class axe extends hm{constructor(){super(...arguments),this.removePointerDownListener=Yc}onPointerDown(e){this.session=new mK(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fK(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:I$(e),onStart:I$(r),onMove:s,onEnd:(i,o)=>{delete this.session,a&&ua.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=p1(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $$(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const kv={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(tn.test(t))t=parseFloat(t);else return t;const r=$$(t,e.target.x),s=$$(t,e.target.y);return`${r}% ${s}%`}},ixe={correct:(t,{treeScale:e,projectionDelta:r})=>{const s=t,a=cm.parse(t);if(a.length>5)return s;const i=cm.createTransformer(t),o=typeof a[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;a[0+o]/=l,a[1+o]/=c;const d=Ea(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};let o3=!1;class oxe extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=e;Epe(lxe),i&&(r.group&&r.group.add(i),s&&s.register&&a&&s.register(i),o3&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),bw.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:s,drag:a,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,o3=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ua.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),NT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:a}=e;o3=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xK(t){const[e,r]=jpe(),s=S.useContext(Kq);return n.jsx(oxe,{...t,layoutGroup:s,switchLayoutGroup:S.useContext(XG),isPresent:e,safeToRemove:r})}const lxe={borderRadius:{...kv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kv,borderTopRightRadius:kv,borderBottomLeftRadius:kv,borderBottomRightRadius:kv,boxShadow:ixe};function cxe(t,e,r){const s=Do(t)?t:Zx(t);return s.start(IT("",s,e,r)),s.animation}const dxe=(t,e)=>t.depth-e.depth;class uxe{constructor(){this.children=[],this.isDirty=!1}add(e){sT(this.children,e),this.isDirty=!0}remove(e){aT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dxe),this.isDirty=!1,this.children.forEach(e)}}function hxe(t,e){const r=Pl.now(),s=({timestamp:a})=>{const i=a-r;i>=e&&(lm(s),t(i-e))};return ua.setup(s,!0),()=>lm(s)}const gK=["TopLeft","TopRight","BottomLeft","BottomRight"],fxe=gK.length,D$=t=>typeof t=="string"?parseFloat(t):t,M$=t=>typeof t=="number"||tn.test(t);function mxe(t,e,r,s,a,i){a?(t.opacity=Ea(0,r.opacity??1,pxe(s)),t.opacityExit=Ea(e.opacity??1,0,xxe(s))):i&&(t.opacity=Ea(e.opacity??1,r.opacity??1,s));for(let o=0;o<fxe;o++){const l=`border${gK[o]}Radius`;let c=R$(e,l),d=R$(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||M$(c)===M$(d)?(t[l]=Math.max(Ea(D$(c),D$(d),s),0),(Ou.test(d)||Ou.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||r.rotate)&&(t.rotate=Ea(e.rotate||0,r.rotate||0,s))}function R$(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pxe=vK(0,.5,aG),xxe=vK(.5,.95,Yc);function vK(t,e,r){return s=>s<t?0:s>e?1:r(z1(t,e,s))}function L$(t,e){t.min=e.min,t.max=e.max}function Ic(t,e){L$(t.x,e.x),L$(t.y,e.y)}function F$(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function B$(t,e,r,s,a){return t-=e,t=Xw(t,1/r,s),a!==void 0&&(t=Xw(t,1/a,s)),t}function gxe(t,e=0,r=1,s=.5,a,i=t,o=t){if(Ou.test(e)&&(e=parseFloat(e),e=Ea(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Ea(i.min,i.max,s);t===i&&(l-=e),t.min=B$(t.min,e,r,l,a),t.max=B$(t.max,e,r,l,a)}function U$(t,e,[r,s,a],i,o){gxe(t,e[r],e[s],e[a],e.scale,i,o)}const vxe=["x","scaleX","originX"],yxe=["y","scaleY","originY"];function z$(t,e,r,s){U$(t.x,e,vxe,r?r.x:void 0,s?s.x:void 0),U$(t.y,e,yxe,r?r.y:void 0,s?s.y:void 0)}function V$(t){return t.translate===0&&t.scale===1}function yK(t){return V$(t.x)&&V$(t.y)}function W$(t,e){return t.min===e.min&&t.max===e.max}function bxe(t,e){return W$(t.x,e.x)&&W$(t.y,e.y)}function H$(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function bK(t,e){return H$(t.x,e.x)&&H$(t.y,e.y)}function q$(t){return el(t.x)/el(t.y)}function G$(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class wxe{constructor(){this.members=[]}add(e){sT(this.members,e),e.scheduleRender()}remove(e){if(aT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let s;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,r){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,r&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:s}=e;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jxe(t,e,r){let s="";const a=t.x.translate/e.x,i=t.y.translate/e.y,o=r?.z||0;if((a||i||o)&&(s=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:m,skewY:y}=r;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),m&&(s+=`skewX(${m}deg) `),y&&(s+=`skewY(${y}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const l3=["","X","Y","Z"],Nxe=1e3;let Sxe=0;function c3(t,e,r,s){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function wK(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=iK(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",ua,!(a||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&wK(s)}function jK({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=e?.()){this.id=Sxe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kxe),this.nodes.forEach(Txe),this.nodes.forEach(Oxe),this.nodes.forEach(Axe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new uxe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new lT),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=RG(o)&&!ype(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let u,h=0;const f=()=>this.root.updateBlockedByResize=!1;ua.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,u&&u(),u=hxe(f,250),bw.hasAnimatedSinceResize&&(bw.hasAnimatedSinceResize=!1,this.nodes.forEach(X$)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||Rxe,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=d.getProps(),b=!this.targetLayout||!bK(this.targetLayout,m),w=!h&&f;if(this.options.layoutRoot||this.resumeFrom||w||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...wT(y,"layout"),onPlay:g,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(u,w)}else h||X$(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),lm(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ixe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wK(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(K$);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Y$);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Pxe),this.nodes.forEach(_xe),this.nodes.forEach(Cxe)):this.nodes.forEach(Y$),this.clearAllSnapshots();const l=Pl.now();co.delta=Hh(0,1e3/60,l-co.timestamp),co.timestamp=l,co.isProcessing=!0,Z4.update.process(co),Z4.preRender.process(co),Z4.render.process(co),co.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,NT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Exe),this.sharedNodes.forEach($xe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ua.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ua.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!el(this.snapshot.measuredBox.x)&&!el(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ka(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!yK(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||dp(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Lxe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ka();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Fxe))){const{scroll:d}=this.root;d&&(wx(l.x,d.offset.x),wx(l.y,d.offset.y))}return l}removeElementScroll(o){const l=Ka();if(Ic(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;d!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&Ic(l,o),wx(l.x,u.offset.x),wx(l.y,u.offset.y))}return l}applyTransform(o,l=!1){const c=Ka();Ic(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&jx(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),dp(u.latestValues)&&jx(c,u.latestValues)}return dp(this.latestValues)&&jx(c,this.latestValues),c}removeTransform(o){const l=Ka();Ic(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!dp(d.latestValues))continue;tA(d.latestValues)&&d.updateSnapshot();const u=Ka(),h=d.measurePageBox();Ic(u,h),z$(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return dp(this.latestValues)&&z$(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==co.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=co.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ka(),this.relativeTargetOrigin=Ka(),g1(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Ic(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ka(),this.targetWithTransforms=Ka()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),H0e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ic(this.target,this.layout.layoutBox),eK(this.target,this.targetDelta)):Ic(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ka(),this.relativeTargetOrigin=Ka(),g1(this.relativeTargetOrigin,this.target,f.target),Ic(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||tA(this.parent.latestValues)||QG(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===co.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Ic(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;n0e(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ka());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(F$(this.prevProjectionDelta.x,this.projectionDelta.x),F$(this.prevProjectionDelta.y,this.projectionDelta.y)),x1(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!G$(this.projectionDelta.x,this.prevProjectionDelta.x)||!G$(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nx(),this.projectionDelta=Nx(),this.projectionDeltaWithTransform=Nx()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Nx();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Ka(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,g=m!==y,v=this.getStack(),b=!v||v.members.length<=1,w=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(Mxe));this.animationProgress=0;let N;this.mixTargetDelta=_=>{const C=_/1e3;Z$(h.x,o.x,C),Z$(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(g1(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Dxe(this.relativeTarget,this.relativeTargetOrigin,f,C),N&&bxe(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Ka()),Ic(N,this.relativeTarget)),g&&(this.animationValues=u,mxe(u,d,this.latestValues,C,w,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(lm(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ua.update(()=>{bw.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Zx(0)),this.currentAnimation=cxe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Nxe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&NK(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ka();const h=el(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=el(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Ic(l,c),jx(l,u),x1(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new wxe),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&c3("z",o,d,this.animationValues);for(let u=0;u<l3.length;u++)c3(`rotate${l3[u]}`,o,d,this.animationValues),c3(`skew${l3[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=yw(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=yw(l?.pointerEvents)||""),this.hasProjected&&!dp(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=jxe(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const y in q1){if(u[y]===void 0)continue;const{correct:g,applyTo:v,isCSSVariable:b}=q1[y],w=h==="none"?u[y]:g(u[y],d);if(v){const N=v.length;for(let _=0;_<N;_++)o[v[_]]=w}else b?this.options.visualElement.renderState.vars[y]=w:o[y]=w}this.options.layoutId&&(o.pointerEvents=d===this?yw(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(K$),this.root.sharedNodes.clear()}}}function _xe(t){t.updateLayout()}function Cxe(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,i=e.source!==t.layout.source;a==="size"?Rc(u=>{const h=i?e.measuredBox[u]:e.layoutBox[u],f=el(h);h.min=r[u].min,h.max=h.min+f}):NK(a,e.layoutBox,r)&&Rc(u=>{const h=i?e.measuredBox[u]:e.layoutBox[u],f=el(r[u]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[u].max=t.relativeTarget[u].min+f)});const o=Nx();x1(o,r,e.layoutBox);const l=Nx();i?x1(l,t.applyTransform(s,!0),e.measuredBox):x1(l,r,e.layoutBox);const c=!yK(o);let d=!1;if(!t.resumeFrom){const u=t.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:f}=u;if(h&&f){const m=Ka();g1(m,e.layoutBox,h.layoutBox);const y=Ka();g1(y,r,f.layoutBox),bK(m,y)||(d=!0),u.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=m,t.relativeParent=u)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function kxe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Axe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Exe(t){t.clearSnapshot()}function K$(t){t.clearMeasurements()}function Y$(t){t.isLayoutDirty=!1}function Pxe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function X$(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Txe(t){t.resolveTargetDelta()}function Oxe(t){t.calcProjection()}function Ixe(t){t.resetSkewAndRotation()}function $xe(t){t.removeLeadSnapshot()}function Z$(t,e,r){t.translate=Ea(e.translate,0,r),t.scale=Ea(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function J$(t,e,r,s){t.min=Ea(e.min,r.min,s),t.max=Ea(e.max,r.max,s)}function Dxe(t,e,r,s){J$(t.x,e.x,r.x,s),J$(t.y,e.y,r.y,s)}function Mxe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Rxe={duration:.45,ease:[.4,0,.1,1]},Q$=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),eD=Q$("applewebkit/")&&!Q$("chrome/")?Math.round:Yc;function tD(t){t.min=eD(t.min),t.max=eD(t.max)}function Lxe(t){tD(t.x),tD(t.y)}function NK(t,e,r){return t==="position"||t==="preserve-aspect"&&!W0e(q$(e),q$(r),.2)}function Fxe(t){return t!==t.root&&t.scroll?.wasRoot}const Bxe=jK({attachResizeListener:(t,e)=>G1(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),d3={current:void 0},SK=jK({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!d3.current){const t=new Bxe({});t.mount(window),t.setOptions({layoutScroll:!0}),d3.current=t}return d3.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Uxe={pan:{Feature:axe},drag:{Feature:sxe,ProjectionNode:SK,MeasureLayout:xK}};function rD(t,e,r){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=s[a];i&&ua.postRender(()=>i(e,Zy(e)))}class zxe extends hm{mount(){const{current:e}=this.node;e&&(this.unmount=mpe(e,(r,s)=>(rD(this.node,s,"Start"),a=>rD(this.node,a,"End"))))}unmount(){}}class Vxe extends hm{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ky(G1(this.node.current,"focus",()=>this.onFocus()),G1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nD(t,e,r){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=s[a];i&&ua.postRender(()=>i(e,Zy(e)))}class Wxe extends hm{mount(){const{current:e}=this.node;e&&(this.unmount=vpe(e,(r,s)=>(nD(this.node,s,"Start"),(a,{success:i})=>nD(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lA=new WeakMap,u3=new WeakMap,Hxe=t=>{const e=lA.get(t.target);e&&e(t)},qxe=t=>{t.forEach(Hxe)};function Gxe({root:t,...e}){const r=t||document;u3.has(r)||u3.set(r,{});const s=u3.get(r),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(qxe,{root:t,...e})),s[a]}function Kxe(t,e,r){const s=Gxe(e);return lA.set(t,r),s.observe(t),()=>{lA.delete(t),s.unobserve(t)}}const Yxe={some:0,all:1};class Xxe extends hm{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:s,amount:a="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:Yxe[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return Kxe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Zxe(e,r))&&this.startObserver()}unmount(){}}function Zxe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Jxe={inView:{Feature:Xxe},tap:{Feature:Wxe},focus:{Feature:Vxe},hover:{Feature:zxe}},Qxe={layout:{ProjectionNode:SK,MeasureLayout:xK}},ege={...L0e,...Jxe,...Uxe,...Qxe},bu=e0e(ege,f0e),_K=({size:t=80,className:e="",animated:r=!0})=>{const s=r?bu.rect:"rect",a=r?bu.line:"line",i=r?bu.circle:"circle",o=e.includes("text-")?"currentColor":"white";return n.jsxs("svg",{width:t,height:t,viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[n.jsx(s,{x:"10",y:"15",width:"60",height:"55",rx:"6",stroke:o,strokeWidth:"3",fill:"none",...r&&{initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1.5,ease:"easeInOut",repeat:1/0,repeatType:"loop"}}}),n.jsx(a,{x1:"10",y1:"28",x2:"70",y2:"28",stroke:o,strokeWidth:"3",...r&&{initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1.5,ease:"easeInOut",repeat:1/0,repeatType:"loop",delay:.2}}}),n.jsx(a,{x1:"25",y1:"15",x2:"25",y2:"10",stroke:o,strokeWidth:"3",strokeLinecap:"round",...r&&{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut",repeat:1/0,repeatType:"reverse"}}}),n.jsx(a,{x1:"55",y1:"15",x2:"55",y2:"10",stroke:o,strokeWidth:"3",strokeLinecap:"round",...r&&{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut",repeat:1/0,repeatType:"reverse",delay:.1}}}),n.jsx(i,{cx:"25",cy:"42",r:"3",fill:"#4f46e5",...r&&{initial:{scale:0,opacity:0},animate:{scale:[0,1.2,1],opacity:[0,1,1]},transition:{duration:1.2,ease:"easeOut",repeat:1/0,repeatType:"loop",delay:.3}}}),n.jsx(i,{cx:"40",cy:"42",r:"3",fill:"#4f46e5",...r&&{initial:{scale:0,opacity:0},animate:{scale:[0,1.2,1],opacity:[0,1,1]},transition:{duration:1.2,ease:"easeOut",repeat:1/0,repeatType:"loop",delay:.5}}}),n.jsx(i,{cx:"55",cy:"42",r:"3",fill:"#4f46e5",...r&&{initial:{scale:0,opacity:0},animate:{scale:[0,1.2,1],opacity:[0,1,1]},transition:{duration:1.2,ease:"easeOut",repeat:1/0,repeatType:"loop",delay:.7}}}),n.jsx(i,{cx:"25",cy:"55",r:"3",fill:"#4f46e5",...r&&{initial:{scale:0,opacity:0},animate:{scale:[0,1.2,1],opacity:[0,1,1]},transition:{duration:1.2,ease:"easeOut",repeat:1/0,repeatType:"loop",delay:.9}}}),n.jsx(i,{cx:"40",cy:"55",r:"3",fill:"#4f46e5",...r&&{initial:{scale:0,opacity:0},animate:{scale:[0,1.2,1],opacity:[0,1,1]},transition:{duration:1.2,ease:"easeOut",repeat:1/0,repeatType:"loop",delay:1.1}}})]})},tge=({onLoadingComplete:t})=>{const[e,r]=S.useState(0);return S.useEffect(()=>{const s=setInterval(()=>{r(a=>{if(a>=100)return clearInterval(s),setTimeout(()=>{t?.()},300),100;const i=a<60?2:a<90?5:10;return Math.min(a+i,100)})},50);return()=>clearInterval(s)},[t]),n.jsxs(bu.div,{className:"fixed inset-0 z-[9999] flex flex-col items-center justify-center bg-[#0a0a0a]",initial:{opacity:1},animate:{opacity:e>=100?0:1},transition:{duration:.4,ease:"easeOut"},children:[n.jsx(bu.div,{className:"relative mb-12",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},children:n.jsx(_K,{size:80,animated:!0})}),n.jsx("div",{className:"w-64 h-1 bg-[#1e1e1e] rounded-full overflow-hidden",children:n.jsx(bu.div,{className:"h-full bg-white rounded-full",initial:{width:"0%"},animate:{width:`${e}%`},transition:{duration:.3,ease:"easeOut"}})}),n.jsx(bu.p,{className:"mt-8 text-white/60 text-sm",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:"Loading BookingTMS..."})]})};function ve({className:t,...e}){return n.jsx("div",{"data-slot":"card",className:nr("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function st({className:t,...e}){return n.jsx("div",{"data-slot":"card-header",className:nr("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function at({className:t,...e}){return n.jsx("h4",{"data-slot":"card-title",className:nr("leading-none",t),...e})}function Lt({className:t,...e}){return n.jsx("p",{"data-slot":"card-description",className:nr("text-muted-foreground",t),...e})}function Te({className:t,...e}){return n.jsx("div",{"data-slot":"card-content",className:nr("px-6 [&:last-child]:pb-6",t),...e})}function j2({title:t,value:e,change:r,icon:s,iconColor:a="bg-blue-600"}){const i=r>=0;return n.jsxs(ve,{className:"group relative overflow-hidden border-gray-200 dark:border-[#2a2a2a] shadow-sm hover:shadow-lg dark:hover:shadow-[0_0_25px_rgba(79,70,229,0.2)] transition-all hover:-translate-y-0.5",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#4f46e5]/0 via-transparent to-purple-500/0 dark:from-[#4f46e5]/5 dark:via-transparent dark:to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity"}),n.jsx(Te,{className:"relative p-5 sm:p-6",children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-[#737373] mb-2 truncate uppercase tracking-wide",children:t}),n.jsx("p",{className:"text-2xl sm:text-3xl text-gray-900 dark:text-white mb-3 truncate",children:e}),n.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[i?n.jsx(Mne,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-500 flex-shrink-0"}):n.jsx(Pne,{className:"w-4 h-4 text-red-600 dark:text-red-500 flex-shrink-0"}),n.jsxs("span",{className:`text-sm ${i?"text-emerald-600 dark:text-emerald-500":"text-red-600 dark:text-red-500"}`,children:[Math.abs(r),"%"]}),n.jsx("span",{className:"text-xs sm:text-sm text-gray-500 dark:text-[#737373]",children:"vs last month"})]})]}),n.jsx("div",{className:`${a} w-12 h-12 sm:w-14 sm:h-14 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform`,children:n.jsx(s,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})})]})})]})}var h3,sD;function $l(){if(sD)return h3;sD=1;var t=Array.isArray;return h3=t,h3}var f3,aD;function CK(){if(aD)return f3;aD=1;var t=typeof i2=="object"&&i2&&i2.Object===Object&&i2;return f3=t,f3}var m3,iD;function Ku(){if(iD)return m3;iD=1;var t=CK(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return m3=r,m3}var p3,oD;function Jy(){if(oD)return p3;oD=1;var t=Ku(),e=t.Symbol;return p3=e,p3}var x3,lD;function rge(){if(lD)return x3;lD=1;var t=Jy(),e=Object.prototype,r=e.hasOwnProperty,s=e.toString,a=t?t.toStringTag:void 0;function i(o){var l=r.call(o,a),c=o[a];try{o[a]=void 0;var d=!0}catch{}var u=s.call(o);return d&&(l?o[a]=c:delete o[a]),u}return x3=i,x3}var g3,cD;function nge(){if(cD)return g3;cD=1;var t=Object.prototype,e=t.toString;function r(s){return e.call(s)}return g3=r,g3}var v3,dD;function Jh(){if(dD)return v3;dD=1;var t=Jy(),e=rge(),r=nge(),s="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?a:s:i&&i in Object(l)?e(l):r(l)}return v3=o,v3}var y3,uD;function Qh(){if(uD)return y3;uD=1;function t(e){return e!=null&&typeof e=="object"}return y3=t,y3}var b3,hD;function Fg(){if(hD)return b3;hD=1;var t=Jh(),e=Qh(),r="[object Symbol]";function s(a){return typeof a=="symbol"||e(a)&&t(a)==r}return b3=s,b3}var w3,fD;function $T(){if(fD)return w3;fD=1;var t=$l(),e=Fg(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function a(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:s.test(i)||!r.test(i)||o!=null&&i in Object(o)}return w3=a,w3}var j3,mD;function fm(){if(mD)return j3;mD=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return j3=t,j3}var N3,pD;function DT(){if(pD)return N3;pD=1;var t=Jh(),e=fm(),r="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==s||c==a||c==r||c==i}return N3=o,N3}var S3,xD;function sge(){if(xD)return S3;xD=1;var t=Ku(),e=t["__core-js_shared__"];return S3=e,S3}var _3,gD;function age(){if(gD)return _3;gD=1;var t=sge(),e=(function(){var s=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""})();function r(s){return!!e&&e in s}return _3=r,_3}var C3,vD;function kK(){if(vD)return C3;vD=1;var t=Function.prototype,e=t.toString;function r(s){if(s!=null){try{return e.call(s)}catch{}try{return s+""}catch{}}return""}return C3=r,C3}var k3,yD;function ige(){if(yD)return k3;yD=1;var t=DT(),e=age(),r=fm(),s=kK(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,u=RegExp("^"+c.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(f){if(!r(f)||e(f))return!1;var m=t(f)?u:i;return m.test(s(f))}return k3=h,k3}var A3,bD;function oge(){if(bD)return A3;bD=1;function t(e,r){return e?.[r]}return A3=t,A3}var E3,wD;function m0(){if(wD)return E3;wD=1;var t=ige(),e=oge();function r(s,a){var i=e(s,a);return t(i)?i:void 0}return E3=r,E3}var P3,jD;function RN(){if(jD)return P3;jD=1;var t=m0(),e=t(Object,"create");return P3=e,P3}var T3,ND;function lge(){if(ND)return T3;ND=1;var t=RN();function e(){this.__data__=t?t(null):{},this.size=0}return T3=e,T3}var O3,SD;function cge(){if(SD)return O3;SD=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return O3=t,O3}var I3,_D;function dge(){if(_D)return I3;_D=1;var t=RN(),e="__lodash_hash_undefined__",r=Object.prototype,s=r.hasOwnProperty;function a(i){var o=this.__data__;if(t){var l=o[i];return l===e?void 0:l}return s.call(o,i)?o[i]:void 0}return I3=a,I3}var $3,CD;function uge(){if(CD)return $3;CD=1;var t=RN(),e=Object.prototype,r=e.hasOwnProperty;function s(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return $3=s,$3}var D3,kD;function hge(){if(kD)return D3;kD=1;var t=RN(),e="__lodash_hash_undefined__";function r(s,a){var i=this.__data__;return this.size+=this.has(s)?0:1,i[s]=t&&a===void 0?e:a,this}return D3=r,D3}var M3,AD;function fge(){if(AD)return M3;AD=1;var t=lge(),e=cge(),r=dge(),s=uge(),a=hge();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=s,i.prototype.set=a,M3=i,M3}var R3,ED;function mge(){if(ED)return R3;ED=1;function t(){this.__data__=[],this.size=0}return R3=t,R3}var L3,PD;function MT(){if(PD)return L3;PD=1;function t(e,r){return e===r||e!==e&&r!==r}return L3=t,L3}var F3,TD;function LN(){if(TD)return F3;TD=1;var t=MT();function e(r,s){for(var a=r.length;a--;)if(t(r[a][0],s))return a;return-1}return F3=e,F3}var B3,OD;function pge(){if(OD)return B3;OD=1;var t=LN(),e=Array.prototype,r=e.splice;function s(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return B3=s,B3}var U3,ID;function xge(){if(ID)return U3;ID=1;var t=LN();function e(r){var s=this.__data__,a=t(s,r);return a<0?void 0:s[a][1]}return U3=e,U3}var z3,$D;function gge(){if($D)return z3;$D=1;var t=LN();function e(r){return t(this.__data__,r)>-1}return z3=e,z3}var V3,DD;function vge(){if(DD)return V3;DD=1;var t=LN();function e(r,s){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,s])):a[i][1]=s,this}return V3=e,V3}var W3,MD;function FN(){if(MD)return W3;MD=1;var t=mge(),e=pge(),r=xge(),s=gge(),a=vge();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=s,i.prototype.set=a,W3=i,W3}var H3,RD;function RT(){if(RD)return H3;RD=1;var t=m0(),e=Ku(),r=t(e,"Map");return H3=r,H3}var q3,LD;function yge(){if(LD)return q3;LD=1;var t=fge(),e=FN(),r=RT();function s(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return q3=s,q3}var G3,FD;function bge(){if(FD)return G3;FD=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return G3=t,G3}var K3,BD;function BN(){if(BD)return K3;BD=1;var t=bge();function e(r,s){var a=r.__data__;return t(s)?a[typeof s=="string"?"string":"hash"]:a.map}return K3=e,K3}var Y3,UD;function wge(){if(UD)return Y3;UD=1;var t=BN();function e(r){var s=t(this,r).delete(r);return this.size-=s?1:0,s}return Y3=e,Y3}var X3,zD;function jge(){if(zD)return X3;zD=1;var t=BN();function e(r){return t(this,r).get(r)}return X3=e,X3}var Z3,VD;function Nge(){if(VD)return Z3;VD=1;var t=BN();function e(r){return t(this,r).has(r)}return Z3=e,Z3}var J3,WD;function Sge(){if(WD)return J3;WD=1;var t=BN();function e(r,s){var a=t(this,r),i=a.size;return a.set(r,s),this.size+=a.size==i?0:1,this}return J3=e,J3}var Q3,HD;function LT(){if(HD)return Q3;HD=1;var t=yge(),e=wge(),r=jge(),s=Nge(),a=Sge();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=s,i.prototype.set=a,Q3=i,Q3}var eS,qD;function AK(){if(qD)return eS;qD=1;var t=LT(),e="Expected a function";function r(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var d=s.apply(this,o);return i.cache=c.set(l,d)||c,d};return i.cache=new(r.Cache||t),i}return r.Cache=t,eS=r,eS}var tS,GD;function _ge(){if(GD)return tS;GD=1;var t=AK(),e=500;function r(s){var a=t(s,function(o){return i.size===e&&i.clear(),o}),i=a.cache;return a}return tS=r,tS}var rS,KD;function Cge(){if(KD)return rS;KD=1;var t=_ge(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,s=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(o,l,c,d){i.push(c?d.replace(r,"$1"):l||o)}),i});return rS=s,rS}var nS,YD;function FT(){if(YD)return nS;YD=1;function t(e,r){for(var s=-1,a=e==null?0:e.length,i=Array(a);++s<a;)i[s]=r(e[s],s,e);return i}return nS=t,nS}var sS,XD;function kge(){if(XD)return sS;XD=1;var t=Jy(),e=FT(),r=$l(),s=Fg(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(s(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return sS=o,sS}var aS,ZD;function EK(){if(ZD)return aS;ZD=1;var t=kge();function e(r){return r==null?"":t(r)}return aS=e,aS}var iS,JD;function PK(){if(JD)return iS;JD=1;var t=$l(),e=$T(),r=Cge(),s=EK();function a(i,o){return t(i)?i:e(i,o)?[i]:r(s(i))}return iS=a,iS}var oS,QD;function UN(){if(QD)return oS;QD=1;var t=Fg();function e(r){if(typeof r=="string"||t(r))return r;var s=r+"";return s=="0"&&1/r==-1/0?"-0":s}return oS=e,oS}var lS,eM;function BT(){if(eM)return lS;eM=1;var t=PK(),e=UN();function r(s,a){a=t(a,s);for(var i=0,o=a.length;s!=null&&i<o;)s=s[e(a[i++])];return i&&i==o?s:void 0}return lS=r,lS}var cS,tM;function TK(){if(tM)return cS;tM=1;var t=BT();function e(r,s,a){var i=r==null?void 0:t(r,s);return i===void 0?a:i}return cS=e,cS}var Age=TK();const cc=Jn(Age);var dS,rM;function Ege(){if(rM)return dS;rM=1;function t(e){return e==null}return dS=t,dS}var Pge=Ege();const ln=Jn(Pge);var uS,nM;function Tge(){if(nM)return uS;nM=1;var t=Jh(),e=$l(),r=Qh(),s="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==s}return uS=a,uS}var Oge=Tge();const Zp=Jn(Oge);var Ige=DT();const Kr=Jn(Ige);var $ge=fm();const Bg=Jn($ge);var hS={exports:{}},os={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sM;function Dge(){if(sM)return os;sM=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function g(v){if(typeof v=="object"&&v!==null){var b=v.$$typeof;switch(b){case t:switch(v=v.type,v){case r:case a:case s:case d:case u:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case c:case f:case h:case i:return v;default:return b}}case e:return b}}}return os.ContextConsumer=o,os.ContextProvider=i,os.Element=t,os.ForwardRef=c,os.Fragment=r,os.Lazy=f,os.Memo=h,os.Portal=e,os.Profiler=a,os.StrictMode=s,os.Suspense=d,os.SuspenseList=u,os.isAsyncMode=function(){return!1},os.isConcurrentMode=function(){return!1},os.isContextConsumer=function(v){return g(v)===o},os.isContextProvider=function(v){return g(v)===i},os.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},os.isForwardRef=function(v){return g(v)===c},os.isFragment=function(v){return g(v)===r},os.isLazy=function(v){return g(v)===f},os.isMemo=function(v){return g(v)===h},os.isPortal=function(v){return g(v)===e},os.isProfiler=function(v){return g(v)===a},os.isStrictMode=function(v){return g(v)===s},os.isSuspense=function(v){return g(v)===d},os.isSuspenseList=function(v){return g(v)===u},os.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===s||v===d||v===u||v===m||typeof v=="object"&&v!==null&&(v.$$typeof===f||v.$$typeof===h||v.$$typeof===i||v.$$typeof===o||v.$$typeof===c||v.$$typeof===y||v.getModuleId!==void 0)},os.typeOf=g,os}var aM;function Mge(){return aM||(aM=1,hS.exports=Dge()),hS.exports}var Rge=Mge(),fS,iM;function OK(){if(iM)return fS;iM=1;var t=Jh(),e=Qh(),r="[object Number]";function s(a){return typeof a=="number"||e(a)&&t(a)==r}return fS=s,fS}var mS,oM;function Lge(){if(oM)return mS;oM=1;var t=OK();function e(r){return t(r)&&r!=+r}return mS=e,mS}var Fge=Lge();const Ug=Jn(Fge);var Bge=OK();const Uge=Jn(Bge);var tl=function(e){return e===0?0:e>0?1:-1},Np=function(e){return Zp(e)&&e.indexOf("%")===e.length-1},It=function(e){return Uge(e)&&!Ug(e)},zge=function(e){return ln(e)},Ei=function(e){return It(e)||Zp(e)},Vge=0,p0=function(e){var r=++Vge;return"".concat(e||"").concat(r)},rl=function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!It(e)&&!Zp(e))return s;var i;if(Np(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return Ug(i)&&(i=s),a&&i>r&&(i=r),i},Kf=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Wge=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,s={},a=0;a<r;a++)if(!s[e[a]])s[e[a]]=!0;else return!0;return!1},_i=function(e,r){return It(e)&&It(r)?function(s){return e+s*(r-e)}:function(){return r}};function Zw(t,e,r){return!t||!t.length?null:t.find(function(s){return s&&(typeof e=="function"?e(s):cc(s,e))===r})}var Hge=function(e,r){return It(e)&&It(r)?e-r:Zp(e)&&Zp(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Fx(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var s in e)if({}.hasOwnProperty.call(e,s)&&!{}.hasOwnProperty.call(t,s))return!1;return!0}function cA(t){"@babel/helpers - typeof";return cA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cA(t)}var qge=["viewBox","children"],Gge=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lM=["points","pathLength"],pS={svg:qge,polygon:lM,polyline:lM},UT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Jw=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(S.isValidElement(e)&&(s=e.props),!Bg(s))return null;var a={};return Object.keys(s).forEach(function(i){UT.includes(i)&&(a[i]=r||function(o){return s[i](s,o)})}),a},Kge=function(e,r,s){return function(a){return e(r,s,a),null}},Jp=function(e,r,s){if(!Bg(e)||cA(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];UT.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Kge(o,r,s))}),a},Yge=["children"],Xge=["children"];function cM(t,e){if(t==null)return{};var r=Zge(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function Zge(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function dA(t){"@babel/helpers - typeof";return dA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dA(t)}var dM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Bh=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},uM=null,xS=null,zT=function t(e){if(e===uM&&Array.isArray(xS))return xS;var r=[];return S.Children.forEach(e,function(s){ln(s)||(Rge.isFragment(s)?r=r.concat(t(s.props.children)):r.push(s))}),xS=r,uM=e,r};function dc(t,e){var r=[],s=[];return Array.isArray(e)?s=e.map(function(a){return Bh(a)}):s=[Bh(e)],zT(t).forEach(function(a){var i=cc(a,"type.displayName")||cc(a,"type.name");s.indexOf(i)!==-1&&r.push(a)}),r}function ec(t,e){var r=dc(t,e);return r&&r[0]}var hM=function(e){if(!e||!e.props)return!1;var r=e.props,s=r.width,a=r.height;return!(!It(s)||s<=0||!It(a)||a<=0)},Jge=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Qge=function(e){return e&&e.type&&Zp(e.type)&&Jge.indexOf(e.type)>=0},IK=function(e){return e&&dA(e)==="object"&&"clipDot"in e},eve=function(e,r,s,a){var i,o=(i=pS?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Kr(e)&&(a&&o.includes(r)||Gge.includes(r))||s&&UT.includes(r)},Ir=function(e,r,s){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(S.isValidElement(e)&&(a=e.props),!Bg(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;eve((l=a)===null||l===void 0?void 0:l[o],o,r,s)&&(i[o]=a[o])}),i},uA=function t(e,r){if(e===r)return!0;var s=S.Children.count(e);if(s!==S.Children.count(r))return!1;if(s===0)return!0;if(s===1)return fM(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<s;a++){var i=e[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!fM(i,o))return!1}return!0},fM=function(e,r){if(ln(e)&&ln(r))return!0;if(!ln(e)&&!ln(r)){var s=e.props||{},a=s.children,i=cM(s,Yge),o=r.props||{},l=o.children,c=cM(o,Xge);return a&&l?Fx(i,c)&&uA(a,l):!a&&!l?Fx(i,c):!1}return!1},mM=function(e,r){var s=[],a={};return zT(e).forEach(function(i,o){if(Qge(i))s.push(i);else if(i){var l=Bh(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var h=d(i,l,o);s.push(h),a[l]=!0}}}),s},tve=function(e){var r=e&&e.type;return r&&dM[r]?dM[r]:null},rve=function(e,r){return zT(r).indexOf(e)},nve=["children","width","height","viewBox","className","style","title","desc"];function hA(){return hA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},hA.apply(this,arguments)}function sve(t,e){if(t==null)return{};var r=ave(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function ave(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function fA(t){var e=t.children,r=t.width,s=t.height,a=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,d=sve(t,nve),u=a||{width:r,height:s,x:0,y:0},h=dn("recharts-surface",i);return fe.createElement("svg",hA({},Ir(d,!0,"svg"),{className:h,width:r,height:s,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),fe.createElement("title",null,l),fe.createElement("desc",null,c),e)}var ive=["children","className"];function mA(){return mA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},mA.apply(this,arguments)}function ove(t,e){if(t==null)return{};var r=lve(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function lve(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var Tn=fe.forwardRef(function(t,e){var r=t.children,s=t.className,a=ove(t,ive),i=dn("recharts-layer",s);return fe.createElement("g",mA({className:i},Ir(a,!0),{ref:e}),r)}),Fd=function(e,r){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]},gS,pM;function cve(){if(pM)return gS;pM=1;function t(e,r,s){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),s=s>i?i:s,s<0&&(s+=i),i=r>s?0:s-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=e[a+r];return o}return gS=t,gS}var vS,xM;function dve(){if(xM)return vS;xM=1;var t=cve();function e(r,s,a){var i=r.length;return a=a===void 0?i:a,!s&&a>=i?r:t(r,s,a)}return vS=e,vS}var yS,gM;function $K(){if(gM)return yS;gM=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",a=e+r+s,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+a+i+"]");function c(d){return l.test(d)}return yS=c,yS}var bS,vM;function uve(){if(vM)return bS;vM=1;function t(e){return e.split("")}return bS=t,bS}var wS,yM;function hve(){if(yM)return wS;yM=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",a=e+r+s,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",u="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",y=d+"?",g="["+i+"]?",v="(?:"+m+"(?:"+[u,h,f].join("|")+")"+g+y+")*",b=g+y+v,w="(?:"+[u+l+"?",l,h,f,o].join("|")+")",N=RegExp(c+"(?="+c+")|"+w+b,"g");function _(C){return C.match(N)||[]}return wS=_,wS}var jS,bM;function fve(){if(bM)return jS;bM=1;var t=uve(),e=$K(),r=hve();function s(a){return e(a)?r(a):t(a)}return jS=s,jS}var NS,wM;function mve(){if(wM)return NS;wM=1;var t=dve(),e=$K(),r=fve(),s=EK();function a(i){return function(o){o=s(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[i]()+d}}return NS=a,NS}var SS,jM;function pve(){if(jM)return SS;jM=1;var t=mve(),e=t("toUpperCase");return SS=e,SS}var xve=pve();const zN=Jn(xve);function zs(t){return function(){return t}}const DK=Math.cos,Qw=Math.sin,Kd=Math.sqrt,ej=Math.PI,VN=2*ej,pA=Math.PI,xA=2*pA,up=1e-6,gve=xA-up;function MK(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function vve(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return MK;const r=10**e;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+s[a]}}class yve{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?MK:vve(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,s,a){this._append`Q${+e},${+r},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(e,r,s,a,i,o){this._append`C${+e},${+r},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,s,a,i){if(e=+e,r=+r,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-e,d=a-r,u=o-e,h=l-r,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>up)if(!(Math.abs(h*c-d*u)>up)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let m=s-o,y=a-l,g=c*c+d*d,v=m*m+y*y,b=Math.sqrt(g),w=Math.sqrt(f),N=i*Math.tan((pA-Math.acos((g+f-v)/(2*b*w)))/2),_=N/w,C=N/b;Math.abs(_-1)>up&&this._append`L${e+_*u},${r+_*h}`,this._append`A${i},${i},0,0,${+(h*m>u*y)},${this._x1=e+C*c},${this._y1=r+C*d}`}}arc(e,r,s,a,i,o){if(e=+e,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),d=e+l,u=r+c,h=1^o,f=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>up||Math.abs(this._y1-u)>up)&&this._append`L${d},${u}`,s&&(f<0&&(f=f%xA+xA),f>gve?this._append`A${s},${s},0,1,${h},${e-l},${r-c}A${s},${s},0,1,${h},${this._x1=d},${this._y1=u}`:f>up&&this._append`A${s},${s},0,${+(f>=pA)},${h},${this._x1=e+s*Math.cos(i)},${this._y1=r+s*Math.sin(i)}`)}rect(e,r,s,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function VT(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);e=s}return t},()=>new yve(e)}function WT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function RK(t){this._context=t}RK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function WN(t){return new RK(t)}function LK(t){return t[0]}function FK(t){return t[1]}function BK(t,e){var r=zs(!0),s=null,a=WN,i=null,o=VT(l);t=typeof t=="function"?t:t===void 0?LK:zs(t),e=typeof e=="function"?e:e===void 0?FK:zs(e);function l(c){var d,u=(c=WT(c)).length,h,f=!1,m;for(s==null&&(i=a(m=o())),d=0;d<=u;++d)!(d<u&&r(h=c[d],d,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+t(h,d,c),+e(h,d,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:zs(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:zs(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:zs(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function N2(t,e,r){var s=null,a=zs(!0),i=null,o=WN,l=null,c=VT(d);t=typeof t=="function"?t:t===void 0?LK:zs(+t),e=typeof e=="function"?e:zs(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?FK:zs(+r);function d(h){var f,m,y,g=(h=WT(h)).length,v,b=!1,w,N=new Array(g),_=new Array(g);for(i==null&&(l=o(w=c())),f=0;f<=g;++f){if(!(f<g&&a(v=h[f],f,h))===b)if(b=!b)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=f-1;y>=m;--y)l.point(N[y],_[y]);l.lineEnd(),l.areaEnd()}b&&(N[f]=+t(v,f,h),_[f]=+e(v,f,h),l.point(s?+s(v,f,h):N[f],r?+r(v,f,h):_[f]))}if(w)return l=null,w+""||null}function u(){return BK().defined(a).curve(o).context(i)}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:zs(+h),s=null,d):t},d.x0=function(h){return arguments.length?(t=typeof h=="function"?h:zs(+h),d):t},d.x1=function(h){return arguments.length?(s=h==null?null:typeof h=="function"?h:zs(+h),d):s},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:zs(+h),r=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:zs(+h),d):e},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:zs(+h),d):r},d.lineX0=d.lineY0=function(){return u().x(t).y(e)},d.lineY1=function(){return u().x(t).y(r)},d.lineX1=function(){return u().x(s).y(e)},d.defined=function(h){return arguments.length?(a=typeof h=="function"?h:zs(!!h),d):a},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class UK{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function bve(t){return new UK(t,!0)}function wve(t){return new UK(t,!1)}const HT={draw(t,e){const r=Kd(e/ej);t.moveTo(r,0),t.arc(0,0,r,0,VN)}},jve={draw(t,e){const r=Kd(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},zK=Kd(1/3),Nve=zK*2,Sve={draw(t,e){const r=Kd(e/Nve),s=r*zK;t.moveTo(0,-r),t.lineTo(s,0),t.lineTo(0,r),t.lineTo(-s,0),t.closePath()}},_ve={draw(t,e){const r=Kd(e),s=-r/2;t.rect(s,s,r,r)}},Cve=.8908130915292852,VK=Qw(ej/10)/Qw(7*ej/10),kve=Qw(VN/10)*VK,Ave=-DK(VN/10)*VK,Eve={draw(t,e){const r=Kd(e*Cve),s=kve*r,a=Ave*r;t.moveTo(0,-r),t.lineTo(s,a);for(let i=1;i<5;++i){const o=VN*i/5,l=DK(o),c=Qw(o);t.lineTo(c*r,-l*r),t.lineTo(l*s-c*a,c*s+l*a)}t.closePath()}},_S=Kd(3),Pve={draw(t,e){const r=-Kd(e/(_S*3));t.moveTo(0,r*2),t.lineTo(-_S*r,-r),t.lineTo(_S*r,-r),t.closePath()}},$c=-.5,Dc=Kd(3)/2,gA=1/Kd(12),Tve=(gA/2+1)*3,Ove={draw(t,e){const r=Kd(e/Tve),s=r/2,a=r*gA,i=s,o=r*gA+r,l=-i,c=o;t.moveTo(s,a),t.lineTo(i,o),t.lineTo(l,c),t.lineTo($c*s-Dc*a,Dc*s+$c*a),t.lineTo($c*i-Dc*o,Dc*i+$c*o),t.lineTo($c*l-Dc*c,Dc*l+$c*c),t.lineTo($c*s+Dc*a,$c*a-Dc*s),t.lineTo($c*i+Dc*o,$c*o-Dc*i),t.lineTo($c*l+Dc*c,$c*c-Dc*l),t.closePath()}};function Ive(t,e){let r=null,s=VT(a);t=typeof t=="function"?t:zs(t||HT),e=typeof e=="function"?e:zs(e===void 0?64:+e);function a(){let i;if(r||(r=i=s()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:zs(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:zs(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function tj(){}function rj(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function WK(t){this._context=t}WK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rj(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rj(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $ve(t){return new WK(t)}function HK(t){this._context=t}HK.prototype={areaStart:tj,areaEnd:tj,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:rj(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Dve(t){return new HK(t)}function qK(t){this._context=t}qK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:rj(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Mve(t){return new qK(t)}function GK(t){this._context=t}GK.prototype={areaStart:tj,areaEnd:tj,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Rve(t){return new GK(t)}function NM(t){return t<0?-1:1}function SM(t,e,r){var s=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(s||a<0&&-0),o=(r-t._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(NM(i)+NM(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function _M(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function CS(t,e,r){var s=t._x0,a=t._y0,i=t._x1,o=t._y1,l=(i-s)/3;t._context.bezierCurveTo(s+l,a+l*e,i-l,o-l*r,i,o)}function nj(t){this._context=t}nj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:CS(this,this._t0,_M(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,CS(this,_M(this,r=SM(this,t,e)),r);break;default:CS(this,this._t0,r=SM(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function KK(t){this._context=new YK(t)}(KK.prototype=Object.create(nj.prototype)).point=function(t,e){nj.prototype.point.call(this,e,t)};function YK(t){this._context=t}YK.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,s,a,i){this._context.bezierCurveTo(e,t,s,r,i,a)}};function Lve(t){return new nj(t)}function Fve(t){return new KK(t)}function XK(t){this._context=t}XK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var s=CM(t),a=CM(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function CM(t){var e,r=t.length-1,s,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)s=a[e]/i[e-1],i[e]-=s,o[e]-=s*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function Bve(t){return new XK(t)}function HN(t,e){this._context=t,this._t=e}HN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Uve(t){return new HN(t,.5)}function zve(t){return new HN(t,0)}function Vve(t){return new HN(t,1)}function Qx(t,e){if((o=t.length)>1)for(var r=1,s,a,i=t[e[0]],o,l=i.length;r<o;++r)for(a=i,i=t[e[r]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function vA(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Wve(t,e){return t[e]}function Hve(t){const e=[];return e.key=t,e}function qve(){var t=zs([]),e=vA,r=Qx,s=Wve;function a(i){var o=Array.from(t.apply(this,arguments),Hve),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+s(h,o[l].key,d,i)]).data=h;for(l=0,u=WT(e(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:zs(Array.from(i)),a):t},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:zs(+i),a):s},a.order=function(i){return arguments.length?(e=i==null?vA:typeof i=="function"?i:zs(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Qx,a):r},a}function Gve(t,e){if((s=t.length)>0){for(var r,s,a=0,i=t[0].length,o;a<i;++a){for(o=r=0;r<s;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<s;++r)t[r][a][1]/=o}Qx(t,e)}}function Kve(t,e){if((a=t.length)>0){for(var r=0,s=t[e[0]],a,i=s.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=t[o][r][1]||0;s[r][1]+=s[r][0]=-l/2}Qx(t,e)}}function Yve(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,d=0;l<o;++l){for(var u=t[e[l]],h=u[s][1]||0,f=u[s-1][1]||0,m=(h-f)/2,y=0;y<l;++y){var g=t[e[y]],v=g[s][1]||0,b=g[s-1][1]||0;m+=v-b}c+=h,d+=m*h}a[s-1][1]+=a[s-1][0]=r,c&&(r-=d/c)}a[s-1][1]+=a[s-1][0]=r,Qx(t,e)}}function K1(t){"@babel/helpers - typeof";return K1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K1(t)}var Xve=["type","size","sizeType"];function yA(){return yA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},yA.apply(this,arguments)}function kM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function AM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(r),!0).forEach(function(s){Zve(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kM(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Zve(t,e,r){return e=Jve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jve(t){var e=Qve(t,"string");return K1(e)=="symbol"?e:e+""}function Qve(t,e){if(K1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(K1(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e1e(t,e){if(t==null)return{};var r=t1e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function t1e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var ZK={symbolCircle:HT,symbolCross:jve,symbolDiamond:Sve,symbolSquare:_ve,symbolStar:Eve,symbolTriangle:Pve,symbolWye:Ove},r1e=Math.PI/180,n1e=function(e){var r="symbol".concat(zN(e));return ZK[r]||HT},s1e=function(e,r,s){if(r==="area")return e;switch(s){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*r1e;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},a1e=function(e,r){ZK["symbol".concat(zN(e))]=r},qT=function(e){var r=e.type,s=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,o=e.sizeType,l=o===void 0?"area":o,c=e1e(e,Xve),d=AM(AM({},c),{},{type:s,size:i,sizeType:l}),u=function(){var v=n1e(s),b=Ive().type(v).size(s1e(i,l,s));return b()},h=d.className,f=d.cx,m=d.cy,y=Ir(d,!0);return f===+f&&m===+m&&i===+i?fe.createElement("path",yA({},y,{className:dn("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(m,")"),d:u()})):null};qT.registerSymbol=a1e;function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function bA(){return bA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},bA.apply(this,arguments)}function EM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function i1e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(r),!0).forEach(function(s){Y1(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EM(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function o1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l1e(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,QK(s.key),s)}}function c1e(t,e,r){return e&&l1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function d1e(t,e,r){return e=sj(e),u1e(t,JK()?Reflect.construct(e,r||[],sj(t).constructor):e.apply(t,r))}function u1e(t,e){if(e&&(eg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h1e(t)}function h1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JK=function(){return!!t})()}function sj(t){return sj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sj(t)}function f1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wA(t,e)}function wA(t,e){return wA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},wA(t,e)}function Y1(t,e,r){return e=QK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QK(t){var e=m1e(t,"string");return eg(e)=="symbol"?e:e+""}function m1e(t,e){if(eg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(eg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mc=32,GT=(function(t){function e(){return o1e(this,e),d1e(this,e,arguments)}return f1e(e,t),c1e(e,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=Mc/2,o=Mc/6,l=Mc/3,c=s.inactive?a:s.color;if(s.type==="plainline")return fe.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:Mc,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return fe.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Mc,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return fe.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Mc/8,"h").concat(Mc,"v").concat(Mc*3/4,"h").concat(-Mc,"z"),className:"recharts-legend-icon"});if(fe.isValidElement(s.legendIcon)){var d=i1e({},s);return delete d.legendIcon,fe.cloneElement(s.legendIcon,d)}return fe.createElement(qT,{fill:c,cx:i,cy:i,size:Mc,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:Mc,height:Mc},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,y){var g=m.formatter||c,v=dn(Y1(Y1({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=Kr(m.value)?null:m.value;Fd(!Kr(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?d:m.color;return fe.createElement("li",bA({className:v,style:h,key:"legend-item-".concat(y)},Jp(s.props,m,y)),fe.createElement(fA,{width:o,height:o,viewBox:u,style:f},s.renderIcon(m)),fe.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(b,m,y):b))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return fe.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(S.PureComponent);Y1(GT,"displayName","Legend");Y1(GT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var kS,PM;function p1e(){if(PM)return kS;PM=1;var t=FN();function e(){this.__data__=new t,this.size=0}return kS=e,kS}var AS,TM;function x1e(){if(TM)return AS;TM=1;function t(e){var r=this.__data__,s=r.delete(e);return this.size=r.size,s}return AS=t,AS}var ES,OM;function g1e(){if(OM)return ES;OM=1;function t(e){return this.__data__.get(e)}return ES=t,ES}var PS,IM;function v1e(){if(IM)return PS;IM=1;function t(e){return this.__data__.has(e)}return PS=t,PS}var TS,$M;function y1e(){if($M)return TS;$M=1;var t=FN(),e=RT(),r=LT(),s=200;function a(i,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<s-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return TS=a,TS}var OS,DM;function eY(){if(DM)return OS;DM=1;var t=FN(),e=p1e(),r=x1e(),s=g1e(),a=v1e(),i=y1e();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=s,o.prototype.has=a,o.prototype.set=i,OS=o,OS}var IS,MM;function b1e(){if(MM)return IS;MM=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return IS=e,IS}var $S,RM;function w1e(){if(RM)return $S;RM=1;function t(e){return this.__data__.has(e)}return $S=t,$S}var DS,LM;function tY(){if(LM)return DS;LM=1;var t=LT(),e=b1e(),r=w1e();function s(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new t;++i<o;)this.add(a[i])}return s.prototype.add=s.prototype.push=e,s.prototype.has=r,DS=s,DS}var MS,FM;function rY(){if(FM)return MS;FM=1;function t(e,r){for(var s=-1,a=e==null?0:e.length;++s<a;)if(r(e[s],s,e))return!0;return!1}return MS=t,MS}var RS,BM;function nY(){if(BM)return RS;BM=1;function t(e,r){return e.has(r)}return RS=t,RS}var LS,UM;function sY(){if(UM)return LS;UM=1;var t=tY(),e=rY(),r=nY(),s=1,a=2;function i(o,l,c,d,u,h){var f=c&s,m=o.length,y=l.length;if(m!=y&&!(f&&y>m))return!1;var g=h.get(o),v=h.get(l);if(g&&v)return g==l&&v==o;var b=-1,w=!0,N=c&a?new t:void 0;for(h.set(o,l),h.set(l,o);++b<m;){var _=o[b],C=l[b];if(d)var E=f?d(C,_,b,l,o,h):d(_,C,b,o,l,h);if(E!==void 0){if(E)continue;w=!1;break}if(N){if(!e(l,function(A,I){if(!r(N,I)&&(_===A||u(_,A,c,d,h)))return N.push(I)})){w=!1;break}}else if(!(_===C||u(_,C,c,d,h))){w=!1;break}}return h.delete(o),h.delete(l),w}return LS=i,LS}var FS,zM;function j1e(){if(zM)return FS;zM=1;var t=Ku(),e=t.Uint8Array;return FS=e,FS}var BS,VM;function N1e(){if(VM)return BS;VM=1;function t(e){var r=-1,s=Array(e.size);return e.forEach(function(a,i){s[++r]=[i,a]}),s}return BS=t,BS}var US,WM;function KT(){if(WM)return US;WM=1;function t(e){var r=-1,s=Array(e.size);return e.forEach(function(a){s[++r]=a}),s}return US=t,US}var zS,HM;function S1e(){if(HM)return zS;HM=1;var t=Jy(),e=j1e(),r=MT(),s=sY(),a=N1e(),i=KT(),o=1,l=2,c="[object Boolean]",d="[object Date]",u="[object Error]",h="[object Map]",f="[object Number]",m="[object RegExp]",y="[object Set]",g="[object String]",v="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",N=t?t.prototype:void 0,_=N?N.valueOf:void 0;function C(E,A,I,$,O,P,M){switch(I){case w:if(E.byteLength!=A.byteLength||E.byteOffset!=A.byteOffset)return!1;E=E.buffer,A=A.buffer;case b:return!(E.byteLength!=A.byteLength||!P(new e(E),new e(A)));case c:case d:case f:return r(+E,+A);case u:return E.name==A.name&&E.message==A.message;case m:case g:return E==A+"";case h:var R=a;case y:var W=$&o;if(R||(R=i),E.size!=A.size&&!W)return!1;var Y=M.get(E);if(Y)return Y==A;$|=l,M.set(E,A);var K=s(R(E),R(A),$,O,P,M);return M.delete(E),K;case v:if(_)return _.call(E)==_.call(A)}return!1}return zS=C,zS}var VS,qM;function aY(){if(qM)return VS;qM=1;function t(e,r){for(var s=-1,a=r.length,i=e.length;++s<a;)e[i+s]=r[s];return e}return VS=t,VS}var WS,GM;function _1e(){if(GM)return WS;GM=1;var t=aY(),e=$l();function r(s,a,i){var o=a(s);return e(s)?o:t(o,i(s))}return WS=r,WS}var HS,KM;function C1e(){if(KM)return HS;KM=1;function t(e,r){for(var s=-1,a=e==null?0:e.length,i=0,o=[];++s<a;){var l=e[s];r(l,s,e)&&(o[i++]=l)}return o}return HS=t,HS}var qS,YM;function k1e(){if(YM)return qS;YM=1;function t(){return[]}return qS=t,qS}var GS,XM;function A1e(){if(XM)return GS;XM=1;var t=C1e(),e=k1e(),r=Object.prototype,s=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(l){return s.call(o,l)}))}:e;return GS=i,GS}var KS,ZM;function E1e(){if(ZM)return KS;ZM=1;function t(e,r){for(var s=-1,a=Array(e);++s<e;)a[s]=r(s);return a}return KS=t,KS}var YS,JM;function P1e(){if(JM)return YS;JM=1;var t=Jh(),e=Qh(),r="[object Arguments]";function s(a){return e(a)&&t(a)==r}return YS=s,YS}var XS,QM;function YT(){if(QM)return XS;QM=1;var t=P1e(),e=Qh(),r=Object.prototype,s=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&s.call(o,"callee")&&!a.call(o,"callee")};return XS=i,XS}var Qv={exports:{}},ZS,eR;function T1e(){if(eR)return ZS;eR=1;function t(){return!1}return ZS=t,ZS}Qv.exports;var tR;function iY(){return tR||(tR=1,(function(t,e){var r=Ku(),s=T1e(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||s;t.exports=d})(Qv,Qv.exports)),Qv.exports}var JS,rR;function XT(){if(rR)return JS;rR=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(s,a){var i=typeof s;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(s))&&s>-1&&s%1==0&&s<a}return JS=r,JS}var QS,nR;function ZT(){if(nR)return QS;nR=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return QS=e,QS}var e6,sR;function O1e(){if(sR)return e6;sR=1;var t=Jh(),e=ZT(),r=Qh(),s="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",u="[object Number]",h="[object Object]",f="[object RegExp]",m="[object Set]",y="[object String]",g="[object WeakMap]",v="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",N="[object Float64Array]",_="[object Int8Array]",C="[object Int16Array]",E="[object Int32Array]",A="[object Uint8Array]",I="[object Uint8ClampedArray]",$="[object Uint16Array]",O="[object Uint32Array]",P={};P[w]=P[N]=P[_]=P[C]=P[E]=P[A]=P[I]=P[$]=P[O]=!0,P[s]=P[a]=P[v]=P[i]=P[b]=P[o]=P[l]=P[c]=P[d]=P[u]=P[h]=P[f]=P[m]=P[y]=P[g]=!1;function M(R){return r(R)&&e(R.length)&&!!P[t(R)]}return e6=M,e6}var t6,aR;function oY(){if(aR)return t6;aR=1;function t(e){return function(r){return e(r)}}return t6=t,t6}var e1={exports:{}};e1.exports;var iR;function I1e(){return iR||(iR=1,(function(t,e){var r=CK(),s=e&&!e.nodeType&&e,a=s&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===s,o=i&&r.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(e1,e1.exports)),e1.exports}var r6,oR;function lY(){if(oR)return r6;oR=1;var t=O1e(),e=oY(),r=I1e(),s=r&&r.isTypedArray,a=s?e(s):t;return r6=a,r6}var n6,lR;function $1e(){if(lR)return n6;lR=1;var t=E1e(),e=YT(),r=$l(),s=iY(),a=XT(),i=lY(),o=Object.prototype,l=o.hasOwnProperty;function c(d,u){var h=r(d),f=!h&&e(d),m=!h&&!f&&s(d),y=!h&&!f&&!m&&i(d),g=h||f||m||y,v=g?t(d.length,String):[],b=v.length;for(var w in d)(u||l.call(d,w))&&!(g&&(w=="length"||m&&(w=="offset"||w=="parent")||y&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||a(w,b)))&&v.push(w);return v}return n6=c,n6}var s6,cR;function D1e(){if(cR)return s6;cR=1;var t=Object.prototype;function e(r){var s=r&&r.constructor,a=typeof s=="function"&&s.prototype||t;return r===a}return s6=e,s6}var a6,dR;function cY(){if(dR)return a6;dR=1;function t(e,r){return function(s){return e(r(s))}}return a6=t,a6}var i6,uR;function M1e(){if(uR)return i6;uR=1;var t=cY(),e=t(Object.keys,Object);return i6=e,i6}var o6,hR;function R1e(){if(hR)return o6;hR=1;var t=D1e(),e=M1e(),r=Object.prototype,s=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var o=[];for(var l in Object(i))s.call(i,l)&&l!="constructor"&&o.push(l);return o}return o6=a,o6}var l6,fR;function Qy(){if(fR)return l6;fR=1;var t=DT(),e=ZT();function r(s){return s!=null&&e(s.length)&&!t(s)}return l6=r,l6}var c6,mR;function qN(){if(mR)return c6;mR=1;var t=$1e(),e=R1e(),r=Qy();function s(a){return r(a)?t(a):e(a)}return c6=s,c6}var d6,pR;function L1e(){if(pR)return d6;pR=1;var t=_1e(),e=A1e(),r=qN();function s(a){return t(a,r,e)}return d6=s,d6}var u6,xR;function F1e(){if(xR)return u6;xR=1;var t=L1e(),e=1,r=Object.prototype,s=r.hasOwnProperty;function a(i,o,l,c,d,u){var h=l&e,f=t(i),m=f.length,y=t(o),g=y.length;if(m!=g&&!h)return!1;for(var v=m;v--;){var b=f[v];if(!(h?b in o:s.call(o,b)))return!1}var w=u.get(i),N=u.get(o);if(w&&N)return w==o&&N==i;var _=!0;u.set(i,o),u.set(o,i);for(var C=h;++v<m;){b=f[v];var E=i[b],A=o[b];if(c)var I=h?c(A,E,b,o,i,u):c(E,A,b,i,o,u);if(!(I===void 0?E===A||d(E,A,l,c,u):I)){_=!1;break}C||(C=b=="constructor")}if(_&&!C){var $=i.constructor,O=o.constructor;$!=O&&"constructor"in i&&"constructor"in o&&!(typeof $=="function"&&$ instanceof $&&typeof O=="function"&&O instanceof O)&&(_=!1)}return u.delete(i),u.delete(o),_}return u6=a,u6}var h6,gR;function B1e(){if(gR)return h6;gR=1;var t=m0(),e=Ku(),r=t(e,"DataView");return h6=r,h6}var f6,vR;function U1e(){if(vR)return f6;vR=1;var t=m0(),e=Ku(),r=t(e,"Promise");return f6=r,f6}var m6,yR;function dY(){if(yR)return m6;yR=1;var t=m0(),e=Ku(),r=t(e,"Set");return m6=r,m6}var p6,bR;function z1e(){if(bR)return p6;bR=1;var t=m0(),e=Ku(),r=t(e,"WeakMap");return p6=r,p6}var x6,wR;function V1e(){if(wR)return x6;wR=1;var t=B1e(),e=RT(),r=U1e(),s=dY(),a=z1e(),i=Jh(),o=kK(),l="[object Map]",c="[object Object]",d="[object Promise]",u="[object Set]",h="[object WeakMap]",f="[object DataView]",m=o(t),y=o(e),g=o(r),v=o(s),b=o(a),w=i;return(t&&w(new t(new ArrayBuffer(1)))!=f||e&&w(new e)!=l||r&&w(r.resolve())!=d||s&&w(new s)!=u||a&&w(new a)!=h)&&(w=function(N){var _=i(N),C=_==c?N.constructor:void 0,E=C?o(C):"";if(E)switch(E){case m:return f;case y:return l;case g:return d;case v:return u;case b:return h}return _}),x6=w,x6}var g6,jR;function W1e(){if(jR)return g6;jR=1;var t=eY(),e=sY(),r=S1e(),s=F1e(),a=V1e(),i=$l(),o=iY(),l=lY(),c=1,d="[object Arguments]",u="[object Array]",h="[object Object]",f=Object.prototype,m=f.hasOwnProperty;function y(g,v,b,w,N,_){var C=i(g),E=i(v),A=C?u:a(g),I=E?u:a(v);A=A==d?h:A,I=I==d?h:I;var $=A==h,O=I==h,P=A==I;if(P&&o(g)){if(!o(v))return!1;C=!0,$=!1}if(P&&!$)return _||(_=new t),C||l(g)?e(g,v,b,w,N,_):r(g,v,A,b,w,N,_);if(!(b&c)){var M=$&&m.call(g,"__wrapped__"),R=O&&m.call(v,"__wrapped__");if(M||R){var W=M?g.value():g,Y=R?v.value():v;return _||(_=new t),N(W,Y,b,w,_)}}return P?(_||(_=new t),s(g,v,b,w,N,_)):!1}return g6=y,g6}var v6,NR;function JT(){if(NR)return v6;NR=1;var t=W1e(),e=Qh();function r(s,a,i,o,l){return s===a?!0:s==null||a==null||!e(s)&&!e(a)?s!==s&&a!==a:t(s,a,i,o,r,l)}return v6=r,v6}var y6,SR;function H1e(){if(SR)return y6;SR=1;var t=eY(),e=JT(),r=1,s=2;function a(i,o,l,c){var d=l.length,u=d,h=!c;if(i==null)return!u;for(i=Object(i);d--;){var f=l[d];if(h&&f[2]?f[1]!==i[f[0]]:!(f[0]in i))return!1}for(;++d<u;){f=l[d];var m=f[0],y=i[m],g=f[1];if(h&&f[2]){if(y===void 0&&!(m in i))return!1}else{var v=new t;if(c)var b=c(y,g,m,i,o,v);if(!(b===void 0?e(g,y,r|s,c,v):b))return!1}}return!0}return y6=a,y6}var b6,_R;function uY(){if(_R)return b6;_R=1;var t=fm();function e(r){return r===r&&!t(r)}return b6=e,b6}var w6,CR;function q1e(){if(CR)return w6;CR=1;var t=uY(),e=qN();function r(s){for(var a=e(s),i=a.length;i--;){var o=a[i],l=s[o];a[i]=[o,l,t(l)]}return a}return w6=r,w6}var j6,kR;function hY(){if(kR)return j6;kR=1;function t(e,r){return function(s){return s==null?!1:s[e]===r&&(r!==void 0||e in Object(s))}}return j6=t,j6}var N6,AR;function G1e(){if(AR)return N6;AR=1;var t=H1e(),e=q1e(),r=hY();function s(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||t(o,a,i)}}return N6=s,N6}var S6,ER;function K1e(){if(ER)return S6;ER=1;function t(e,r){return e!=null&&r in Object(e)}return S6=t,S6}var _6,PR;function Y1e(){if(PR)return _6;PR=1;var t=PK(),e=YT(),r=$l(),s=XT(),a=ZT(),i=UN();function o(l,c,d){c=t(c,l);for(var u=-1,h=c.length,f=!1;++u<h;){var m=i(c[u]);if(!(f=l!=null&&d(l,m)))break;l=l[m]}return f||++u!=h?f:(h=l==null?0:l.length,!!h&&a(h)&&s(m,h)&&(r(l)||e(l)))}return _6=o,_6}var C6,TR;function X1e(){if(TR)return C6;TR=1;var t=K1e(),e=Y1e();function r(s,a){return s!=null&&e(s,a,t)}return C6=r,C6}var k6,OR;function Z1e(){if(OR)return k6;OR=1;var t=JT(),e=TK(),r=X1e(),s=$T(),a=uY(),i=hY(),o=UN(),l=1,c=2;function d(u,h){return s(u)&&a(h)?i(o(u),h):function(f){var m=e(f,u);return m===void 0&&m===h?r(f,u):t(h,m,l|c)}}return k6=d,k6}var A6,IR;function zg(){if(IR)return A6;IR=1;function t(e){return e}return A6=t,A6}var E6,$R;function J1e(){if($R)return E6;$R=1;function t(e){return function(r){return r?.[e]}}return E6=t,E6}var P6,DR;function Q1e(){if(DR)return P6;DR=1;var t=BT();function e(r){return function(s){return t(s,r)}}return P6=e,P6}var T6,MR;function eye(){if(MR)return T6;MR=1;var t=J1e(),e=Q1e(),r=$T(),s=UN();function a(i){return r(i)?t(s(i)):e(i)}return T6=a,T6}var O6,RR;function Yu(){if(RR)return O6;RR=1;var t=G1e(),e=Z1e(),r=zg(),s=$l(),a=eye();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?s(o)?e(o[0],o[1]):t(o):a(o)}return O6=i,O6}var I6,LR;function fY(){if(LR)return I6;LR=1;function t(e,r,s,a){for(var i=e.length,o=s+(a?1:-1);a?o--:++o<i;)if(r(e[o],o,e))return o;return-1}return I6=t,I6}var $6,FR;function tye(){if(FR)return $6;FR=1;function t(e){return e!==e}return $6=t,$6}var D6,BR;function rye(){if(BR)return D6;BR=1;function t(e,r,s){for(var a=s-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return D6=t,D6}var M6,UR;function nye(){if(UR)return M6;UR=1;var t=fY(),e=tye(),r=rye();function s(a,i,o){return i===i?r(a,i,o):t(a,e,o)}return M6=s,M6}var R6,zR;function sye(){if(zR)return R6;zR=1;var t=nye();function e(r,s){var a=r==null?0:r.length;return!!a&&t(r,s,0)>-1}return R6=e,R6}var L6,VR;function aye(){if(VR)return L6;VR=1;function t(e,r,s){for(var a=-1,i=e==null?0:e.length;++a<i;)if(s(r,e[a]))return!0;return!1}return L6=t,L6}var F6,WR;function iye(){if(WR)return F6;WR=1;function t(){}return F6=t,F6}var B6,HR;function oye(){if(HR)return B6;HR=1;var t=dY(),e=iye(),r=KT(),s=1/0,a=t&&1/r(new t([,-0]))[1]==s?function(i){return new t(i)}:e;return B6=a,B6}var U6,qR;function lye(){if(qR)return U6;qR=1;var t=tY(),e=sye(),r=aye(),s=nY(),a=oye(),i=KT(),o=200;function l(c,d,u){var h=-1,f=e,m=c.length,y=!0,g=[],v=g;if(u)y=!1,f=r;else if(m>=o){var b=d?null:a(c);if(b)return i(b);y=!1,f=s,v=new t}else v=d?[]:g;e:for(;++h<m;){var w=c[h],N=d?d(w):w;if(w=u||w!==0?w:0,y&&N===N){for(var _=v.length;_--;)if(v[_]===N)continue e;d&&v.push(N),g.push(w)}else f(v,N,u)||(v!==g&&v.push(N),g.push(w))}return g}return U6=l,U6}var z6,GR;function cye(){if(GR)return z6;GR=1;var t=Yu(),e=lye();function r(s,a){return s&&s.length?e(s,t(a,2)):[]}return z6=r,z6}var dye=cye();const KR=Jn(dye);function mY(t,e,r){return e===!0?KR(t,r):Kr(e)?KR(t,e):t}function tg(t){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}var uye=["ref"];function YR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Sh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(r),!0).forEach(function(s){GN(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function hye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XR(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,xY(s.key),s)}}function fye(t,e,r){return e&&XR(t.prototype,e),r&&XR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mye(t,e,r){return e=aj(e),pye(t,pY()?Reflect.construct(e,r||[],aj(t).constructor):e.apply(t,r))}function pye(t,e){if(e&&(tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xye(t)}function xye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pY=function(){return!!t})()}function aj(t){return aj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aj(t)}function gye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jA(t,e)}function jA(t,e){return jA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},jA(t,e)}function GN(t,e,r){return e=xY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xY(t){var e=vye(t,"string");return tg(e)=="symbol"?e:e+""}function vye(t,e){if(tg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(tg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yye(t,e){if(t==null)return{};var r=bye(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function bye(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function wye(t){return t.value}function jye(t,e){if(fe.isValidElement(t))return fe.cloneElement(t,e);if(typeof t=="function")return fe.createElement(t,e);e.ref;var r=yye(e,uye);return fe.createElement(GT,r)}var ZR=1,Rp=(function(t){function e(){var r;hye(this,e);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=mye(this,e,[].concat(a)),GN(r,"lastBoundingBox",{width:-1,height:-1}),r}return gye(e,t),fye(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>ZR||Math.abs(a.height-this.lastBoundingBox.height)>ZR)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Sh({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,h,f;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();h={left:((d||0)-m.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();f={top:((u||0)-y.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Sh(Sh({},h),f)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,h=Sh(Sh({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return fe.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){s.wrapperNode=m}},jye(i,Sh(Sh({},this.props),{},{payload:mY(u,d,wye)})))}}],[{key:"getWithHeight",value:function(s,a){var i=Sh(Sh({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&It(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])})(S.PureComponent);GN(Rp,"displayName","Legend");GN(Rp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var V6,JR;function Nye(){if(JR)return V6;JR=1;var t=Jy(),e=YT(),r=$l(),s=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(s&&i&&i[s])}return V6=a,V6}var W6,QR;function gY(){if(QR)return W6;QR=1;var t=aY(),e=Nye();function r(s,a,i,o,l){var c=-1,d=s.length;for(i||(i=e),l||(l=[]);++c<d;){var u=s[c];a>0&&i(u)?a>1?r(u,a-1,i,o,l):t(l,u):o||(l[l.length]=u)}return l}return W6=r,W6}var H6,e9;function Sye(){if(e9)return H6;e9=1;function t(e){return function(r,s,a){for(var i=-1,o=Object(r),l=a(r),c=l.length;c--;){var d=l[e?c:++i];if(s(o[d],d,o)===!1)break}return r}}return H6=t,H6}var q6,t9;function _ye(){if(t9)return q6;t9=1;var t=Sye(),e=t();return q6=e,q6}var G6,r9;function vY(){if(r9)return G6;r9=1;var t=_ye(),e=qN();function r(s,a){return s&&t(s,a,e)}return G6=r,G6}var K6,n9;function Cye(){if(n9)return K6;n9=1;var t=Qy();function e(r,s){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var o=a.length,l=s?o:-1,c=Object(a);(s?l--:++l<o)&&i(c[l],l,c)!==!1;);return a}}return K6=e,K6}var Y6,s9;function QT(){if(s9)return Y6;s9=1;var t=vY(),e=Cye(),r=e(t);return Y6=r,Y6}var X6,a9;function yY(){if(a9)return X6;a9=1;var t=QT(),e=Qy();function r(s,a){var i=-1,o=e(s)?Array(s.length):[];return t(s,function(l,c,d){o[++i]=a(l,c,d)}),o}return X6=r,X6}var Z6,i9;function kye(){if(i9)return Z6;i9=1;function t(e,r){var s=e.length;for(e.sort(r);s--;)e[s]=e[s].value;return e}return Z6=t,Z6}var J6,o9;function Aye(){if(o9)return J6;o9=1;var t=Fg();function e(r,s){if(r!==s){var a=r!==void 0,i=r===null,o=r===r,l=t(r),c=s!==void 0,d=s===null,u=s===s,h=t(s);if(!d&&!h&&!l&&r>s||l&&c&&u&&!d&&!h||i&&c&&u||!a&&u||!o)return 1;if(!i&&!l&&!h&&r<s||h&&a&&o&&!i&&!l||d&&a&&o||!c&&o||!u)return-1}return 0}return J6=e,J6}var Q6,l9;function Eye(){if(l9)return Q6;l9=1;var t=Aye();function e(r,s,a){for(var i=-1,o=r.criteria,l=s.criteria,c=o.length,d=a.length;++i<c;){var u=t(o[i],l[i]);if(u){if(i>=d)return u;var h=a[i];return u*(h=="desc"?-1:1)}}return r.index-s.index}return Q6=e,Q6}var e_,c9;function Pye(){if(c9)return e_;c9=1;var t=FT(),e=BT(),r=Yu(),s=yY(),a=kye(),i=oY(),o=Eye(),l=zg(),c=$l();function d(u,h,f){h.length?h=t(h,function(g){return c(g)?function(v){return e(v,g.length===1?g[0]:g)}:g}):h=[l];var m=-1;h=t(h,i(r));var y=s(u,function(g,v,b){var w=t(h,function(N){return N(g)});return{criteria:w,index:++m,value:g}});return a(y,function(g,v){return o(g,v,f)})}return e_=d,e_}var t_,d9;function Tye(){if(d9)return t_;d9=1;function t(e,r,s){switch(s.length){case 0:return e.call(r);case 1:return e.call(r,s[0]);case 2:return e.call(r,s[0],s[1]);case 3:return e.call(r,s[0],s[1],s[2])}return e.apply(r,s)}return t_=t,t_}var r_,u9;function Oye(){if(u9)return r_;u9=1;var t=Tye(),e=Math.max;function r(s,a,i){return a=e(a===void 0?s.length-1:a,0),function(){for(var o=arguments,l=-1,c=e(o.length-a,0),d=Array(c);++l<c;)d[l]=o[a+l];l=-1;for(var u=Array(a+1);++l<a;)u[l]=o[l];return u[a]=i(d),t(s,this,u)}}return r_=r,r_}var n_,h9;function Iye(){if(h9)return n_;h9=1;function t(e){return function(){return e}}return n_=t,n_}var s_,f9;function bY(){if(f9)return s_;f9=1;var t=m0(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return s_=e,s_}var a_,m9;function $ye(){if(m9)return a_;m9=1;var t=Iye(),e=bY(),r=zg(),s=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return a_=s,a_}var i_,p9;function Dye(){if(p9)return i_;p9=1;var t=800,e=16,r=Date.now;function s(a){var i=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return i_=s,i_}var o_,x9;function Mye(){if(x9)return o_;x9=1;var t=$ye(),e=Dye(),r=e(t);return o_=r,o_}var l_,g9;function Rye(){if(g9)return l_;g9=1;var t=zg(),e=Oye(),r=Mye();function s(a,i){return r(e(a,i,t),a+"")}return l_=s,l_}var c_,v9;function KN(){if(v9)return c_;v9=1;var t=MT(),e=Qy(),r=XT(),s=fm();function a(i,o,l){if(!s(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],i):!1}return c_=a,c_}var d_,y9;function Lye(){if(y9)return d_;y9=1;var t=gY(),e=Pye(),r=Rye(),s=KN(),a=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&s(i,o[0],o[1])?o=[]:l>2&&s(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return d_=a,d_}var Fye=Lye();const e8=Jn(Fye);function X1(t){"@babel/helpers - typeof";return X1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X1(t)}function NA(){return NA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},NA.apply(this,arguments)}function Bye(t,e){return Wye(t)||Vye(t,e)||zye(t,e)||Uye()}function Uye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zye(t,e){if(t){if(typeof t=="string")return b9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b9(t,e)}}function b9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function Vye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Wye(t){if(Array.isArray(t))return t}function w9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function u_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w9(Object(r),!0).forEach(function(s){Hye(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w9(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Hye(t,e,r){return e=qye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qye(t){var e=Gye(t,"string");return X1(e)=="symbol"?e:e+""}function Gye(t,e){if(X1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(X1(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kye(t){return Array.isArray(t)&&Ei(t[0])&&Ei(t[1])?t.join(" ~ "):t}var Yye=function(e){var r=e.separator,s=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,u=e.payload,h=e.formatter,f=e.itemSorter,m=e.wrapperClassName,y=e.labelClassName,g=e.label,v=e.labelFormatter,b=e.accessibilityLayer,w=b===void 0?!1:b,N=function(){if(u&&u.length){var M={padding:0,margin:0},R=(f?e8(u,f):u).map(function(W,Y){if(W.type==="none")return null;var K=u_({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},l),L=W.formatter||h||Kye,F=W.value,ee=W.name,se=F,q=ee;if(L&&se!=null&&q!=null){var z=L(F,ee,W,Y,u);if(Array.isArray(z)){var Z=Bye(z,2);se=Z[0],q=Z[1]}else se=z}return fe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:K},Ei(q)?fe.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Ei(q)?fe.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,fe.createElement("span",{className:"recharts-tooltip-item-value"},se),fe.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return fe.createElement("ul",{className:"recharts-tooltip-item-list",style:M},R)}return null},_=u_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=u_({margin:0},d),E=!ln(g),A=E?g:"",I=dn("recharts-default-tooltip",m),$=dn("recharts-tooltip-label",y);E&&v&&u!==void 0&&u!==null&&(A=v(g,u));var O=w?{role:"status","aria-live":"assertive"}:{};return fe.createElement("div",NA({className:I,style:_},O),fe.createElement("p",{className:$,style:C},fe.isValidElement(A)?A:"".concat(A)),N())};function Z1(t){"@babel/helpers - typeof";return Z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z1(t)}function S2(t,e,r){return e=Xye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xye(t){var e=Zye(t,"string");return Z1(e)=="symbol"?e:e+""}function Zye(t,e){if(Z1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Z1(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Av="recharts-tooltip-wrapper",Jye={visibility:"hidden"};function Qye(t){var e=t.coordinate,r=t.translateX,s=t.translateY;return dn(Av,S2(S2(S2(S2({},"".concat(Av,"-right"),It(r)&&e&&It(e.x)&&r>=e.x),"".concat(Av,"-left"),It(r)&&e&&It(e.x)&&r<e.x),"".concat(Av,"-bottom"),It(s)&&e&&It(e.y)&&s>=e.y),"".concat(Av,"-top"),It(s)&&e&&It(e.y)&&s<e.y))}function j9(t){var e=t.allowEscapeViewBox,r=t.coordinate,s=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(i&&It(i[s]))return i[s];var u=r[s]-l-a,h=r[s]+a;if(e[s])return o[s]?u:h;if(o[s]){var f=u,m=c[s];return f<m?Math.max(h,c[s]):Math.max(u,c[s])}var y=h+l,g=c[s]+d;return y>g?Math.max(u,c[s]):Math.max(h,c[s])}function ebe(t){var e=t.translateX,r=t.translateY,s=t.useTranslate3d;return{transform:s?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function tbe(t){var e=t.allowEscapeViewBox,r=t.coordinate,s=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,u,h;return o.height>0&&o.width>0&&r?(u=j9({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=j9({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=ebe({translateX:u,translateY:h,useTranslate3d:l})):d=Jye,{cssProperties:d,cssClasses:Qye({translateX:u,translateY:h,coordinate:r})}}function rg(t){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}function N9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function S9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N9(Object(r),!0).forEach(function(s){_A(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N9(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function rbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nbe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,jY(s.key),s)}}function sbe(t,e,r){return e&&nbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function abe(t,e,r){return e=ij(e),ibe(t,wY()?Reflect.construct(e,r||[],ij(t).constructor):e.apply(t,r))}function ibe(t,e){if(e&&(rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return obe(t)}function obe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wY=function(){return!!t})()}function ij(t){return ij=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ij(t)}function lbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SA(t,e)}function SA(t,e){return SA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},SA(t,e)}function _A(t,e,r){return e=jY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jY(t){var e=cbe(t,"string");return rg(e)=="symbol"?e:e+""}function cbe(t,e){if(rg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(rg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _9=1,dbe=(function(t){function e(){var r;rbe(this,e);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=abe(this,e,[].concat(a)),_A(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_A(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return lbe(e,t),sbe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>_9||Math.abs(s.height-this.state.lastBoundingBox.height)>_9)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,h=a.hasPayload,f=a.isAnimationActive,m=a.offset,y=a.position,g=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,w=a.wrapperStyle,N=tbe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:m,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),_=N.cssClasses,C=N.cssProperties,E=S9(S9({transition:f&&i?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},w);return fe.createElement("div",{tabIndex:-1,className:_,style:E,ref:function(I){s.wrapperNode=I}},d)}}])})(S.PureComponent),ube=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},mm={isSsr:ube()};function ng(t){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(t)}function C9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function k9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C9(Object(r),!0).forEach(function(s){t8(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C9(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function hbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fbe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,SY(s.key),s)}}function mbe(t,e,r){return e&&fbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pbe(t,e,r){return e=oj(e),xbe(t,NY()?Reflect.construct(e,r||[],oj(t).constructor):e.apply(t,r))}function xbe(t,e){if(e&&(ng(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gbe(t)}function gbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NY=function(){return!!t})()}function oj(t){return oj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oj(t)}function vbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CA(t,e)}function CA(t,e){return CA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},CA(t,e)}function t8(t,e,r){return e=SY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SY(t){var e=ybe(t,"string");return ng(e)=="symbol"?e:e+""}function ybe(t,e){if(ng(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(ng(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bbe(t){return t.dataKey}function wbe(t,e){return fe.isValidElement(t)?fe.cloneElement(t,e):typeof t=="function"?fe.createElement(t,e):fe.createElement(Yye,e)}var kl=(function(t){function e(){return hbe(this,e),pbe(this,e,arguments)}return vbe(e,t),mbe(e,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,h=a.filterNull,f=a.isAnimationActive,m=a.offset,y=a.payload,g=a.payloadUniqBy,v=a.position,b=a.reverseDirection,w=a.useTranslate3d,N=a.viewBox,_=a.wrapperStyle,C=y??[];h&&C.length&&(C=mY(y.filter(function(A){return A.value!=null&&(A.hide!==!0||s.props.includeHidden)}),g,bbe));var E=C.length>0;return fe.createElement(dbe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:i,coordinate:u,hasPayload:E,offset:m,position:v,reverseDirection:b,useTranslate3d:w,viewBox:N,wrapperStyle:_},wbe(d,k9(k9({},this.props),{},{payload:C})))}}])})(S.PureComponent);t8(kl,"displayName","Tooltip");t8(kl,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!mm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var h_,A9;function jbe(){if(A9)return h_;A9=1;var t=Ku(),e=function(){return t.Date.now()};return h_=e,h_}var f_,E9;function Nbe(){if(E9)return f_;E9=1;var t=/\s/;function e(r){for(var s=r.length;s--&&t.test(r.charAt(s)););return s}return f_=e,f_}var m_,P9;function Sbe(){if(P9)return m_;P9=1;var t=Nbe(),e=/^\s+/;function r(s){return s&&s.slice(0,t(s)+1).replace(e,"")}return m_=r,m_}var p_,T9;function _Y(){if(T9)return p_;T9=1;var t=Sbe(),e=fm(),r=Fg(),s=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return s;if(e(d)){var u=typeof d.valueOf=="function"?d.valueOf():d;d=e(u)?u+"":u}if(typeof d!="string")return d===0?d:+d;d=t(d);var h=i.test(d);return h||o.test(d)?l(d.slice(2),h?2:8):a.test(d)?s:+d}return p_=c,p_}var x_,O9;function _be(){if(O9)return x_;O9=1;var t=fm(),e=jbe(),r=_Y(),s="Expected a function",a=Math.max,i=Math.min;function o(l,c,d){var u,h,f,m,y,g,v=0,b=!1,w=!1,N=!0;if(typeof l!="function")throw new TypeError(s);c=r(c)||0,t(d)&&(b=!!d.leading,w="maxWait"in d,f=w?a(r(d.maxWait)||0,c):f,N="trailing"in d?!!d.trailing:N);function _(R){var W=u,Y=h;return u=h=void 0,v=R,m=l.apply(Y,W),m}function C(R){return v=R,y=setTimeout(I,c),b?_(R):m}function E(R){var W=R-g,Y=R-v,K=c-W;return w?i(K,f-Y):K}function A(R){var W=R-g,Y=R-v;return g===void 0||W>=c||W<0||w&&Y>=f}function I(){var R=e();if(A(R))return $(R);y=setTimeout(I,E(R))}function $(R){return y=void 0,N&&u?_(R):(u=h=void 0,m)}function O(){y!==void 0&&clearTimeout(y),v=0,u=g=h=y=void 0}function P(){return y===void 0?m:$(e())}function M(){var R=e(),W=A(R);if(u=arguments,h=this,g=R,W){if(y===void 0)return C(g);if(w)return clearTimeout(y),y=setTimeout(I,c),_(g)}return y===void 0&&(y=setTimeout(I,c)),m}return M.cancel=O,M.flush=P,M}return x_=o,x_}var g_,I9;function Cbe(){if(I9)return g_;I9=1;var t=_be(),e=fm(),r="Expected a function";function s(a,i,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(a,i,{leading:l,maxWait:i,trailing:c})}return g_=s,g_}var kbe=Cbe();const CY=Jn(kbe);function J1(t){"@babel/helpers - typeof";return J1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J1(t)}function $9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function _2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$9(Object(r),!0).forEach(function(s){Abe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$9(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Abe(t,e,r){return e=Ebe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ebe(t){var e=Pbe(t,"string");return J1(e)=="symbol"?e:e+""}function Pbe(t,e){if(J1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(J1(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tbe(t,e){return Dbe(t)||$be(t,e)||Ibe(t,e)||Obe()}function Obe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ibe(t,e){if(t){if(typeof t=="string")return D9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D9(t,e)}}function D9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function $be(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Dbe(t){if(Array.isArray(t))return t}var v1=S.forwardRef(function(t,e){var r=t.aspect,s=t.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,u=d===void 0?0:d,h=t.minHeight,f=t.maxHeight,m=t.children,y=t.debounce,g=y===void 0?0:y,v=t.id,b=t.className,w=t.onResize,N=t.style,_=N===void 0?{}:N,C=S.useRef(null),E=S.useRef();E.current=w,S.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var A=S.useState({containerWidth:a.width,containerHeight:a.height}),I=Tbe(A,2),$=I[0],O=I[1],P=S.useCallback(function(R,W){O(function(Y){var K=Math.round(R),L=Math.round(W);return Y.containerWidth===K&&Y.containerHeight===L?Y:{containerWidth:K,containerHeight:L}})},[]);S.useEffect(function(){var R=function(ee){var se,q=ee[0].contentRect,z=q.width,Z=q.height;P(z,Z),(se=E.current)===null||se===void 0||se.call(E,z,Z)};g>0&&(R=CY(R,g,{trailing:!0,leading:!1}));var W=new ResizeObserver(R),Y=C.current.getBoundingClientRect(),K=Y.width,L=Y.height;return P(K,L),W.observe(C.current),function(){W.disconnect()}},[P,g]);var M=S.useMemo(function(){var R=$.containerWidth,W=$.containerHeight;if(R<0||W<0)return null;Fd(Np(o)||Np(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Fd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Y=Np(o)?R:o,K=Np(c)?W:c;r&&r>0&&(Y?K=Y/r:K&&(Y=K*r),f&&K>f&&(K=f)),Fd(Y>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,K,o,c,u,h,r);var L=!Array.isArray(m)&&Bh(m.type).endsWith("Chart");return fe.Children.map(m,function(F){return fe.isValidElement(F)?S.cloneElement(F,_2({width:Y,height:K},L?{style:_2({height:"100%",width:"100%",maxHeight:K,maxWidth:Y},F.props.style)}:{})):F})},[r,m,c,f,h,u,$,o]);return fe.createElement("div",{id:v?"".concat(v):void 0,className:dn("recharts-responsive-container",b),style:_2(_2({},_),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:f}),ref:C},M)}),YN=function(e){return null};YN.displayName="Cell";function Q1(t){"@babel/helpers - typeof";return Q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q1(t)}function M9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function kA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M9(Object(r),!0).forEach(function(s){Mbe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M9(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Mbe(t,e,r){return e=Rbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rbe(t){var e=Lbe(t,"string");return Q1(e)=="symbol"?e:e+""}function Lbe(t,e){if(Q1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Q1(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q0={widthCache:{},cacheCount:0},Fbe=2e3,Bbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},R9="recharts_measurement_span";function Ube(t){var e=kA({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var y1=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||mm.isSsr)return{width:0,height:0};var s=Ube(r),a=JSON.stringify({text:e,copyStyle:s});if(Q0.widthCache[a])return Q0.widthCache[a];try{var i=document.getElementById(R9);i||(i=document.createElement("span"),i.setAttribute("id",R9),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=kA(kA({},Bbe),s);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Q0.widthCache[a]=c,++Q0.cacheCount>Fbe&&(Q0.cacheCount=0,Q0.widthCache={}),c}catch{return{width:0,height:0}}},zbe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}function lj(t,e){return qbe(t)||Hbe(t,e)||Wbe(t,e)||Vbe()}function Vbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wbe(t,e){if(t){if(typeof t=="string")return L9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L9(t,e)}}function L9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function Hbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function qbe(t){if(Array.isArray(t))return t}function Gbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F9(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Ybe(s.key),s)}}function Kbe(t,e,r){return e&&F9(t.prototype,e),r&&F9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ybe(t){var e=Xbe(t,"string");return ey(e)=="symbol"?e:e+""}function Xbe(t,e){if(ey(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(ey(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var B9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,U9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zbe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Qbe=Object.keys(kY),Sx="NaN";function e2e(t,e){return t*kY[e]}var C2=(function(){function t(e,r){Gbe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Zbe.test(r)&&(this.num=NaN,this.unit=""),Qbe.includes(r)&&(this.num=e2e(e,r),this.unit="px")}return Kbe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var s,a=(s=Jbe.exec(r))!==null&&s!==void 0?s:[],i=lj(a,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])})();function AY(t){if(t.includes(Sx))return Sx;for(var e=t;e.includes("*")||e.includes("/");){var r,s=(r=B9.exec(e))!==null&&r!==void 0?r:[],a=lj(s,4),i=a[1],o=a[2],l=a[3],c=C2.parse(i??""),d=C2.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Sx;e=e.replace(B9,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,f=(h=U9.exec(e))!==null&&h!==void 0?h:[],m=lj(f,4),y=m[1],g=m[2],v=m[3],b=C2.parse(y??""),w=C2.parse(v??""),N=g==="+"?b.add(w):b.subtract(w);if(N.isNaN())return Sx;e=e.replace(U9,N.toString())}return e}var z9=/\(([^()]*)\)/;function t2e(t){for(var e=t;e.includes("(");){var r=z9.exec(e),s=lj(r,2),a=s[1];e=e.replace(z9,AY(a))}return e}function r2e(t){var e=t.replace(/\s+/g,"");return e=t2e(e),e=AY(e),e}function n2e(t){try{return r2e(t)}catch{return Sx}}function v_(t){var e=n2e(t.slice(5,-1));return e===Sx?"":e}var s2e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],a2e=["dx","dy","angle","className","breakAll"];function AA(){return AA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},AA.apply(this,arguments)}function V9(t,e){if(t==null)return{};var r=i2e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function i2e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function W9(t,e){return d2e(t)||c2e(t,e)||l2e(t,e)||o2e()}function o2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l2e(t,e){if(t){if(typeof t=="string")return H9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H9(t,e)}}function H9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function c2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function d2e(t){if(Array.isArray(t))return t}var EY=/[ \f\n\r\t\v\u2028\u2029]+/,PY=function(e){var r=e.children,s=e.breakAll,a=e.style;try{var i=[];ln(r)||(s?i=r.toString().split(""):i=r.toString().split(EY));var o=i.map(function(c){return{word:c,width:y1(c,a).width}}),l=s?0:y1("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},u2e=function(e,r,s,a,i){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,u=It(o),h=l,f=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(K,L){var F=L.word,ee=L.width,se=K[K.length-1];if(se&&(a==null||i||se.width+ee+s<Number(a)))se.words.push(F),se.width+=ee+s;else{var q={words:[F],width:ee};K.push(q)}return K},[])},m=f(r),y=function(Y){return Y.reduce(function(K,L){return K.width>L.width?K:L})};if(!u)return m;for(var g="",v=function(Y){var K=h.slice(0,Y),L=PY({breakAll:d,style:c,children:K+g}).wordsWithComputedWidth,F=f(L),ee=F.length>o||y(F).width>Number(a);return[ee,F]},b=0,w=h.length-1,N=0,_;b<=w&&N<=h.length-1;){var C=Math.floor((b+w)/2),E=C-1,A=v(E),I=W9(A,2),$=I[0],O=I[1],P=v(C),M=W9(P,1),R=M[0];if(!$&&!R&&(b=C+1),$&&R&&(w=C-1),!$&&R){_=O;break}N++}return _||m},q9=function(e){var r=ln(e)?[]:e.toString().split(EY);return[{words:r}]},h2e=function(e){var r=e.width,s=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((r||s)&&!mm.isSsr){var c,d,u=PY({breakAll:o,children:a,style:i});if(u){var h=u.wordsWithComputedWidth,f=u.spaceWidth;c=h,d=f}else return q9(a);return u2e({breakAll:o,children:a,maxLines:l,style:i},c,d,r,s)}return q9(a)},G9="#808080",Qp=function(e){var r=e.x,s=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,u=e.scaleToFit,h=u===void 0?!1:u,f=e.textAnchor,m=f===void 0?"start":f,y=e.verticalAnchor,g=y===void 0?"end":y,v=e.fill,b=v===void 0?G9:v,w=V9(e,s2e),N=S.useMemo(function(){return h2e({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:h,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,h,w.style,w.width]),_=w.dx,C=w.dy,E=w.angle,A=w.className,I=w.breakAll,$=V9(w,a2e);if(!Ei(s)||!Ei(i))return null;var O=s+(It(_)?_:0),P=i+(It(C)?C:0),M;switch(g){case"start":M=v_("calc(".concat(d,")"));break;case"middle":M=v_("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:M=v_("calc(".concat(N.length-1," * -").concat(l,")"));break}var R=[];if(h){var W=N[0].width,Y=w.width;R.push("scale(".concat((It(Y)?Y/W:1)/W,")"))}return E&&R.push("rotate(".concat(E,", ").concat(O,", ").concat(P,")")),R.length&&($.transform=R.join(" ")),fe.createElement("text",AA({},Ir($,!0),{x:O,y:P,className:dn("recharts-text",A),textAnchor:m,fill:b.includes("url")?G9:b}),N.map(function(K,L){var F=K.words.join(I?"":" ");return fe.createElement("tspan",{x:O,dy:L===0?M:l,key:"".concat(F,"-").concat(L)},F)}))};function Qf(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function f2e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function r8(t){let e,r,s;t.length!==2?(e=Qf,r=(l,c)=>Qf(t(l),c),s=(l,c)=>t(l)-c):(e=t===Qf||t===f2e?t:m2e,r=t,s=t);function a(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=a(l,c,d,u-1);return h>d&&s(l[h-1],c)>-s(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function m2e(){return 0}function TY(t){return t===null?NaN:+t}function*p2e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const x2e=r8(Qf),eb=x2e.right;r8(TY).center;class K9 extends Map{constructor(e,r=y2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[s,a]of e)this.set(s,a)}get(e){return super.get(Y9(this,e))}has(e){return super.has(Y9(this,e))}set(e,r){return super.set(g2e(this,e),r)}delete(e){return super.delete(v2e(this,e))}}function Y9({_intern:t,_key:e},r){const s=e(r);return t.has(s)?t.get(s):r}function g2e({_intern:t,_key:e},r){const s=e(r);return t.has(s)?t.get(s):(t.set(s,r),r)}function v2e({_intern:t,_key:e},r){const s=e(r);return t.has(s)&&(r=t.get(s),t.delete(s)),r}function y2e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function b2e(t=Qf){if(t===Qf)return OY;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const s=t(e,r);return s||s===0?s:(t(r,r)===0)-(t(e,e)===0)}}function OY(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const w2e=Math.sqrt(50),j2e=Math.sqrt(10),N2e=Math.sqrt(2);function cj(t,e,r){const s=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=w2e?10:i>=j2e?5:i>=N2e?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?cj(t,e,r*2):[l,c,d]}function EA(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const s=e<t,[a,i,o]=s?cj(e,t,r):cj(t,e,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function PA(t,e,r){return e=+e,t=+t,r=+r,cj(t,e,r)[2]}function TA(t,e,r){e=+e,t=+t,r=+r;const s=e<t,a=s?PA(e,t,r):PA(t,e,r);return(s?-1:1)*(a<0?1/-a:a)}function X9(t,e){let r;for(const s of t)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);return r}function Z9(t,e){let r;for(const s of t)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);return r}function IY(t,e,r=0,s=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(t.length-1,s)),!(r<=e&&e<=s))return t;for(a=a===void 0?OY:b2e(a);s>r;){if(s-r>600){const c=s-r+1,d=e-r+1,u=Math.log(c),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),m=Math.max(r,Math.floor(e-d*h/c+f)),y=Math.min(s,Math.floor(e+(c-d)*h/c+f));IY(t,e,m,y,a)}const i=t[e];let o=r,l=s;for(Ev(t,r,e),a(t[s],i)>0&&Ev(t,r,s);o<l;){for(Ev(t,o,l),++o,--l;a(t[o],i)<0;)++o;for(;a(t[l],i)>0;)--l}a(t[r],i)===0?Ev(t,r,l):(++l,Ev(t,l,s)),l<=e&&(r=l+1),e<=l&&(s=l-1)}return t}function Ev(t,e,r){const s=t[e];t[e]=t[r],t[r]=s}function S2e(t,e,r){if(t=Float64Array.from(p2e(t)),!(!(s=t.length)||isNaN(e=+e))){if(e<=0||s<2)return Z9(t);if(e>=1)return X9(t);var s,a=(s-1)*e,i=Math.floor(a),o=X9(IY(t,i).subarray(0,i+1)),l=Z9(t.subarray(i+1));return o+(l-o)*(a-i)}}function _2e(t,e,r=TY){if(!(!(s=t.length)||isNaN(e=+e))){if(e<=0||s<2)return+r(t[0],0,t);if(e>=1)return+r(t[s-1],s-1,t);var s,a=(s-1)*e,i=Math.floor(a),o=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return o+(l-o)*(a-i)}}function C2e(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++s<a;)i[s]=t+s*r;return i}function ed(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ef(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const OA=Symbol("implicit");function n8(){var t=new K9,e=[],r=[],s=OA;function a(i){let o=t.get(i);if(o===void 0){if(s!==OA)return s;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new K9;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return n8(e,r).unknown(s)},ed.apply(a,arguments),a}function ty(){var t=n8().unknown(void 0),e=t.domain,r=t.range,s=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete t.unknown;function h(){var f=e().length,m=a<s,y=m?a:s,g=m?s:a;i=(g-y)/Math.max(1,f-c+d*2),l&&(i=Math.floor(i)),y+=(g-y-i*(f-c))*u,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=C2e(f).map(function(b){return y+i*b});return r(m?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([s,a]=f,s=+s,a=+a,h()):[s,a]},t.rangeRound=function(f){return[s,a]=f,s=+s,a=+a,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(f){return arguments.length?(l=!!f,h()):l},t.padding=function(f){return arguments.length?(c=Math.min(1,d=+f),h()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},t.paddingOuter=function(f){return arguments.length?(d=+f,h()):d},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),h()):u},t.copy=function(){return ty(e(),[s,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},ed.apply(h(),arguments)}function $Y(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return $Y(e())},t}function b1(){return $Y(ty.apply(null,arguments).paddingInner(1))}function s8(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function DY(t,e){var r=Object.create(t.prototype);for(var s in e)r[s]=e[s];return r}function tb(){}var ry=.7,dj=1/ry,Bx="\\s*([+-]?\\d+)\\s*",ny="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Iu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",k2e=/^#([0-9a-f]{3,8})$/,A2e=new RegExp(`^rgb\\(${Bx},${Bx},${Bx}\\)$`),E2e=new RegExp(`^rgb\\(${Iu},${Iu},${Iu}\\)$`),P2e=new RegExp(`^rgba\\(${Bx},${Bx},${Bx},${ny}\\)$`),T2e=new RegExp(`^rgba\\(${Iu},${Iu},${Iu},${ny}\\)$`),O2e=new RegExp(`^hsl\\(${ny},${Iu},${Iu}\\)$`),I2e=new RegExp(`^hsla\\(${ny},${Iu},${Iu},${ny}\\)$`),J9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};s8(tb,sy,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Q9,formatHex:Q9,formatHex8:$2e,formatHsl:D2e,formatRgb:eL,toString:eL});function Q9(){return this.rgb().formatHex()}function $2e(){return this.rgb().formatHex8()}function D2e(){return MY(this).formatHsl()}function eL(){return this.rgb().formatRgb()}function sy(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=k2e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?tL(e):r===3?new Tl(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?k2(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?k2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=A2e.exec(t))?new Tl(e[1],e[2],e[3],1):(e=E2e.exec(t))?new Tl(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=P2e.exec(t))?k2(e[1],e[2],e[3],e[4]):(e=T2e.exec(t))?k2(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=O2e.exec(t))?sL(e[1],e[2]/100,e[3]/100,1):(e=I2e.exec(t))?sL(e[1],e[2]/100,e[3]/100,e[4]):J9.hasOwnProperty(t)?tL(J9[t]):t==="transparent"?new Tl(NaN,NaN,NaN,0):null}function tL(t){return new Tl(t>>16&255,t>>8&255,t&255,1)}function k2(t,e,r,s){return s<=0&&(t=e=r=NaN),new Tl(t,e,r,s)}function M2e(t){return t instanceof tb||(t=sy(t)),t?(t=t.rgb(),new Tl(t.r,t.g,t.b,t.opacity)):new Tl}function IA(t,e,r,s){return arguments.length===1?M2e(t):new Tl(t,e,r,s??1)}function Tl(t,e,r,s){this.r=+t,this.g=+e,this.b=+r,this.opacity=+s}s8(Tl,IA,DY(tb,{brighter(t){return t=t==null?dj:Math.pow(dj,t),new Tl(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ry:Math.pow(ry,t),new Tl(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Tl(Lp(this.r),Lp(this.g),Lp(this.b),uj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rL,formatHex:rL,formatHex8:R2e,formatRgb:nL,toString:nL}));function rL(){return`#${Sp(this.r)}${Sp(this.g)}${Sp(this.b)}`}function R2e(){return`#${Sp(this.r)}${Sp(this.g)}${Sp(this.b)}${Sp((isNaN(this.opacity)?1:this.opacity)*255)}`}function nL(){const t=uj(this.opacity);return`${t===1?"rgb(":"rgba("}${Lp(this.r)}, ${Lp(this.g)}, ${Lp(this.b)}${t===1?")":`, ${t})`}`}function uj(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Lp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Sp(t){return t=Lp(t),(t<16?"0":"")+t.toString(16)}function sL(t,e,r,s){return s<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Od(t,e,r,s)}function MY(t){if(t instanceof Od)return new Od(t.h,t.s,t.l,t.opacity);if(t instanceof tb||(t=sy(t)),!t)return new Od;if(t instanceof Od)return t;t=t.rgb();var e=t.r/255,r=t.g/255,s=t.b/255,a=Math.min(e,r,s),i=Math.max(e,r,s),o=NaN,l=i-a,c=(i+a)/2;return l?(e===i?o=(r-s)/l+(r<s)*6:r===i?o=(s-e)/l+2:o=(e-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Od(o,l,c,t.opacity)}function L2e(t,e,r,s){return arguments.length===1?MY(t):new Od(t,e,r,s??1)}function Od(t,e,r,s){this.h=+t,this.s=+e,this.l=+r,this.opacity=+s}s8(Od,L2e,DY(tb,{brighter(t){return t=t==null?dj:Math.pow(dj,t),new Od(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ry:Math.pow(ry,t),new Od(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*e,a=2*r-s;return new Tl(y_(t>=240?t-240:t+120,a,s),y_(t,a,s),y_(t<120?t+240:t-120,a,s),this.opacity)},clamp(){return new Od(aL(this.h),A2(this.s),A2(this.l),uj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=uj(this.opacity);return`${t===1?"hsl(":"hsla("}${aL(this.h)}, ${A2(this.s)*100}%, ${A2(this.l)*100}%${t===1?")":`, ${t})`}`}}));function aL(t){return t=(t||0)%360,t<0?t+360:t}function A2(t){return Math.max(0,Math.min(1,t||0))}function y_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const a8=t=>()=>t;function F2e(t,e){return function(r){return t+r*e}}function B2e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(s){return Math.pow(t+s*e,r)}}function U2e(t){return(t=+t)==1?RY:function(e,r){return r-e?B2e(e,r,t):a8(isNaN(e)?r:e)}}function RY(t,e){var r=e-t;return r?F2e(t,r):a8(isNaN(t)?e:t)}const iL=(function t(e){var r=U2e(e);function s(a,i){var o=r((a=IA(a)).r,(i=IA(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=RY(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return s.gamma=t,s})(1);function z2e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,s=e.slice(),a;return function(i){for(a=0;a<r;++a)s[a]=t[a]*(1-i)+e[a]*i;return s}}function V2e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function W2e(t,e){var r=e?e.length:0,s=t?Math.min(r,t.length):0,a=new Array(s),i=new Array(r),o;for(o=0;o<s;++o)a[o]=Vg(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function H2e(t,e){var r=new Date;return t=+t,e=+e,function(s){return r.setTime(t*(1-s)+e*s),r}}function hj(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function q2e(t,e){var r={},s={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Vg(t[a],e[a]):s[a]=e[a];return function(i){for(a in r)s[a]=r[a](i);return s}}var $A=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,b_=new RegExp($A.source,"g");function G2e(t){return function(){return t}}function K2e(t){return function(e){return t(e)+""}}function Y2e(t,e){var r=$A.lastIndex=b_.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(s=$A.exec(t))&&(a=b_.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:hj(s,a)})),r=b_.lastIndex;return r<e.length&&(i=e.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?K2e(c[0].x):G2e(e):(e=c.length,function(d){for(var u=0,h;u<e;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function Vg(t,e){var r=typeof e,s;return e==null||r==="boolean"?a8(e):(r==="number"?hj:r==="string"?(s=sy(e))?(e=s,iL):Y2e:e instanceof sy?iL:e instanceof Date?H2e:V2e(e)?z2e:Array.isArray(e)?W2e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?q2e:hj)(t,e)}function i8(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function X2e(t,e){e===void 0&&(e=t,t=Vg);for(var r=0,s=e.length-1,a=e[0],i=new Array(s<0?0:s);r<s;)i[r]=t(a,a=e[++r]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function Z2e(t){return function(){return t}}function fj(t){return+t}var oL=[0,1];function nl(t){return t}function DA(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Z2e(isNaN(e)?NaN:.5)}function J2e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(s){return Math.max(t,Math.min(e,s))}}function Q2e(t,e,r){var s=t[0],a=t[1],i=e[0],o=e[1];return a<s?(s=DA(a,s),i=r(o,i)):(s=DA(s,a),i=r(i,o)),function(l){return i(s(l))}}function ewe(t,e,r){var s=Math.min(t.length,e.length)-1,a=new Array(s),i=new Array(s),o=-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<s;)a[o]=DA(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(l){var c=eb(t,l,1,s)-1;return i[c](a[c](l))}}function rb(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function XN(){var t=oL,e=oL,r=Vg,s,a,i,o=nl,l,c,d;function u(){var f=Math.min(t.length,e.length);return o!==nl&&(o=J2e(t[0],t[f-1])),l=f>2?ewe:Q2e,c=d=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=l(t.map(s),e,r)))(s(o(f)))}return h.invert=function(f){return o(a((d||(d=l(e,t.map(s),hj)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,fj),u()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),r=i8,u()},h.clamp=function(f){return arguments.length?(o=f?!0:nl,u()):o!==nl},h.interpolate=function(f){return arguments.length?(r=f,u()):r},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,m){return s=f,a=m,u()}}function o8(){return XN()(nl,nl)}function twe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function mj(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,s=t.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+t.slice(r+1)]}function sg(t){return t=mj(Math.abs(t)),t?t[1]:NaN}function rwe(t,e){return function(r,s){for(var a=r.length,i=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>s));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function nwe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var swe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ay(t){if(!(e=swe.exec(t)))throw new Error("invalid format: "+t);var e;return new l8({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ay.prototype=l8.prototype;function l8(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}l8.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function awe(t){e:for(var e=t.length,r=1,s=-1,a;r<e;++r)switch(t[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+t[r])break e;s>0&&(s=0);break}return s>0?t.slice(0,s)+t.slice(a+1):t}var LY;function iwe(t,e){var r=mj(t,e);if(!r)return t+"";var s=r[0],a=r[1],i=a-(LY=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+mj(t,Math.max(0,e+i-1))[0]}function lL(t,e){var r=mj(t,e);if(!r)return t+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const cL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:twe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>lL(t*100,e),r:lL,s:iwe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function dL(t){return t}var uL=Array.prototype.map,hL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function owe(t){var e=t.grouping===void 0||t.thousands===void 0?dL:rwe(uL.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",s=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?dL:nwe(uL.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(h){h=ay(h);var f=h.fill,m=h.align,y=h.sign,g=h.symbol,v=h.zero,b=h.width,w=h.comma,N=h.precision,_=h.trim,C=h.type;C==="n"?(w=!0,C="g"):cL[C]||(N===void 0&&(N=12),_=!0,C="g"),(v||f==="0"&&m==="=")&&(v=!0,f="0",m="=");var E=g==="$"?r:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",A=g==="$"?s:/[%p]/.test(C)?o:"",I=cL[C],$=/[defgprs%]/.test(C);N=N===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function O(P){var M=E,R=A,W,Y,K;if(C==="c")R=I(P)+R,P="";else{P=+P;var L=P<0||1/P<0;if(P=isNaN(P)?c:I(Math.abs(P),N),_&&(P=awe(P)),L&&+P==0&&y!=="+"&&(L=!1),M=(L?y==="("?y:l:y==="-"||y==="("?"":y)+M,R=(C==="s"?hL[8+LY/3]:"")+R+(L&&y==="("?")":""),$){for(W=-1,Y=P.length;++W<Y;)if(K=P.charCodeAt(W),48>K||K>57){R=(K===46?a+P.slice(W+1):P.slice(W))+R,P=P.slice(0,W);break}}}w&&!v&&(P=e(P,1/0));var F=M.length+P.length+R.length,ee=F<b?new Array(b-F+1).join(f):"";switch(w&&v&&(P=e(ee+P,ee.length?b-R.length:1/0),ee=""),m){case"<":P=M+P+R+ee;break;case"=":P=M+ee+P+R;break;case"^":P=ee.slice(0,F=ee.length>>1)+M+P+R+ee.slice(F);break;default:P=ee+M+P+R;break}return i(P)}return O.toString=function(){return h+""},O}function u(h,f){var m=d((h=ay(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(sg(f)/3)))*3,g=Math.pow(10,-y),v=hL[8+y/3];return function(b){return m(g*b)+v}}return{format:d,formatPrefix:u}}var E2,c8,FY;lwe({thousands:",",grouping:[3],currency:["$",""]});function lwe(t){return E2=owe(t),c8=E2.format,FY=E2.formatPrefix,E2}function cwe(t){return Math.max(0,-sg(Math.abs(t)))}function dwe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sg(e)/3)))*3-sg(Math.abs(t)))}function uwe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sg(e)-sg(t))+1}function BY(t,e,r,s){var a=TA(t,e,r),i;switch(s=ay(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return s.precision==null&&!isNaN(i=dwe(a,o))&&(s.precision=i),FY(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=uwe(a,Math.max(Math.abs(t),Math.abs(e))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=cwe(a))&&(s.precision=i-(s.type==="%")*2);break}}return c8(s)}function pm(t){var e=t.domain;return t.ticks=function(r){var s=e();return EA(s[0],s[s.length-1],r??10)},t.tickFormat=function(r,s){var a=e();return BY(a[0],a[a.length-1],r??10,s)},t.nice=function(r){r==null&&(r=10);var s=e(),a=0,i=s.length-1,o=s[a],l=s[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=PA(o,l,r),d===c)return s[a]=o,s[i]=l,e(s);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function pj(){var t=o8();return t.copy=function(){return rb(t,pj())},ed.apply(t,arguments),pm(t)}function UY(t){var e;function r(s){return s==null||isNaN(s=+s)?e:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(t=Array.from(s,fj),r):t.slice()},r.unknown=function(s){return arguments.length?(e=s,r):e},r.copy=function(){return UY(t).unknown(e)},t=arguments.length?Array.from(t,fj):[0,1],pm(r)}function zY(t,e){t=t.slice();var r=0,s=t.length-1,a=t[r],i=t[s],o;return i<a&&(o=r,r=s,s=o,o=a,a=i,i=o),t[r]=e.floor(a),t[s]=e.ceil(i),t}function fL(t){return Math.log(t)}function mL(t){return Math.exp(t)}function hwe(t){return-Math.log(-t)}function fwe(t){return-Math.exp(-t)}function mwe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function pwe(t){return t===10?mwe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function xwe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function pL(t){return(e,r)=>-t(-e,r)}function d8(t){const e=t(fL,mL),r=e.domain;let s=10,a,i;function o(){return a=xwe(s),i=pwe(s),r()[0]<0?(a=pL(a),i=pL(i),t(hwe,fwe)):t(fL,mL),e}return e.base=function(l){return arguments.length?(s=+l,o()):s},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let f=a(d),m=a(u),y,g;const v=l==null?10:+l;let b=[];if(!(s%1)&&m-f<v){if(f=Math.floor(f),m=Math.ceil(m),d>0){for(;f<=m;++f)for(y=1;y<s;++y)if(g=f<0?y/i(-f):y*i(f),!(g<d)){if(g>u)break;b.push(g)}}else for(;f<=m;++f)for(y=s-1;y>=1;--y)if(g=f>0?y/i(-f):y*i(f),!(g<d)){if(g>u)break;b.push(g)}b.length*2<v&&(b=EA(d,u,v))}else b=EA(f,m,Math.min(m-f,v)).map(i);return h?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=ay(c)).precision==null&&(c.trim=!0),c=c8(c)),l===1/0)return c;const d=Math.max(1,s*l/e.ticks().length);return u=>{let h=u/i(Math.round(a(u)));return h*s<s-.5&&(h*=s),h<=d?c(u):""}},e.nice=()=>r(zY(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function VY(){const t=d8(XN()).domain([1,10]);return t.copy=()=>rb(t,VY()).base(t.base()),ed.apply(t,arguments),t}function xL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function gL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function u8(t){var e=1,r=t(xL(e),gL(e));return r.constant=function(s){return arguments.length?t(xL(e=+s),gL(e)):e},pm(r)}function WY(){var t=u8(XN());return t.copy=function(){return rb(t,WY()).constant(t.constant())},ed.apply(t,arguments)}function vL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function gwe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function vwe(t){return t<0?-t*t:t*t}function h8(t){var e=t(nl,nl),r=1;function s(){return r===1?t(nl,nl):r===.5?t(gwe,vwe):t(vL(r),vL(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,s()):r},pm(e)}function f8(){var t=h8(XN());return t.copy=function(){return rb(t,f8()).exponent(t.exponent())},ed.apply(t,arguments),t}function ywe(){return f8.apply(null,arguments).exponent(.5)}function yL(t){return Math.sign(t)*t*t}function bwe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function HY(){var t=o8(),e=[0,1],r=!1,s;function a(i){var o=bwe(t(i));return isNaN(o)?s:r?Math.round(o):o}return a.invert=function(i){return t.invert(yL(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,fj)).map(yL)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return HY(t.domain(),e).round(r).clamp(t.clamp()).unknown(s)},ed.apply(a,arguments),pm(a)}function qY(){var t=[],e=[],r=[],s;function a(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=_2e(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:e[eb(r,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Qf),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return r.slice()},i.copy=function(){return qY().domain(t).range(e).unknown(s)},ed.apply(i,arguments)}function GY(){var t=0,e=1,r=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[eb(s,c,0,r)]:i}function l(){var c=-1;for(s=new Array(r);++c<r;)s[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,s[0]]:d>=r?[s[r-1],e]:[s[d-1],s[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return GY().domain([t,e]).range(a).unknown(i)},ed.apply(pm(o),arguments)}function KY(){var t=[.5],e=[0,1],r,s=1;function a(i){return i!=null&&i<=i?e[eb(t,i,0,s)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),s=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),s=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return KY().domain(t).range(e).unknown(r)},ed.apply(a,arguments)}const w_=new Date,j_=new Date;function Ti(t,e,r,s){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),e(i,l),t(i);while(d<i&&i<o);return c},a.filter=i=>Ti(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),r&&(a.count=(i,o)=>(w_.setTime(+i),j_.setTime(+o),t(w_),t(j_),Math.floor(r(w_,j_))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const xj=Ti(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);xj.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ti(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):xj);xj.range;const Mh=1e3,Vc=Mh*60,Rh=Vc*60,Gh=Rh*24,m8=Gh*7,bL=Gh*30,N_=Gh*365,_p=Ti(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Mh)},(t,e)=>(e-t)/Mh,t=>t.getUTCSeconds());_p.range;const p8=Ti(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Mh)},(t,e)=>{t.setTime(+t+e*Vc)},(t,e)=>(e-t)/Vc,t=>t.getMinutes());p8.range;const x8=Ti(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Vc)},(t,e)=>(e-t)/Vc,t=>t.getUTCMinutes());x8.range;const g8=Ti(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Mh-t.getMinutes()*Vc)},(t,e)=>{t.setTime(+t+e*Rh)},(t,e)=>(e-t)/Rh,t=>t.getHours());g8.range;const v8=Ti(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Rh)},(t,e)=>(e-t)/Rh,t=>t.getUTCHours());v8.range;const nb=Ti(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Vc)/Gh,t=>t.getDate()-1);nb.range;const ZN=Ti(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gh,t=>t.getUTCDate()-1);ZN.range;const YY=Ti(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gh,t=>Math.floor(t/Gh));YY.range;function x0(t){return Ti(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Vc)/m8)}const JN=x0(0),gj=x0(1),wwe=x0(2),jwe=x0(3),ag=x0(4),Nwe=x0(5),Swe=x0(6);JN.range;gj.range;wwe.range;jwe.range;ag.range;Nwe.range;Swe.range;function g0(t){return Ti(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/m8)}const QN=g0(0),vj=g0(1),_we=g0(2),Cwe=g0(3),ig=g0(4),kwe=g0(5),Awe=g0(6);QN.range;vj.range;_we.range;Cwe.range;ig.range;kwe.range;Awe.range;const y8=Ti(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());y8.range;const b8=Ti(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());b8.range;const Kh=Ti(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Kh.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ti(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Kh.range;const Yh=Ti(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Yh.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ti(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Yh.range;function XY(t,e,r,s,a,i){const o=[[_p,1,Mh],[_p,5,5*Mh],[_p,15,15*Mh],[_p,30,30*Mh],[i,1,Vc],[i,5,5*Vc],[i,15,15*Vc],[i,30,30*Vc],[a,1,Rh],[a,3,3*Rh],[a,6,6*Rh],[a,12,12*Rh],[s,1,Gh],[s,2,2*Gh],[r,1,m8],[e,1,bL],[e,3,3*bL],[t,1,N_]];function l(d,u,h){const f=u<d;f&&([d,u]=[u,d]);const m=h&&typeof h.range=="function"?h:c(d,u,h),y=m?m.range(d,+u+1):[];return f?y.reverse():y}function c(d,u,h){const f=Math.abs(u-d)/h,m=r8(([,,v])=>v).right(o,f);if(m===o.length)return t.every(TA(d/N_,u/N_,h));if(m===0)return xj.every(Math.max(TA(d,u,h),1));const[y,g]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return y.every(g)}return[l,c]}const[Ewe,Pwe]=XY(Yh,b8,QN,YY,v8,x8),[Twe,Owe]=XY(Kh,y8,JN,nb,g8,p8);function S_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function __(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Pv(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Iwe(t){var e=t.dateTime,r=t.date,s=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=Tv(a),u=Ov(a),h=Tv(i),f=Ov(i),m=Tv(o),y=Ov(o),g=Tv(l),v=Ov(l),b=Tv(c),w=Ov(c),N={a:L,A:F,b:ee,B:se,c:null,d:CL,e:CL,f:rje,g:hje,G:mje,H:Qwe,I:eje,j:tje,L:ZY,m:nje,M:sje,p:q,q:z,Q:EL,s:PL,S:aje,u:ije,U:oje,V:lje,w:cje,W:dje,x:null,X:null,y:uje,Y:fje,Z:pje,"%":AL},_={a:Z,A:X,b:Q,B:ne,c:null,d:kL,e:kL,f:yje,g:Eje,G:Tje,H:xje,I:gje,j:vje,L:QY,m:bje,M:wje,p:ce,q:ie,Q:EL,s:PL,S:jje,u:Nje,U:Sje,V:_je,w:Cje,W:kje,x:null,X:null,y:Aje,Y:Pje,Z:Oje,"%":AL},C={a:O,A:P,b:M,B:R,c:W,d:SL,e:SL,f:Ywe,g:NL,G:jL,H:_L,I:_L,j:Hwe,L:Kwe,m:Wwe,M:qwe,p:$,q:Vwe,Q:Zwe,s:Jwe,S:Gwe,u:Lwe,U:Fwe,V:Bwe,w:Rwe,W:Uwe,x:Y,X:K,y:NL,Y:jL,Z:zwe,"%":Xwe};N.x=E(r,N),N.X=E(s,N),N.c=E(e,N),_.x=E(r,_),_.X=E(s,_),_.c=E(e,_);function E(pe,ae){return function(be){var we=[],Ie=-1,Ee=0,H=pe.length,Le,Ye,xt;for(be instanceof Date||(be=new Date(+be));++Ie<H;)pe.charCodeAt(Ie)===37&&(we.push(pe.slice(Ee,Ie)),(Ye=wL[Le=pe.charAt(++Ie)])!=null?Le=pe.charAt(++Ie):Ye=Le==="e"?" ":"0",(xt=ae[Le])&&(Le=xt(be,Ye)),we.push(Le),Ee=Ie+1);return we.push(pe.slice(Ee,Ie)),we.join("")}}function A(pe,ae){return function(be){var we=Pv(1900,void 0,1),Ie=I(we,pe,be+="",0),Ee,H;if(Ie!=be.length)return null;if("Q"in we)return new Date(we.Q);if("s"in we)return new Date(we.s*1e3+("L"in we?we.L:0));if(ae&&!("Z"in we)&&(we.Z=0),"p"in we&&(we.H=we.H%12+we.p*12),we.m===void 0&&(we.m="q"in we?we.q:0),"V"in we){if(we.V<1||we.V>53)return null;"w"in we||(we.w=1),"Z"in we?(Ee=__(Pv(we.y,0,1)),H=Ee.getUTCDay(),Ee=H>4||H===0?vj.ceil(Ee):vj(Ee),Ee=ZN.offset(Ee,(we.V-1)*7),we.y=Ee.getUTCFullYear(),we.m=Ee.getUTCMonth(),we.d=Ee.getUTCDate()+(we.w+6)%7):(Ee=S_(Pv(we.y,0,1)),H=Ee.getDay(),Ee=H>4||H===0?gj.ceil(Ee):gj(Ee),Ee=nb.offset(Ee,(we.V-1)*7),we.y=Ee.getFullYear(),we.m=Ee.getMonth(),we.d=Ee.getDate()+(we.w+6)%7)}else("W"in we||"U"in we)&&("w"in we||(we.w="u"in we?we.u%7:"W"in we?1:0),H="Z"in we?__(Pv(we.y,0,1)).getUTCDay():S_(Pv(we.y,0,1)).getDay(),we.m=0,we.d="W"in we?(we.w+6)%7+we.W*7-(H+5)%7:we.w+we.U*7-(H+6)%7);return"Z"in we?(we.H+=we.Z/100|0,we.M+=we.Z%100,__(we)):S_(we)}}function I(pe,ae,be,we){for(var Ie=0,Ee=ae.length,H=be.length,Le,Ye;Ie<Ee;){if(we>=H)return-1;if(Le=ae.charCodeAt(Ie++),Le===37){if(Le=ae.charAt(Ie++),Ye=C[Le in wL?ae.charAt(Ie++):Le],!Ye||(we=Ye(pe,be,we))<0)return-1}else if(Le!=be.charCodeAt(we++))return-1}return we}function $(pe,ae,be){var we=d.exec(ae.slice(be));return we?(pe.p=u.get(we[0].toLowerCase()),be+we[0].length):-1}function O(pe,ae,be){var we=m.exec(ae.slice(be));return we?(pe.w=y.get(we[0].toLowerCase()),be+we[0].length):-1}function P(pe,ae,be){var we=h.exec(ae.slice(be));return we?(pe.w=f.get(we[0].toLowerCase()),be+we[0].length):-1}function M(pe,ae,be){var we=b.exec(ae.slice(be));return we?(pe.m=w.get(we[0].toLowerCase()),be+we[0].length):-1}function R(pe,ae,be){var we=g.exec(ae.slice(be));return we?(pe.m=v.get(we[0].toLowerCase()),be+we[0].length):-1}function W(pe,ae,be){return I(pe,e,ae,be)}function Y(pe,ae,be){return I(pe,r,ae,be)}function K(pe,ae,be){return I(pe,s,ae,be)}function L(pe){return o[pe.getDay()]}function F(pe){return i[pe.getDay()]}function ee(pe){return c[pe.getMonth()]}function se(pe){return l[pe.getMonth()]}function q(pe){return a[+(pe.getHours()>=12)]}function z(pe){return 1+~~(pe.getMonth()/3)}function Z(pe){return o[pe.getUTCDay()]}function X(pe){return i[pe.getUTCDay()]}function Q(pe){return c[pe.getUTCMonth()]}function ne(pe){return l[pe.getUTCMonth()]}function ce(pe){return a[+(pe.getUTCHours()>=12)]}function ie(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var ae=E(pe+="",N);return ae.toString=function(){return pe},ae},parse:function(pe){var ae=A(pe+="",!1);return ae.toString=function(){return pe},ae},utcFormat:function(pe){var ae=E(pe+="",_);return ae.toString=function(){return pe},ae},utcParse:function(pe){var ae=A(pe+="",!0);return ae.toString=function(){return pe},ae}}}var wL={"-":"",_:" ",0:"0"},Zi=/^\s*\d+/,$we=/^%/,Dwe=/[\\^$*+?|[\]().{}]/g;function Zn(t,e,r){var s=t<0?"-":"",a=(s?-t:t)+"",i=a.length;return s+(i<r?new Array(r-i+1).join(e)+a:a)}function Mwe(t){return t.replace(Dwe,"\\$&")}function Tv(t){return new RegExp("^(?:"+t.map(Mwe).join("|")+")","i")}function Ov(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Rwe(t,e,r){var s=Zi.exec(e.slice(r,r+1));return s?(t.w=+s[0],r+s[0].length):-1}function Lwe(t,e,r){var s=Zi.exec(e.slice(r,r+1));return s?(t.u=+s[0],r+s[0].length):-1}function Fwe(t,e,r){var s=Zi.exec(e.slice(r,r+2));return s?(t.U=+s[0],r+s[0].length):-1}function Bwe(t,e,r){var s=Zi.exec(e.slice(r,r+2));return s?(t.V=+s[0],r+s[0].length):-1}function Uwe(t,e,r){var s=Zi.exec(e.slice(r,r+2));return s?(t.W=+s[0],r+s[0].length):-1}function jL(t,e,r){var s=Zi.exec(e.slice(r,r+4));return s?(t.y=+s[0],r+s[0].length):-1}function NL(t,e,r){var s=Zi.exec(e.slice(r,r+2));return s?(t.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function zwe(t,e,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return s?(t.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function Vwe(t,e,r){var s=Zi.exec(e.slice(r,r+1));return s?(t.q=s[0]*3-3,r+s[0].length):-1}function Wwe(t,e,r){var s=Zi.exec(e.slice(r,r+2));return s?(t.m=s[0]-1,r+s[0].length):-1}function SL(t,e,r){var s=Zi.exec(e.slice(r,r+2));return s?(t.d=+s[0],r+s[0].length):-1}function Hwe(t,e,r){var s=Zi.exec(e.slice(r,r+3));return s?(t.m=0,t.d=+s[0],r+s[0].length):-1}function _L(t,e,r){var s=Zi.exec(e.slice(r,r+2));return s?(t.H=+s[0],r+s[0].length):-1}function qwe(t,e,r){var s=Zi.exec(e.slice(r,r+2));return s?(t.M=+s[0],r+s[0].length):-1}function Gwe(t,e,r){var s=Zi.exec(e.slice(r,r+2));return s?(t.S=+s[0],r+s[0].length):-1}function Kwe(t,e,r){var s=Zi.exec(e.slice(r,r+3));return s?(t.L=+s[0],r+s[0].length):-1}function Ywe(t,e,r){var s=Zi.exec(e.slice(r,r+6));return s?(t.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function Xwe(t,e,r){var s=$we.exec(e.slice(r,r+1));return s?r+s[0].length:-1}function Zwe(t,e,r){var s=Zi.exec(e.slice(r));return s?(t.Q=+s[0],r+s[0].length):-1}function Jwe(t,e,r){var s=Zi.exec(e.slice(r));return s?(t.s=+s[0],r+s[0].length):-1}function CL(t,e){return Zn(t.getDate(),e,2)}function Qwe(t,e){return Zn(t.getHours(),e,2)}function eje(t,e){return Zn(t.getHours()%12||12,e,2)}function tje(t,e){return Zn(1+nb.count(Kh(t),t),e,3)}function ZY(t,e){return Zn(t.getMilliseconds(),e,3)}function rje(t,e){return ZY(t,e)+"000"}function nje(t,e){return Zn(t.getMonth()+1,e,2)}function sje(t,e){return Zn(t.getMinutes(),e,2)}function aje(t,e){return Zn(t.getSeconds(),e,2)}function ije(t){var e=t.getDay();return e===0?7:e}function oje(t,e){return Zn(JN.count(Kh(t)-1,t),e,2)}function JY(t){var e=t.getDay();return e>=4||e===0?ag(t):ag.ceil(t)}function lje(t,e){return t=JY(t),Zn(ag.count(Kh(t),t)+(Kh(t).getDay()===4),e,2)}function cje(t){return t.getDay()}function dje(t,e){return Zn(gj.count(Kh(t)-1,t),e,2)}function uje(t,e){return Zn(t.getFullYear()%100,e,2)}function hje(t,e){return t=JY(t),Zn(t.getFullYear()%100,e,2)}function fje(t,e){return Zn(t.getFullYear()%1e4,e,4)}function mje(t,e){var r=t.getDay();return t=r>=4||r===0?ag(t):ag.ceil(t),Zn(t.getFullYear()%1e4,e,4)}function pje(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Zn(e/60|0,"0",2)+Zn(e%60,"0",2)}function kL(t,e){return Zn(t.getUTCDate(),e,2)}function xje(t,e){return Zn(t.getUTCHours(),e,2)}function gje(t,e){return Zn(t.getUTCHours()%12||12,e,2)}function vje(t,e){return Zn(1+ZN.count(Yh(t),t),e,3)}function QY(t,e){return Zn(t.getUTCMilliseconds(),e,3)}function yje(t,e){return QY(t,e)+"000"}function bje(t,e){return Zn(t.getUTCMonth()+1,e,2)}function wje(t,e){return Zn(t.getUTCMinutes(),e,2)}function jje(t,e){return Zn(t.getUTCSeconds(),e,2)}function Nje(t){var e=t.getUTCDay();return e===0?7:e}function Sje(t,e){return Zn(QN.count(Yh(t)-1,t),e,2)}function eX(t){var e=t.getUTCDay();return e>=4||e===0?ig(t):ig.ceil(t)}function _je(t,e){return t=eX(t),Zn(ig.count(Yh(t),t)+(Yh(t).getUTCDay()===4),e,2)}function Cje(t){return t.getUTCDay()}function kje(t,e){return Zn(vj.count(Yh(t)-1,t),e,2)}function Aje(t,e){return Zn(t.getUTCFullYear()%100,e,2)}function Eje(t,e){return t=eX(t),Zn(t.getUTCFullYear()%100,e,2)}function Pje(t,e){return Zn(t.getUTCFullYear()%1e4,e,4)}function Tje(t,e){var r=t.getUTCDay();return t=r>=4||r===0?ig(t):ig.ceil(t),Zn(t.getUTCFullYear()%1e4,e,4)}function Oje(){return"+0000"}function AL(){return"%"}function EL(t){return+t}function PL(t){return Math.floor(+t/1e3)}var ex,tX,rX;Ije({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ije(t){return ex=Iwe(t),tX=ex.format,ex.parse,rX=ex.utcFormat,ex.utcParse,ex}function $je(t){return new Date(t)}function Dje(t){return t instanceof Date?+t:+new Date(+t)}function w8(t,e,r,s,a,i,o,l,c,d){var u=o8(),h=u.invert,f=u.domain,m=d(".%L"),y=d(":%S"),g=d("%I:%M"),v=d("%I %p"),b=d("%a %d"),w=d("%b %d"),N=d("%B"),_=d("%Y");function C(E){return(c(E)<E?m:l(E)<E?y:o(E)<E?g:i(E)<E?v:s(E)<E?a(E)<E?b:w:r(E)<E?N:_)(E)}return u.invert=function(E){return new Date(h(E))},u.domain=function(E){return arguments.length?f(Array.from(E,Dje)):f().map($je)},u.ticks=function(E){var A=f();return t(A[0],A[A.length-1],E??10)},u.tickFormat=function(E,A){return A==null?C:d(A)},u.nice=function(E){var A=f();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?f(zY(A,E)):u},u.copy=function(){return rb(u,w8(t,e,r,s,a,i,o,l,c,d))},u}function Mje(){return ed.apply(w8(Twe,Owe,Kh,y8,JN,nb,g8,p8,_p,tX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Rje(){return ed.apply(w8(Ewe,Pwe,Yh,b8,QN,ZN,v8,x8,_p,rX).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function e5(){var t=0,e=1,r,s,a,i,o=nl,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,r=i(t=+t),s=i(e=+e),a=r===s?0:1/(s-r),d):[t,e]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(f){var m,y;return arguments.length?([m,y]=f,o=h(m,y),d):[o(0),o(1)]}}return d.range=u(Vg),d.rangeRound=u(i8),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,r=h(t),s=h(e),a=r===s?0:1/(s-r),d}}function xm(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function nX(){var t=pm(e5()(nl));return t.copy=function(){return xm(t,nX())},ef.apply(t,arguments)}function sX(){var t=d8(e5()).domain([1,10]);return t.copy=function(){return xm(t,sX()).base(t.base())},ef.apply(t,arguments)}function aX(){var t=u8(e5());return t.copy=function(){return xm(t,aX()).constant(t.constant())},ef.apply(t,arguments)}function j8(){var t=h8(e5());return t.copy=function(){return xm(t,j8()).exponent(t.exponent())},ef.apply(t,arguments)}function Lje(){return j8.apply(null,arguments).exponent(.5)}function iX(){var t=[],e=nl;function r(s){if(s!=null&&!isNaN(s=+s))return e((eb(t,s,1)-1)/(t.length-1))}return r.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Qf),r},r.interpolator=function(s){return arguments.length?(e=s,r):e},r.range=function(){return t.map((s,a)=>e(a/(t.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,i)=>S2e(t,i/s))},r.copy=function(){return iX(e).domain(t)},ef.apply(r,arguments)}function t5(){var t=0,e=.5,r=1,s=1,a,i,o,l,c,d=nl,u,h=!1,f;function m(g){return isNaN(g=+g)?f:(g=.5+((g=+u(g))-i)*(s*g<s*i?l:c),d(h?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,r]=g,a=u(t=+t),i=u(e=+e),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,m):[t,e,r]},m.clamp=function(g){return arguments.length?(h=!!g,m):h},m.interpolator=function(g){return arguments.length?(d=g,m):d};function y(g){return function(v){var b,w,N;return arguments.length?([b,w,N]=v,d=X2e(g,[b,w,N]),m):[d(0),d(.5),d(1)]}}return m.range=y(Vg),m.rangeRound=y(i8),m.unknown=function(g){return arguments.length?(f=g,m):f},function(g){return u=g,a=g(t),i=g(e),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,m}}function oX(){var t=pm(t5()(nl));return t.copy=function(){return xm(t,oX())},ef.apply(t,arguments)}function lX(){var t=d8(t5()).domain([.1,1,10]);return t.copy=function(){return xm(t,lX()).base(t.base())},ef.apply(t,arguments)}function cX(){var t=u8(t5());return t.copy=function(){return xm(t,cX()).constant(t.constant())},ef.apply(t,arguments)}function N8(){var t=h8(t5());return t.copy=function(){return xm(t,N8()).exponent(t.exponent())},ef.apply(t,arguments)}function Fje(){return N8.apply(null,arguments).exponent(.5)}const TL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ty,scaleDiverging:oX,scaleDivergingLog:lX,scaleDivergingPow:N8,scaleDivergingSqrt:Fje,scaleDivergingSymlog:cX,scaleIdentity:UY,scaleImplicit:OA,scaleLinear:pj,scaleLog:VY,scaleOrdinal:n8,scalePoint:b1,scalePow:f8,scaleQuantile:qY,scaleQuantize:GY,scaleRadial:HY,scaleSequential:nX,scaleSequentialLog:sX,scaleSequentialPow:j8,scaleSequentialQuantile:iX,scaleSequentialSqrt:Lje,scaleSequentialSymlog:aX,scaleSqrt:ywe,scaleSymlog:WY,scaleThreshold:KY,scaleTime:Mje,scaleUtc:Rje,tickFormat:BY},Symbol.toStringTag,{value:"Module"}));var C_,OL;function r5(){if(OL)return C_;OL=1;var t=Fg();function e(r,s,a){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=s(l);if(c!=null&&(d===void 0?c===c&&!t(c):a(c,d)))var d=c,u=l}return u}return C_=e,C_}var k_,IL;function dX(){if(IL)return k_;IL=1;function t(e,r){return e>r}return k_=t,k_}var A_,$L;function Bje(){if($L)return A_;$L=1;var t=r5(),e=dX(),r=zg();function s(a){return a&&a.length?t(a,r,e):void 0}return A_=s,A_}var Uje=Bje();const Xf=Jn(Uje);var E_,DL;function uX(){if(DL)return E_;DL=1;function t(e,r){return e<r}return E_=t,E_}var P_,ML;function zje(){if(ML)return P_;ML=1;var t=r5(),e=uX(),r=zg();function s(a){return a&&a.length?t(a,r,e):void 0}return P_=s,P_}var Vje=zje();const n5=Jn(Vje);var T_,RL;function Wje(){if(RL)return T_;RL=1;var t=FT(),e=Yu(),r=yY(),s=$l();function a(i,o){var l=s(i)?t:r;return l(i,e(o,3))}return T_=a,T_}var O_,LL;function Hje(){if(LL)return O_;LL=1;var t=gY(),e=Wje();function r(s,a){return t(e(s,a),1)}return O_=r,O_}var qje=Hje();const Gje=Jn(qje);var I_,FL;function Kje(){if(FL)return I_;FL=1;var t=JT();function e(r,s){return t(r,s)}return I_=e,I_}var Yje=Kje();const e0=Jn(Yje);var Wg=1e9,Xje={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_8,ha=!0,Zc="[DecimalError] ",Fp=Zc+"Invalid argument: ",S8=Zc+"Exponent out of range: ",Hg=Math.floor,hp=Math.pow,Zje=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rc,Hi=1e7,Qs=7,hX=9007199254740991,yj=Hg(hX/Qs),hr={};hr.absoluteValue=hr.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};hr.comparedTo=hr.cmp=function(t){var e,r,s,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(s=i.d.length,a=t.d.length,e=0,r=s<a?s:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};hr.decimalPlaces=hr.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Qs;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};hr.dividedBy=hr.div=function(t){return Uh(this,new this.constructor(t))};hr.dividedToIntegerBy=hr.idiv=function(t){var e=this,r=e.constructor;return Ms(Uh(e,new r(t),0,1),r.precision)};hr.equals=hr.eq=function(t){return!this.cmp(t)};hr.exponent=function(){return di(this)};hr.greaterThan=hr.gt=function(t){return this.cmp(t)>0};hr.greaterThanOrEqualTo=hr.gte=function(t){return this.cmp(t)>=0};hr.isInteger=hr.isint=function(){return this.e>this.d.length-2};hr.isNegative=hr.isneg=function(){return this.s<0};hr.isPositive=hr.ispos=function(){return this.s>0};hr.isZero=function(){return this.s===0};hr.lessThan=hr.lt=function(t){return this.cmp(t)<0};hr.lessThanOrEqualTo=hr.lte=function(t){return this.cmp(t)<1};hr.logarithm=hr.log=function(t){var e,r=this,s=r.constructor,a=s.precision,i=a+5;if(t===void 0)t=new s(10);else if(t=new s(t),t.s<1||t.eq(rc))throw Error(Zc+"NaN");if(r.s<1)throw Error(Zc+(r.s?"NaN":"-Infinity"));return r.eq(rc)?new s(0):(ha=!1,e=Uh(iy(r,i),iy(t,i),i),ha=!0,Ms(e,a))};hr.minus=hr.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pX(e,t):fX(e,(t.s=-t.s,t))};hr.modulo=hr.mod=function(t){var e,r=this,s=r.constructor,a=s.precision;if(t=new s(t),!t.s)throw Error(Zc+"NaN");return r.s?(ha=!1,e=Uh(r,t,0,1).times(t),ha=!0,r.minus(e)):Ms(new s(r),a)};hr.naturalExponential=hr.exp=function(){return mX(this)};hr.naturalLogarithm=hr.ln=function(){return iy(this)};hr.negated=hr.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};hr.plus=hr.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fX(e,t):pX(e,(t.s=-t.s,t))};hr.precision=hr.sd=function(t){var e,r,s,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Fp+t);if(e=di(a)+1,s=a.d.length-1,r=s*Qs+1,s=a.d[s],s){for(;s%10==0;s/=10)r--;for(s=a.d[0];s>=10;s/=10)r++}return t&&e>r?e:r};hr.squareRoot=hr.sqrt=function(){var t,e,r,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Zc+"NaN")}for(t=di(l),ha=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=wu(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Hg((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),s=new c(e)):s=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=s,s=i.plus(Uh(l,i,o+2)).times(.5),wu(i.d).slice(0,o)===(e=wu(s.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(Ms(i,r+1,0),i.times(i).eq(l)){s=i;break}}else if(e!="9999")break;o+=4}return ha=!0,Ms(s,r)};hr.times=hr.mul=function(t){var e,r,s,a,i,o,l,c,d,u=this,h=u.constructor,f=u.d,m=(t=new h(t)).d;if(!u.s||!t.s)return new h(0);for(t.s*=u.s,r=u.e+t.e,c=f.length,d=m.length,c<d&&(i=f,f=m,m=i,o=c,c=d,d=o),i=[],o=c+d,s=o;s--;)i.push(0);for(s=d;--s>=0;){for(e=0,a=c+s;a>s;)l=i[a]+m[s]*f[a-s-1]+e,i[a--]=l%Hi|0,e=l/Hi|0;i[a]=(i[a]+e)%Hi|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,ha?Ms(t,h.precision):t};hr.toDecimalPlaces=hr.todp=function(t,e){var r=this,s=r.constructor;return r=new s(r),t===void 0?r:(Fu(t,0,Wg),e===void 0?e=s.rounding:Fu(e,0,8),Ms(r,t+di(r)+1,e))};hr.toExponential=function(t,e){var r,s=this,a=s.constructor;return t===void 0?r=t0(s,!0):(Fu(t,0,Wg),e===void 0?e=a.rounding:Fu(e,0,8),s=Ms(new a(s),t+1,e),r=t0(s,!0,t+1)),r};hr.toFixed=function(t,e){var r,s,a=this,i=a.constructor;return t===void 0?t0(a):(Fu(t,0,Wg),e===void 0?e=i.rounding:Fu(e,0,8),s=Ms(new i(a),t+di(a)+1,e),r=t0(s.abs(),!1,t+di(s)+1),a.isneg()&&!a.isZero()?"-"+r:r)};hr.toInteger=hr.toint=function(){var t=this,e=t.constructor;return Ms(new e(t),di(t)+1,e.rounding)};hr.toNumber=function(){return+this};hr.toPower=hr.pow=function(t){var e,r,s,a,i,o,l=this,c=l.constructor,d=12,u=+(t=new c(t));if(!t.s)return new c(rc);if(l=new c(l),!l.s){if(t.s<1)throw Error(Zc+"Infinity");return l}if(l.eq(rc))return l;if(s=c.precision,t.eq(rc))return Ms(l,s);if(e=t.e,r=t.d.length-1,o=e>=r,i=l.s,o){if((r=u<0?-u:u)<=hX){for(a=new c(rc),e=Math.ceil(s/Qs+4),ha=!1;r%2&&(a=a.times(l),UL(a.d,e)),r=Hg(r/2),r!==0;)l=l.times(l),UL(l.d,e);return ha=!0,t.s<0?new c(rc).div(a):Ms(a,s)}}else if(i<0)throw Error(Zc+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,ha=!1,a=t.times(iy(l,s+d)),ha=!0,a=mX(a),a.s=i,a};hr.toPrecision=function(t,e){var r,s,a=this,i=a.constructor;return t===void 0?(r=di(a),s=t0(a,r<=i.toExpNeg||r>=i.toExpPos)):(Fu(t,1,Wg),e===void 0?e=i.rounding:Fu(e,0,8),a=Ms(new i(a),t,e),r=di(a),s=t0(a,t<=r||r<=i.toExpNeg,t)),s};hr.toSignificantDigits=hr.tosd=function(t,e){var r=this,s=r.constructor;return t===void 0?(t=s.precision,e=s.rounding):(Fu(t,1,Wg),e===void 0?e=s.rounding:Fu(e,0,8)),Ms(new s(r),t,e)};hr.toString=hr.valueOf=hr.val=hr.toJSON=hr[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=di(t),r=t.constructor;return t0(t,e<=r.toExpNeg||e>=r.toExpPos)};function fX(t,e){var r,s,a,i,o,l,c,d,u=t.constructor,h=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),ha?Ms(e,h):e;if(c=t.d,d=e.d,o=t.e,a=e.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=d.length):(s=d,a=o,l=c.length),o=Math.ceil(h/Qs),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,s=d,d=c,c=s),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Hi|0,c[i]%=Hi;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,ha?Ms(e,h):e}function Fu(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Fp+t)}function wu(t){var e,r,s,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)s=t[e]+"",r=Qs-s.length,r&&(i+=Hf(r)),i+=s;o=t[e],s=o+"",r=Qs-s.length,r&&(i+=Hf(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Uh=(function(){function t(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%Hi|0,o=i/Hi|0;return o&&s.unshift(o),s}function e(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function r(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*Hi+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,d,u,h,f,m,y,g,v,b,w,N,_,C,E,A,I,$=s.constructor,O=s.s==a.s?1:-1,P=s.d,M=a.d;if(!s.s)return new $(s);if(!a.s)throw Error(Zc+"Division by zero");for(c=s.e-a.e,A=M.length,C=P.length,m=new $(O),y=m.d=[],d=0;M[d]==(P[d]||0);)++d;if(M[d]>(P[d]||0)&&--c,i==null?w=i=$.precision:o?w=i+(di(s)-di(a))+1:w=i,w<0)return new $(0);if(w=w/Qs+2|0,d=0,A==1)for(u=0,M=M[0],w++;(d<C||u)&&w--;d++)N=u*Hi+(P[d]||0),y[d]=N/M|0,u=N%M|0;else{for(u=Hi/(M[0]+1)|0,u>1&&(M=t(M,u),P=t(P,u),A=M.length,C=P.length),_=A,g=P.slice(0,A),v=g.length;v<A;)g[v++]=0;I=M.slice(),I.unshift(0),E=M[0],M[1]>=Hi/2&&++E;do u=0,l=e(M,g,A,v),l<0?(b=g[0],A!=v&&(b=b*Hi+(g[1]||0)),u=b/E|0,u>1?(u>=Hi&&(u=Hi-1),h=t(M,u),f=h.length,v=g.length,l=e(h,g,f,v),l==1&&(u--,r(h,A<f?I:M,f))):(u==0&&(l=u=1),h=M.slice()),f=h.length,f<v&&h.unshift(0),r(g,h,v),l==-1&&(v=g.length,l=e(M,g,A,v),l<1&&(u++,r(g,A<v?I:M,v))),v=g.length):l===0&&(u++,g=[0]),y[d++]=u,l&&g[0]?g[v++]=P[_]||0:(g=[P[_]],v=1);while((_++<C||g[0]!==void 0)&&w--)}return y[0]||y.shift(),m.e=c,Ms(m,o?i+di(m)+1:i)}})();function mX(t,e){var r,s,a,i,o,l,c=0,d=0,u=t.constructor,h=u.precision;if(di(t)>16)throw Error(S8+di(t));if(!t.s)return new u(rc);for(ha=!1,l=h,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(s=Math.log(hp(2,d))/Math.LN10*2+5|0,l+=s,r=a=i=new u(rc),u.precision=l;;){if(a=Ms(a.times(t),l),r=r.times(++c),o=i.plus(Uh(a,r,l)),wu(o.d).slice(0,l)===wu(i.d).slice(0,l)){for(;d--;)i=Ms(i.times(i),l);return u.precision=h,e==null?(ha=!0,Ms(i,h)):i}i=o}}function di(t){for(var e=t.e*Qs,r=t.d[0];r>=10;r/=10)e++;return e}function $_(t,e,r){if(e>t.LN10.sd())throw ha=!0,r&&(t.precision=r),Error(Zc+"LN10 precision limit exceeded");return Ms(new t(t.LN10),e)}function Hf(t){for(var e="";t--;)e+="0";return e}function iy(t,e){var r,s,a,i,o,l,c,d,u,h=1,f=10,m=t,y=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(Zc+(m.s?"NaN":"-Infinity"));if(m.eq(rc))return new g(0);if(e==null?(ha=!1,d=v):d=e,m.eq(10))return e==null&&(ha=!0),$_(g,d);if(d+=f,g.precision=d,r=wu(y),s=r.charAt(0),i=di(m),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)m=m.times(t),r=wu(m.d),s=r.charAt(0),h++;i=di(m),s>1?(m=new g("0."+r),i++):m=new g(s+"."+r.slice(1))}else return c=$_(g,d+2,v).times(i+""),m=iy(new g(s+"."+r.slice(1)),d-f).plus(c),g.precision=v,e==null?(ha=!0,Ms(m,v)):m;for(l=o=m=Uh(m.minus(rc),m.plus(rc),d),u=Ms(m.times(m),d),a=3;;){if(o=Ms(o.times(u),d),c=l.plus(Uh(o,new g(a),d)),wu(c.d).slice(0,d)===wu(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus($_(g,d+2,v).times(i+""))),l=Uh(l,new g(h),d),g.precision=v,e==null?(ha=!0,Ms(l,v)):l;l=c,a+=2}}function BL(t,e){var r,s,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;e.charCodeAt(s)===48;)++s;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(s,a),e){if(a-=s,r=r-s-1,t.e=Hg(r/Qs),t.d=[],s=(r+1)%Qs,r<0&&(s+=Qs),s<a){for(s&&t.d.push(+e.slice(0,s)),a-=Qs;s<a;)t.d.push(+e.slice(s,s+=Qs));e=e.slice(s),s=Qs-e.length}else s-=a;for(;s--;)e+="0";if(t.d.push(+e),ha&&(t.e>yj||t.e<-yj))throw Error(S8+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ms(t,e,r){var s,a,i,o,l,c,d,u,h=t.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(s=e-o,s<0)s+=Qs,a=e,d=h[u=0];else{if(u=Math.ceil((s+1)/Qs),i=h.length,u>=i)return t;for(d=i=h[u],o=1;i>=10;i/=10)o++;s%=Qs,a=s-Qs+o}if(r!==void 0&&(i=hp(10,o-a-1),l=d/i%10|0,c=e<0||h[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(s>0?a>0?d/hp(10,o-a):0:h[u-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(i=di(t),h.length=1,e=e-i-1,h[0]=hp(10,(Qs-e%Qs)%Qs),t.e=Hg(-e/Qs)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(s==0?(h.length=u,i=1,u--):(h.length=u+1,i=hp(10,Qs-s),h[u]=a>0?(d/hp(10,o-a)%hp(10,a)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==Hi&&(h[0]=1,++t.e);break}else{if(h[u]+=i,h[u]!=Hi)break;h[u--]=0,i=1}for(s=h.length;h[--s]===0;)h.pop();if(ha&&(t.e>yj||t.e<-yj))throw Error(S8+di(t));return t}function pX(t,e){var r,s,a,i,o,l,c,d,u,h,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),ha?Ms(e,m):e;if(c=t.d,h=e.d,s=e.e,d=t.e,c=c.slice(),o=d-s,o){for(u=o<0,u?(r=c,o=-o,l=h.length):(r=h,s=d,l=c.length),a=Math.max(Math.ceil(m/Qs),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=h.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){u=c[a]<h[a];break}o=0}for(u&&(r=c,c=h,h=r,e.s=-e.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=Hi-1;--c[i],c[a]+=Hi}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(e.d=c,e.e=s,ha?Ms(e,m):e):new f(0)}function t0(t,e,r){var s,a=di(t),i=wu(t.d),o=i.length;return e?(r&&(s=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Hf(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Hf(-a-1)+i,r&&(s=r-o)>0&&(i+=Hf(s))):a>=o?(i+=Hf(a+1-o),r&&(s=r-a-1)>0&&(i=i+"."+Hf(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),r&&(s=r-o)>0&&(a+1===o&&(i+="."),i+=Hf(s))),t.s<0?"-"+i:i}function UL(t,e){if(t.length>e)return t.length=e,!0}function xX(t){var e,r,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Fp+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return BL(o,i.toString())}else if(typeof i!="string")throw Error(Fp+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Zje.test(i))BL(o,i);else throw Error(Fp+i)}if(a.prototype=hr,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=xX,a.config=a.set=Jje,t===void 0&&(t={}),t)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<s.length;)t.hasOwnProperty(r=s[e++])||(t[r]=this[r]);return a.config(t),a}function Jje(t){if(!t||typeof t!="object")throw Error(Zc+"Object expected");var e,r,s,a=["precision",1,Wg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((s=t[r=a[e]])!==void 0)if(Hg(s)===s&&s>=a[e+1]&&s<=a[e+2])this[r]=s;else throw Error(Fp+r+": "+s);if((s=t[r="LN10"])!==void 0)if(s==Math.LN10)this[r]=new this(s);else throw Error(Fp+r+": "+s);return this}var _8=xX(Xje);rc=new _8(1);const Es=_8;function Qje(t){return nNe(t)||rNe(t)||tNe(t)||eNe()}function eNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tNe(t,e){if(t){if(typeof t=="string")return MA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MA(t,e)}}function rNe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function nNe(t){if(Array.isArray(t))return MA(t)}function MA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}var sNe=function(e){return e},gX={},vX=function(e){return e===gX},zL=function(e){return function r(){return arguments.length===0||arguments.length===1&&vX(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},aNe=function t(e,r){return e===1?r:zL(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==gX}).length;return o>=e?r.apply(void 0,a):t(e-o,zL(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(h){return vX(h)?c.shift():h});return r.apply(void 0,Qje(u).concat(c))}))})},s5=function(e){return aNe(e.length,e)},RA=function(e,r){for(var s=[],a=e;a<r;++a)s[a-e]=a;return s},iNe=s5(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),oNe=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];if(!r.length)return sNe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},LA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},yX=function(e){var r=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,s=e.apply(void 0,i)),s}};function lNe(t){var e;return t===0?e=1:e=Math.floor(new Es(t).abs().log(10).toNumber())+1,e}function cNe(t,e,r){for(var s=new Es(t),a=0,i=[];s.lt(e)&&a<1e5;)i.push(s.toNumber()),s=s.add(r),a++;return i}var dNe=s5(function(t,e,r){var s=+t,a=+e;return s+r*(a-s)}),uNe=s5(function(t,e,r){var s=e-+t;return s=s||1/0,(r-t)/s}),hNe=s5(function(t,e,r){var s=e-+t;return s=s||1/0,Math.max(0,Math.min(1,(r-t)/s))});const a5={rangeStep:cNe,getDigitCount:lNe,interpolateNumber:dNe,uninterpolateNumber:uNe,uninterpolateTruncation:hNe};function FA(t){return pNe(t)||mNe(t)||bX(t)||fNe()}function fNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mNe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function pNe(t){if(Array.isArray(t))return BA(t)}function oy(t,e){return vNe(t)||gNe(t,e)||bX(t,e)||xNe()}function xNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bX(t,e){if(t){if(typeof t=="string")return BA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BA(t,e)}}function BA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function gNe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],s=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));s=!0);}catch(c){a=!0,i=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function vNe(t){if(Array.isArray(t))return t}function wX(t){var e=oy(t,2),r=e[0],s=e[1],a=r,i=s;return r>s&&(a=s,i=r),[a,i]}function jX(t,e,r){if(t.lte(0))return new Es(0);var s=a5.getDigitCount(t.toNumber()),a=new Es(10).pow(s),i=t.div(a),o=s!==1?.05:.1,l=new Es(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return e?c:new Es(Math.ceil(c))}function yNe(t,e,r){var s=1,a=new Es(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(s=new Es(10).pow(a5.getDigitCount(t)-1),a=new Es(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new Es(Math.floor(t)))}else t===0?a=new Es(Math.floor((e-1)/2)):r||(a=new Es(Math.floor(t)));var o=Math.floor((e-1)/2),l=oNe(iNe(function(c){return a.add(new Es(c-o).mul(s)).toNumber()}),RA);return l(0,e)}function NX(t,e,r,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Es(0),tickMin:new Es(0),tickMax:new Es(0)};var i=jX(new Es(e).sub(t).div(r-1),s,a),o;t<=0&&e>=0?o=new Es(0):(o=new Es(t).add(e).div(2),o=o.sub(new Es(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new Es(e).sub(o).div(i).toNumber()),d=l+c+1;return d>r?NX(t,e,r,s,a+1):(d<r&&(c=e>0?c+(r-d):c,l=e>0?l:l+(r-d)),{step:i,tickMin:o.sub(new Es(l).mul(i)),tickMax:o.add(new Es(c).mul(i))})}function bNe(t){var e=oy(t,2),r=e[0],s=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=wX([r,s]),c=oy(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var h=u===1/0?[d].concat(FA(RA(0,a-1).map(function(){return 1/0}))):[].concat(FA(RA(0,a-1).map(function(){return-1/0})),[u]);return r>s?LA(h):h}if(d===u)return yNe(d,a,i);var f=NX(d,u,o,i),m=f.step,y=f.tickMin,g=f.tickMax,v=a5.rangeStep(y,g.add(new Es(.1).mul(m)),m);return r>s?LA(v):v}function wNe(t,e){var r=oy(t,2),s=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=wX([s,a]),l=oy(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[s,a];if(c===d)return[c];var u=Math.max(e,2),h=jX(new Es(d).sub(c).div(u-1),i,0),f=[].concat(FA(a5.rangeStep(new Es(c),new Es(d).sub(new Es(.99).mul(h)),h)),[d]);return s>a?LA(f):f}var jNe=yX(bNe),NNe=yX(wNe),SNe="Invariant failed";function r0(t,e){throw new Error(SNe)}var _Ne=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function bj(){return bj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},bj.apply(this,arguments)}function CNe(t,e){return PNe(t)||ENe(t,e)||ANe(t,e)||kNe()}function kNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ANe(t,e){if(t){if(typeof t=="string")return VL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VL(t,e)}}function VL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function ENe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function PNe(t){if(Array.isArray(t))return t}function TNe(t,e){if(t==null)return{};var r=ONe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function ONe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function INe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Ne(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,CX(s.key),s)}}function DNe(t,e,r){return e&&$Ne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MNe(t,e,r){return e=wj(e),RNe(t,SX()?Reflect.construct(e,r||[],wj(t).constructor):e.apply(t,r))}function RNe(t,e){if(e&&(og(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LNe(t)}function LNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SX=function(){return!!t})()}function wj(t){return wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wj(t)}function FNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UA(t,e)}function UA(t,e){return UA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},UA(t,e)}function _X(t,e,r){return e=CX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CX(t){var e=BNe(t,"string");return og(e)=="symbol"?e:e+""}function BNe(t,e){if(og(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(og(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sb=(function(t){function e(){return INe(this,e),MNe(this,e,arguments)}return FNe(e,t),DNe(e,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,c=s.data,d=s.dataPointFormatter,u=s.xAxis,h=s.yAxis,f=TNe(s,_Ne),m=Ir(f,!1);this.props.direction==="x"&&u.type!=="number"&&r0();var y=c.map(function(g){var v=d(g,l),b=v.x,w=v.y,N=v.value,_=v.errorVal;if(!_)return null;var C=[],E,A;if(Array.isArray(_)){var I=CNe(_,2);E=I[0],A=I[1]}else E=A=_;if(i==="vertical"){var $=u.scale,O=w+a,P=O+o,M=O-o,R=$(N-E),W=$(N+A);C.push({x1:W,y1:P,x2:W,y2:M}),C.push({x1:R,y1:O,x2:W,y2:O}),C.push({x1:R,y1:P,x2:R,y2:M})}else if(i==="horizontal"){var Y=h.scale,K=b+a,L=K-o,F=K+o,ee=Y(N-E),se=Y(N+A);C.push({x1:L,y1:se,x2:F,y2:se}),C.push({x1:K,y1:ee,x2:K,y2:se}),C.push({x1:L,y1:ee,x2:F,y2:ee})}return fe.createElement(Tn,bj({className:"recharts-errorBar",key:"bar-".concat(C.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},m),C.map(function(q){return fe.createElement("line",bj({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return fe.createElement(Tn,{className:"recharts-errorBars"},y)}}])})(fe.Component);_X(sb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_X(sb,"displayName","ErrorBar");function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function WL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function tp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(r),!0).forEach(function(s){UNe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WL(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function UNe(t,e,r){return e=zNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zNe(t){var e=VNe(t,"string");return ly(e)=="symbol"?e:e+""}function VNe(t,e){if(ly(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(ly(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kX=function(e){var r=e.children,s=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=ec(r,Rp);if(!o)return null;var l=Rp.defaultProps,c=l!==void 0?tp(tp({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(s||[]).reduce(function(u,h){var f=h.item,m=h.props,y=m.sectors||m.data||[];return u.concat(y.map(function(g){return{type:o.props.iconType||f.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):d=(s||[]).map(function(u){var h=u.item,f=h.type.defaultProps,m=f!==void 0?tp(tp({},f),h.props):{},y=m.dataKey,g=m.name,v=m.legendType,b=m.hide;return{inactive:b,dataKey:y,type:c.iconType||v||"square",color:C8(h),value:g||y,payload:m}}),tp(tp(tp({},c),Rp.getWithHeight(o,a)),{},{payload:d,item:o})};function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}function HL(t){return GNe(t)||qNe(t)||HNe(t)||WNe()}function WNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HNe(t,e){if(t){if(typeof t=="string")return zA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zA(t,e)}}function qNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GNe(t){if(Array.isArray(t))return zA(t)}function zA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function qL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Fa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(r),!0).forEach(function(s){Ux(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Ux(t,e,r){return e=KNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KNe(t){var e=YNe(t,"string");return cy(e)=="symbol"?e:e+""}function YNe(t,e){if(cy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(cy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qa(t,e,r){return ln(t)||ln(e)?r:Ei(e)?cc(t,e,r):Kr(e)?e(t):r}function w1(t,e,r,s){var a=Gje(t,function(l){return Qa(l,e)});if(r==="number"){var i=a.filter(function(l){return It(l)||parseFloat(l)});return i.length?[n5(i),Xf(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!ln(l)}):a;return o.map(function(l){return Ei(l)||l instanceof Date?l:""})}var XNe=function(e){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=s?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,h=a[d].coordinate,f=d>=l-1?a[0].coordinate:a[d+1].coordinate,m=void 0;if(tl(h-u)!==tl(f-h)){var y=[];if(tl(f-h)===tl(c[1]-c[0])){m=f;var g=h+c[1]-c[0];y[0]=Math.min(g,(g+u)/2),y[1]=Math.max(g,(g+u)/2)}else{m=u;var v=f+c[1]-c[0];y[0]=Math.min(h,(v+h)/2),y[1]=Math.max(h,(v+h)/2)}var b=[Math.min(h,(m+h)/2),Math.max(h,(m+h)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){o=a[d].index;break}}else{var w=Math.min(u,f),N=Math.max(u,f);if(e>(w+h)/2&&e<=(N+h)/2){o=a[d].index;break}}}else for(var _=0;_<l;_++)if(_===0&&e<=(s[_].coordinate+s[_+1].coordinate)/2||_>0&&_<l-1&&e>(s[_].coordinate+s[_-1].coordinate)/2&&e<=(s[_].coordinate+s[_+1].coordinate)/2||_===l-1&&e>(s[_].coordinate+s[_-1].coordinate)/2){o=s[_].index;break}return o},C8=function(e){var r,s=e,a=s.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Fa(Fa({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},ZNe=function(e){var r=e.barSize,s=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,h=Object.keys(u),f=0,m=h.length;f<m;f++){var y=u[h[f]],g=y.items,v=y.cateAxisId,b=g.filter(function(A){return Bh(A.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,N=w!==void 0?Fa(Fa({},w),b[0].props):b[0].props,_=N.barSize,C=N[v];o[C]||(o[C]=[]);var E=ln(_)?r:_;o[C].push({item:b[0],stackList:b.slice(1),barSize:ln(E)?void 0:rl(E,s,0)})}}return o},JNe=function(e){var r=e.barGap,s=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=rl(r,a,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,m=a/c,y=o.reduce(function(_,C){return _+C.barSize||0},0);y+=(c-1)*d,y>=a&&(y-=(c-1)*d,d=0),y>=a&&m>0&&(f=!0,m*=.9,y=c*m);var g=(a-y)/2>>0,v={offset:g-d,size:0};u=o.reduce(function(_,C){var E={item:C.item,position:{offset:v.offset+v.size+d,size:f?m:C.barSize}},A=[].concat(HL(_),[E]);return v=A[A.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(I){A.push({item:I,position:v})}),A},h)}else{var b=rl(s,a,0,!0);a-2*b-(c-1)*d<=0&&(d=0);var w=(a-2*b-(c-1)*d)/c;w>1&&(w>>=0);var N=l===+l?Math.min(w,l):w;u=o.reduce(function(_,C,E){var A=[].concat(HL(_),[{item:C.item,position:{offset:b+(w+d)*E+(w-N)/2,size:N}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(I){A.push({item:I,position:A[A.length-1].position})}),A},h)}return u},QNe=function(e,r,s,a){var i=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),d=kX({children:i,legendWidth:c});if(d){var u=a||{},h=u.width,f=u.height,m=d.align,y=d.verticalAlign,g=d.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&m!=="center"&&It(e[m]))return Fa(Fa({},e),{},Ux({},m,e[m]+(h||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&y!=="middle"&&It(e[y]))return Fa(Fa({},e),{},Ux({},y,e[y]+(f||0)))}return e},e5e=function(e,r,s){return ln(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||s==="x"?r==="xAxis":s==="y"?r==="yAxis":!0},AX=function(e,r,s,a,i){var o=r.props.children,l=dc(o,sb).filter(function(d){return e5e(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,u){var h=Qa(u,s);if(ln(h))return d;var f=Array.isArray(h)?[n5(h),Xf(h)]:[h,h],m=c.reduce(function(y,g){var v=Qa(u,g,0),b=f[0]-Math.abs(Array.isArray(v)?v[0]:v),w=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(m[0],d[0]),Math.max(m[1],d[1])]},[1/0,-1/0])}return null},t5e=function(e,r,s,a,i){var o=r.map(function(l){return AX(e,l,s,i,a)}).filter(function(l){return!ln(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},EX=function(e,r,s,a,i){var o=r.map(function(c){var d=c.props.dataKey;return s==="number"&&d&&AX(e,c,d,a)||w1(e,d,s,i)});if(s==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,h=d.length;u<h;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},PX=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},TX=function(e,r,s,a){if(a)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===s&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(s),l},Lh=function(e,r,s){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||s)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&l?.length>=2?tl(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(h){var f=i?i.indexOf(h):h;return{coordinate:a(f)+d,value:h,offset:d}});return u.filter(function(h){return!Ug(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,f){return{coordinate:a(h)+d,value:h,index:f,offset:d}}):a.ticks&&!s?a.ticks(e.tickCount).map(function(h){return{coordinate:a(h)+d,value:h,offset:d}}):a.domain().map(function(h,f){return{coordinate:a(h)+d,value:i?i[h]:h,index:f,offset:d}})},D_=new WeakMap,P2=function(e,r){if(typeof r!="function")return e;D_.has(e)||D_.set(e,new WeakMap);var s=D_.get(e);if(s.has(r))return s.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return s.set(r,a),a},OX=function(e,r,s){var a=e.scale,i=e.type,o=e.layout,l=e.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:ty(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:pj(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!s)?{scale:b1(),realScaleType:"point"}:i==="category"?{scale:ty(),realScaleType:"band"}:{scale:pj(),realScaleType:"linear"};if(Zp(a)){var c="scale".concat(zN(a));return{scale:(TL[c]||b1)(),realScaleType:TL[c]?c:"point"}}return Kr(a)?{scale:a}:{scale:b1(),realScaleType:"point"}},GL=1e-4,IX=function(e){var r=e.domain();if(!(!r||r.length<=2)){var s=r.length,a=e.range(),i=Math.min(a[0],a[1])-GL,o=Math.max(a[0],a[1])+GL,l=e(r[0]),c=e(r[s-1]);(l<i||l>o||c<i||c>o)&&e.domain([r[0],r[s-1]])}},r5e=function(e,r){if(!e)return null;for(var s=0,a=e.length;s<a;s++)if(e[s].item===r)return e[s].position;return null},n5e=function(e,r){if(!r||r.length!==2||!It(r[0])||!It(r[1]))return e;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!It(e[0])||e[0]<s)&&(i[0]=s),(!It(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},s5e=function(e){var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var i=0,o=0,l=0;l<r;++l){var c=Ug(e[l][s][1])?e[l][s][0]:e[l][s][1];c>=0?(e[l][s][0]=i,e[l][s][1]=i+c,i=e[l][s][1]):(e[l][s][0]=o,e[l][s][1]=o+c,o=e[l][s][1])}},a5e=function(e){var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var i=0,o=0;o<r;++o){var l=Ug(e[o][s][1])?e[o][s][0]:e[o][s][1];l>=0?(e[o][s][0]=i,e[o][s][1]=i+l,i=e[o][s][1]):(e[o][s][0]=0,e[o][s][1]=0)}},i5e={sign:s5e,expand:Gve,none:Qx,silhouette:Kve,wiggle:Yve,positive:a5e},o5e=function(e,r,s){var a=r.map(function(l){return l.props.dataKey}),i=i5e[s],o=qve().keys(a).value(function(l,c){return+Qa(l,c,0)}).order(vA).offset(i);return o(e)},l5e=function(e,r,s,a,i,o){if(!e)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(h,f){var m,y=(m=f.type)!==null&&m!==void 0&&m.defaultProps?Fa(Fa({},f.type.defaultProps),f.props):f.props,g=y.stackId,v=y.hide;if(v)return h;var b=y[s],w=h[b]||{hasStack:!1,stackGroups:{}};if(Ei(g)){var N=w.stackGroups[g]||{numericAxisId:s,cateAxisId:a,items:[]};N.items.push(f),w.hasStack=!0,w.stackGroups[g]=N}else w.stackGroups[p0("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[f]};return Fa(Fa({},h),{},Ux({},b,w))},c),u={};return Object.keys(d).reduce(function(h,f){var m=d[f];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var b=m.stackGroups[v];return Fa(Fa({},g),{},Ux({},v,{numericAxisId:s,cateAxisId:a,items:b.items,stackedData:o5e(e,b.items,i)}))},y)}return Fa(Fa({},h),{},Ux({},f,m))},u)},$X=function(e,r){var s=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=s||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var u=jNe(d,i,l);return e.domain([n5(u),Xf(u)]),{niceTicks:u}}if(i&&a==="number"){var h=e.domain(),f=NNe(h,i,l);return{niceTicks:f}}return null};function jj(t){var e=t.axis,r=t.ticks,s=t.bandSize,a=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ln(a[e.dataKey])){var l=Zw(r,"value",a[e.dataKey]);if(l)return l.coordinate+s/2}return r[i]?r[i].coordinate+s/2:null}var c=Qa(a,ln(o)?e.dataKey:o);return ln(c)?null:e.scale(c)}var KL=function(e){var r=e.axis,s=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return s[l]?s[l].coordinate+a:null;var c=Qa(o,r.dataKey,r.domain[l]);return ln(c)?null:r.scale(c)-i/2+a},c5e=function(e){var r=e.numericAxis,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},d5e=function(e,r){var s,a=(s=e.type)!==null&&s!==void 0&&s.defaultProps?Fa(Fa({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(Ei(i)){var o=r[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},u5e=function(e){return e.reduce(function(r,s){return[n5(s.concat([r[0]]).filter(It)),Xf(s.concat([r[1]]).filter(It))]},[1/0,-1/0])},DX=function(e,r,s){return Object.keys(e).reduce(function(a,i){var o=e[i],l=o.stackedData,c=l.reduce(function(d,u){var h=u5e(u.slice(r,s+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},YL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VA=function(e,r,s){if(Kr(e))return e(r,s);if(!Array.isArray(e))return r;var a=[];if(It(e[0]))a[0]=s?e[0]:Math.min(e[0],r[0]);else if(YL.test(e[0])){var i=+YL.exec(e[0])[1];a[0]=r[0]-i}else Kr(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(It(e[1]))a[1]=s?e[1]:Math.max(e[1],r[1]);else if(XL.test(e[1])){var o=+XL.exec(e[1])[1];a[1]=r[1]+o}else Kr(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Nj=function(e,r,s){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!s||a>0)return a}if(e&&r&&r.length>=2){for(var i=e8(r,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},ZL=function(e,r,s){return!e||!e.length||e0(e,cc(s,"type.defaultProps.domain"))?r:e},MX=function(e,r){var s=e.type.defaultProps?Fa(Fa({},e.type.defaultProps),e.props):e.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,d=s.chartType,u=s.hide;return Fa(Fa({},Ir(e,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:C8(e),value:Qa(r,a),type:c,payload:r,chartType:d,hide:u})};function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function JL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Ah(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(r),!0).forEach(function(s){RX(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function RX(t,e,r){return e=h5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h5e(t){var e=f5e(t,"string");return dy(e)=="symbol"?e:e+""}function f5e(t,e){if(dy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(dy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m5e(t,e){return v5e(t)||g5e(t,e)||x5e(t,e)||p5e()}function p5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x5e(t,e){if(t){if(typeof t=="string")return QL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QL(t,e)}}function QL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function g5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function v5e(t){if(Array.isArray(t))return t}var Sj=Math.PI/180,y5e=function(e){return e*180/Math.PI},Ws=function(e,r,s,a){return{x:e+Math.cos(-Sj*a)*s,y:r+Math.sin(-Sj*a)*s}},LX=function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(s.left||0)-(s.right||0)),Math.abs(r-(s.top||0)-(s.bottom||0)))/2},b5e=function(e,r,s,a,i){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,u=rl(e.cx,o,o/2),h=rl(e.cy,l,l/2),f=LX(o,l,s),m=rl(e.innerRadius,f,0),y=rl(e.outerRadius,f,f*.8),g=Object.keys(r);return g.reduce(function(v,b){var w=r[b],N=w.domain,_=w.reversed,C;if(ln(w.range))a==="angleAxis"?C=[c,d]:a==="radiusAxis"&&(C=[m,y]),_&&(C=[C[1],C[0]]);else{C=w.range;var E=C,A=m5e(E,2);c=A[0],d=A[1]}var I=OX(w,i),$=I.realScaleType,O=I.scale;O.domain(N).range(C),IX(O);var P=$X(O,Ah(Ah({},w),{},{realScaleType:$})),M=Ah(Ah(Ah({},w),P),{},{range:C,radius:y,realScaleType:$,scale:O,cx:u,cy:h,innerRadius:m,outerRadius:y,startAngle:c,endAngle:d});return Ah(Ah({},v),{},RX({},b,M))},{})},w5e=function(e,r){var s=e.x,a=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},j5e=function(e,r){var s=e.x,a=e.y,i=r.cx,o=r.cy,l=w5e({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(s-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:y5e(d),angleInRadian:d}},N5e=function(e){var r=e.startAngle,s=e.endAngle,a=Math.floor(r/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:s-o*360}},S5e=function(e,r){var s=r.startAngle,a=r.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return e+l*360},eF=function(e,r){var s=e.x,a=e.y,i=j5e({x:s,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=N5e(r),h=u.startAngle,f=u.endAngle,m=l,y;if(h<=f){for(;m>f;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=f}else{for(;m>h;)m-=360;for(;m<f;)m+=360;y=m>=f&&m<=h}return y?Ah(Ah({},r),{},{radius:o,angle:S5e(m,r)}):null},FX=function(e){return!S.isValidElement(e)&&!Kr(e)&&typeof e!="boolean"?e.className:""};function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}var _5e=["offset"];function C5e(t){return P5e(t)||E5e(t)||A5e(t)||k5e()}function k5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A5e(t,e){if(t){if(typeof t=="string")return WA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WA(t,e)}}function E5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function P5e(t){if(Array.isArray(t))return WA(t)}function WA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function T5e(t,e){if(t==null)return{};var r=O5e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function O5e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function tF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function yi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tF(Object(r),!0).forEach(function(s){I5e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tF(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function I5e(t,e,r){return e=$5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $5e(t){var e=D5e(t,"string");return uy(e)=="symbol"?e:e+""}function D5e(t,e){if(uy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(uy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hy(){return hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},hy.apply(this,arguments)}var M5e=function(e){var r=e.value,s=e.formatter,a=ln(e.children)?r:e.children;return Kr(s)?s(a):a},R5e=function(e,r){var s=tl(r-e),a=Math.min(Math.abs(r-e),360);return s*a},L5e=function(e,r,s){var a=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,d=c.cx,u=c.cy,h=c.innerRadius,f=c.outerRadius,m=c.startAngle,y=c.endAngle,g=c.clockWise,v=(h+f)/2,b=R5e(m,y),w=b>=0?1:-1,N,_;a==="insideStart"?(N=m+w*o,_=g):a==="insideEnd"?(N=y-w*o,_=!g):a==="end"&&(N=y+w*o,_=g),_=b<=0?_:!_;var C=Ws(d,u,v,N),E=Ws(d,u,v,N+(_?1:-1)*359),A="M".concat(C.x,",").concat(C.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(E.x,",").concat(E.y),I=ln(e.id)?p0("recharts-radial-line-"):e.id;return fe.createElement("text",hy({},s,{dominantBaseline:"central",className:dn("recharts-radial-bar-label",l)}),fe.createElement("defs",null,fe.createElement("path",{id:I,d:A})),fe.createElement("textPath",{xlinkHref:"#".concat(I)},r))},F5e=function(e){var r=e.viewBox,s=e.offset,a=e.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,h=i.endAngle,f=(u+h)/2;if(a==="outside"){var m=Ws(o,l,d+s,f),y=m.x,g=m.y;return{x:y,y:g,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+d)/2,b=Ws(o,l,v,f),w=b.x,N=b.y;return{x:w,y:N,textAnchor:"middle",verticalAnchor:"middle"}},B5e=function(e){var r=e.viewBox,s=e.parentViewBox,a=e.offset,i=e.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,h=u>=0?1:-1,f=h*a,m=h>0?"end":"start",y=h>0?"start":"end",g=d>=0?1:-1,v=g*a,b=g>0?"end":"start",w=g>0?"start":"end";if(i==="top"){var N={x:l+d/2,y:c-h*a,textAnchor:"middle",verticalAnchor:m};return yi(yi({},N),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var _={x:l+d/2,y:c+u+f,textAnchor:"middle",verticalAnchor:y};return yi(yi({},_),s?{height:Math.max(s.y+s.height-(c+u),0),width:d}:{})}if(i==="left"){var C={x:l-v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return yi(yi({},C),s?{width:Math.max(C.x-s.x,0),height:u}:{})}if(i==="right"){var E={x:l+d+v,y:c+u/2,textAnchor:w,verticalAnchor:"middle"};return yi(yi({},E),s?{width:Math.max(s.x+s.width-E.x,0),height:u}:{})}var A=s?{width:d,height:u}:{};return i==="insideLeft"?yi({x:l+v,y:c+u/2,textAnchor:w,verticalAnchor:"middle"},A):i==="insideRight"?yi({x:l+d-v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},A):i==="insideTop"?yi({x:l+d/2,y:c+f,textAnchor:"middle",verticalAnchor:y},A):i==="insideBottom"?yi({x:l+d/2,y:c+u-f,textAnchor:"middle",verticalAnchor:m},A):i==="insideTopLeft"?yi({x:l+v,y:c+f,textAnchor:w,verticalAnchor:y},A):i==="insideTopRight"?yi({x:l+d-v,y:c+f,textAnchor:b,verticalAnchor:y},A):i==="insideBottomLeft"?yi({x:l+v,y:c+u-f,textAnchor:w,verticalAnchor:m},A):i==="insideBottomRight"?yi({x:l+d-v,y:c+u-f,textAnchor:b,verticalAnchor:m},A):Bg(i)&&(It(i.x)||Np(i.x))&&(It(i.y)||Np(i.y))?yi({x:l+rl(i.x,d),y:c+rl(i.y,u),textAnchor:"end",verticalAnchor:"end"},A):yi({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},A)},U5e=function(e){return"cx"in e&&It(e.cx)};function Gi(t){var e=t.offset,r=e===void 0?5:e,s=T5e(t,_5e),a=yi({offset:r},s),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,h=u===void 0?"":u,f=a.textBreakAll;if(!i||ln(l)&&ln(c)&&!S.isValidElement(d)&&!Kr(d))return null;if(S.isValidElement(d))return S.cloneElement(d,a);var m;if(Kr(d)){if(m=S.createElement(d,a),S.isValidElement(m))return m}else m=M5e(a);var y=U5e(i),g=Ir(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return L5e(a,m,g);var v=y?F5e(a):B5e(a);return fe.createElement(Qp,hy({className:dn("recharts-label",h)},g,v,{breakAll:f}),m)}Gi.displayName="Label";var BX=function(e){var r=e.cx,s=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,u=e.outerRadius,h=e.x,f=e.y,m=e.top,y=e.left,g=e.width,v=e.height,b=e.clockWise,w=e.labelViewBox;if(w)return w;if(It(g)&&It(v)){if(It(h)&&It(f))return{x:h,y:f,width:g,height:v};if(It(m)&&It(y))return{x:m,y,width:g,height:v}}return It(h)&&It(f)?{x:h,y:f,width:0,height:0}:It(r)&&It(s)?{cx:r,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:b}:e.viewBox?e.viewBox:{}},z5e=function(e,r){return e?e===!0?fe.createElement(Gi,{key:"label-implicit",viewBox:r}):Ei(e)?fe.createElement(Gi,{key:"label-implicit",viewBox:r,value:e}):S.isValidElement(e)?e.type===Gi?S.cloneElement(e,{key:"label-implicit",viewBox:r}):fe.createElement(Gi,{key:"label-implicit",content:e,viewBox:r}):Kr(e)?fe.createElement(Gi,{key:"label-implicit",content:e,viewBox:r}):Bg(e)?fe.createElement(Gi,hy({viewBox:r},e,{key:"label-implicit"})):null:null},V5e=function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&s&&!e.label)return null;var a=e.children,i=BX(e),o=dc(a,Gi).map(function(c,d){return S.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!s)return o;var l=z5e(e.label,r||i);return[l].concat(C5e(o))};Gi.parseViewBox=BX;Gi.renderCallByParent=V5e;var M_,rF;function W5e(){if(rF)return M_;rF=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return M_=t,M_}var H5e=W5e();const q5e=Jn(H5e);function fy(t){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(t)}var G5e=["valueAccessor"],K5e=["data","dataKey","clockWise","id","textBreakAll"];function Y5e(t){return Q5e(t)||J5e(t)||Z5e(t)||X5e()}function X5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z5e(t,e){if(t){if(typeof t=="string")return HA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HA(t,e)}}function J5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Q5e(t){if(Array.isArray(t))return HA(t)}function HA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function _j(){return _j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},_j.apply(this,arguments)}function nF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function sF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nF(Object(r),!0).forEach(function(s){e4e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function e4e(t,e,r){return e=t4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t4e(t){var e=r4e(t,"string");return fy(e)=="symbol"?e:e+""}function r4e(t,e){if(fy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(fy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aF(t,e){if(t==null)return{};var r=n4e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function n4e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var s4e=function(e){return Array.isArray(e.value)?q5e(e.value):e.value};function $u(t){var e=t.valueAccessor,r=e===void 0?s4e:e,s=aF(t,G5e),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,d=aF(s,K5e);return!a||!a.length?null:fe.createElement(Tn,{className:"recharts-label-list"},a.map(function(u,h){var f=ln(i)?r(u,h):Qa(u&&u.payload,i),m=ln(l)?{}:{id:"".concat(l,"-").concat(h)};return fe.createElement(Gi,_j({},Ir(u,!0),d,m,{parentViewBox:u.parentViewBox,value:f,textBreakAll:c,viewBox:Gi.parseViewBox(ln(o)?u:sF(sF({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}$u.displayName="LabelList";function a4e(t,e){return t?t===!0?fe.createElement($u,{key:"labelList-implicit",data:e}):fe.isValidElement(t)||Kr(t)?fe.createElement($u,{key:"labelList-implicit",data:e,content:t}):Bg(t)?fe.createElement($u,_j({data:e},t,{key:"labelList-implicit"})):null:null}function i4e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var s=t.children,a=dc(s,$u).map(function(o,l){return S.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var i=a4e(t.label,e);return[i].concat(Y5e(a))}$u.renderCallByParent=i4e;function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function qA(){return qA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},qA.apply(this,arguments)}function iF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function oF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iF(Object(r),!0).forEach(function(s){o4e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iF(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function o4e(t,e,r){return e=l4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l4e(t){var e=c4e(t,"string");return my(e)=="symbol"?e:e+""}function c4e(t,e){if(my(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(my(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d4e=function(e,r){var s=tl(r-e),a=Math.min(Math.abs(r-e),359.999);return s*a},T2=function(e){var r=e.cx,s=e.cy,a=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,u=c*(l?1:-1)+a,h=Math.asin(c/u)/Sj,f=d?i:i+o*h,m=Ws(r,s,u,f),y=Ws(r,s,a,f),g=d?i-o*h:i,v=Ws(r,s,u*Math.cos(h*Sj),g);return{center:m,circleTangency:y,lineTangency:v,theta:h}},UX=function(e){var r=e.cx,s=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=d4e(o,l),d=o+c,u=Ws(r,s,i,o),h=Ws(r,s,i,d),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var m=Ws(r,s,a,o),y=Ws(r,s,a,d);f+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(r,",").concat(s," Z");return f},u4e=function(e){var r=e.cx,s=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,u=e.endAngle,h=tl(u-d),f=T2({cx:r,cy:s,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),m=f.circleTangency,y=f.lineTangency,g=f.theta,v=T2({cx:r,cy:s,radius:i,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:c}),b=v.circleTangency,w=v.lineTangency,N=v.theta,_=c?Math.abs(d-u):Math.abs(d-u)-g-N;if(_<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):UX({cx:r,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var C="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var E=T2({cx:r,cy:s,radius:a,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=E.circleTangency,I=E.lineTangency,$=E.theta,O=T2({cx:r,cy:s,radius:a,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=O.circleTangency,M=O.lineTangency,R=O.theta,W=c?Math.abs(d-u):Math.abs(d-u)-$-R;if(W<0&&o===0)return"".concat(C,"L").concat(r,",").concat(s,"Z");C+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(W>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,"Z")}else C+="L".concat(r,",").concat(s,"Z");return C},h4e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zX=function(e){var r=oF(oF({},h4e),e),s=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,h=r.endAngle,f=r.className;if(o<i||u===h)return null;var m=dn("recharts-sector",f),y=o-i,g=rl(l,y,0,!0),v;return g>0&&Math.abs(u-h)<360?v=u4e({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,y/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:h}):v=UX({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h}),fe.createElement("path",qA({},Ir(r,!0),{className:m,d:v,role:"img"}))};function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}function GA(){return GA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},GA.apply(this,arguments)}function lF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function cF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lF(Object(r),!0).forEach(function(s){f4e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function f4e(t,e,r){return e=m4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m4e(t){var e=p4e(t,"string");return py(e)=="symbol"?e:e+""}function p4e(t,e){if(py(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(py(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dF={curveBasisClosed:Dve,curveBasisOpen:Mve,curveBasis:$ve,curveBumpX:bve,curveBumpY:wve,curveLinearClosed:Rve,curveLinear:WN,curveMonotoneX:Lve,curveMonotoneY:Fve,curveNatural:Bve,curveStep:Uve,curveStepAfter:Vve,curveStepBefore:zve},O2=function(e){return e.x===+e.x&&e.y===+e.y},Iv=function(e){return e.x},$v=function(e){return e.y},x4e=function(e,r){if(Kr(e))return e;var s="curve".concat(zN(e));return(s==="curveMonotone"||s==="curveBump")&&r?dF["".concat(s).concat(r==="vertical"?"Y":"X")]:dF[s]||WN},g4e=function(e){var r=e.type,s=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,u=x4e(s,l),h=d?i.filter(function(g){return O2(g)}):i,f;if(Array.isArray(o)){var m=d?o.filter(function(g){return O2(g)}):o,y=h.map(function(g,v){return cF(cF({},g),{},{base:m[v]})});return l==="vertical"?f=N2().y($v).x1(Iv).x0(function(g){return g.base.x}):f=N2().x(Iv).y1($v).y0(function(g){return g.base.y}),f.defined(O2).curve(u),f(y)}return l==="vertical"&&It(o)?f=N2().y($v).x1(Iv).x0(o):It(o)?f=N2().x(Iv).y1($v).y0(o):f=BK().x(Iv).y($v),f.defined(O2).curve(u),f(h)},Bp=function(e){var r=e.className,s=e.points,a=e.path,i=e.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?g4e(e):a;return S.createElement("path",GA({},Ir(e,!1),Jw(e),{className:dn("recharts-curve",r),d:o,ref:i}))},R_={exports:{}},L_,uF;function v4e(){if(uF)return L_;uF=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return L_=t,L_}var F_,hF;function y4e(){if(hF)return F_;hF=1;var t=v4e();function e(){}function r(){}return r.resetWarningCache=e,F_=function(){function s(o,l,c,d,u,h){if(h!==t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}s.isRequired=s;function a(){return s}var i={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},F_}var fF;function k8(){return fF||(fF=1,R_.exports=y4e()()),R_.exports}var b4e=k8();const ls=Jn(b4e);var w4e=Object.getOwnPropertyNames,j4e=Object.getOwnPropertySymbols,N4e=Object.prototype.hasOwnProperty;function mF(t,e){return function(s,a,i){return t(s,a,i)&&e(s,a,i)}}function I2(t){return function(r,s,a){if(!r||!s||typeof r!="object"||typeof s!="object")return t(r,s,a);var i=a.cache,o=i.get(r),l=i.get(s);if(o&&l)return o===s&&l===r;i.set(r,s),i.set(s,r);var c=t(r,s,a);return i.delete(r),i.delete(s),c}}function S4e(t){return t?.[Symbol.toStringTag]}function pF(t){return w4e(t).concat(j4e(t))}var _4e=Object.hasOwn||(function(t,e){return N4e.call(t,e)});function v0(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var C4e="__v",k4e="__o",A4e="_owner",xF=Object.getOwnPropertyDescriptor,gF=Object.keys;function E4e(t,e,r){var s=t.length;if(e.length!==s)return!1;for(;s-- >0;)if(!r.equals(t[s],e[s],s,s,t,e,r))return!1;return!0}function P4e(t,e){return v0(t.getTime(),e.getTime())}function T4e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function O4e(t,e){return t===e}function vF(t,e,r){var s=t.size;if(s!==e.size)return!1;if(!s)return!0;for(var a=new Array(s),i=t.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=e.entries(),u=!1,h=0;(l=d.next())&&!l.done;){if(a[h]){h++;continue}var f=o.value,m=l.value;if(r.equals(f[0],m[0],c,h,t,e,r)&&r.equals(f[1],m[1],f[0],m[0],t,e,r)){u=a[h]=!0;break}h++}if(!u)return!1;c++}return!0}var I4e=v0;function $4e(t,e,r){var s=gF(t),a=s.length;if(gF(e).length!==a)return!1;for(;a-- >0;)if(!VX(t,e,r,s[a]))return!1;return!0}function Dv(t,e,r){var s=pF(t),a=s.length;if(pF(e).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=s[a],!VX(t,e,r,i)||(o=xF(t,i),l=xF(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function D4e(t,e){return v0(t.valueOf(),e.valueOf())}function M4e(t,e){return t.source===e.source&&t.flags===e.flags}function yF(t,e,r){var s=t.size;if(s!==e.size)return!1;if(!s)return!0;for(var a=new Array(s),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var c=e.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!a[u]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function R4e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function L4e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function VX(t,e,r,s){return(s===A4e||s===k4e||s===C4e)&&(t.$$typeof||e.$$typeof)?!0:_4e(e,s)&&r.equals(t[s],e[s],s,s,t,e,r)}var F4e="[object Arguments]",B4e="[object Boolean]",U4e="[object Date]",z4e="[object Error]",V4e="[object Map]",W4e="[object Number]",H4e="[object Object]",q4e="[object RegExp]",G4e="[object Set]",K4e="[object String]",Y4e="[object URL]",X4e=Array.isArray,bF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,wF=Object.assign,Z4e=Object.prototype.toString.call.bind(Object.prototype.toString);function J4e(t){var e=t.areArraysEqual,r=t.areDatesEqual,s=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,u=t.areSetsEqual,h=t.areTypedArraysEqual,f=t.areUrlsEqual,m=t.unknownTagComparators;return function(g,v,b){if(g===v)return!0;if(g==null||v==null)return!1;var w=typeof g;if(w!==typeof v)return!1;if(w!=="object")return w==="number"?o(g,v,b):w==="function"?a(g,v,b):!1;var N=g.constructor;if(N!==v.constructor)return!1;if(N===Object)return l(g,v,b);if(X4e(g))return e(g,v,b);if(bF!=null&&bF(g))return h(g,v,b);if(N===Date)return r(g,v,b);if(N===RegExp)return d(g,v,b);if(N===Map)return i(g,v,b);if(N===Set)return u(g,v,b);var _=Z4e(g);if(_===U4e)return r(g,v,b);if(_===q4e)return d(g,v,b);if(_===V4e)return i(g,v,b);if(_===G4e)return u(g,v,b);if(_===H4e)return typeof g.then!="function"&&typeof v.then!="function"&&l(g,v,b);if(_===Y4e)return f(g,v,b);if(_===z4e)return s(g,v,b);if(_===F4e)return l(g,v,b);if(_===B4e||_===W4e||_===K4e)return c(g,v,b);if(m){var C=m[_];if(!C){var E=S4e(g);E&&(C=m[E])}if(C)return C(g,v,b)}return!1}}function Q4e(t){var e=t.circular,r=t.createCustomConfig,s=t.strict,a={areArraysEqual:s?Dv:E4e,areDatesEqual:P4e,areErrorsEqual:T4e,areFunctionsEqual:O4e,areMapsEqual:s?mF(vF,Dv):vF,areNumbersEqual:I4e,areObjectsEqual:s?Dv:$4e,arePrimitiveWrappersEqual:D4e,areRegExpsEqual:M4e,areSetsEqual:s?mF(yF,Dv):yF,areTypedArraysEqual:s?Dv:R4e,areUrlsEqual:L4e,unknownTagComparators:void 0};if(r&&(a=wF({},a,r(a))),e){var i=I2(a.areArraysEqual),o=I2(a.areMapsEqual),l=I2(a.areObjectsEqual),c=I2(a.areSetsEqual);a=wF({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function e3e(t){return function(e,r,s,a,i,o,l){return t(e,r,l)}}function t3e(t){var e=t.circular,r=t.comparator,s=t.createState,a=t.equals,i=t.strict;if(s)return function(c,d){var u=s(),h=u.cache,f=h===void 0?e?new WeakMap:void 0:h,m=u.meta;return r(c,d,{cache:f,equals:a,meta:m,strict:i})};if(e)return function(c,d){return r(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var r3e=gm();gm({strict:!0});gm({circular:!0});gm({circular:!0,strict:!0});gm({createInternalComparator:function(){return v0}});gm({strict:!0,createInternalComparator:function(){return v0}});gm({circular:!0,createInternalComparator:function(){return v0}});gm({circular:!0,createInternalComparator:function(){return v0},strict:!0});function gm(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,s=t.createInternalComparator,a=t.createState,i=t.strict,o=i===void 0?!1:i,l=Q4e(t),c=J4e(l),d=s?s(c):e3e(c);return t3e({circular:r,comparator:c,createState:a,equals:d,strict:o})}function n3e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function jF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,s=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):n3e(a)};requestAnimationFrame(s)}function KA(t){"@babel/helpers - typeof";return KA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KA(t)}function s3e(t){return l3e(t)||o3e(t)||i3e(t)||a3e()}function a3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i3e(t,e){if(t){if(typeof t=="string")return NF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NF(t,e)}}function NF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function o3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function l3e(t){if(Array.isArray(t))return t}function c3e(){var t={},e=function(){return null},r=!1,s=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=s3e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){jF(a.bind(null,d),c);return}a(c),jF(a.bind(null,d));return}KA(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,s(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function xy(t){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(t)}function SF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function _F(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SF(Object(r),!0).forEach(function(s){WX(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SF(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function WX(t,e,r){return e=d3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d3e(t){var e=u3e(t,"string");return xy(e)==="symbol"?e:String(e)}function u3e(t,e){if(xy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(xy(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h3e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},f3e=function(e){return e},m3e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},j1=function(e,r){return Object.keys(r).reduce(function(s,a){return _F(_F({},s),{},WX({},a,e(a,r[a])))},{})},CF=function(e,r,s){return e.map(function(a){return"".concat(m3e(a)," ").concat(r,"ms ").concat(s)}).join(",")};function p3e(t,e){return v3e(t)||g3e(t,e)||HX(t,e)||x3e()}function x3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function v3e(t){if(Array.isArray(t))return t}function y3e(t){return j3e(t)||w3e(t)||HX(t)||b3e()}function b3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HX(t,e){if(t){if(typeof t=="string")return YA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YA(t,e)}}function w3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function j3e(t){if(Array.isArray(t))return YA(t)}function YA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}var Cj=1e-4,qX=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},GX=function(e,r){return e.map(function(s,a){return s*Math.pow(r,a)}).reduce(function(s,a){return s+a})},kF=function(e,r){return function(s){var a=qX(e,r);return GX(a,s)}},N3e=function(e,r){return function(s){var a=qX(e,r),i=[].concat(y3e(a.map(function(o,l){return o*l}).slice(1)),[0]);return GX(i,s)}},AF=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=p3e(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var h=kF(a,o),f=kF(i,l),m=N3e(a,o),y=function(b){return b>1?1:b<0?0:b},g=function(b){for(var w=b>1?1:b,N=w,_=0;_<8;++_){var C=h(N)-w,E=m(N);if(Math.abs(C-w)<Cj||E<Cj)return f(N);N=y(N-C/E)}return f(N)};return g.isStepper=!1,g},S3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,s=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,o=e.dt,l=o===void 0?17:o,c=function(u,h,f){var m=-(u-h)*s,y=f*i,g=f+(m-y)*l/1e3,v=f*l/1e3+u;return Math.abs(v-h)<Cj&&Math.abs(g)<Cj?[h,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},_3e=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AF(a);case"spring":return S3e();default:if(a.split("(")[0]==="cubic-bezier")return AF(a)}return typeof a=="function"?a:null};function gy(t){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function EF(t){return A3e(t)||k3e(t)||KX(t)||C3e()}function C3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A3e(t){if(Array.isArray(t))return ZA(t)}function PF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function lo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PF(Object(r),!0).forEach(function(s){XA(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PF(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function XA(t,e,r){return e=E3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E3e(t){var e=P3e(t,"string");return gy(e)==="symbol"?e:String(e)}function P3e(t,e){if(gy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(gy(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T3e(t,e){return $3e(t)||I3e(t,e)||KX(t,e)||O3e()}function O3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KX(t,e){if(t){if(typeof t=="string")return ZA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZA(t,e)}}function ZA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function I3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function $3e(t){if(Array.isArray(t))return t}var kj=function(e,r,s){return e+(r-e)*s},JA=function(e){var r=e.from,s=e.to;return r!==s},D3e=function t(e,r,s){var a=j1(function(i,o){if(JA(o)){var l=e(o.from,o.to,o.velocity),c=T3e(l,2),d=c[0],u=c[1];return lo(lo({},o),{},{from:d,velocity:u})}return o},r);return s<1?j1(function(i,o){return JA(o)?lo(lo({},o),{},{velocity:kj(o.velocity,a[i].velocity,s),from:kj(o.from,a[i].from,s)}):o},r):t(e,a,s-1)};const M3e=(function(t,e,r,s,a){var i=h3e(t,e),o=i.reduce(function(v,b){return lo(lo({},v),{},XA({},b,[t[b],e[b]]))},{}),l=i.reduce(function(v,b){return lo(lo({},v),{},XA({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,d,u,h=function(){return null},f=function(){return j1(function(b,w){return w.from},l)},m=function(){return!Object.values(l).filter(JA).length},y=function(b){d||(d=b);var w=b-d,N=w/r.dt;l=D3e(r,l,N),a(lo(lo(lo({},t),e),f())),d=b,m()||(c=requestAnimationFrame(h))},g=function(b){u||(u=b);var w=(b-u)/s,N=j1(function(C,E){return kj.apply(void 0,EF(E).concat([r(w)]))},o);if(a(lo(lo(lo({},t),e),N)),w<1)c=requestAnimationFrame(h);else{var _=j1(function(C,E){return kj.apply(void 0,EF(E).concat([r(1)]))},o);a(lo(lo(lo({},t),e),_))}};return h=r.isStepper?y:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}});function lg(t){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}var R3e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function L3e(t,e){if(t==null)return{};var r=F3e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function F3e(t,e){if(t==null)return{};var r={},s=Object.keys(t),a,i;for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function B_(t){return V3e(t)||z3e(t)||U3e(t)||B3e()}function B3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U3e(t,e){if(t){if(typeof t=="string")return QA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QA(t,e)}}function z3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function V3e(t){if(Array.isArray(t))return QA(t)}function QA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function TF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function wd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(r),!0).forEach(function(s){t1(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TF(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function t1(t,e,r){return e=YX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H3e(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,YX(s.key),s)}}function q3e(t,e,r){return e&&H3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YX(t){var e=G3e(t,"string");return lg(e)==="symbol"?e:String(e)}function G3e(t,e){if(lg(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(lg(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eE(t,e)}function eE(t,e){return eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},eE(t,e)}function Y3e(t){var e=X3e();return function(){var s=Aj(t),a;if(e){var i=Aj(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return tE(this,a)}}function tE(t,e){if(e&&(lg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rE(t)}function rE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X3e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Aj(t){return Aj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aj(t)}var Vd=(function(t){K3e(r,t);var e=Y3e(r);function r(s,a){var i;W3e(this,r),i=e.call(this,s,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,h=o.steps,f=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(rE(i)),i.changeStyle=i.changeStyle.bind(rE(i)),!l||m<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:u}),tE(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof f=="function")return i.state={style:d},tE(i);i.state={style:c?t1({},c,d):d}}else i.state={style:{}};return i}return q3e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,h=i.from,f=this.state.style;if(l){if(!o){var m={style:c?t1({},c,u):u};this.state&&f&&(c&&f[c]!==u||!c&&f!==u)&&this.setState(m);return}if(!(r3e(a.to,u)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||d?h:a.to;if(this.state&&f){var v={style:c?t1({},c,g):g};(c&&f[c]!==g||!c&&f!==g)&&this.setState(v)}this.runAnimation(wd(wd({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,h=a.onAnimationEnd,f=a.onAnimationStart,m=M3e(o,l,_3e(d),c,this.changeStyle),y=function(){i.stopJSAnimation=m()};this.manager.start([f,u,y,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,h=d.duration,f=h===void 0?0:h,m=function(g,v,b){if(b===0)return g;var w=v.duration,N=v.easing,_=N===void 0?"ease":N,C=v.style,E=v.properties,A=v.onAnimationEnd,I=b>0?o[b-1]:v,$=E||Object.keys(C);if(typeof _=="function"||_==="spring")return[].concat(B_(g),[i.runJSAnimation.bind(i,{from:I.style,to:C,duration:w,easing:_}),w]);var O=CF($,w,_),P=wd(wd(wd({},I.style),C),{},{transition:O});return[].concat(B_(g),[P,w,A]).filter(f3e)};return this.manager.start([c].concat(B_(o.reduce(m,[u,Math.max(f,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=c3e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,h=a.onAnimationEnd,f=a.steps,m=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof d=="function"||typeof m=="function"||d==="spring"){this.runJSAnimation(a);return}if(f.length>1){this.runStepAnimation(a);return}var g=l?t1({},l,c):c,v=CF(Object.keys(g),o,d);y.start([u,i,wd(wd({},g),{},{transition:v}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=L3e(a,R3e),d=S.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var h=function(m){var y=m.props,g=y.style,v=g===void 0?{}:g,b=y.className,w=S.cloneElement(m,wd(wd({},c),{},{style:wd(wd({},v),u),className:b}));return w};return d===1?h(S.Children.only(i)):fe.createElement("div",null,S.Children.map(i,function(f){return h(f)}))}}]),r})(S.PureComponent);Vd.displayName="Animate";Vd.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Vd.propTypes={from:ls.oneOfType([ls.object,ls.string]),to:ls.oneOfType([ls.object,ls.string]),attributeName:ls.string,duration:ls.number,begin:ls.number,easing:ls.oneOfType([ls.string,ls.func]),steps:ls.arrayOf(ls.shape({duration:ls.number.isRequired,style:ls.object.isRequired,easing:ls.oneOfType([ls.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ls.func]),properties:ls.arrayOf("string"),onAnimationEnd:ls.func})),children:ls.oneOfType([ls.node,ls.func]),isActive:ls.bool,canBegin:ls.bool,onAnimationEnd:ls.func,shouldReAnimate:ls.bool,onAnimationStart:ls.func,onAnimationReStart:ls.func};function vy(t){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(t)}function Ej(){return Ej=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ej.apply(this,arguments)}function Z3e(t,e){return tSe(t)||eSe(t,e)||Q3e(t,e)||J3e()}function J3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q3e(t,e){if(t){if(typeof t=="string")return OF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OF(t,e)}}function OF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function eSe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function tSe(t){if(Array.isArray(t))return t}function IF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function $F(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IF(Object(r),!0).forEach(function(s){rSe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IF(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function rSe(t,e,r){return e=nSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nSe(t){var e=sSe(t,"string");return vy(e)=="symbol"?e:e+""}function sSe(t,e){if(vy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(vy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DF=function(e,r,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,u;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,m=4;f<m;f++)h[f]=i[f]>o?o:i[f];u="M".concat(e,",").concat(r+l*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+c*h[0],",").concat(r)),u+="L ".concat(e+s-c*h[1],",").concat(r),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+s,",").concat(r+l*h[1])),u+="L ".concat(e+s,",").concat(r+a-l*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+s-c*h[2],",").concat(r+a)),u+="L ".concat(e+c*h[3],",").concat(r+a),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+a-l*h[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);u="M ".concat(e,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+c*y,",").concat(r,`
            L `).concat(e+s-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+s,",").concat(r+l*y,`
            L `).concat(e+s,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+s-c*y,",").concat(r+a,`
            L `).concat(e+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e,",").concat(r+a-l*y," Z")}else u="M ".concat(e,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return u},aSe=function(e,r){if(!e||!r)return!1;var s=e.x,a=e.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return s>=d&&s<=u&&a>=h&&a<=f}return!1},iSe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},A8=function(e){var r=$F($F({},iSe),e),s=S.useRef(),a=S.useState(-1),i=Z3e(a,2),o=i[0],l=i[1];S.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var _=s.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,d=r.y,u=r.width,h=r.height,f=r.radius,m=r.className,y=r.animationEasing,g=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||u===0||h===0)return null;var N=dn("recharts-rectangle",m);return w?fe.createElement(Vd,{canBegin:o>0,from:{width:u,height:h,x:c,y:d},to:{width:u,height:h,x:c,y:d},duration:g,animationEasing:y,isActive:w},function(_){var C=_.width,E=_.height,A=_.x,I=_.y;return fe.createElement(Vd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:b,easing:y},fe.createElement("path",Ej({},Ir(r,!0),{className:N,d:DF(A,I,C,E,f),ref:s})))}):fe.createElement("path",Ej({},Ir(r,!0),{className:N,d:DF(c,d,u,h,f)}))},oSe=["points","className","baseLinePoints","connectNulls"];function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},_x.apply(this,arguments)}function lSe(t,e){if(t==null)return{};var r=cSe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function cSe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function MF(t){return fSe(t)||hSe(t)||uSe(t)||dSe()}function dSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uSe(t,e){if(t){if(typeof t=="string")return nE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nE(t,e)}}function hSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fSe(t){if(Array.isArray(t))return nE(t)}function nE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}var RF=function(e){return e&&e.x===+e.x&&e.y===+e.y},mSe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(s){RF(s)?r[r.length-1].push(s):r[r.length-1].length>0&&r.push([])}),RF(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},N1=function(e,r){var s=mSe(e);r&&(s=[s.reduce(function(i,o){return[].concat(MF(i),MF(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},pSe=function(e,r,s){var a=N1(e,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(N1(r.reverse(),s).slice(1))},xSe=function(e){var r=e.points,s=e.className,a=e.baseLinePoints,i=e.connectNulls,o=lSe(e,oSe);if(!r||!r.length)return null;var l=dn("recharts-polygon",s);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=pSe(r,a,i);return fe.createElement("g",{className:l},fe.createElement("path",_x({},Ir(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?fe.createElement("path",_x({},Ir(o,!0),{fill:"none",d:N1(r,i)})):null,c?fe.createElement("path",_x({},Ir(o,!0),{fill:"none",d:N1(a,i)})):null)}var u=N1(r,i);return fe.createElement("path",_x({},Ir(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function sE(){return sE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},sE.apply(this,arguments)}var ab=function(e){var r=e.cx,s=e.cy,a=e.r,i=e.className,o=dn("recharts-dot",i);return r===+r&&s===+s&&a===+a?S.createElement("circle",sE({},Ir(e,!1),Jw(e),{className:o,cx:r,cy:s,r:a})):null};function yy(t){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(t)}var gSe=["x","y","top","left","width","height","className"];function aE(){return aE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},aE.apply(this,arguments)}function LF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function vSe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LF(Object(r),!0).forEach(function(s){ySe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LF(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function ySe(t,e,r){return e=bSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bSe(t){var e=wSe(t,"string");return yy(e)=="symbol"?e:e+""}function wSe(t,e){if(yy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(yy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jSe(t,e){if(t==null)return{};var r=NSe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function NSe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var SSe=function(e,r,s,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(s)},_Se=function(e){var r=e.x,s=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,u=e.width,h=u===void 0?0:u,f=e.height,m=f===void 0?0:f,y=e.className,g=jSe(e,gSe),v=vSe({x:s,y:i,top:l,left:d,width:h,height:m},g);return!It(s)||!It(i)||!It(h)||!It(m)||!It(l)||!It(d)?null:fe.createElement("path",aE({},Ir(v,!0),{className:dn("recharts-cross",y),d:SSe(s,i,h,m,l,d)}))},U_,FF;function CSe(){if(FF)return U_;FF=1;var t=r5(),e=dX(),r=Yu();function s(a,i){return a&&a.length?t(a,r(i,2),e):void 0}return U_=s,U_}var kSe=CSe();const ASe=Jn(kSe);var z_,BF;function ESe(){if(BF)return z_;BF=1;var t=r5(),e=Yu(),r=uX();function s(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return z_=s,z_}var PSe=ESe();const TSe=Jn(PSe);var OSe=["cx","cy","angle","ticks","axisLine"],ISe=["ticks","tick","angle","tickFormatter","stroke"];function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function S1(){return S1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},S1.apply(this,arguments)}function UF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function rp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UF(Object(r),!0).forEach(function(s){i5(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UF(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function zF(t,e){if(t==null)return{};var r=$Se(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function $Se(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function DSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VF(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,ZX(s.key),s)}}function MSe(t,e,r){return e&&VF(t.prototype,e),r&&VF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function RSe(t,e,r){return e=Pj(e),LSe(t,XX()?Reflect.construct(e,r||[],Pj(t).constructor):e.apply(t,r))}function LSe(t,e){if(e&&(cg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FSe(t)}function FSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XX=function(){return!!t})()}function Pj(t){return Pj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pj(t)}function BSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iE(t,e)}function iE(t,e){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},iE(t,e)}function i5(t,e,r){return e=ZX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZX(t){var e=USe(t,"string");return cg(e)=="symbol"?e:e+""}function USe(t,e){if(cg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(cg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var o5=(function(t){function e(){return DSe(this,e),RSe(this,e,arguments)}return BSe(e,t),MSe(e,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Ws(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=ASe(l,function(u){return u.coordinate||0}),d=TSe(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,d=zF(s,OSe),u=l.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),h=Ws(a,i,u[0],o),f=Ws(a,i,u[1],o),m=rp(rp(rp({},Ir(d,!1)),{},{fill:"none"},Ir(c,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return fe.createElement("line",S1({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=zF(a,ISe),h=this.getTickTextAnchor(),f=Ir(u,!1),m=Ir(o,!1),y=i.map(function(g,v){var b=s.getTickValueCoord(g),w=rp(rp(rp(rp({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},f),{},{stroke:"none",fill:d},m),{},{index:v},b),{},{payload:g});return fe.createElement(Tn,S1({className:dn("recharts-polar-radius-axis-tick",FX(o)),key:"tick-".concat(g.coordinate)},Jp(s.props,g,v)),e.renderTickItem(o,w,c?c(g.value,v):g.value))});return fe.createElement(Tn,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:fe.createElement(Tn,{className:dn("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Gi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return fe.isValidElement(s)?o=fe.cloneElement(s,a):Kr(s)?o=s(a):o=fe.createElement(Qp,S1({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(S.PureComponent);i5(o5,"displayName","PolarRadiusAxis");i5(o5,"axisType","radiusAxis");i5(o5,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function dg(t){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(t)}function gp(){return gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},gp.apply(this,arguments)}function WF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function np(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WF(Object(r),!0).forEach(function(s){l5(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WF(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function zSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HF(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,QX(s.key),s)}}function VSe(t,e,r){return e&&HF(t.prototype,e),r&&HF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function WSe(t,e,r){return e=Tj(e),HSe(t,JX()?Reflect.construct(e,r||[],Tj(t).constructor):e.apply(t,r))}function HSe(t,e){if(e&&(dg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qSe(t)}function qSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JX=function(){return!!t})()}function Tj(t){return Tj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tj(t)}function GSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oE(t,e)}function oE(t,e){return oE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},oE(t,e)}function l5(t,e,r){return e=QX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QX(t){var e=KSe(t,"string");return dg(e)=="symbol"?e:e+""}function KSe(t,e){if(dg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(dg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var YSe=Math.PI/180,qF=1e-5,c5=(function(t){function e(){return zSe(this,e),WSe(this,e,arguments)}return GSe(e,t),VSe(e,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,h=Ws(i,o,l,s.coordinate),f=Ws(i,o,l+(c==="inner"?-1:1)*u,s.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*YSe),o;return i>qF?o=a==="outer"?"start":"end":i<-qF?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,d=np(np({},Ir(this.props,!1)),{},{fill:"none"},Ir(l,!1));if(c==="circle")return fe.createElement(ab,gp({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,h=u.map(function(f){return Ws(a,i,o,f.coordinate)});return fe.createElement(xSe,gp({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=Ir(this.props,!1),h=Ir(o,!1),f=np(np({},u),{},{fill:"none"},Ir(l,!1)),m=i.map(function(y,g){var v=s.getTickLineCoord(y),b=s.getTickTextAnchor(y),w=np(np(np({textAnchor:b},u),{},{stroke:"none",fill:d},h),{},{index:g,payload:y,x:v.x2,y:v.y2});return fe.createElement(Tn,gp({className:dn("recharts-polar-angle-axis-tick",FX(o)),key:"tick-".concat(y.coordinate)},Jp(s.props,y,g)),l&&fe.createElement("line",gp({className:"recharts-polar-angle-axis-tick-line"},f,v)),o&&e.renderTickItem(o,w,c?c(y.value,g):y.value))});return fe.createElement(Tn,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:fe.createElement(Tn,{className:dn("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return fe.isValidElement(s)?o=fe.cloneElement(s,a):Kr(s)?o=s(a):o=fe.createElement(Qp,gp({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(S.PureComponent);l5(c5,"displayName","PolarAngleAxis");l5(c5,"axisType","angleAxis");l5(c5,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var V_,GF;function XSe(){if(GF)return V_;GF=1;var t=cY(),e=t(Object.getPrototypeOf,Object);return V_=e,V_}var W_,KF;function ZSe(){if(KF)return W_;KF=1;var t=Jh(),e=XSe(),r=Qh(),s="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,c=o.call(Object);function d(u){if(!r(u)||t(u)!=s)return!1;var h=e(u);if(h===null)return!0;var f=l.call(h,"constructor")&&h.constructor;return typeof f=="function"&&f instanceof f&&o.call(f)==c}return W_=d,W_}var JSe=ZSe();const QSe=Jn(JSe);var H_,YF;function e6e(){if(YF)return H_;YF=1;var t=Jh(),e=Qh(),r="[object Boolean]";function s(a){return a===!0||a===!1||e(a)&&t(a)==r}return H_=s,H_}var t6e=e6e();const r6e=Jn(t6e);function by(t){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}function Oj(){return Oj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Oj.apply(this,arguments)}function n6e(t,e){return o6e(t)||i6e(t,e)||a6e(t,e)||s6e()}function s6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a6e(t,e){if(t){if(typeof t=="string")return XF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XF(t,e)}}function XF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function i6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function o6e(t){if(Array.isArray(t))return t}function ZF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function JF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZF(Object(r),!0).forEach(function(s){l6e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZF(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function l6e(t,e,r){return e=c6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c6e(t){var e=d6e(t,"string");return by(e)=="symbol"?e:e+""}function d6e(t,e){if(by(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(by(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QF=function(e,r,s,a,i){var o=s-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+s,",").concat(r),l+="L ".concat(e+s-o/2,",").concat(r+i),l+="L ".concat(e+s-o/2-a,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},u6e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},h6e=function(e){var r=JF(JF({},u6e),e),s=S.useRef(),a=S.useState(-1),i=n6e(a,2),o=i[0],l=i[1];S.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var N=s.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,h=r.lowerWidth,f=r.height,m=r.className,y=r.animationEasing,g=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||f!==+f||u===0&&h===0||f===0)return null;var w=dn("recharts-trapezoid",m);return b?fe.createElement(Vd,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:d},to:{upperWidth:u,lowerWidth:h,height:f,x:c,y:d},duration:g,animationEasing:y,isActive:b},function(N){var _=N.upperWidth,C=N.lowerWidth,E=N.height,A=N.x,I=N.y;return fe.createElement(Vd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:y},fe.createElement("path",Oj({},Ir(r,!0),{className:w,d:QF(A,I,_,C,E),ref:s})))}):fe.createElement("g",null,fe.createElement("path",Oj({},Ir(r,!0),{className:w,d:QF(c,d,u,h,f)})))},f6e=["option","shapeType","propTransformer","activeClassName","isActive"];function wy(t){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}function m6e(t,e){if(t==null)return{};var r=p6e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function p6e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function eB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Ij(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eB(Object(r),!0).forEach(function(s){x6e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function x6e(t,e,r){return e=g6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g6e(t){var e=v6e(t,"string");return wy(e)=="symbol"?e:e+""}function v6e(t,e){if(wy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(wy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y6e(t,e){return Ij(Ij({},e),t)}function b6e(t,e){return t==="symbols"}function tB(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return fe.createElement(A8,r);case"trapezoid":return fe.createElement(h6e,r);case"sector":return fe.createElement(zX,r);case"symbols":if(b6e(e))return fe.createElement(qT,r);break;default:return null}}function w6e(t){return S.isValidElement(t)?t.props:t}function eZ(t){var e=t.option,r=t.shapeType,s=t.propTransformer,a=s===void 0?y6e:s,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=m6e(t,f6e),d;if(S.isValidElement(e))d=S.cloneElement(e,Ij(Ij({},c),w6e(e)));else if(Kr(e))d=e(c);else if(QSe(e)&&!r6e(e)){var u=a(e,c);d=fe.createElement(tB,{shapeType:r,elementProps:u})}else{var h=c;d=fe.createElement(tB,{shapeType:r,elementProps:h})}return l?fe.createElement(Tn,{className:o},d):d}function d5(t,e){return e!=null&&"trapezoids"in t.props}function u5(t,e){return e!=null&&"sectors"in t.props}function jy(t,e){return e!=null&&"points"in t.props}function j6e(t,e){var r,s,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(s=e.labelViewBox)===null||s===void 0?void 0:s.y)||t.y===e.y;return a&&i}function N6e(t,e){var r=t.endAngle===e.endAngle,s=t.startAngle===e.startAngle;return r&&s}function S6e(t,e){var r=t.x===e.x,s=t.y===e.y,a=t.z===e.z;return r&&s&&a}function _6e(t,e){var r;return d5(t,e)?r=j6e:u5(t,e)?r=N6e:jy(t,e)&&(r=S6e),r}function C6e(t,e){var r;return d5(t,e)?r="trapezoids":u5(t,e)?r="sectors":jy(t,e)&&(r="points"),r}function k6e(t,e){if(d5(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(u5(t,e)){var s;return(s=e.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return jy(t,e)?e.payload:{}}function A6e(t){var e=t.activeTooltipItem,r=t.graphicalItem,s=t.itemData,a=C6e(r,e),i=k6e(r,e),o=s.filter(function(c,d){var u=e0(i,c),h=r.props[a].filter(function(y){var g=_6e(r,e);return g(y,e)}),f=r.props[a].indexOf(h[h.length-1]),m=d===f;return u&&m}),l=s.indexOf(o[o.length-1]);return l}var ww;function ug(t){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function Cx(){return Cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Cx.apply(this,arguments)}function rB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Us(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rB(Object(r),!0).forEach(function(s){Bc(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function E6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nB(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,rZ(s.key),s)}}function P6e(t,e,r){return e&&nB(t.prototype,e),r&&nB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function T6e(t,e,r){return e=$j(e),O6e(t,tZ()?Reflect.construct(e,r||[],$j(t).constructor):e.apply(t,r))}function O6e(t,e){if(e&&(ug(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I6e(t)}function I6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tZ=function(){return!!t})()}function $j(t){return $j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$j(t)}function $6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lE(t,e)}function lE(t,e){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},lE(t,e)}function Bc(t,e,r){return e=rZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rZ(t){var e=D6e(t,"string");return ug(e)=="symbol"?e:e+""}function D6e(t,e){if(ug(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(ug(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tf=(function(t){function e(r){var s;return E6e(this,e),s=T6e(this,e,[r]),Bc(s,"pieRef",null),Bc(s,"sectorRefs",[]),Bc(s,"id",p0("recharts-pie-")),Bc(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),Kr(a)&&a()}),Bc(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),Kr(a)&&a()}),s.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},s}return $6e(e,t),P6e(e,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=Ir(this.props,!1),h=Ir(o,!1),f=Ir(l,!1),m=o&&o.offsetRadius||20,y=s.map(function(g,v){var b=(g.startAngle+g.endAngle)/2,w=Ws(g.cx,g.cy,g.outerRadius+m,b),N=Us(Us(Us(Us({},u),g),{},{stroke:"none"},h),{},{index:v,textAnchor:e.getTextAnchor(w.x,g.cx)},w),_=Us(Us(Us(Us({},u),g),{},{fill:"none",stroke:g.fill},f),{},{index:v,points:[Ws(g.cx,g.cy,g.outerRadius,b),w]}),C=c;return ln(c)&&ln(d)?C="value":ln(c)&&(C=d),fe.createElement(Tn,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,_,"line"),e.renderLabelItem(o,N,Qa(g,C)))});return fe.createElement(Tn,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return s.map(function(d,u){if(d?.startAngle===0&&d?.endAngle===0&&s.length!==1)return null;var h=a.isActiveIndex(u),f=c&&a.hasActiveIndex()?c:null,m=h?o:f,y=Us(Us({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return fe.createElement(Tn,Cx({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Jp(a.props,d,u),{key:"sector-".concat(d?.startAngle,"-").concat(d?.endAngle,"-").concat(d.midAngle,"-").concat(u)}),fe.createElement(eZ,Cx({option:m,isActive:h,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,h=this.state,f=h.prevSectors,m=h.prevIsAnimationActive;return fe.createElement(Vd,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,v=[],b=i&&i[0],w=b.startAngle;return i.forEach(function(N,_){var C=f&&f[_],E=_>0?cc(N,"paddingAngle",0):0;if(C){var A=_i(C.endAngle-C.startAngle,N.endAngle-N.startAngle),I=Us(Us({},N),{},{startAngle:w+E,endAngle:w+A(g)+E});v.push(I),w=I.endAngle}else{var $=N.endAngle,O=N.startAngle,P=_i(0,$-O),M=P(g),R=Us(Us({},N),{},{startAngle:w+E,endAngle:w+M+E});v.push(R),w=R.endAngle}}),fe.createElement(Tn,null,s.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!e0(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,h=a.innerRadius,f=a.outerRadius,m=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!It(d)||!It(u)||!It(h)||!It(f))return null;var g=dn("recharts-pie",l);return fe.createElement(Tn,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){s.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),Gi.renderCallByParent(this.props,null,!1),(!m||y)&&$u.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(fe.isValidElement(s))return fe.cloneElement(s,a);if(Kr(s))return s(a);var o=dn("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return fe.createElement(Bp,Cx({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(fe.isValidElement(s))return fe.cloneElement(s,a);var o=i;if(Kr(s)&&(o=s(a),fe.isValidElement(o)))return o;var l=dn("recharts-pie-label-text",typeof s!="boolean"&&!Kr(s)?s.className:"");return fe.createElement(Qp,Cx({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(S.PureComponent);ww=tf;Bc(tf,"displayName","Pie");Bc(tf,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!mm.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Bc(tf,"parseDeltaAngle",function(t,e){var r=tl(e-t),s=Math.min(Math.abs(e-t),360);return r*s});Bc(tf,"getRealPieData",function(t){var e=t.data,r=t.children,s=Ir(t,!1),a=dc(r,YN);return e&&e.length?e.map(function(i,o){return Us(Us(Us({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Us(Us({},s),i.props)}):[]});Bc(tf,"parseCoordinateOfPie",function(t,e){var r=e.top,s=e.left,a=e.width,i=e.height,o=LX(a,i),l=s+rl(t.cx,a,a/2),c=r+rl(t.cy,i,i/2),d=rl(t.innerRadius,o,0),u=rl(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:h}});Bc(tf,"getComposedData",function(t){var e=t.item,r=t.offset,s=e.type.defaultProps!==void 0?Us(Us({},e.type.defaultProps),e.props):e.props,a=ww.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,d=s.dataKey,u=s.nameKey,h=s.valueKey,f=s.tooltipType,m=Math.abs(s.minAngle),y=ww.parseCoordinateOfPie(s,r),g=ww.parseDeltaAngle(o,l),v=Math.abs(g),b=d;ln(d)&&ln(h)?(Fd(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):ln(d)&&(Fd(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var w=a.filter(function(I){return Qa(I,b,0)!==0}).length,N=(v>=360?w:w-1)*c,_=v-w*m-N,C=a.reduce(function(I,$){var O=Qa($,b,0);return I+(It(O)?O:0)},0),E;if(C>0){var A;E=a.map(function(I,$){var O=Qa(I,b,0),P=Qa(I,u,$),M=(It(O)?O:0)/C,R;$?R=A.endAngle+tl(g)*c*(O!==0?1:0):R=o;var W=R+tl(g)*((O!==0?m:0)+M*_),Y=(R+W)/2,K=(y.innerRadius+y.outerRadius)/2,L=[{name:P,value:O,payload:I,dataKey:b,type:f}],F=Ws(y.cx,y.cy,K,Y);return A=Us(Us(Us({percent:M,cornerRadius:i,name:P,tooltipPayload:L,midAngle:Y,middleRadius:K,tooltipPosition:F},I),y),{},{value:Qa(I,b),startAngle:R,endAngle:W,payload:I,paddingAngle:tl(g)*c}),A})}return Us(Us({},y),{},{sectors:E,data:a})});var q_,sB;function M6e(){if(sB)return q_;sB=1;var t=Math.ceil,e=Math.max;function r(s,a,i,o){for(var l=-1,c=e(t((a-s)/(i||1)),0),d=Array(c);c--;)d[o?c:++l]=s,s+=i;return d}return q_=r,q_}var G_,aB;function nZ(){if(aB)return G_;aB=1;var t=_Y(),e=1/0,r=17976931348623157e292;function s(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return G_=s,G_}var K_,iB;function R6e(){if(iB)return K_;iB=1;var t=M6e(),e=KN(),r=nZ();function s(a){return function(i,o,l){return l&&typeof l!="number"&&e(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),t(i,o,l,a)}}return K_=s,K_}var Y_,oB;function L6e(){if(oB)return Y_;oB=1;var t=R6e(),e=t();return Y_=e,Y_}var F6e=L6e();const Dj=Jn(F6e);function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function lB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function cB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lB(Object(r),!0).forEach(function(s){sZ(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function sZ(t,e,r){return e=B6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B6e(t){var e=U6e(t,"string");return Ny(e)=="symbol"?e:e+""}function U6e(t,e){if(Ny(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Ny(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z6e=["Webkit","Moz","O","ms"],V6e=function(e,r){var s=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=z6e.reduce(function(i,o){return cB(cB({},i),{},sZ({},o+s,r))},{});return a[e]=r,a};function hg(t){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}function Mj(){return Mj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Mj.apply(this,arguments)}function dB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function X_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dB(Object(r),!0).forEach(function(s){Ql(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function W6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uB(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,iZ(s.key),s)}}function H6e(t,e,r){return e&&uB(t.prototype,e),r&&uB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function q6e(t,e,r){return e=Rj(e),G6e(t,aZ()?Reflect.construct(e,r||[],Rj(t).constructor):e.apply(t,r))}function G6e(t,e){if(e&&(hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K6e(t)}function K6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aZ=function(){return!!t})()}function Rj(t){return Rj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rj(t)}function Y6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cE(t,e)}function cE(t,e){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},cE(t,e)}function Ql(t,e,r){return e=iZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iZ(t){var e=X6e(t,"string");return hg(e)=="symbol"?e:e+""}function X6e(t,e){if(hg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(hg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Z6e=function(e){var r=e.data,s=e.startIndex,a=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=b1().domain(Dj(0,c)).range([i,i+o-l]),u=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(s),endX:d(a),scale:d,scaleValues:u}},hB=function(e){return e.changedTouches&&!!e.changedTouches.length},fg=(function(t){function e(r){var s;return W6e(this,e),s=q6e(this,e,[r]),Ql(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),Ql(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),Ql(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),Ql(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),Ql(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),Ql(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),Ql(s,"handleSlideDragStart",function(a){var i=hB(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return Y6e(e,t),H6e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,h=Math.min(a,i),f=Math.max(a,i),m=e.getIndexInRange(o,h),y=e.getIndexInRange(o,f);return{startIndex:m-m%c,endIndex:y===u?u:y-y%c}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Qa(i[s],l,s);return Kr(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,h=c.travellerWidth,f=c.startIndex,m=c.endIndex,y=c.onChange,g=s.pageX-i;g>0?g=Math.min(g,d+u-h-l,d+u-h-o):g<0&&(g=Math.max(g,d-o,d-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==f||v.endIndex!==m)&&y&&y(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=hB(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,h=u.x,f=u.width,m=u.travellerWidth,y=u.onChange,g=u.gap,v=u.data,b={startX:this.state.startX,endX:this.state.endX},w=s.pageX-i;w>0?w=Math.min(w,h+f-m-d):w<0&&(w=Math.max(w,h-d)),b[o]=d+w;var N=this.getIndex(b),_=N.startIndex,C=N.endIndex,E=function(){var I=v.length-1;return o==="startX"&&(l>c?_%g===0:C%g===0)||l<c&&C===I||o==="endX"&&(l>c?C%g===0:_%g===0)||l>c&&C===I};this.setState(Ql(Ql({},o,d+w),"brushMoveStartX",s.pageX),function(){y&&E()&&y(N)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],h=l.indexOf(u);if(h!==-1){var f=h+s;if(!(f===-1||f>=l.length)){var m=l[f];a==="startX"&&m>=d||a==="endX"&&m<=c||this.setState(Ql({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.fill,d=s.stroke;return fe.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.data,d=s.children,u=s.padding,h=S.Children.only(d);return h?fe.cloneElement(h,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,h=c.height,f=c.traveller,m=c.ariaLabel,y=c.data,g=c.startIndex,v=c.endIndex,b=Math.max(s,this.props.x),w=X_(X_({},Ir(this.props,!1)),{},{x:b,y:d,width:u,height:h}),N=m||"Min value: ".concat((i=y[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return fe.createElement(Tn,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,w))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(s,a)+d,h=Math.max(Math.abs(a-s)-d,0);return fe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:h,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,d=s.stroke,u=this.state,h=u.startX,f=u.endX,m=5,y={pointerEvents:"none",fill:d};return fe.createElement(Tn,{className:"recharts-brush-texts"},fe.createElement(Qp,Mj({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-m,y:o+l/2},y),this.getTextOfTick(a)),fe.createElement(Qp,Mj({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+m,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,c=s.y,d=s.width,u=s.height,h=s.alwaysShowText,f=this.state,m=f.startX,y=f.endX,g=f.isTextActive,v=f.isSlideMoving,b=f.isTravellerMoving,w=f.isTravellerFocused;if(!a||!a.length||!It(l)||!It(c)||!It(d)||!It(u)||d<=0||u<=0)return null;var N=dn("recharts-brush",i),_=fe.Children.count(o)===1,C=V6e("userSelect","none");return fe.createElement(Tn,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(g||v||b||w||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.stroke,d=Math.floor(i+l/2)-1;return fe.createElement(fe.Fragment,null,fe.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),fe.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),fe.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return fe.isValidElement(s)?i=fe.cloneElement(s,a):Kr(s)?i=s(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,c=s.travellerWidth,d=s.updateId,u=s.startIndex,h=s.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return X_({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?Z6e({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var f=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>a?l=c:o=c}return a>=s[l]?l:o}}])})(S.PureComponent);Ql(fg,"displayName","Brush");Ql(fg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Z_,fB;function J6e(){if(fB)return Z_;fB=1;var t=QT();function e(r,s){var a;return t(r,function(i,o,l){return a=s(i,o,l),!a}),!!a}return Z_=e,Z_}var J_,mB;function Q6e(){if(mB)return J_;mB=1;var t=rY(),e=Yu(),r=J6e(),s=$l(),a=KN();function i(o,l,c){var d=s(o)?t:r;return c&&a(o,l,c)&&(l=void 0),d(o,e(l,3))}return J_=i,J_}var e_e=Q6e();const t_e=Jn(e_e);var Du=function(e,r){var s=e.alwaysShow,a=e.ifOverflow;return s&&(a="extendDomain"),a===r},Q_,pB;function r_e(){if(pB)return Q_;pB=1;var t=bY();function e(r,s,a){s=="__proto__"&&t?t(r,s,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[s]=a}return Q_=e,Q_}var eC,xB;function n_e(){if(xB)return eC;xB=1;var t=r_e(),e=vY(),r=Yu();function s(a,i){var o={};return i=r(i,3),e(a,function(l,c,d){t(o,c,i(l,c,d))}),o}return eC=s,eC}var s_e=n_e();const a_e=Jn(s_e);var tC,gB;function i_e(){if(gB)return tC;gB=1;function t(e,r){for(var s=-1,a=e==null?0:e.length;++s<a;)if(!r(e[s],s,e))return!1;return!0}return tC=t,tC}var rC,vB;function o_e(){if(vB)return rC;vB=1;var t=QT();function e(r,s){var a=!0;return t(r,function(i,o,l){return a=!!s(i,o,l),a}),a}return rC=e,rC}var nC,yB;function l_e(){if(yB)return nC;yB=1;var t=i_e(),e=o_e(),r=Yu(),s=$l(),a=KN();function i(o,l,c){var d=s(o)?t:e;return c&&a(o,l,c)&&(l=void 0),d(o,r(l,3))}return nC=i,nC}var c_e=l_e();const oZ=Jn(c_e);var d_e=["x","y"];function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}function dE(){return dE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},dE.apply(this,arguments)}function bB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Mv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bB(Object(r),!0).forEach(function(s){u_e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function u_e(t,e,r){return e=h_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h_e(t){var e=f_e(t,"string");return Sy(e)=="symbol"?e:e+""}function f_e(t,e){if(Sy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Sy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m_e(t,e){if(t==null)return{};var r=p_e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function p_e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function x_e(t,e){var r=t.x,s=t.y,a=m_e(t,d_e),i="".concat(r),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),d="".concat(e.height||a.height),u=parseInt(d,10),h="".concat(e.width||a.width),f=parseInt(h,10);return Mv(Mv(Mv(Mv(Mv({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function wB(t){return fe.createElement(eZ,dE({shapeType:"rectangle",propTransformer:x_e,activeClassName:"recharts-active-bar"},t))}var g_e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof e=="number")return e;var i=It(s)||zge(s);return i?e(s,a):(i||r0(),r)}},v_e=["value","background"],lZ;function mg(t){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}function y_e(t,e){if(t==null)return{};var r=b_e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function b_e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function Lj(){return Lj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Lj.apply(this,arguments)}function jB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jB(Object(r),!0).forEach(function(s){Zf(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function w_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NB(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,dZ(s.key),s)}}function j_e(t,e,r){return e&&NB(t.prototype,e),r&&NB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function N_e(t,e,r){return e=Fj(e),S_e(t,cZ()?Reflect.construct(e,r||[],Fj(t).constructor):e.apply(t,r))}function S_e(t,e){if(e&&(mg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return __e(t)}function __e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cZ=function(){return!!t})()}function Fj(t){return Fj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fj(t)}function C_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uE(t,e)}function uE(t,e){return uE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},uE(t,e)}function Zf(t,e,r){return e=dZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dZ(t){var e=k_e(t,"string");return mg(e)=="symbol"?e:e+""}function k_e(t,e){if(mg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(mg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xh=(function(t){function e(){var r;w_e(this,e);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=N_e(this,e,[].concat(a)),Zf(r,"state",{isAnimationFinished:!1}),Zf(r,"id",p0("recharts-bar-")),Zf(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Zf(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return C_e(e,t),j_e(e,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=Ir(this.props,!1);return s&&s.map(function(h,f){var m=f===c,y=m?d:o,g=ii(ii(ii({},u),h),{},{isActive:m,option:y,index:f,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return fe.createElement(Tn,Lj({className:"recharts-bar-rectangle"},Jp(a.props,h,f),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(f)}),fe.createElement(wB,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,h=a.animationId,f=this.state.prevData;return fe.createElement(Vd,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,g=i.map(function(v,b){var w=f&&f[b];if(w){var N=_i(w.x,v.x),_=_i(w.y,v.y),C=_i(w.width,v.width),E=_i(w.height,v.height);return ii(ii({},v),{},{x:N(y),y:_(y),width:C(y),height:E(y)})}if(o==="horizontal"){var A=_i(0,v.height),I=A(y);return ii(ii({},v),{},{y:v.y+v.height-I,height:I})}var $=_i(0,v.width),O=$(y);return ii(ii({},v),{},{width:O})});return fe.createElement(Tn,null,s.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!e0(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Ir(this.props.background,!1);return i.map(function(d,u){d.value;var h=d.background,f=y_e(d,v_e);if(!h)return null;var m=ii(ii(ii(ii(ii({},f),{},{fill:"#eee"},h),c),Jp(s.props,d,u)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return fe.createElement(wB,Lj({key:"background-bar-".concat(u),option:s.props.background,isActive:u===l},m))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=dc(u,sb);if(!h)return null;var f=d==="vertical"?o[0].height/2:o[0].width/2,m=function(v,b){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:Qa(v,b)}},y={clipPath:s?"url(#clipPath-".concat(a,")"):null};return fe.createElement(Tn,y,h.map(function(g){return fe.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,c=s.yAxis,d=s.left,u=s.top,h=s.width,f=s.height,m=s.isAnimationActive,y=s.background,g=s.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,b=dn("recharts-bar",o),w=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,_=w||N,C=ln(g)?this.id:g;return fe.createElement(Tn,{className:b},w||N?fe.createElement("defs",null,fe.createElement("clipPath",{id:"clipPath-".concat(C)},fe.createElement("rect",{x:w?d:d-h/2,y:N?u:u-f/2,width:w?h:h*2,height:N?f:f*2}))):null,fe.createElement(Tn,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(C,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,C),(!m||v)&&$u.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])})(S.PureComponent);lZ=Xh;Zf(Xh,"displayName","Bar");Zf(Xh,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!mm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Zf(Xh,"getComposedData",function(t){var e=t.props,r=t.item,s=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,u=t.dataStartIndex,h=t.displayedData,f=t.offset,m=r5e(s,r);if(!m)return null;var y=e.layout,g=r.type.defaultProps,v=g!==void 0?ii(ii({},g),r.props):r.props,b=v.dataKey,w=v.children,N=v.minPointSize,_=y==="horizontal"?o:i,C=d?_.scale.domain():null,E=c5e({numericAxis:_}),A=dc(w,YN),I=h.map(function($,O){var P,M,R,W,Y,K;d?P=n5e(d[u+O],C):(P=Qa($,b),Array.isArray(P)||(P=[E,P]));var L=g_e(N,lZ.defaultProps.minPointSize)(P[1],O);if(y==="horizontal"){var F,ee=[o.scale(P[0]),o.scale(P[1])],se=ee[0],q=ee[1];M=KL({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:$,index:O}),R=(F=q??se)!==null&&F!==void 0?F:void 0,W=m.size;var z=se-q;if(Y=Number.isNaN(z)?0:z,K={x:M,y:o.y,width:W,height:o.height},Math.abs(L)>0&&Math.abs(Y)<Math.abs(L)){var Z=tl(Y||L)*(Math.abs(L)-Math.abs(Y));R-=Z,Y+=Z}}else{var X=[i.scale(P[0]),i.scale(P[1])],Q=X[0],ne=X[1];if(M=Q,R=KL({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:$,index:O}),W=ne-Q,Y=m.size,K={x:i.x,y:R,width:i.width,height:Y},Math.abs(L)>0&&Math.abs(W)<Math.abs(L)){var ce=tl(W||L)*(Math.abs(L)-Math.abs(W));W+=ce}}return ii(ii(ii({},$),{},{x:M,y:R,width:W,height:Y,value:d?P:P[1],payload:$,background:K},A&&A[O]&&A[O].props),{},{tooltipPayload:[MX(r,$)],tooltipPosition:{x:M+W/2,y:R+Y/2}})});return ii({data:I,layout:y},f)});function _y(t){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(t)}function A_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SB(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,uZ(s.key),s)}}function E_e(t,e,r){return e&&SB(t.prototype,e),r&&SB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Ed(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_B(Object(r),!0).forEach(function(s){h5(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_B(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function h5(t,e,r){return e=uZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uZ(t){var e=P_e(t,"string");return _y(e)=="symbol"?e:e+""}function P_e(t,e){if(_y(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(_y(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E8=function(e,r,s,a,i){var o=e.width,l=e.height,c=e.layout,d=e.children,u=Object.keys(r),h={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},f=!!ec(d,Xh);return u.reduce(function(m,y){var g=r[y],v=g.orientation,b=g.domain,w=g.padding,N=w===void 0?{}:w,_=g.mirror,C=g.reversed,E="".concat(v).concat(_?"Mirror":""),A,I,$,O,P;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var M=b[1]-b[0],R=1/0,W=g.categoricalDomain.sort(Hge);if(W.forEach(function(X,Q){Q>0&&(R=Math.min((X||0)-(W[Q-1]||0),R))}),Number.isFinite(R)){var Y=R/M,K=g.layout==="vertical"?s.height:s.width;if(g.padding==="gap"&&(A=Y*K/2),g.padding==="no-gap"){var L=rl(e.barCategoryGap,Y*K),F=Y*K/2;A=F-L-(F-L)/K*L}}}a==="xAxis"?I=[s.left+(N.left||0)+(A||0),s.left+s.width-(N.right||0)-(A||0)]:a==="yAxis"?I=c==="horizontal"?[s.top+s.height-(N.bottom||0),s.top+(N.top||0)]:[s.top+(N.top||0)+(A||0),s.top+s.height-(N.bottom||0)-(A||0)]:I=g.range,C&&(I=[I[1],I[0]]);var ee=OX(g,i,f),se=ee.scale,q=ee.realScaleType;se.domain(b).range(I),IX(se);var z=$X(se,Ed(Ed({},g),{},{realScaleType:q}));a==="xAxis"?(P=v==="top"&&!_||v==="bottom"&&_,$=s.left,O=h[E]-P*g.height):a==="yAxis"&&(P=v==="left"&&!_||v==="right"&&_,$=h[E]-P*g.width,O=s.top);var Z=Ed(Ed(Ed({},g),z),{},{realScaleType:q,x:$,y:O,scale:se,width:a==="xAxis"?s.width:g.width,height:a==="yAxis"?s.height:g.height});return Z.bandSize=Nj(Z,z),!g.hide&&a==="xAxis"?h[E]+=(P?-1:1)*Z.height:g.hide||(h[E]+=(P?-1:1)*Z.width),Ed(Ed({},m),{},h5({},y,Z))},{})},hZ=function(e,r){var s=e.x,a=e.y,i=r.x,o=r.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},T_e=function(e){var r=e.x1,s=e.y1,a=e.x2,i=e.y2;return hZ({x:r,y:s},{x:a,y:i})},fZ=(function(){function t(e){A_e(this,t),this.scale=e}return E_e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();h5(fZ,"EPS",1e-4);var P8=function(e){var r=Object.keys(e).reduce(function(s,a){return Ed(Ed({},s),{},h5({},a,fZ.create(e[a])))},{});return Ed(Ed({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return a_e(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return oZ(a,function(i,o){return r[o].isInRange(i)})}})};function O_e(t){return(t%180+180)%180}var I_e=function(e){var r=e.width,s=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=O_e(a),o=i*Math.PI/180,l=Math.atan(s/r),c=o>l&&o<Math.PI-l?s/Math.sin(o):r/Math.cos(o);return Math.abs(c)},sC,CB;function $_e(){if(CB)return sC;CB=1;var t=Yu(),e=Qy(),r=qN();function s(a){return function(i,o,l){var c=Object(i);if(!e(i)){var d=t(o,3);i=r(i),o=function(h){return d(c[h],h,c)}}var u=a(i,o,l);return u>-1?c[d?i[u]:u]:void 0}}return sC=s,sC}var aC,kB;function D_e(){if(kB)return aC;kB=1;var t=nZ();function e(r){var s=t(r),a=s%1;return s===s?a?s-a:s:0}return aC=e,aC}var iC,AB;function M_e(){if(AB)return iC;AB=1;var t=fY(),e=Yu(),r=D_e(),s=Math.max;function a(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var d=l==null?0:r(l);return d<0&&(d=s(c+d,0)),t(i,e(o,3),d)}return iC=a,iC}var oC,EB;function R_e(){if(EB)return oC;EB=1;var t=$_e(),e=M_e(),r=t(e);return oC=r,oC}var L_e=R_e();const F_e=Jn(L_e);var B_e=AK();const U_e=Jn(B_e);var z_e=U_e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),T8=S.createContext(void 0),O8=S.createContext(void 0),mZ=S.createContext(void 0),pZ=S.createContext({}),xZ=S.createContext(void 0),gZ=S.createContext(0),vZ=S.createContext(0),PB=function(e){var r=e.state,s=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,u=z_e(i);return fe.createElement(T8.Provider,{value:s},fe.createElement(O8.Provider,{value:a},fe.createElement(pZ.Provider,{value:i},fe.createElement(mZ.Provider,{value:u},fe.createElement(xZ.Provider,{value:o},fe.createElement(gZ.Provider,{value:d},fe.createElement(vZ.Provider,{value:c},l)))))))},V_e=function(){return S.useContext(xZ)},yZ=function(e){var r=S.useContext(T8);r==null&&r0();var s=r[e];return s==null&&r0(),s},W_e=function(){var e=S.useContext(T8);return Kf(e)},H_e=function(){var e=S.useContext(O8),r=F_e(e,function(s){return oZ(s.domain,Number.isFinite)});return r||Kf(e)},bZ=function(e){var r=S.useContext(O8);r==null&&r0();var s=r[e];return s==null&&r0(),s},q_e=function(){var e=S.useContext(mZ);return e},G_e=function(){return S.useContext(pZ)},I8=function(){return S.useContext(vZ)},$8=function(){return S.useContext(gZ)};function pg(t){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}function K_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y_e(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,jZ(s.key),s)}}function X_e(t,e,r){return e&&Y_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z_e(t,e,r){return e=Bj(e),J_e(t,wZ()?Reflect.construct(e,r||[],Bj(t).constructor):e.apply(t,r))}function J_e(t,e){if(e&&(pg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q_e(t)}function Q_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wZ=function(){return!!t})()}function Bj(t){return Bj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bj(t)}function eCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hE(t,e)}function hE(t,e){return hE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},hE(t,e)}function TB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function OB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TB(Object(r),!0).forEach(function(s){D8(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function D8(t,e,r){return e=jZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jZ(t){var e=tCe(t,"string");return pg(e)=="symbol"?e:e+""}function tCe(t,e){if(pg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(pg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rCe(t,e){return iCe(t)||aCe(t,e)||sCe(t,e)||nCe()}function nCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sCe(t,e){if(t){if(typeof t=="string")return IB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IB(t,e)}}function IB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function aCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function iCe(t){if(Array.isArray(t))return t}function fE(){return fE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},fE.apply(this,arguments)}var oCe=function(e,r){var s;return fe.isValidElement(e)?s=fe.cloneElement(e,r):Kr(e)?s=e(r):s=fe.createElement("line",fE({},r,{className:"recharts-reference-line-line"})),s},lCe=function(e,r,s,a,i,o,l,c,d){var u=i.x,h=i.y,f=i.width,m=i.height;if(s){var y=d.y,g=e.y.apply(y,{position:o});if(Du(d,"discard")&&!e.y.isInRange(g))return null;var v=[{x:u+f,y:g},{x:u,y:g}];return c==="left"?v.reverse():v}if(r){var b=d.x,w=e.x.apply(b,{position:o});if(Du(d,"discard")&&!e.x.isInRange(w))return null;var N=[{x:w,y:h+m},{x:w,y:h}];return l==="top"?N.reverse():N}if(a){var _=d.segment,C=_.map(function(E){return e.apply(E,{position:o})});return Du(d,"discard")&&t_e(C,function(E){return!e.isInRange(E)})?null:C}return null};function cCe(t){var e=t.x,r=t.y,s=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=V_e(),u=yZ(a),h=bZ(i),f=q_e();if(!d||!f)return null;Fd(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=P8({x:u.scale,y:h.scale}),y=Ei(e),g=Ei(r),v=s&&s.length===2,b=lCe(m,y,g,v,f,t.position,u.orientation,h.orientation,t);if(!b)return null;var w=rCe(b,2),N=w[0],_=N.x,C=N.y,E=w[1],A=E.x,I=E.y,$=Du(t,"hidden")?"url(#".concat(d,")"):void 0,O=OB(OB({clipPath:$},Ir(t,!0)),{},{x1:_,y1:C,x2:A,y2:I});return fe.createElement(Tn,{className:dn("recharts-reference-line",l)},oCe(o,O),Gi.renderCallByParent(t,T_e({x1:_,y1:C,x2:A,y2:I})))}var M8=(function(t){function e(){return K_e(this,e),Z_e(this,e,arguments)}return eCe(e,t),X_e(e,[{key:"render",value:function(){return fe.createElement(cCe,this.props)}}])})(fe.Component);D8(M8,"displayName","ReferenceLine");D8(M8,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function mE(){return mE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},mE.apply(this,arguments)}function xg(t){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(t)}function $B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function DB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$B(Object(r),!0).forEach(function(s){f5(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$B(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function dCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uCe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,SZ(s.key),s)}}function hCe(t,e,r){return e&&uCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fCe(t,e,r){return e=Uj(e),mCe(t,NZ()?Reflect.construct(e,r||[],Uj(t).constructor):e.apply(t,r))}function mCe(t,e){if(e&&(xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pCe(t)}function pCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NZ=function(){return!!t})()}function Uj(t){return Uj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uj(t)}function xCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pE(t,e)}function pE(t,e){return pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},pE(t,e)}function f5(t,e,r){return e=SZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SZ(t){var e=gCe(t,"string");return xg(e)=="symbol"?e:e+""}function gCe(t,e){if(xg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(xg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vCe=function(e){var r=e.x,s=e.y,a=e.xAxis,i=e.yAxis,o=P8({x:a.scale,y:i.scale}),l=o.apply({x:r,y:s},{bandAware:!0});return Du(e,"discard")&&!o.isInRange(l)?null:l},m5=(function(t){function e(){return dCe(this,e),fCe(this,e,arguments)}return xCe(e,t),hCe(e,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,d=Ei(a),u=Ei(i);if(Fd(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var h=vCe(this.props);if(!h)return null;var f=h.x,m=h.y,y=this.props,g=y.shape,v=y.className,b=Du(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=DB(DB({clipPath:b},Ir(this.props,!0)),{},{cx:f,cy:m});return fe.createElement(Tn,{className:dn("recharts-reference-dot",v)},e.renderDot(g,w),Gi.renderCallByParent(this.props,{x:f-o,y:m-o,width:2*o,height:2*o}))}}])})(fe.Component);f5(m5,"displayName","ReferenceDot");f5(m5,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});f5(m5,"renderDot",function(t,e){var r;return fe.isValidElement(t)?r=fe.cloneElement(t,e):Kr(t)?r=t(e):r=fe.createElement(ab,mE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},xE.apply(this,arguments)}function gg(t){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}function MB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function RB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MB(Object(r),!0).forEach(function(s){p5(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function yCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bCe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,CZ(s.key),s)}}function wCe(t,e,r){return e&&bCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jCe(t,e,r){return e=zj(e),NCe(t,_Z()?Reflect.construct(e,r||[],zj(t).constructor):e.apply(t,r))}function NCe(t,e){if(e&&(gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SCe(t)}function SCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _Z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_Z=function(){return!!t})()}function zj(t){return zj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zj(t)}function _Ce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gE(t,e)}function gE(t,e){return gE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},gE(t,e)}function p5(t,e,r){return e=CZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CZ(t){var e=CCe(t,"string");return gg(e)=="symbol"?e:e+""}function CCe(t,e){if(gg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(gg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kCe=function(e,r,s,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var f=P8({x:u.scale,y:h.scale}),m={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:s?f.y.apply(c,{position:"start"}):f.y.rangeMin},y={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:a?f.y.apply(d,{position:"end"}):f.y.rangeMax};return Du(i,"discard")&&(!f.isInRange(m)||!f.isInRange(y))?null:hZ(m,y)},x5=(function(t){function e(){return yCe(this,e),jCe(this,e,arguments)}return _Ce(e,t),wCe(e,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.className,d=s.alwaysShow,u=s.clipPathId;Fd(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Ei(a),f=Ei(i),m=Ei(o),y=Ei(l),g=this.props.shape;if(!h&&!f&&!m&&!y&&!g)return null;var v=kCe(h,f,m,y,this.props);if(!v&&!g)return null;var b=Du(this.props,"hidden")?"url(#".concat(u,")"):void 0;return fe.createElement(Tn,{className:dn("recharts-reference-area",c)},e.renderRect(g,RB(RB({clipPath:b},Ir(this.props,!0)),v)),Gi.renderCallByParent(this.props,v))}}])})(fe.Component);p5(x5,"displayName","ReferenceArea");p5(x5,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});p5(x5,"renderRect",function(t,e){var r;return fe.isValidElement(t)?r=fe.cloneElement(t,e):Kr(t)?r=t(e):r=fe.createElement(A8,xE({},e,{className:"recharts-reference-area-rect"})),r});function kZ(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var s=[],a=0;a<t.length;a+=e)s.push(t[a]);return s}function ACe(t,e,r){var s={width:t.width+e.width,height:t.height+e.height};return I_e(s,r)}function ECe(t,e,r){var s=r==="width",a=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function Vj(t,e,r,s,a){if(t*e<t*s||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-s)>=0&&t*(e+t*i/2-a)<=0}function PCe(t,e){return kZ(t,e+1)}function TCe(t,e,r,s,a){for(var i=(s||[]).slice(),o=e.start,l=e.end,c=0,d=1,u=o,h=function(){var y=s?.[c];if(y===void 0)return{v:kZ(s,d)};var g=c,v,b=function(){return v===void 0&&(v=r(y,g)),v},w=y.coordinate,N=c===0||Vj(t,w,b,u,l);N||(c=0,u=o,d+=1),N&&(u=w+t*(b()/2+a),c+=d)},f;d<=i.length;)if(f=h(),f)return f.v;return[]}function Cy(t){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(t)}function LB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function To(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LB(Object(r),!0).forEach(function(s){OCe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function OCe(t,e,r){return e=ICe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ICe(t){var e=$Ce(t,"string");return Cy(e)=="symbol"?e:e+""}function $Ce(t,e){if(Cy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Cy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DCe(t,e,r,s,a){for(var i=(s||[]).slice(),o=i.length,l=e.start,c=e.end,d=function(f){var m=i[f],y,g=function(){return y===void 0&&(y=r(m,f)),y};if(f===o-1){var v=t*(m.coordinate+t*g()/2-c);i[f]=m=To(To({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else i[f]=m=To(To({},m),{},{tickCoord:m.coordinate});var b=Vj(t,m.tickCoord,g,l,c);b&&(c=m.tickCoord-t*(g()/2+a),i[f]=To(To({},m),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function MCe(t,e,r,s,a,i){var o=(s||[]).slice(),l=o.length,c=e.start,d=e.end;if(i){var u=s[l-1],h=r(u,l-1),f=t*(u.coordinate+t*h/2-d);o[l-1]=u=To(To({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var m=Vj(t,u.tickCoord,function(){return h},c,d);m&&(d=u.tickCoord-t*(h/2+a),o[l-1]=To(To({},u),{},{isShow:!0}))}for(var y=i?l-1:l,g=function(w){var N=o[w],_,C=function(){return _===void 0&&(_=r(N,w)),_};if(w===0){var E=t*(N.coordinate-t*C()/2-c);o[w]=N=To(To({},N),{},{tickCoord:E<0?N.coordinate-E*t:N.coordinate})}else o[w]=N=To(To({},N),{},{tickCoord:N.coordinate});var A=Vj(t,N.tickCoord,C,c,d);A&&(c=N.tickCoord+t*(C()/2+a),o[w]=To(To({},N),{},{isShow:!0}))},v=0;v<y;v++)g(v);return o}function R8(t,e,r){var s=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,u=t.unit,h=t.angle;if(!a||!a.length||!s)return[];if(It(c)||mm.isSsr)return PCe(a,typeof c=="number"&&It(c)?c:0);var f=[],m=l==="top"||l==="bottom"?"width":"height",y=u&&m==="width"?y1(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(N,_){var C=Kr(d)?d(N.value,_):N.value;return m==="width"?ACe(y1(C,{fontSize:e,letterSpacing:r}),y,h):y1(C,{fontSize:e,letterSpacing:r})[m]},v=a.length>=2?tl(a[1].coordinate-a[0].coordinate):1,b=ECe(i,v,m);return c==="equidistantPreserveStart"?TCe(v,b,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?f=MCe(v,b,g,a,o,c==="preserveStartEnd"):f=DCe(v,b,g,a,o),f.filter(function(w){return w.isShow}))}var RCe=["viewBox"],LCe=["viewBox"],FCe=["ticks"];function vg(t){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(t)}function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},kx.apply(this,arguments)}function FB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function vi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FB(Object(r),!0).forEach(function(s){L8(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function lC(t,e){if(t==null)return{};var r=BCe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function BCe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function UCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BB(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,EZ(s.key),s)}}function zCe(t,e,r){return e&&BB(t.prototype,e),r&&BB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function VCe(t,e,r){return e=Wj(e),WCe(t,AZ()?Reflect.construct(e,r||[],Wj(t).constructor):e.apply(t,r))}function WCe(t,e){if(e&&(vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HCe(t)}function HCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AZ=function(){return!!t})()}function Wj(t){return Wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wj(t)}function qCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vE(t,e)}function vE(t,e){return vE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},vE(t,e)}function L8(t,e,r){return e=EZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EZ(t){var e=GCe(t,"string");return vg(e)=="symbol"?e:e+""}function GCe(t,e){if(vg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(vg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qg=(function(t){function e(r){var s;return UCe(this,e),s=VCe(this,e,[r]),s.state={fontSize:"",letterSpacing:""},s}return qCe(e,t),zCe(e,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=lC(s,RCe),l=this.props,c=l.viewBox,d=lC(l,LCe);return!Fx(i,c)||!Fx(o,d)||!Fx(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,h=a.mirror,f=a.tickMargin,m,y,g,v,b,w,N=h?-1:1,_=s.tickSize||u,C=It(s.tickCoord)?s.tickCoord:s.coordinate;switch(d){case"top":m=y=s.coordinate,v=o+ +!h*c,g=v-N*_,w=g-N*f,b=C;break;case"left":g=v=s.coordinate,y=i+ +!h*l,m=y-N*_,b=m-N*f,w=C;break;case"right":g=v=s.coordinate,y=i+ +h*l,m=y+N*_,b=m+N*f,w=C;break;default:m=y=s.coordinate,v=o+ +h*c,g=v+N*_,w=g+N*f,b=C;break}return{line:{x1:m,y1:g,x2:y,y2:v},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.orientation,d=s.mirror,u=s.axisLine,h=vi(vi(vi({},Ir(this.props,!1)),Ir(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!d||c==="bottom"&&d);h=vi(vi({},h),{},{x1:a,y1:i+f*l,x2:a+o,y2:i+f*l})}else{var m=+(c==="left"&&!d||c==="right"&&d);h=vi(vi({},h),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return fe.createElement("line",kx({},h,{className:dn("recharts-cartesian-axis-line",cc(u,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,h=l.tickFormatter,f=l.unit,m=R8(vi(vi({},this.props),{},{ticks:s}),a,i),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Ir(this.props,!1),b=Ir(u,!1),w=vi(vi({},v),{},{fill:"none"},Ir(c,!1)),N=m.map(function(_,C){var E=o.getTickLineCoord(_),A=E.line,I=E.tick,$=vi(vi(vi(vi({textAnchor:y,verticalAnchor:g},v),{},{stroke:"none",fill:d},b),I),{},{index:C,payload:_,visibleTicksCount:m.length,tickFormatter:h});return fe.createElement(Tn,kx({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Jp(o.props,_,C)),c&&fe.createElement("line",kx({},w,A,{className:dn("recharts-cartesian-axis-tick-line",cc(c,"className"))})),u&&e.renderTickItem(u,$,"".concat(Kr(h)?h(_.value,C):_.value).concat(f||"")))});return fe.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var h=this.props,f=h.ticks,m=lC(h,FCe),y=f;return Kr(c)&&(y=f&&f.length>0?c(this.props):c(m)),o<=0||l<=0||!y||!y.length?null:fe.createElement(Tn,{className:dn("recharts-cartesian-axis",d),ref:function(v){s.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Gi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o,l=dn(a.className,"recharts-cartesian-axis-tick-value");return fe.isValidElement(s)?o=fe.cloneElement(s,vi(vi({},a),{},{className:l})):Kr(s)?o=s(vi(vi({},a),{},{className:l})):o=fe.createElement(Qp,kx({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(S.Component);L8(qg,"displayName","CartesianAxis");L8(qg,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var KCe=["x1","y1","x2","y2","key"],YCe=["offset"];function n0(t){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n0(t)}function UB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Io(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UB(Object(r),!0).forEach(function(s){XCe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function XCe(t,e,r){return e=ZCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZCe(t){var e=JCe(t,"string");return n0(e)=="symbol"?e:e+""}function JCe(t,e){if(n0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(n0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cp(){return Cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Cp.apply(this,arguments)}function zB(t,e){if(t==null)return{};var r=QCe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function QCe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var eke=function(e){var r=e.fill;if(!r||r==="none")return null;var s=e.fillOpacity,a=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return fe.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function PZ(t,e){var r;if(fe.isValidElement(t))r=fe.cloneElement(t,e);else if(Kr(t))r=t(e);else{var s=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.key,c=zB(e,KCe),d=Ir(c,!1);d.offset;var u=zB(d,YCe);r=fe.createElement("line",Cp({},u,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function tke(t){var e=t.x,r=t.width,s=t.horizontal,a=s===void 0?!0:s,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=Io(Io({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return PZ(a,d)});return fe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function rke(t){var e=t.y,r=t.height,s=t.vertical,a=s===void 0?!0:s,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=Io(Io({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return PZ(a,d)});return fe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function nke(t){var e=t.horizontalFill,r=t.fillOpacity,s=t.x,a=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var u=l.map(function(f){return Math.round(f+a-a)}).sort(function(f,m){return f-m});a!==u[0]&&u.unshift(0);var h=u.map(function(f,m){var y=!u[m+1],g=y?a+o-f:u[m+1]-f;if(g<=0)return null;var v=m%e.length;return fe.createElement("rect",{key:"react-".concat(m),y:f,x:s,height:g,width:i,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return fe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function ske(t){var e=t.vertical,r=e===void 0?!0:e,s=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!s||!s.length)return null;var u=d.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==u[0]&&u.unshift(0);var h=u.map(function(f,m){var y=!u[m+1],g=y?i+l-f:u[m+1]-f;if(g<=0)return null;var v=m%s.length;return fe.createElement("rect",{key:"react-".concat(m),x:f,y:o,width:g,height:c,stroke:"none",fill:s[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return fe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var ake=function(e,r){var s=e.xAxis,a=e.width,i=e.height,o=e.offset;return TX(R8(Io(Io(Io({},qg.defaultProps),s),{},{ticks:Lh(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},ike=function(e,r){var s=e.yAxis,a=e.width,i=e.height,o=e.offset;return TX(R8(Io(Io(Io({},qg.defaultProps),s),{},{ticks:Lh(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},tx={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ky(t){var e,r,s,a,i,o,l=I8(),c=$8(),d=G_e(),u=Io(Io({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:tx.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:tx.fill,horizontal:(s=t.horizontal)!==null&&s!==void 0?s:tx.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:tx.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:tx.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:tx.verticalFill,x:It(t.x)?t.x:d.left,y:It(t.y)?t.y:d.top,width:It(t.width)?t.width:d.width,height:It(t.height)?t.height:d.height}),h=u.x,f=u.y,m=u.width,y=u.height,g=u.syncWithTicks,v=u.horizontalValues,b=u.verticalValues,w=W_e(),N=H_e();if(!It(m)||m<=0||!It(y)||y<=0||!It(h)||h!==+h||!It(f)||f!==+f)return null;var _=u.verticalCoordinatesGenerator||ake,C=u.horizontalCoordinatesGenerator||ike,E=u.horizontalPoints,A=u.verticalPoints;if((!E||!E.length)&&Kr(C)){var I=v&&v.length,$=C({yAxis:N?Io(Io({},N),{},{ticks:I?v:N.ticks}):void 0,width:l,height:c,offset:d},I?!0:g);Fd(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(n0($),"]")),Array.isArray($)&&(E=$)}if((!A||!A.length)&&Kr(_)){var O=b&&b.length,P=_({xAxis:w?Io(Io({},w),{},{ticks:O?b:w.ticks}):void 0,width:l,height:c,offset:d},O?!0:g);Fd(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(n0(P),"]")),Array.isArray(P)&&(A=P)}return fe.createElement("g",{className:"recharts-cartesian-grid"},fe.createElement(eke,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),fe.createElement(tke,Cp({},u,{offset:d,horizontalPoints:E,xAxis:w,yAxis:N})),fe.createElement(rke,Cp({},u,{offset:d,verticalPoints:A,xAxis:w,yAxis:N})),fe.createElement(nke,Cp({},u,{horizontalPoints:E})),fe.createElement(ske,Cp({},u,{verticalPoints:A})))}ky.displayName="CartesianGrid";var oke=["type","layout","connectNulls","ref"],lke=["key"];function yg(t){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}function VB(t,e){if(t==null)return{};var r=cke(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function cke(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function _1(){return _1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},_1.apply(this,arguments)}function WB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Jl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WB(Object(r),!0).forEach(function(s){Pd(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function rx(t){return fke(t)||hke(t)||uke(t)||dke()}function dke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uke(t,e){if(t){if(typeof t=="string")return yE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yE(t,e)}}function hke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fke(t){if(Array.isArray(t))return yE(t)}function yE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function mke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HB(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,OZ(s.key),s)}}function pke(t,e,r){return e&&HB(t.prototype,e),r&&HB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xke(t,e,r){return e=Hj(e),gke(t,TZ()?Reflect.construct(e,r||[],Hj(t).constructor):e.apply(t,r))}function gke(t,e){if(e&&(yg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vke(t)}function vke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TZ=function(){return!!t})()}function Hj(t){return Hj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hj(t)}function yke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bE(t,e)}function bE(t,e){return bE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},bE(t,e)}function Pd(t,e,r){return e=OZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OZ(t){var e=bke(t,"string");return yg(e)=="symbol"?e:e+""}function bke(t,e){if(yg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(yg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ib=(function(t){function e(){var r;mke(this,e);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=xke(this,e,[].concat(a)),Pd(r,"state",{isAnimationFinished:!0,totalLength:0}),Pd(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Pd(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(b,w){return b+w});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),h=o%d,f=l-o,m=[],y=0,g=0;y<c.length;g+=c[y],++y)if(g+c[y]>h){m=[].concat(rx(c.slice(0,y)),[h-g]);break}var v=m.length%2===0?[0,f]:[f];return[].concat(rx(e.repeat(c,u)),rx(m),v).map(function(b){return"".concat(b,"px")}).join(", ")}),Pd(r,"id",p0("recharts-line-")),Pd(r,"pathRef",function(o){r.mainCurve=o}),Pd(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Pd(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return yke(e,t),pke(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=dc(u,sb);if(!h)return null;var f=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Qa(g.payload,v)}},m={clipPath:s?"url(#clipPath-".concat(a,")"):null};return fe.createElement(Tn,m,h.map(function(y){return fe.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:f})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,h=Ir(this.props,!1),f=Ir(c,!0),m=d.map(function(g,v){var b=Jl(Jl(Jl({key:"dot-".concat(v),r:3},h),f),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:u,payload:g.payload,points:d});return e.renderDotItem(c,b)}),y={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return fe.createElement(Tn,_1({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(s,a,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var h=VB(l,oke),f=Jl(Jl(Jl({},Ir(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:c,layout:d,connectNulls:u});return fe.createElement(Bp,_1({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,f=o.animationEasing,m=o.animationId,y=o.animateNewValues,g=o.width,v=o.height,b=this.state,w=b.prevPoints,N=b.totalLength;return fe.createElement(Vd,{begin:u,duration:h,isActive:d,easing:f,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var C=_.t;if(w){var E=w.length/l.length,A=l.map(function(M,R){var W=Math.floor(R*E);if(w[W]){var Y=w[W],K=_i(Y.x,M.x),L=_i(Y.y,M.y);return Jl(Jl({},M),{},{x:K(C),y:L(C)})}if(y){var F=_i(g*2,M.x),ee=_i(v/2,M.y);return Jl(Jl({},M),{},{x:F(C),y:ee(C)})}return Jl(Jl({},M),{},{x:M.x,y:M.y})});return i.renderCurveStatically(A,s,a)}var I=_i(0,N),$=I(C),O;if(c){var P="".concat(c).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});O=i.getStrokeDasharray($,N,P)}else O=i.generateSimpleStrokeDasharray(N,$);return i.renderCurveStatically(l,s,a,{strokeDasharray:O})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!e0(d,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,u=a.yAxis,h=a.top,f=a.left,m=a.width,y=a.height,g=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,w=l.length===1,N=dn("recharts-line",c),_=d&&d.allowDataOverflow,C=u&&u.allowDataOverflow,E=_||C,A=ln(v)?this.id:v,I=(s=Ir(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},$=I.r,O=$===void 0?3:$,P=I.strokeWidth,M=P===void 0?2:P,R=IK(o)?o:{},W=R.clipDot,Y=W===void 0?!0:W,K=O*2+M;return fe.createElement(Tn,{className:N},_||C?fe.createElement("defs",null,fe.createElement("clipPath",{id:"clipPath-".concat(A)},fe.createElement("rect",{x:_?f:f-m/2,y:C?h:h-y/2,width:_?m:m*2,height:C?y:y*2})),!Y&&fe.createElement("clipPath",{id:"clipPath-dots-".concat(A)},fe.createElement("rect",{x:f-K/2,y:h-K/2,width:m+K,height:y+K}))):null,!w&&this.renderCurve(E,A),this.renderErrorBar(E,A),(w||o)&&this.renderDots(E,Y,A),(!g||b)&&$u.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(rx(s),[0]):s,o=[],l=0;l<a;++l)o=[].concat(rx(o),rx(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(fe.isValidElement(s))i=fe.cloneElement(s,a);else if(Kr(s))i=s(a);else{var o=a.key,l=VB(a,lke),c=dn("recharts-line-dot",typeof s!="boolean"?s.className:"");i=fe.createElement(ab,_1({key:o},l,{className:c}))}return i}}])})(S.PureComponent);Pd(ib,"displayName","Line");Pd(ib,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!mm.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Pd(ib,"getComposedData",function(t){var e=t.props,r=t.xAxis,s=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,d=t.offset,u=e.layout,h=c.map(function(f,m){var y=Qa(f,o);return u==="horizontal"?{x:jj({axis:r,ticks:a,bandSize:l,entry:f,index:m}),y:ln(y)?null:s.scale(y),value:y,payload:f}:{x:ln(y)?null:r.scale(y),y:jj({axis:s,ticks:i,bandSize:l,entry:f,index:m}),value:y,payload:f}});return Jl({points:h,layout:u},d)});var wke=["layout","type","stroke","connectNulls","isRange","ref"],jke=["key"],IZ;function bg(t){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(t)}function $Z(t,e){if(t==null)return{};var r=Nke(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function Nke(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function kp(){return kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},kp.apply(this,arguments)}function qB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Vf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qB(Object(r),!0).forEach(function(s){ju(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Ske(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GB(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,MZ(s.key),s)}}function _ke(t,e,r){return e&&GB(t.prototype,e),r&&GB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cke(t,e,r){return e=qj(e),kke(t,DZ()?Reflect.construct(e,r||[],qj(t).constructor):e.apply(t,r))}function kke(t,e){if(e&&(bg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ake(t)}function Ake(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DZ=function(){return!!t})()}function qj(t){return qj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qj(t)}function Eke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wE(t,e)}function wE(t,e){return wE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},wE(t,e)}function ju(t,e,r){return e=MZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MZ(t){var e=Pke(t,"string");return bg(e)=="symbol"?e:e+""}function Pke(t,e){if(bg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(bg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vm=(function(t){function e(){var r;Ske(this,e);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=Cke(this,e,[].concat(a)),ju(r,"state",{isAnimationFinished:!0}),ju(r,"id",p0("recharts-area-")),ju(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Kr(o)&&o()}),ju(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Kr(o)&&o()}),r}return Eke(e,t),_ke(e,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,h=c.dataKey,f=Ir(this.props,!1),m=Ir(d,!0),y=u.map(function(v,b){var w=Vf(Vf(Vf({key:"dot-".concat(b),r:3},f),m),{},{index:b,cx:v.x,cy:v.y,dataKey:h,value:v.value,payload:v.payload,points:u});return e.renderDotItem(d,w)}),g={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return fe.createElement(Tn,kp({className:"recharts-area-dots"},g),y)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=s*Math.abs(c-d),h=Xf(o.map(function(f){return f.y||0}));return It(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Xf(i.map(function(f){return f.y||0})),h)),It(h)?fe.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=s*Math.abs(c-d),h=Xf(o.map(function(f){return f.x||0}));return It(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Xf(i.map(function(f){return f.x||0})),h)),It(h)?fe.createElement("rect",{x:0,y:c<d?c:c-u,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,h=l.connectNulls,f=l.isRange;l.ref;var m=$Z(l,wke);return fe.createElement(Tn,{clipPath:i?"url(#clipPath-".concat(o,")"):null},fe.createElement(Bp,kp({},Ir(m,!0),{points:s,connectNulls:h,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&fe.createElement(Bp,kp({},Ir(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:s})),u!=="none"&&f&&fe.createElement(Bp,kp({},Ir(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,f=o.animationEasing,m=o.animationId,y=this.state,g=y.prevPoints,v=y.prevBaseLine;return fe.createElement(Vd,{begin:u,duration:h,isActive:d,easing:f,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t;if(g){var N=g.length/l.length,_=l.map(function(I,$){var O=Math.floor($*N);if(g[O]){var P=g[O],M=_i(P.x,I.x),R=_i(P.y,I.y);return Vf(Vf({},I),{},{x:M(w),y:R(w)})}return I}),C;if(It(c)&&typeof c=="number"){var E=_i(v,c);C=E(w)}else if(ln(c)||Ug(c)){var A=_i(v,0);C=A(w)}else C=c.map(function(I,$){var O=Math.floor($*N);if(v[O]){var P=v[O],M=_i(P.x,I.x),R=_i(P.y,I.y);return Vf(Vf({},I),{},{x:M(w),y:R(w)})}return I});return i.renderAreaStatically(_,C,s,a)}return fe.createElement(Tn,null,fe.createElement("defs",null,fe.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(w))),fe.createElement(Tn,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,h=d.prevBaseLine,f=d.totalLength;return c&&o&&o.length&&(!u&&f>0||!e0(u,o)||!e0(h,l))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,l,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,u=a.left,h=a.xAxis,f=a.yAxis,m=a.width,y=a.height,g=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,w=l.length===1,N=dn("recharts-area",c),_=h&&h.allowDataOverflow,C=f&&f.allowDataOverflow,E=_||C,A=ln(v)?this.id:v,I=(s=Ir(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},$=I.r,O=$===void 0?3:$,P=I.strokeWidth,M=P===void 0?2:P,R=IK(o)?o:{},W=R.clipDot,Y=W===void 0?!0:W,K=O*2+M;return fe.createElement(Tn,{className:N},_||C?fe.createElement("defs",null,fe.createElement("clipPath",{id:"clipPath-".concat(A)},fe.createElement("rect",{x:_?u:u-m/2,y:C?d:d-y/2,width:_?m:m*2,height:C?y:y*2})),!Y&&fe.createElement("clipPath",{id:"clipPath-dots-".concat(A)},fe.createElement("rect",{x:u-K/2,y:d-K/2,width:m+K,height:y+K}))):null,w?null:this.renderArea(E,A),(o||w)&&this.renderDots(E,Y,A),(!g||b)&&$u.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])})(S.PureComponent);IZ=vm;ju(vm,"displayName","Area");ju(vm,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!mm.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ju(vm,"getBaseValue",function(t,e,r,s){var a=t.layout,i=t.baseValue,o=e.props.baseValue,l=o??i;if(It(l)&&typeof l=="number")return l;var c=a==="horizontal"?s:r,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return l==="dataMin"?h:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});ju(vm,"getComposedData",function(t){var e=t.props,r=t.item,s=t.xAxis,a=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,d=t.stackedData,u=t.dataStartIndex,h=t.displayedData,f=t.offset,m=e.layout,y=d&&d.length,g=IZ.getBaseValue(e,r,s,a),v=m==="horizontal",b=!1,w=h.map(function(_,C){var E;y?E=d[u+C]:(E=Qa(_,c),Array.isArray(E)?b=!0:E=[g,E]);var A=E[1]==null||y&&Qa(_,c)==null;return v?{x:jj({axis:s,ticks:i,bandSize:l,entry:_,index:C}),y:A?null:a.scale(E[1]),value:E,payload:_}:{x:A?null:s.scale(E[1]),y:jj({axis:a,ticks:o,bandSize:l,entry:_,index:C}),value:E,payload:_}}),N;return y||b?N=w.map(function(_){var C=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:C!=null&&_.y!=null?a.scale(C):null}:{x:C!=null?s.scale(C):null,y:_.y}}):N=v?a.scale(g):s.scale(g),Vf({points:w,baseLine:N,layout:m,isRange:b},f)});ju(vm,"renderDotItem",function(t,e){var r;if(fe.isValidElement(t))r=fe.cloneElement(t,e);else if(Kr(t))r=t(e);else{var s=dn("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,i=$Z(e,jke);r=fe.createElement(ab,kp({},i,{key:a,className:s}))}return r});function wg(t){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}function Tke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oke(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,FZ(s.key),s)}}function Ike(t,e,r){return e&&Oke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ke(t,e,r){return e=Gj(e),Dke(t,RZ()?Reflect.construct(e,r||[],Gj(t).constructor):e.apply(t,r))}function Dke(t,e){if(e&&(wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mke(t)}function Mke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RZ=function(){return!!t})()}function Gj(t){return Gj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gj(t)}function Rke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jE(t,e)}function jE(t,e){return jE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},jE(t,e)}function LZ(t,e,r){return e=FZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FZ(t){var e=Lke(t,"string");return wg(e)=="symbol"?e:e+""}function Lke(t,e){if(wg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(wg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NE(){return NE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},NE.apply(this,arguments)}function Fke(t){var e=t.xAxisId,r=I8(),s=$8(),a=yZ(e);return a==null?null:S.createElement(qg,NE({},a,{className:dn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(o){return Lh(o,!0)}}))}var Zh=(function(t){function e(){return Tke(this,e),$ke(this,e,arguments)}return Rke(e,t),Ike(e,[{key:"render",value:function(){return S.createElement(Fke,this.props)}}])})(S.Component);LZ(Zh,"displayName","XAxis");LZ(Zh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}function Bke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uke(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,zZ(s.key),s)}}function zke(t,e,r){return e&&Uke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vke(t,e,r){return e=Kj(e),Wke(t,BZ()?Reflect.construct(e,r||[],Kj(t).constructor):e.apply(t,r))}function Wke(t,e){if(e&&(jg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hke(t)}function Hke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BZ=function(){return!!t})()}function Kj(t){return Kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kj(t)}function qke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SE(t,e)}function SE(t,e){return SE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},SE(t,e)}function UZ(t,e,r){return e=zZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zZ(t){var e=Gke(t,"string");return jg(e)=="symbol"?e:e+""}function Gke(t,e){if(jg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(jg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _E(){return _E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},_E.apply(this,arguments)}var Kke=function(e){var r=e.yAxisId,s=I8(),a=$8(),i=bZ(r);return i==null?null:S.createElement(qg,_E({},i,{className:dn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return Lh(l,!0)}}))},Mu=(function(t){function e(){return Bke(this,e),Vke(this,e,arguments)}return qke(e,t),zke(e,[{key:"render",value:function(){return S.createElement(Kke,this.props)}}])})(S.Component);UZ(Mu,"displayName","YAxis");UZ(Mu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function KB(t){return Jke(t)||Zke(t)||Xke(t)||Yke()}function Yke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xke(t,e){if(t){if(typeof t=="string")return CE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CE(t,e)}}function Zke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jke(t){if(Array.isArray(t))return CE(t)}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}var kE=function(e,r,s,a,i){var o=dc(e,M8),l=dc(e,m5),c=[].concat(KB(o),KB(l)),d=dc(e,x5),u="".concat(a,"Id"),h=a[0],f=r;if(c.length&&(f=c.reduce(function(g,v){if(v.props[u]===s&&Du(v.props,"extendDomain")&&It(v.props[h])){var b=v.props[h];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},f)),d.length){var m="".concat(h,"1"),y="".concat(h,"2");f=d.reduce(function(g,v){if(v.props[u]===s&&Du(v.props,"extendDomain")&&It(v.props[m])&&It(v.props[y])){var b=v.props[m],w=v.props[y];return[Math.min(g[0],b,w),Math.max(g[1],b,w)]}return g},f)}return i&&i.length&&(f=i.reduce(function(g,v){return It(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},f)),f},cC={exports:{}},YB;function Qke(){return YB||(YB=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new a(u,h||c,f),y=r?r+d:d;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)e.call(u,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,y=new Array(m);f<m;f++)y[f]=h[f].fn;return y},l.prototype.listenerCount=function(d){var u=r?r+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,f,m,y){var g=r?r+d:d;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,w,N;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,h),!0;case 4:return v.fn.call(v.context,u,h,f),!0;case 5:return v.fn.call(v.context,u,h,f,m),!0;case 6:return v.fn.call(v.context,u,h,f,m,y),!0}for(N=1,w=new Array(b-1);N<b;N++)w[N-1]=arguments[N];v.fn.apply(v.context,w)}else{var _=v.length,C;for(N=0;N<_;N++)switch(v[N].once&&this.removeListener(d,v[N].fn,void 0,!0),b){case 1:v[N].fn.call(v[N].context);break;case 2:v[N].fn.call(v[N].context,u);break;case 3:v[N].fn.call(v[N].context,u,h);break;case 4:v[N].fn.call(v[N].context,u,h,f);break;default:if(!w)for(C=1,w=new Array(b-1);C<b;C++)w[C-1]=arguments[C];v[N].fn.apply(v[N].context,w)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,f){var m=r?r+d:d;if(!this._events[m])return this;if(!u)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===u&&(!f||y.once)&&(!h||y.context===h)&&o(this,m);else{for(var g=0,v=[],b=y.length;g<b;g++)(y[g].fn!==u||f&&!y[g].once||h&&y[g].context!==h)&&v.push(y[g]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(cC)),cC.exports}var eAe=Qke();const tAe=Jn(eAe);var dC=new tAe,uC="recharts.syncMouseEvents";function Ay(t){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}function rAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nAe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,VZ(s.key),s)}}function sAe(t,e,r){return e&&nAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hC(t,e,r){return e=VZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VZ(t){var e=aAe(t,"string");return Ay(e)=="symbol"?e:e+""}function aAe(t,e){if(Ay(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Ay(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iAe=(function(){function t(){rAe(this,t),hC(this,"activeIndex",0),hC(this,"coordinateList",[]),hC(this,"layout","horizontal")}return sAe(t,[{key:"setDetails",value:function(r){var s,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,h=u===void 0?null:u,f=r.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((s=window)===null||s===void 0?void 0:s.scrollY)||0,h=i+c+d,f=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])})();function oAe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var s=t?.[0],a=t?.[1];if(s&&a&&It(s)&&It(a))return!0}return!1}function lAe(t,e,r,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?s:r.width-1,height:t==="horizontal"?r.height-1:s}}function WZ(t){var e=t.cx,r=t.cy,s=t.radius,a=t.startAngle,i=t.endAngle,o=Ws(e,r,s,a),l=Ws(e,r,s,i);return{points:[o,l],cx:e,cy:r,radius:s,startAngle:a,endAngle:i}}function cAe(t,e,r){var s,a,i,o;if(t==="horizontal")s=e.x,i=s,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,s=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,u=e.outerRadius,h=e.angle,f=Ws(l,c,d,h),m=Ws(l,c,u,h);s=f.x,a=f.y,i=m.x,o=m.y}else return WZ(e);return[{x:s,y:a},{x:i,y:o}]}function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function XB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function $2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XB(Object(r),!0).forEach(function(s){dAe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function dAe(t,e,r){return e=uAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uAe(t){var e=hAe(t,"string");return Ey(e)=="symbol"?e:e+""}function hAe(t,e){if(Ey(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Ey(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fAe(t){var e,r,s=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,u=t.tooltipAxisBandSize,h=t.layout,f=t.chartName,m=(e=s.props.cursor)!==null&&e!==void 0?e:(r=s.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!s||!m||!i||!o||f!=="ScatterChart"&&a!=="axis")return null;var y,g=Bp;if(f==="ScatterChart")y=o,g=_Se;else if(f==="BarChart")y=lAe(h,o,c,u),g=A8;else if(h==="radial"){var v=WZ(o),b=v.cx,w=v.cy,N=v.radius,_=v.startAngle,C=v.endAngle;y={cx:b,cy:w,startAngle:_,endAngle:C,innerRadius:N,outerRadius:N},g=zX}else y={points:cAe(h,o,c)},g=Bp;var E=$2($2($2($2({stroke:"#ccc",pointerEvents:"none"},c),y),Ir(m,!1)),{},{payload:l,payloadIndex:d,className:dn("recharts-tooltip-cursor",m.className)});return S.isValidElement(m)?S.cloneElement(m,E):S.createElement(g,E)}var mAe=["item"],pAe=["children","className","width","height","style","compact","title","desc"];function Ng(t){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function Ax(){return Ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ax.apply(this,arguments)}function ZB(t,e){return vAe(t)||gAe(t,e)||qZ(t,e)||xAe()}function xAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gAe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function vAe(t){if(Array.isArray(t))return t}function JB(t,e){if(t==null)return{};var r=yAe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function yAe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function bAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wAe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,GZ(s.key),s)}}function jAe(t,e,r){return e&&wAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NAe(t,e,r){return e=Yj(e),SAe(t,HZ()?Reflect.construct(e,r||[],Yj(t).constructor):e.apply(t,r))}function SAe(t,e){if(e&&(Ng(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ae(t)}function _Ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HZ=function(){return!!t})()}function Yj(t){return Yj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yj(t)}function CAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AE(t,e)}function AE(t,e){return AE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},AE(t,e)}function Sg(t){return EAe(t)||AAe(t)||qZ(t)||kAe()}function kAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qZ(t,e){if(t){if(typeof t=="string")return EE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EE(t,e)}}function AAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EAe(t){if(Array.isArray(t))return EE(t)}function EE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function QB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function pt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QB(Object(r),!0).forEach(function(s){qr(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function qr(t,e,r){return e=GZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GZ(t){var e=PAe(t,"string");return Ng(e)=="symbol"?e:e+""}function PAe(t,e){if(Ng(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Ng(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TAe={xAxis:["bottom","top"],yAxis:["left","right"]},OAe={width:"100%",height:"100%"},KZ={x:0,y:0};function D2(t){return t}var IAe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},$Ae=function(e,r,s,a){var i=r.find(function(u){return u&&u.index===s});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=a.radius;return pt(pt(pt({},a),Ws(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return pt(pt(pt({},a),Ws(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return KZ},g5=function(e,r){var s=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(s??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Sg(l),Sg(d)):l},[]);return o.length>0?o:e&&e.length&&It(a)&&It(i)?e.slice(a,i+1):[]};function YZ(t){return t==="number"?[0,"auto"]:void 0}var PE=function(e,r,s,a){var i=e.graphicalItems,o=e.tooltipAxis,l=g5(r,e);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(c,d){var u,h=(u=d.props.data)!==null&&u!==void 0?u:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=s&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var m=h===void 0?l:h;f=Zw(m,o.dataKey,a)}else f=h&&h[s]||l[s];return f?[].concat(Sg(c),[MX(d,f)]):c},[])},eU=function(e,r,s,a){var i=a||{x:e.chartX,y:e.chartY},o=IAe(i,s),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,u=XNe(o,l,d,c);if(u>=0&&d){var h=d[u]&&d[u].value,f=PE(e,r,u,h),m=$Ae(s,l,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:f,activeCoordinate:m}}return null},DAe=function(e,r){var s=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.layout,h=e.children,f=e.stackOffset,m=PX(u,i);return s.reduce(function(y,g){var v,b=g.type.defaultProps!==void 0?pt(pt({},g.type.defaultProps),g.props):g.props,w=b.type,N=b.dataKey,_=b.allowDataOverflow,C=b.allowDuplicatedCategory,E=b.scale,A=b.ticks,I=b.includeHidden,$=b[o];if(y[$])return y;var O=g5(e.data,{graphicalItems:a.filter(function(z){var Z,X=o in z.props?z.props[o]:(Z=z.type.defaultProps)===null||Z===void 0?void 0:Z[o];return X===$}),dataStartIndex:c,dataEndIndex:d}),P=O.length,M,R,W;oAe(b.domain,_,w)&&(M=VA(b.domain,null,_),m&&(w==="number"||E!=="auto")&&(W=w1(O,N,"category")));var Y=YZ(w);if(!M||M.length===0){var K,L=(K=b.domain)!==null&&K!==void 0?K:Y;if(N){if(M=w1(O,N,w),w==="category"&&m){var F=Wge(M);C&&F?(R=M,M=Dj(0,P)):C||(M=ZL(L,M,g).reduce(function(z,Z){return z.indexOf(Z)>=0?z:[].concat(Sg(z),[Z])},[]))}else if(w==="category")C?M=M.filter(function(z){return z!==""&&!ln(z)}):M=ZL(L,M,g).reduce(function(z,Z){return z.indexOf(Z)>=0||Z===""||ln(Z)?z:[].concat(Sg(z),[Z])},[]);else if(w==="number"){var ee=t5e(O,a.filter(function(z){var Z,X,Q=o in z.props?z.props[o]:(Z=z.type.defaultProps)===null||Z===void 0?void 0:Z[o],ne="hide"in z.props?z.props.hide:(X=z.type.defaultProps)===null||X===void 0?void 0:X.hide;return Q===$&&(I||!ne)}),N,i,u);ee&&(M=ee)}m&&(w==="number"||E!=="auto")&&(W=w1(O,N,"category"))}else m?M=Dj(0,P):l&&l[$]&&l[$].hasStack&&w==="number"?M=f==="expand"?[0,1]:DX(l[$].stackGroups,c,d):M=EX(O,a.filter(function(z){var Z=o in z.props?z.props[o]:z.type.defaultProps[o],X="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return Z===$&&(I||!X)}),w,u,!0);if(w==="number")M=kE(h,M,$,i,A),L&&(M=VA(L,M,_));else if(w==="category"&&L){var se=L,q=M.every(function(z){return se.indexOf(z)>=0});q&&(M=se)}}return pt(pt({},y),{},qr({},$,pt(pt({},b),{},{axisType:i,domain:M,categoricalDomain:W,duplicateDomain:R,originalDomain:(v=b.domain)!==null&&v!==void 0?v:Y,isCategorical:m,layout:u})))},{})},MAe=function(e,r){var s=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.layout,h=e.children,f=g5(e.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:d}),m=f.length,y=PX(u,i),g=-1;return s.reduce(function(v,b){var w=b.type.defaultProps!==void 0?pt(pt({},b.type.defaultProps),b.props):b.props,N=w[o],_=YZ("number");if(!v[N]){g++;var C;return y?C=Dj(0,m):l&&l[N]&&l[N].hasStack?(C=DX(l[N].stackGroups,c,d),C=kE(h,C,N,i)):(C=VA(_,EX(f,s.filter(function(E){var A,I,$=o in E.props?E.props[o]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[o],O="hide"in E.props?E.props.hide:(I=E.type.defaultProps)===null||I===void 0?void 0:I.hide;return $===N&&!O}),"number",u),a.defaultProps.allowDataOverflow),C=kE(h,C,N,i)),pt(pt({},v),{},qr({},N,pt(pt({axisType:i},a.defaultProps),{},{hide:!0,orientation:cc(TAe,"".concat(i,".").concat(g%2),null),domain:C,originalDomain:_,isCategorical:y,layout:u})))}return v},{})},RAe=function(e,r){var s=r.axisType,a=s===void 0?"xAxis":s,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.children,h="".concat(a,"Id"),f=dc(u,i),m={};return f&&f.length?m=DAe(e,{axes:f,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(m=MAe(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),m},LAe=function(e){var r=Kf(e),s=Lh(r,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:e8(s,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Nj(r,s)}},tU=function(e){var r=e.children,s=e.defaultShowTooltip,a=ec(r,fg),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},FAe=function(e){return!e||!e.length?!1:e.some(function(r){var s=Bh(r&&r.type);return s&&s.indexOf("Bar")>=0})},rU=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},BAe=function(e,r){var s=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,d=s.width,u=s.height,h=s.children,f=s.margin||{},m=ec(h,fg),y=ec(h,Rp),g=Object.keys(c).reduce(function(C,E){var A=c[E],I=A.orientation;return!A.mirror&&!A.hide?pt(pt({},C),{},qr({},I,C[I]+A.width)):C},{left:f.left||0,right:f.right||0}),v=Object.keys(o).reduce(function(C,E){var A=o[E],I=A.orientation;return!A.mirror&&!A.hide?pt(pt({},C),{},qr({},I,cc(C,"".concat(I))+A.height)):C},{top:f.top||0,bottom:f.bottom||0}),b=pt(pt({},v),g),w=b.bottom;m&&(b.bottom+=m.props.height||fg.defaultProps.height),y&&r&&(b=QNe(b,a,s,r));var N=d-b.left-b.right,_=u-b.top-b.bottom;return pt(pt({brushBottom:w},b),{},{width:Math.max(N,0),height:Math.max(_,0)})},UAe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},v5=function(e){var r=e.chartName,s=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,u=e.formatAxisMap,h=e.defaultProps,f=function(b,w){var N=w.graphicalItems,_=w.stackGroups,C=w.offset,E=w.updateId,A=w.dataStartIndex,I=w.dataEndIndex,$=b.barSize,O=b.layout,P=b.barGap,M=b.barCategoryGap,R=b.maxBarSize,W=rU(O),Y=W.numericAxisName,K=W.cateAxisName,L=FAe(N),F=[];return N.forEach(function(ee,se){var q=g5(b.data,{graphicalItems:[ee],dataStartIndex:A,dataEndIndex:I}),z=ee.type.defaultProps!==void 0?pt(pt({},ee.type.defaultProps),ee.props):ee.props,Z=z.dataKey,X=z.maxBarSize,Q=z["".concat(Y,"Id")],ne=z["".concat(K,"Id")],ce={},ie=c.reduce(function(ke,lt){var Ve=w["".concat(lt.axisType,"Map")],Ke=z["".concat(lt.axisType,"Id")];Ve&&Ve[Ke]||lt.axisType==="zAxis"||r0();var yt=Ve[Ke];return pt(pt({},ke),{},qr(qr({},lt.axisType,yt),"".concat(lt.axisType,"Ticks"),Lh(yt)))},ce),pe=ie[K],ae=ie["".concat(K,"Ticks")],be=_&&_[Q]&&_[Q].hasStack&&d5e(ee,_[Q].stackGroups),we=Bh(ee.type).indexOf("Bar")>=0,Ie=Nj(pe,ae),Ee=[],H=L&&ZNe({barSize:$,stackGroups:_,totalSize:UAe(ie,K)});if(we){var Le,Ye,xt=ln(X)?R:X,qe=(Le=(Ye=Nj(pe,ae,!0))!==null&&Ye!==void 0?Ye:xt)!==null&&Le!==void 0?Le:0;Ee=JNe({barGap:P,barCategoryGap:M,bandSize:qe!==Ie?qe:Ie,sizeList:H[ne],maxBarSize:xt}),qe!==Ie&&(Ee=Ee.map(function(ke){return pt(pt({},ke),{},{position:pt(pt({},ke.position),{},{offset:ke.position.offset-qe/2})})}))}var ft=ee&&ee.type&&ee.type.getComposedData;ft&&F.push({props:pt(pt({},ft(pt(pt({},ie),{},{displayedData:q,props:b,dataKey:Z,item:ee,bandSize:Ie,barPosition:Ee,offset:C,stackedData:be,layout:O,dataStartIndex:A,dataEndIndex:I}))),{},qr(qr(qr({key:ee.key||"item-".concat(se)},Y,ie[Y]),K,ie[K]),"animationId",E)),childIndex:rve(ee,b.children),item:ee})}),F},m=function(b,w){var N=b.props,_=b.dataStartIndex,C=b.dataEndIndex,E=b.updateId;if(!hM({props:N}))return null;var A=N.children,I=N.layout,$=N.stackOffset,O=N.data,P=N.reverseStackOrder,M=rU(I),R=M.numericAxisName,W=M.cateAxisName,Y=dc(A,s),K=l5e(O,Y,"".concat(R,"Id"),"".concat(W,"Id"),$,P),L=c.reduce(function(z,Z){var X="".concat(Z.axisType,"Map");return pt(pt({},z),{},qr({},X,RAe(N,pt(pt({},Z),{},{graphicalItems:Y,stackGroups:Z.axisType===R&&K,dataStartIndex:_,dataEndIndex:C}))))},{}),F=BAe(pt(pt({},L),{},{props:N,graphicalItems:Y}),w?.legendBBox);Object.keys(L).forEach(function(z){L[z]=u(N,L[z],F,z.replace("Map",""),r)});var ee=L["".concat(W,"Map")],se=LAe(ee),q=f(N,pt(pt({},L),{},{dataStartIndex:_,dataEndIndex:C,updateId:E,graphicalItems:Y,stackGroups:K,offset:F}));return pt(pt({formattedGraphicalItems:q,graphicalItems:Y,offset:F,stackGroups:K},se),L)},y=(function(v){function b(w){var N,_,C;return bAe(this,b),C=NAe(this,b,[w]),qr(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),qr(C,"accessibilityManager",new iAe),qr(C,"handleLegendBBoxUpdate",function(E){if(E){var A=C.state,I=A.dataStartIndex,$=A.dataEndIndex,O=A.updateId;C.setState(pt({legendBBox:E},m({props:C.props,dataStartIndex:I,dataEndIndex:$,updateId:O},pt(pt({},C.state),{},{legendBBox:E}))))}}),qr(C,"handleReceiveSyncEvent",function(E,A,I){if(C.props.syncId===E){if(I===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(A)}}),qr(C,"handleBrushChange",function(E){var A=E.startIndex,I=E.endIndex;if(A!==C.state.dataStartIndex||I!==C.state.dataEndIndex){var $=C.state.updateId;C.setState(function(){return pt({dataStartIndex:A,dataEndIndex:I},m({props:C.props,dataStartIndex:A,dataEndIndex:I,updateId:$},C.state))}),C.triggerSyncEvent({dataStartIndex:A,dataEndIndex:I})}}),qr(C,"handleMouseEnter",function(E){var A=C.getMouseInfo(E);if(A){var I=pt(pt({},A),{},{isTooltipActive:!0});C.setState(I),C.triggerSyncEvent(I);var $=C.props.onMouseEnter;Kr($)&&$(I,E)}}),qr(C,"triggeredAfterMouseMove",function(E){var A=C.getMouseInfo(E),I=A?pt(pt({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(I),C.triggerSyncEvent(I);var $=C.props.onMouseMove;Kr($)&&$(I,E)}),qr(C,"handleItemMouseEnter",function(E){C.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),qr(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),qr(C,"handleMouseMove",function(E){E.persist(),C.throttleTriggeredAfterMouseMove(E)}),qr(C,"handleMouseLeave",function(E){C.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};C.setState(A),C.triggerSyncEvent(A);var I=C.props.onMouseLeave;Kr(I)&&I(A,E)}),qr(C,"handleOuterEvent",function(E){var A=tve(E),I=cc(C.props,"".concat(A));if(A&&Kr(I)){var $,O;/.*touch.*/i.test(A)?O=C.getMouseInfo(E.changedTouches[0]):O=C.getMouseInfo(E),I(($=O)!==null&&$!==void 0?$:{},E)}}),qr(C,"handleClick",function(E){var A=C.getMouseInfo(E);if(A){var I=pt(pt({},A),{},{isTooltipActive:!0});C.setState(I),C.triggerSyncEvent(I);var $=C.props.onClick;Kr($)&&$(I,E)}}),qr(C,"handleMouseDown",function(E){var A=C.props.onMouseDown;if(Kr(A)){var I=C.getMouseInfo(E);A(I,E)}}),qr(C,"handleMouseUp",function(E){var A=C.props.onMouseUp;if(Kr(A)){var I=C.getMouseInfo(E);A(I,E)}}),qr(C,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),qr(C,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&C.handleMouseDown(E.changedTouches[0])}),qr(C,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&C.handleMouseUp(E.changedTouches[0])}),qr(C,"handleDoubleClick",function(E){var A=C.props.onDoubleClick;if(Kr(A)){var I=C.getMouseInfo(E);A(I,E)}}),qr(C,"handleContextMenu",function(E){var A=C.props.onContextMenu;if(Kr(A)){var I=C.getMouseInfo(E);A(I,E)}}),qr(C,"triggerSyncEvent",function(E){C.props.syncId!==void 0&&dC.emit(uC,C.props.syncId,E,C.eventEmitterSymbol)}),qr(C,"applySyncEvent",function(E){var A=C.props,I=A.layout,$=A.syncMethod,O=C.state.updateId,P=E.dataStartIndex,M=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)C.setState(pt({dataStartIndex:P,dataEndIndex:M},m({props:C.props,dataStartIndex:P,dataEndIndex:M,updateId:O},C.state)));else if(E.activeTooltipIndex!==void 0){var R=E.chartX,W=E.chartY,Y=E.activeTooltipIndex,K=C.state,L=K.offset,F=K.tooltipTicks;if(!L)return;if(typeof $=="function")Y=$(F,E);else if($==="value"){Y=-1;for(var ee=0;ee<F.length;ee++)if(F[ee].value===E.activeLabel){Y=ee;break}}var se=pt(pt({},L),{},{x:L.left,y:L.top}),q=Math.min(R,se.x+se.width),z=Math.min(W,se.y+se.height),Z=F[Y]&&F[Y].value,X=PE(C.state,C.props.data,Y),Q=F[Y]?{x:I==="horizontal"?F[Y].coordinate:q,y:I==="horizontal"?z:F[Y].coordinate}:KZ;C.setState(pt(pt({},E),{},{activeLabel:Z,activeCoordinate:Q,activePayload:X,activeTooltipIndex:Y}))}else C.setState(E)}),qr(C,"renderCursor",function(E){var A,I=C.state,$=I.isTooltipActive,O=I.activeCoordinate,P=I.activePayload,M=I.offset,R=I.activeTooltipIndex,W=I.tooltipAxisBandSize,Y=C.getTooltipEventType(),K=(A=E.props.active)!==null&&A!==void 0?A:$,L=C.props.layout,F=E.key||"_recharts-cursor";return fe.createElement(fAe,{key:F,activeCoordinate:O,activePayload:P,activeTooltipIndex:R,chartName:r,element:E,isActive:K,layout:L,offset:M,tooltipAxisBandSize:W,tooltipEventType:Y})}),qr(C,"renderPolarAxis",function(E,A,I){var $=cc(E,"type.axisType"),O=cc(C.state,"".concat($,"Map")),P=E.type.defaultProps,M=P!==void 0?pt(pt({},P),E.props):E.props,R=O&&O[M["".concat($,"Id")]];return S.cloneElement(E,pt(pt({},R),{},{className:dn($,R.className),key:E.key||"".concat(A,"-").concat(I),ticks:Lh(R,!0)}))}),qr(C,"renderPolarGrid",function(E){var A=E.props,I=A.radialLines,$=A.polarAngles,O=A.polarRadius,P=C.state,M=P.radiusAxisMap,R=P.angleAxisMap,W=Kf(M),Y=Kf(R),K=Y.cx,L=Y.cy,F=Y.innerRadius,ee=Y.outerRadius;return S.cloneElement(E,{polarAngles:Array.isArray($)?$:Lh(Y,!0).map(function(se){return se.coordinate}),polarRadius:Array.isArray(O)?O:Lh(W,!0).map(function(se){return se.coordinate}),cx:K,cy:L,innerRadius:F,outerRadius:ee,key:E.key||"polar-grid",radialLines:I})}),qr(C,"renderLegend",function(){var E=C.state.formattedGraphicalItems,A=C.props,I=A.children,$=A.width,O=A.height,P=C.props.margin||{},M=$-(P.left||0)-(P.right||0),R=kX({children:I,formattedGraphicalItems:E,legendWidth:M,legendContent:d});if(!R)return null;var W=R.item,Y=JB(R,mAe);return S.cloneElement(W,pt(pt({},Y),{},{chartWidth:$,chartHeight:O,margin:P,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),qr(C,"renderTooltip",function(){var E,A=C.props,I=A.children,$=A.accessibilityLayer,O=ec(I,kl);if(!O)return null;var P=C.state,M=P.isTooltipActive,R=P.activeCoordinate,W=P.activePayload,Y=P.activeLabel,K=P.offset,L=(E=O.props.active)!==null&&E!==void 0?E:M;return S.cloneElement(O,{viewBox:pt(pt({},K),{},{x:K.left,y:K.top}),active:L,label:Y,payload:L?W:[],coordinate:R,accessibilityLayer:$})}),qr(C,"renderBrush",function(E){var A=C.props,I=A.margin,$=A.data,O=C.state,P=O.offset,M=O.dataStartIndex,R=O.dataEndIndex,W=O.updateId;return S.cloneElement(E,{key:E.key||"_recharts-brush",onChange:P2(C.handleBrushChange,E.props.onChange),data:$,x:It(E.props.x)?E.props.x:P.left,y:It(E.props.y)?E.props.y:P.top+P.height+P.brushBottom-(I.bottom||0),width:It(E.props.width)?E.props.width:P.width,startIndex:M,endIndex:R,updateId:"brush-".concat(W)})}),qr(C,"renderReferenceElement",function(E,A,I){if(!E)return null;var $=C,O=$.clipPathId,P=C.state,M=P.xAxisMap,R=P.yAxisMap,W=P.offset,Y=E.type.defaultProps||{},K=E.props,L=K.xAxisId,F=L===void 0?Y.xAxisId:L,ee=K.yAxisId,se=ee===void 0?Y.yAxisId:ee;return S.cloneElement(E,{key:E.key||"".concat(A,"-").concat(I),xAxis:M[F],yAxis:R[se],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:O})}),qr(C,"renderActivePoints",function(E){var A=E.item,I=E.activePoint,$=E.basePoint,O=E.childIndex,P=E.isRange,M=[],R=A.props.key,W=A.item.type.defaultProps!==void 0?pt(pt({},A.item.type.defaultProps),A.item.props):A.item.props,Y=W.activeDot,K=W.dataKey,L=pt(pt({index:O,dataKey:K,cx:I.x,cy:I.y,r:4,fill:C8(A.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Ir(Y,!1)),Jw(Y));return M.push(b.renderActiveDot(Y,L,"".concat(R,"-activePoint-").concat(O))),$?M.push(b.renderActiveDot(Y,pt(pt({},L),{},{cx:$.x,cy:$.y}),"".concat(R,"-basePoint-").concat(O))):P&&M.push(null),M}),qr(C,"renderGraphicChild",function(E,A,I){var $=C.filterFormatItem(E,A,I);if(!$)return null;var O=C.getTooltipEventType(),P=C.state,M=P.isTooltipActive,R=P.tooltipAxis,W=P.activeTooltipIndex,Y=P.activeLabel,K=C.props.children,L=ec(K,kl),F=$.props,ee=F.points,se=F.isRange,q=F.baseLine,z=$.item.type.defaultProps!==void 0?pt(pt({},$.item.type.defaultProps),$.item.props):$.item.props,Z=z.activeDot,X=z.hide,Q=z.activeBar,ne=z.activeShape,ce=!!(!X&&M&&L&&(Z||Q||ne)),ie={};O!=="axis"&&L&&L.props.trigger==="click"?ie={onClick:P2(C.handleItemMouseEnter,E.props.onClick)}:O!=="axis"&&(ie={onMouseLeave:P2(C.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:P2(C.handleItemMouseEnter,E.props.onMouseEnter)});var pe=S.cloneElement(E,pt(pt({},$.props),ie));function ae(lt){return typeof R.dataKey=="function"?R.dataKey(lt.payload):null}if(ce)if(W>=0){var be,we;if(R.dataKey&&!R.allowDuplicatedCategory){var Ie=typeof R.dataKey=="function"?ae:"payload.".concat(R.dataKey.toString());be=Zw(ee,Ie,Y),we=se&&q&&Zw(q,Ie,Y)}else be=ee?.[W],we=se&&q&&q[W];if(ne||Q){var Ee=E.props.activeIndex!==void 0?E.props.activeIndex:W;return[S.cloneElement(E,pt(pt(pt({},$.props),ie),{},{activeIndex:Ee})),null,null]}if(!ln(be))return[pe].concat(Sg(C.renderActivePoints({item:$,activePoint:be,basePoint:we,childIndex:W,isRange:se})))}else{var H,Le=(H=C.getItemByXY(C.state.activeCoordinate))!==null&&H!==void 0?H:{graphicalItem:pe},Ye=Le.graphicalItem,xt=Ye.item,qe=xt===void 0?E:xt,ft=Ye.childIndex,ke=pt(pt(pt({},$.props),ie),{},{activeIndex:ft});return[S.cloneElement(qe,ke),null,null]}return se?[pe,null,null]:[pe,null]}),qr(C,"renderCustomized",function(E,A,I){return S.cloneElement(E,pt(pt({key:"recharts-customized-".concat(I)},C.props),C.state))}),qr(C,"renderMap",{CartesianGrid:{handler:D2,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:D2},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:D2},YAxis:{handler:D2},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((N=w.id)!==null&&N!==void 0?N:p0("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=CY(C.triggeredAfterMouseMove,(_=w.throttleDelay)!==null&&_!==void 0?_:1e3/60),C.state={},C}return CAe(b,v),jAe(b,[{key:"componentDidMount",value:function(){var N,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,_=N.children,C=N.data,E=N.height,A=N.layout,I=ec(_,kl);if(I){var $=I.props.defaultIndex;if(!(typeof $!="number"||$<0||$>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[$]&&this.state.tooltipTicks[$].value,P=PE(this.state,C,$,O),M=this.state.tooltipTicks[$].coordinate,R=(this.state.offset.top+E)/2,W=A==="horizontal",Y=W?{x:M,y:R}:{y:M,x:R},K=this.state.formattedGraphicalItems.find(function(F){var ee=F.item;return ee.type.name==="Scatter"});K&&(Y=pt(pt({},Y),K.props.points[$].tooltipPosition),P=K.props.points[$].tooltipPayload);var L={activeTooltipIndex:$,isTooltipActive:!0,activeLabel:O,activePayload:P,activeCoordinate:Y};this.setState(L),this.renderCursor(I),this.accessibilityManager.setIndex($)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var C,E;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(N){uA([ec(N.children,kl)],[ec(this.props.children,kl)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=ec(this.props.children,kl);if(N&&typeof N.props.shared=="boolean"){var _=N.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var _=this.container,C=_.getBoundingClientRect(),E=zbe(C),A={chartX:Math.round(N.pageX-E.left),chartY:Math.round(N.pageY-E.top)},I=C.width/_.offsetWidth||1,$=this.inRange(A.chartX,A.chartY,I);if(!$)return null;var O=this.state,P=O.xAxisMap,M=O.yAxisMap,R=this.getTooltipEventType(),W=eU(this.state,this.props.data,this.props.layout,$);if(R!=="axis"&&P&&M){var Y=Kf(P).scale,K=Kf(M).scale,L=Y&&Y.invert?Y.invert(A.chartX):null,F=K&&K.invert?K.invert(A.chartY):null;return pt(pt({},A),{},{xValue:L,yValue:F},W)}return W?pt(pt({},A),W):null}},{key:"inRange",value:function(N,_){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,A=N/C,I=_/C;if(E==="horizontal"||E==="vertical"){var $=this.state.offset,O=A>=$.left&&A<=$.left+$.width&&I>=$.top&&I<=$.top+$.height;return O?{x:A,y:I}:null}var P=this.state,M=P.angleAxisMap,R=P.radiusAxisMap;if(M&&R){var W=Kf(M);return eF({x:A,y:I},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,_=this.getTooltipEventType(),C=ec(N,kl),E={};C&&_==="axis"&&(C.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Jw(this.props,this.handleOuterEvent);return pt(pt({},A),E)}},{key:"addListener",value:function(){dC.on(uC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){dC.removeListener(uC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,_,C){for(var E=this.state.formattedGraphicalItems,A=0,I=E.length;A<I;A++){var $=E[A];if($.item===N||$.props.key===N.key||_===Bh($.item.type)&&C===$.childIndex)return $}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,_=this.state.offset,C=_.left,E=_.top,A=_.height,I=_.width;return fe.createElement("defs",null,fe.createElement("clipPath",{id:N},fe.createElement("rect",{x:C,y:E,height:A,width:I})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(_,C){var E=ZB(C,2),A=E[0],I=E[1];return pt(pt({},_),{},qr({},A,I.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(_,C){var E=ZB(C,2),A=E[0],I=E[1];return pt(pt({},_),{},qr({},A,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[N])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(N){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[N])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(N){var _=this.state,C=_.formattedGraphicalItems,E=_.activeItem;if(C&&C.length)for(var A=0,I=C.length;A<I;A++){var $=C[A],O=$.props,P=$.item,M=P.type.defaultProps!==void 0?pt(pt({},P.type.defaultProps),P.props):P.props,R=Bh(P.type);if(R==="Bar"){var W=(O.data||[]).find(function(F){return aSe(N,F)});if(W)return{graphicalItem:$,payload:W}}else if(R==="RadialBar"){var Y=(O.data||[]).find(function(F){return eF(N,F)});if(Y)return{graphicalItem:$,payload:Y}}else if(d5($,E)||u5($,E)||jy($,E)){var K=A6e({graphicalItem:$,activeTooltipItem:E,itemData:M.data}),L=M.activeIndex===void 0?K:M.activeIndex;return{graphicalItem:pt(pt({},$),{},{childIndex:L}),payload:jy($,E)?M.data[K]:$.props.data[K]}}}return null}},{key:"render",value:function(){var N=this;if(!hM(this))return null;var _=this.props,C=_.children,E=_.className,A=_.width,I=_.height,$=_.style,O=_.compact,P=_.title,M=_.desc,R=JB(_,pAe),W=Ir(R,!1);if(O)return fe.createElement(PB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},fe.createElement(fA,Ax({},W,{width:A,height:I,title:P,desc:M}),this.renderClipPath(),mM(C,this.renderMap)));if(this.props.accessibilityLayer){var Y,K;W.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,W.role=(K=this.props.role)!==null&&K!==void 0?K:"application",W.onKeyDown=function(F){N.accessibilityManager.keyboardEvent(F)},W.onFocus=function(){N.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return fe.createElement(PB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},fe.createElement("div",Ax({className:dn("recharts-wrapper",E),style:pt({position:"relative",cursor:"default",width:A,height:I},$)},L,{ref:function(ee){N.container=ee}}),fe.createElement(fA,Ax({},W,{width:A,height:I,title:P,desc:M,style:OAe}),this.renderClipPath(),mM(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(S.Component);qr(y,"displayName",r),qr(y,"defaultProps",pt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),qr(y,"getDerivedStateFromProps",function(v,b){var w=v.dataKey,N=v.data,_=v.children,C=v.width,E=v.height,A=v.layout,I=v.stackOffset,$=v.margin,O=b.dataStartIndex,P=b.dataEndIndex;if(b.updateId===void 0){var M=tU(v);return pt(pt(pt({},M),{},{updateId:0},m(pt(pt({props:v},M),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:N,prevWidth:C,prevHeight:E,prevLayout:A,prevStackOffset:I,prevMargin:$,prevChildren:_})}if(w!==b.prevDataKey||N!==b.prevData||C!==b.prevWidth||E!==b.prevHeight||A!==b.prevLayout||I!==b.prevStackOffset||!Fx($,b.prevMargin)){var R=tU(v),W={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},Y=pt(pt({},eU(b,N,A)),{},{updateId:b.updateId+1}),K=pt(pt(pt({},R),W),Y);return pt(pt(pt({},K),m(pt({props:v},K),b)),{},{prevDataKey:w,prevData:N,prevWidth:C,prevHeight:E,prevLayout:A,prevStackOffset:I,prevMargin:$,prevChildren:_})}if(!uA(_,b.prevChildren)){var L,F,ee,se,q=ec(_,fg),z=q&&(L=(F=q.props)===null||F===void 0?void 0:F.startIndex)!==null&&L!==void 0?L:O,Z=q&&(ee=(se=q.props)===null||se===void 0?void 0:se.endIndex)!==null&&ee!==void 0?ee:P,X=z!==O||Z!==P,Q=!ln(N),ne=Q&&!X?b.updateId:b.updateId+1;return pt(pt({updateId:ne},m(pt(pt({props:v},b),{},{updateId:ne,dataStartIndex:z,dataEndIndex:Z}),b)),{},{prevChildren:_,dataStartIndex:z,dataEndIndex:Z})}return null}),qr(y,"renderActiveDot",function(v,b,w){var N;return S.isValidElement(v)?N=S.cloneElement(v,b):Kr(v)?N=v(b):N=fe.createElement(ab,b),fe.createElement(Tn,{className:"recharts-active-dot",key:w},N)});var g=S.forwardRef(function(b,w){return fe.createElement(y,Ax({},b,{ref:w}))});return g.displayName=y.displayName,g},zAe=v5({chartName:"LineChart",GraphicalChild:ib,axisComponents:[{axisType:"xAxis",AxisComp:Zh},{axisType:"yAxis",AxisComp:Mu}],formatAxisMap:E8}),XZ=v5({chartName:"BarChart",GraphicalChild:Xh,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Zh},{axisType:"yAxis",AxisComp:Mu}],formatAxisMap:E8}),VAe=v5({chartName:"PieChart",GraphicalChild:tf,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:c5},{axisType:"radiusAxis",AxisComp:o5}],formatAxisMap:b5e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),WAe=v5({chartName:"AreaChart",GraphicalChild:vm,axisComponents:[{axisType:"xAxis",AxisComp:Zh},{axisType:"yAxis",AxisComp:Mu}],formatAxisMap:E8});function ui({title:t,description:e,action:r,sticky:s=!1}){return n.jsxs("div",{className:`
      flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4
      ${s?"sticky top-16 lg:static bg-gray-50 dark:bg-[#161616] py-2 lg:py-0 -mx-4 px-4 sm:-mx-6 sm:px-6 lg:mx-0 lg:px-0 z-10 border-b lg:border-b-0 border-gray-200 dark:border-[#2a2a2a] lg:mb-0":""}
    `,children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h1",{className:"text-gray-900 dark:text-white mb-2 truncate",children:t}),e&&n.jsx("p",{className:"text-gray-600 dark:text-[#737373] text-sm sm:text-base lg:mb-6",children:e})]}),r&&n.jsx("div",{className:"w-full sm:w-auto flex-shrink-0",children:r})]})}const Xj={BOOKINGS:"bookings",GAMES:"bookingtms::games",GIFT_VOUCHERS:"giftVouchers"},y5="00000000-0000-0000-0000-000000000001",ZZ="https://images.unsplash.com/photo-1576086213369-97a306d36557?w=800&h=600&fit=crop",fC={visibility:"public",publishingTargets:{widgets:!0,embed:!0,calendars:!0,previews:!0},bookingLeadTime:0,cancellationWindow:24},HAe=["admin_games","bookingtms_games"],qAe="bookingtms_games_",nU={1:"Easy",2:"Easy",3:"Medium",4:"Hard",5:"Extreme"},GAe={Easy:2,Medium:3,Hard:4,Extreme:5};function gu(){return typeof window<"u"&&typeof window.localStorage<"u"}function F8(t){if(typeof t=="string"){const e=t.trim().toLowerCase();if(e==="easy")return"Easy";if(e==="medium")return"Medium";if(e==="hard")return"Hard";if(e==="extreme")return"Extreme"}return typeof t=="number"&&nU[t]?nU[t]:"Medium"}function B8(t){return t?GAe[t]??3:3}function Up(t,e){if(typeof t=="number"&&!Number.isNaN(t))return t;if(typeof t=="string"){const r=parseFloat(t);return Number.isFinite(r)?r:e}return e}function zp(t){return Array.isArray(t)?t.filter(e=>typeof e=="string"):[]}function U8(t,e){const r=t??fC;return e?{visibility:e.visibility??r.visibility??"public",bookingLeadTime:e.bookingLeadTime??r.bookingLeadTime,cancellationWindow:e.cancellationWindow??r.cancellationWindow,specialInstructions:e.specialInstructions??r.specialInstructions,publishingTargets:{...fC.publishingTargets,...r.publishingTargets??{},...e.publishingTargets??{}}}:{...r,publishingTargets:{...fC.publishingTargets,...r.publishingTargets??{}}}}function Rv(t){if(!t||typeof t!="object")return null;const e=F8(t.difficulty??t.difficultyLabel),r=typeof t.duration=="number"||typeof t.duration=="string"?t.duration:`${Up(t.durationMinutes??60,60)} min`,s=Up(t.basePrice??t.price,0),a=Up(t.capacity??t.maxPlayers,8),i=t.coverImage||t.imageUrl||t.image||ZZ,o=t.gameType==="virtual"||t.gameType==="hybrid"?t.gameType:"physical",l=typeof t.createdAt=="string"?t.createdAt:new Date().toISOString(),c=typeof t.updatedAt=="string"?t.updatedAt:t.lastUpdated??l;return{id:String(t.id??`game_${Date.now()}`),name:String(t.name??"Untitled Event"),description:t.description??"",image:i,imageUrl:t.imageUrl??i,coverImage:t.coverImage??i,duration:r,capacity:a,basePrice:s,priceRange:t.priceRange??`$${s}`,ageRange:t.ageRange??"All ages",difficulty:typeof t.difficulty=="number"?t.difficulty:B8(e),difficultyLabel:t.difficultyLabel??e,gameType:o,status:t.status==="inactive"?"inactive":"active",blockedDates:Array.isArray(t.blockedDates)?t.blockedDates:[],availability:t.availability&&typeof t.availability=="object"?t.availability:{},galleryImages:zp(t.galleryImages),videos:zp(t.videos),categoryId:t.categoryId??"default",organizationId:t.organizationId??y5,createdAt:l,updatedAt:c,createdBy:t.createdBy,updatedBy:t.updatedBy,settings:U8(t.settings,t.settings)}}function KAe(t,e){const r=new Date().toISOString(),s=F8(t.difficulty??t.difficultyLabel),a=typeof t.duration=="number"||typeof t.duration=="string"?t.duration:60,i=t.coverImage||t.imageUrl||t.image||ZZ,o=Up(t.basePrice,0),l=Up(t.capacity,8),c=t.gameType==="virtual"||t.gameType==="hybrid"?t.gameType:"physical";return{id:`game_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,name:t.name?.trim()||"Untitled Event",description:t.description??"",image:i,imageUrl:t.imageUrl??i,coverImage:t.coverImage??i,duration:a,capacity:l,basePrice:o,priceRange:t.priceRange??`$${o}`,ageRange:t.ageRange??"All ages",difficulty:typeof t.difficulty=="number"?t.difficulty:B8(s),difficultyLabel:t.difficultyLabel??s,gameType:c,status:t.status==="inactive"?"inactive":"active",blockedDates:Array.isArray(t.blockedDates)?t.blockedDates:[],availability:t.availability&&typeof t.availability=="object"?t.availability:{},galleryImages:zp(t.galleryImages),videos:zp(t.videos),categoryId:t.categoryId??"default",organizationId:e?.organizationId??y5,createdAt:r,updatedAt:r,createdBy:e?.userId,updatedBy:e?.userId,settings:U8(void 0,t.settings)}}function YAe(t,e,r){const s=e.difficultyLabel??F8(e.difficulty??t.difficulty),a=e.coverImage||e.imageUrl||e.image,i=e.basePrice!==void 0?Up(e.basePrice,t.basePrice):t.basePrice,o=e.capacity!==void 0?Up(e.capacity,t.capacity):t.capacity,l=e.duration!==void 0?e.duration:t.duration,c=e.gameType==="virtual"||e.gameType==="hybrid"?e.gameType:t.gameType??"physical";return{...t,name:e.name?.trim()||t.name,description:e.description??t.description,duration:l,capacity:o,basePrice:i,priceRange:e.priceRange??t.priceRange??`$${i}`,ageRange:e.ageRange??t.ageRange,difficulty:e.difficulty!==void 0?typeof e.difficulty=="number"?e.difficulty:B8(s):t.difficulty,difficultyLabel:s||t.difficultyLabel,gameType:c,status:e.status==="inactive"?"inactive":e.status==="active"?"active":t.status,image:a??t.image,imageUrl:e.imageUrl??a??t.imageUrl,coverImage:e.coverImage??t.coverImage??a,galleryImages:e.galleryImages!==void 0?zp(e.galleryImages):t.galleryImages,videos:e.videos!==void 0?zp(e.videos):t.videos,blockedDates:e.blockedDates!==void 0?zp(e.blockedDates):t.blockedDates,availability:e.availability!==void 0?e.availability:t.availability,categoryId:e.categoryId??t.categoryId,settings:U8(t.settings,e.settings??t.settings),organizationId:r?.organizationId??t.organizationId??y5,updatedAt:new Date().toISOString(),updatedBy:r?.userId??t.updatedBy}}class Py{static STORAGE_KEYS=Xj;static SHARED_GAMES_KEY=Xj.GAMES;static ENVELOPE_VERSION=1;static getAllBookings(){if(!gu())return[];try{const e=localStorage.getItem(this.STORAGE_KEYS.BOOKINGS);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading bookings:",e),[]}}static saveBooking(e){const r=new Date().toISOString(),s={id:`booking_${Date.now()}_${Math.random().toString(36).slice(2,9)}`,timestamp:r,status:"confirmed",source:"widget",...e},a=this.getAllBookings();return a.push(s),gu()&&localStorage.setItem(this.STORAGE_KEYS.BOOKINGS,JSON.stringify(a)),console.log(" Booking saved to localStorage (legacy):",s.id),console.warn(" This booking is only stored locally. Use SupabaseBookingService for real persistence."),s}static updateBookingStatus(e,r){const s=this.getAllBookings(),a=s.findIndex(i=>i.id===e);a!==-1&&(s[a].status=r,gu()&&localStorage.setItem(this.STORAGE_KEYS.BOOKINGS,JSON.stringify(s)),console.log(" Booking status updated:",e,r))}static getAllGames(){if(!gu())return[];try{const e=localStorage.getItem(this.SHARED_GAMES_KEY);if(e){const r=JSON.parse(e);if(Array.isArray(r))return r.map(Rv).filter(s=>!!s);if(r&&Array.isArray(r.games))return r.games.map(Rv).filter(s=>!!s)}}catch(e){console.warn(" Failed to parse shared games payload, falling back to legacy keys.",e)}for(const e of HAe){const r=localStorage.getItem(e);if(r)try{const s=JSON.parse(r);if(Array.isArray(s)){const a=s.map(Rv).filter(i=>!!i);if(a.length)return this.persistGames(a),a}}catch(s){console.warn(` Failed to parse legacy games key "${e}".`,s)}}for(let e=0;e<localStorage.length;e++){const r=localStorage.key(e)??"";if(r.startsWith(qAe)){const s=localStorage.getItem(r);if(!s)continue;try{const a=JSON.parse(s);if(Array.isArray(a)){const i=a.map(Rv).filter(o=>!!o);if(i.length)return this.persistGames(i),i}}catch(a){console.warn(` Failed to parse scoped legacy games key "${r}".`,a)}}}return[]}static getGameById(e){return this.getAllGames().find(s=>s.id===e)??null}static persistGames(e,r){if(!gu())return;const s={version:this.ENVELOPE_VERSION,updatedAt:new Date().toISOString(),updatedBy:r?.updatedBy,organizationId:r?.organizationId??e[0]?.organizationId??y5,games:e};try{localStorage.setItem(this.SHARED_GAMES_KEY,JSON.stringify(s)),localStorage.setItem(this.STORAGE_KEYS.GAMES,JSON.stringify(e)),localStorage.setItem("bookingtms_games",JSON.stringify(e))}catch(a){console.error(" Failed to persist games data:",a)}}static saveGame(e,r){const s=this.getAllGames(),a=KAe(e,r);return s.push(a),this.persistGames(s,{updatedBy:r?.userId,organizationId:r?.organizationId}),console.log(" Game saved and sync event triggered:",a.id),a}static updateGame(e,r,s){const a=this.getAllGames(),i=a.findIndex(l=>l.id===e);if(i===-1)return console.warn(` Attempted to update missing game "${e}".`),null;const o=YAe(a[i],r,s);return a[i]=o,this.persistGames(a,{updatedBy:s?.userId,organizationId:s?.organizationId??o.organizationId}),console.log(" Game updated and sync event triggered:",e),o}static deleteGame(e,r){const a=this.getAllGames().filter(i=>i.id!==e);this.persistGames(a,{updatedBy:r?.userId,organizationId:r?.organizationId}),console.log(" Game deleted and sync event triggered:",e)}static replaceAllGames(e,r){if(!Array.isArray(e))return[];const s=e.map(Rv).filter(a=>!!a);return this.persistGames(s,{updatedBy:r?.userId,organizationId:r?.organizationId}),console.log(" Game catalog replaced. Total games:",s.length),s}static getAvailableTimeSlots(e,r){const s=this.getGameById(e);if(!s)return[];const i=this.getAllBookings().filter(l=>l.gameId===e&&l.date===r&&l.status!=="cancelled");return[{time:"10:00 AM",available:!0,spots:8},{time:"11:30 AM",available:!0,spots:8},{time:"1:00 PM",available:!0,spots:8},{time:"2:30 PM",available:!0,spots:8},{time:"4:00 PM",available:!0,spots:8},{time:"5:30 PM",available:!0,spots:8},{time:"7:00 PM",available:!0,spots:8},{time:"8:30 PM",available:!0,spots:8}].map(l=>{const c=i.filter(h=>h.time===l.time).reduce((h,f)=>h+f.participants,0),d=c<(s.capacity||8),u=Math.max(0,(s.capacity||8)-c);return{time:l.time,available:d,spots:u}})}static isDateBlocked(e,r){const s=this.getGameById(e);return s?Array.isArray(s.blockedDates)&&s.blockedDates.includes(r):!1}static getAllGiftVouchers(){if(!gu())return[];try{const e=localStorage.getItem(this.STORAGE_KEYS.GIFT_VOUCHERS);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading gift vouchers:",e),[]}}static saveGiftVoucher(e){const r={id:`voucher_${Date.now()}_${Math.random().toString(36).slice(2,9)}`,purchaseDate:new Date().toISOString(),status:"active",...e},s=this.getAllGiftVouchers();return s.push(r),gu()&&localStorage.setItem(this.STORAGE_KEYS.GIFT_VOUCHERS,JSON.stringify(s)),console.log(" Gift voucher saved:",r.id),r}static getBookingStats(){const e=this.getAllBookings(),r=e.reduce((a,i)=>a+i.totalPrice,0),s=e.filter(a=>a.status==="confirmed").length;return{totalBookings:e.length,confirmedBookings:s,totalRevenue:r,averageOrderValue:e.length>0?r/e.length:0}}static exportAllData(){return{bookings:this.getAllBookings(),games:this.getAllGames(),giftVouchers:this.getAllGiftVouchers(),stats:this.getBookingStats()}}static clearAllData(){gu()&&(localStorage.removeItem(this.STORAGE_KEYS.BOOKINGS),localStorage.removeItem(this.STORAGE_KEYS.GIFT_VOUCHERS),localStorage.removeItem(this.SHARED_GAMES_KEY),console.log(" All data cleared"))}}class XAe{listeners={};subscribe(e,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(r),console.log(` Subscribed to event: ${e}. Total listeners: ${this.listeners[e].length}`)}unsubscribe(e,r){this.listeners[e]&&(this.listeners[e]=this.listeners[e].filter(s=>s!==r))}emit(e){if(!this.listeners[e]){console.log(` No listeners for event: ${e}`);return}console.log(` Emitting data sync event: ${e} to ${this.listeners[e].length} listeners`),this.listeners[e].forEach((r,s)=>{try{r(),console.log(` Event ${e} listener ${s} executed successfully`)}catch(a){console.error(` Error in event ${e} listener ${s}:`,a)}})}}const $o=new XAe;class sl extends Py{static saveGame(e,r){const s=super.saveGame(e,r);return $o.emit("games-updated"),s}static updateGame(e,r,s){const a=super.updateGame(e,r,s);return a&&$o.emit("games-updated"),a}static deleteGame(e,r){super.deleteGame(e,r),$o.emit("games-updated")}static replaceAllGames(e,r){const s=super.replaceAllGames(e,r);return $o.emit("games-updated"),s}static saveBooking(e){const r=super.saveBooking(e);return $o.emit("bookings-updated"),r}static updateBooking(e,r){const s=this.getAllBookings(),a=s.findIndex(i=>i.id===e);a!==-1&&(s[a]={...s[a],...r},gu()&&localStorage.setItem(this.STORAGE_KEYS.BOOKINGS,JSON.stringify(s)),$o.emit("bookings-updated"),console.log(" Booking updated and sync event triggered:",e))}}gu()&&window.addEventListener("storage",t=>{t.key&&((t.key===Xj.GAMES||t.key==="admin_games"||t.key==="bookingtms_games")&&$o.emit("games-updated"),(t.key===Xj.BOOKINGS||t.key==="bookings")&&$o.emit("bookings-updated"))});const ZAe=[];function sU(){const{theme:t}=fn(),e=t==="dark",[r,s]=S.useState(!1),[a,i]=S.useState([]),[o,l]=S.useState([]),[c,d]=S.useState([]),[u,h]=S.useState({totalBookings:0,confirmedBookings:0,totalRevenue:0,averageOrderValue:0}),[f,m]=S.useState(0),y=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),g={primary:"#4f46e5",grid:e?"#2a2a2a":"#e5e7eb",text:e?"#737373":"#6b7280",tooltip:e?"#1e1e1e":"#ffffff",tooltipBorder:e?"#2a2a2a":"#e5e7eb"};return S.useEffect(()=>{const v=()=>{const w=sl.getAllBookings(),N=sl.getBookingStats();h(N);const _=w.length>0?w.reduce((Y,K)=>Y+(K.participants||0),0)/w.length:0;m(_);const C=Y=>{const K=new Date(Y),L=K.getDay(),F=K.getDate()-L+(L===0?-6:1),ee=new Date(K.setDate(F));return ee.setHours(0,0,0,0),ee},E=Y=>{const K=new Date(Y);return K.setDate(Y.getDate()+6),K.setHours(23,59,59,999),K},A=Y=>Y.toLocaleDateString("en-US",{month:"short",day:"numeric"}),I=new Date,$=[];for(let Y=7;Y>=0;Y--){const K=new Date(I);K.setDate(I.getDate()-Y*7);const L=C(K),F=E(L),ee=w.filter(se=>{const q=new Date(se.date||se.timestamp);return q>=L&&q<=F&&se.status!=="cancelled"}).length;$.push({week:A(L),bookings:ee})}i($);const O=new Date().toISOString().slice(0,10),P=w.filter(Y=>Y.date===O&&Y.status!=="cancelled"),R=["10:00 AM","11:30 AM","1:00 PM","2:30 PM","4:00 PM","5:30 PM","7:00 PM","8:30 PM"].map(Y=>({hour:Y,bookings:P.filter(K=>K.time===Y).length}));l(R);const W=w.filter(Y=>{const K=new Date(Y.date),L=new Date,F=new Date(K.getFullYear(),K.getMonth(),K.getDate()),ee=new Date(L.getFullYear(),L.getMonth(),L.getDate());return F>=ee&&Y.status!=="cancelled"}).sort((Y,K)=>{const L=new Date(`${Y.date} ${Y.time}`),F=new Date(`${K.date} ${K.time}`);return L.getTime()-F.getTime()}).slice(0,5).map(Y=>({id:Y.id,customer:Y.customerName,status:Y.status,game:Y.gameName,time:Y.time,guests:Y.participants||0}));d(W)};v();const b=()=>v();return $o.subscribe("bookings-updated",b),()=>{$o.unsubscribe("bookings-updated",b)}},[]),n.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[n.jsx(ui,{title:"Dashboard",description:`Welcome back! Here's what's happening today - ${y}`,sticky:!0,action:n.jsxs(J,{variant:"outline",className:"h-11",onClick:()=>{s(!0);try{window.location.reload()}catch{me.error("Failed to refresh dashboard"),s(!1)}},disabled:r,children:[n.jsx(Rd,{className:`w-4 h-4 sm:mr-2 ${r?"animate-spin":""}`}),n.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-5 lg:gap-6",children:[n.jsx(j2,{title:"Total Bookings",value:new Intl.NumberFormat("en-US").format(u.totalBookings),change:12.5,icon:Nn,iconColor:"bg-blue-600 dark:bg-[#4f46e5]"}),n.jsx(j2,{title:"Revenue",value:`$${new Intl.NumberFormat("en-US").format(Math.round(u.totalRevenue))}`,change:8.2,icon:Si,iconColor:"bg-emerald-600 dark:bg-emerald-500"}),n.jsx(j2,{title:"Conversion Rate",value:`${(u.totalBookings>0?u.confirmedBookings/u.totalBookings*100:0).toFixed(2)}%`,change:-2.1,icon:Is,iconColor:"bg-purple-600 dark:bg-purple-500"}),n.jsx(j2,{title:"Avg Group Size",value:`${f.toFixed(1)}`,change:5.3,icon:Wr,iconColor:"bg-orange-600 dark:bg-orange-500"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5 sm:gap-6",children:[n.jsxs(ve,{className:"border-gray-200 dark:border-[#2a2a2a] shadow-sm hover:shadow-md dark:hover:shadow-[0_0_20px_rgba(79,70,229,0.15)] transition-all",children:[n.jsx(st,{className:"p-5 sm:p-6",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(at,{className:"text-base sm:text-lg",children:"Weekly Bookings Trend"}),n.jsx(ma,{className:"w-4 h-4 text-[#4f46e5] dark:text-[#6366f1]"})]}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#737373]",children:"Last 8 weeks performance"})]})})}),n.jsx(Te,{className:"p-5 sm:p-6 pt-0",children:n.jsx("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:n.jsx("div",{className:"min-w-[400px] px-4 sm:px-0",children:n.jsx(v1,{width:"100%",height:260,children:n.jsxs(WAe,{data:a,children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"colorBookings",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:g.primary,stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:g.primary,stopOpacity:0})]})}),n.jsx(ky,{strokeDasharray:"3 3",stroke:g.grid,opacity:.3}),n.jsx(Zh,{dataKey:"week",stroke:g.text,fontSize:11,tickLine:!1}),n.jsx(Mu,{stroke:g.text,fontSize:11,width:35,tickLine:!1}),n.jsx(kl,{contentStyle:{backgroundColor:g.tooltip,border:`1px solid ${g.tooltipBorder}`,borderRadius:"8px",fontSize:"12px",color:e?"#ffffff":"#000000"}}),n.jsx(vm,{type:"monotone",dataKey:"bookings",stroke:g.primary,strokeWidth:2.5,fill:"url(#colorBookings)",dot:{fill:g.primary,r:4,strokeWidth:2,stroke:e?"#161616":"#ffffff"},activeDot:{r:6,strokeWidth:2},name:"Bookings"})]})})})})})]}),n.jsxs(ve,{className:"border-gray-200 dark:border-[#2a2a2a] shadow-sm hover:shadow-md dark:hover:shadow-[0_0_20px_rgba(79,70,229,0.15)] transition-all",children:[n.jsx(st,{className:"p-5 sm:p-6",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(at,{className:"text-base sm:text-lg",children:"Today's Bookings"}),n.jsx(Uc,{className:"w-4 h-4 text-emerald-500 dark:text-emerald-400"})]}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#737373]",children:"Hourly distribution"})]})})}),n.jsx(Te,{className:"p-5 sm:p-6 pt-0",children:n.jsx("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:n.jsx("div",{className:"min-w-[400px] px-4 sm:px-0",children:n.jsx(v1,{width:"100%",height:260,children:n.jsxs(XZ,{data:o,children:[n.jsx(ky,{strokeDasharray:"3 3",stroke:g.grid,opacity:.3}),n.jsx(Zh,{dataKey:"hour",stroke:g.text,fontSize:11,tickLine:!1}),n.jsx(Mu,{stroke:g.text,fontSize:11,width:35,tickLine:!1}),n.jsx(kl,{contentStyle:{backgroundColor:g.tooltip,border:`1px solid ${g.tooltipBorder}`,borderRadius:"8px",fontSize:"12px",color:e?"#ffffff":"#000000"}}),n.jsx(Xh,{dataKey:"bookings",fill:g.primary,radius:[6,6,0,0],name:"Bookings"})]})})})})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5 sm:gap-6",children:[n.jsxs(ve,{className:"border-gray-200 dark:border-[#2a2a2a] shadow-sm hover:shadow-md dark:hover:shadow-[0_0_20px_rgba(79,70,229,0.15)] transition-all",children:[n.jsx(st,{className:"p-5 sm:p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(at,{className:"text-base sm:text-lg",children:"Upcoming Today"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#737373] mt-1",children:"Next bookings scheduled"})]}),n.jsxs(J,{variant:"ghost",size:"sm",className:"text-[#4f46e5] dark:text-[#6366f1] hover:text-[#4338ca] dark:hover:text-[#818cf8] hover:bg-blue-50 dark:hover:bg-[#4f46e5]/10 text-xs sm:text-sm",children:["View All",n.jsx($ne,{className:"w-3 h-3 ml-1"})]})]})}),n.jsx(Te,{className:"p-5 sm:p-6 pt-0",children:n.jsx("div",{className:"space-y-3",children:c.map((v,b)=>n.jsx("div",{className:"group relative flex items-start gap-3 p-3.5 rounded-lg border border-gray-100 dark:border-[#2a2a2a] hover:border-[#4f46e5]/30 dark:hover:border-[#6366f1]/30 hover:bg-gray-50 dark:hover:bg-[#1a1a1a] transition-all cursor-pointer",style:{animationDelay:`${b*50}ms`},children:n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1.5",children:[n.jsx("p",{className:"text-sm text-gray-900 dark:text-white truncate group-hover:text-[#4f46e5] dark:group-hover:text-[#6366f1] transition-colors",children:v.customer}),n.jsx(ze,{variant:"secondary",className:`flex-shrink-0 text-xs ${v.status==="confirmed"?"bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-400 border-emerald-200 dark:border-emerald-500/30":"bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-400 border-amber-200 dark:border-amber-500/30"} border`,children:v.status})]}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#a3a3a3] truncate mb-2",children:v.game}),n.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 dark:text-[#737373]",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Qt,{className:"w-3.5 h-3.5"}),n.jsx("span",{children:v.time})]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Wr,{className:"w-3.5 h-3.5"}),n.jsxs("span",{children:[v.guests," guests"]})]})]})]})},v.id))})})]}),n.jsxs(ve,{className:"border-gray-200 dark:border-[#2a2a2a] shadow-sm hover:shadow-md dark:hover:shadow-[0_0_20px_rgba(79,70,229,0.15)] transition-all",children:[n.jsx(st,{className:"p-5 sm:p-6",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx(at,{className:"text-base sm:text-lg",children:"Recent Activity"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#737373] mt-1",children:"Latest updates"})]})})}),n.jsx(Te,{className:"p-5 sm:p-6 pt-0",children:n.jsx("div",{className:"space-y-3",children:ZAe.map((v,b)=>n.jsxs("div",{className:"group flex items-start gap-3 pb-3.5 border-b border-gray-100 dark:border-[#2a2a2a] last:border-0 last:pb-0 hover:scale-[1.01] transition-transform",style:{animationDelay:`${b*50}ms`},children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm text-gray-900 dark:text-white truncate group-hover:text-[#4f46e5] dark:group-hover:text-[#6366f1] transition-colors",children:v.customer}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#a3a3a3] truncate",children:v.game}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-[#737373] mt-1",children:v.time})]}),n.jsx(ze,{variant:"secondary",className:`flex-shrink-0 text-xs border ${v.status==="confirmed"?"bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-400 border-emerald-200 dark:border-emerald-500/30":""}${v.status==="pending"?"bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-400 border-amber-200 dark:border-amber-500/30":""}${v.status==="cancelled"?"bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-400 border-red-200 dark:border-red-500/30":""}${v.status==="positive"?"bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-400 border-blue-200 dark:border-blue-500/30":""}`,children:v.status})]},v.id))})})]})]})]})}var JAe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],QAe=JAe.reduce((t,e)=>{const r=Pg(`Primitive.${e}`),s=S.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),eEe="Label",JZ=S.forwardRef((t,e)=>n.jsx(QAe.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));JZ.displayName=eEe;var tEe=JZ;function re({className:t,...e}){return n.jsx(tEe,{"data-slot":"label",className:nr("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}var b5="Tabs",[rEe]=Mo(b5,[SN]),QZ=SN(),[nEe,z8]=rEe(b5),eJ=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=u0(l),[h,f]=uc({prop:s,onChange:a,defaultProp:i??"",caller:b5});return n.jsx(nEe,{scope:r,baseId:oc(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:c,children:n.jsx(Tr.div,{dir:u,"data-orientation":o,...d,ref:e})})});eJ.displayName=b5;var tJ="TabsList",rJ=S.forwardRef((t,e)=>{const{__scopeTabs:r,loop:s=!0,...a}=t,i=z8(tJ,r),o=QZ(r);return n.jsx(fH,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(Tr.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:e})})});rJ.displayName=tJ;var nJ="TabsTrigger",sJ=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=t,o=z8(nJ,r),l=QZ(r),c=oJ(o.baseId,s),d=lJ(o.baseId,s),u=s===o.value;return n.jsx(mH,{asChild:!0,...l,focusable:!a,active:u,children:n.jsx(Tr.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:e,onMouseDown:Vt(t.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(s):h.preventDefault()}),onKeyDown:Vt(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(s)}),onFocus:Vt(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!a&&h&&o.onValueChange(s)})})})});sJ.displayName=nJ;var aJ="TabsContent",iJ=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=t,l=z8(aJ,r),c=oJ(l.baseId,s),d=lJ(l.baseId,s),u=s===l.value,h=S.useRef(u);return S.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),n.jsx(fo,{present:a||u,children:({present:f})=>n.jsx(Tr.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});iJ.displayName=aJ;function oJ(t,e){return`${t}-trigger-${e}`}function lJ(t,e){return`${t}-content-${e}`}var sEe=eJ,aEe=rJ,iEe=sJ,oEe=iJ;function ta({className:t,...e}){return n.jsx(sEe,{"data-slot":"tabs",className:nr("flex flex-col gap-2",t),...e})}function pa({className:t,...e}){return n.jsx(aEe,{"data-slot":"tabs-list",className:nr("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function Ft({className:t,...e}){return n.jsx(iEe,{"data-slot":"tabs-trigger",className:nr("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Bt({className:t,...e}){return n.jsx(oEe,{"data-slot":"tabs-content",className:nr("flex-1 outline-none",t),...e})}const V8=6048e5,lEe=864e5,aU=Symbol.for("constructDateFrom");function Xi(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&aU in t?t[aU](e):t instanceof Date?new t.constructor(e):new Date(e)}function js(t,e){return Xi(e||t,t)}function Jo(t,e,r){const s=js(t,r?.in);return isNaN(e)?Xi(r?.in||t,NaN):(e&&s.setDate(s.getDate()+e),s)}function Wd(t,e,r){const s=js(t,r?.in);if(isNaN(e))return Xi(r?.in||t,NaN);if(!e)return s;const a=s.getDate(),i=Xi(r?.in||t,s.getTime());i.setMonth(s.getMonth()+e+1,0);const o=i.getDate();return a>=o?i:(s.setFullYear(i.getFullYear(),i.getMonth(),a),s)}let cEe={};function ob(){return cEe}function Bu(t,e){const r=ob(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=js(t,e?.in),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function s0(t,e){return Bu(t,{...e,weekStartsOn:1})}function cJ(t,e){const r=js(t,e?.in),s=r.getFullYear(),a=Xi(r,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const i=s0(a),o=Xi(r,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const l=s0(o);return r.getTime()>=i.getTime()?s+1:r.getTime()>=l.getTime()?s:s-1}function Zj(t){const e=js(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Gg(t,...e){const r=Xi.bind(null,t||e.find(s=>typeof s=="object"));return e.map(r)}function _g(t,e){const r=js(t,e?.in);return r.setHours(0,0,0,0),r}function Nu(t,e,r){const[s,a]=Gg(r?.in,t,e),i=_g(s),o=_g(a),l=+i-Zj(i),c=+o-Zj(o);return Math.round((l-c)/lEe)}function dEe(t,e){const r=cJ(t,e),s=Xi(t,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),s0(s)}function TE(t,e,r){return Jo(t,e*7,r)}function uEe(t,e,r){return Wd(t,e*12,r)}function hEe(t,e){let r,s=e?.in;return t.forEach(a=>{!s&&typeof a=="object"&&(s=Xi.bind(null,a));const i=js(a,s);(!r||r<i||isNaN(+i))&&(r=i)}),Xi(s,r||NaN)}function fEe(t,e){let r,s=e?.in;return t.forEach(a=>{!s&&typeof a=="object"&&(s=Xi.bind(null,a));const i=js(a,s);(!r||r>i||isNaN(+i))&&(r=i)}),Xi(s,r||NaN)}function Ol(t,e,r){const[s,a]=Gg(r?.in,t,e);return+_g(s)==+_g(a)}function W8(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function mEe(t){return!(!W8(t)&&typeof t!="number"||isNaN(+js(t)))}function Ty(t,e,r){const[s,a]=Gg(r?.in,t,e),i=s.getFullYear()-a.getFullYear(),o=s.getMonth()-a.getMonth();return i*12+o}function pEe(t,e,r){const[s,a]=Gg(r?.in,t,e),i=Bu(s,r),o=Bu(a,r),l=+i-Zj(i),c=+o-Zj(o);return Math.round((l-c)/V8)}function H8(t,e){const r=js(t,e?.in),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}function Il(t,e){const r=js(t,e?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function dJ(t,e){const r=js(t,e?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function q8(t,e){const r=ob(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=js(t,e?.in),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function uJ(t,e){return q8(t,{...e,weekStartsOn:1})}const xEe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gEe=(t,e,r)=>{let s;const a=xEe[t];return typeof a=="string"?s=a:e===1?s=a.one:s=a.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function mC(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const vEe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yEe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bEe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wEe={date:mC({formats:vEe,defaultWidth:"full"}),time:mC({formats:yEe,defaultWidth:"full"}),dateTime:mC({formats:bEe,defaultWidth:"full"})},jEe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},NEe=(t,e,r,s)=>jEe[t];function Lv(t){return(e,r)=>{const s=r?.context?String(r.context):"standalone";let a;if(s==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r?.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r?.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const SEe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_Ee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},CEe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kEe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},AEe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},EEe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},PEe=(t,e)=>{const r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},TEe={ordinalNumber:PEe,era:Lv({values:SEe,defaultWidth:"wide"}),quarter:Lv({values:_Ee,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Lv({values:CEe,defaultWidth:"wide"}),day:Lv({values:kEe,defaultWidth:"wide"}),dayPeriod:Lv({values:AEe,defaultWidth:"wide",formattingValues:EEe,defaultFormattingWidth:"wide"})};function Fv(t){return(e,r={})=>{const s=r.width,a=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],l=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?IEe(l,h=>h.test(o)):OEe(l,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=e.slice(o.length);return{value:d,rest:u}}}function OEe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function IEe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function $Ee(t){return(e,r={})=>{const s=e.match(t.matchPattern);if(!s)return null;const a=s[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const DEe=/^(\d+)(th|st|nd|rd)?/i,MEe=/\d+/i,REe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},LEe={any:[/^b/i,/^(a|c)/i]},FEe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},BEe={any:[/1/i,/2/i,/3/i,/4/i]},UEe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zEe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},VEe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},WEe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},HEe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qEe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},GEe={ordinalNumber:$Ee({matchPattern:DEe,parsePattern:MEe,valueCallback:t=>parseInt(t,10)}),era:Fv({matchPatterns:REe,defaultMatchWidth:"wide",parsePatterns:LEe,defaultParseWidth:"any"}),quarter:Fv({matchPatterns:FEe,defaultMatchWidth:"wide",parsePatterns:BEe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Fv({matchPatterns:UEe,defaultMatchWidth:"wide",parsePatterns:zEe,defaultParseWidth:"any"}),day:Fv({matchPatterns:VEe,defaultMatchWidth:"wide",parsePatterns:WEe,defaultParseWidth:"any"}),dayPeriod:Fv({matchPatterns:HEe,defaultMatchWidth:"any",parsePatterns:qEe,defaultParseWidth:"any"})},hJ={code:"en-US",formatDistance:gEe,formatLong:wEe,formatRelative:NEe,localize:TEe,match:GEe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function KEe(t,e){const r=js(t,e?.in);return Nu(r,dJ(r))+1}function fJ(t,e){const r=js(t,e?.in),s=+s0(r)-+dEe(r);return Math.round(s/V8)+1}function mJ(t,e){const r=js(t,e?.in),s=r.getFullYear(),a=ob(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=Xi(e?.in||t,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=Bu(o,e),c=Xi(e?.in||t,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=Bu(c,e);return+r>=+l?s+1:+r>=+d?s:s-1}function YEe(t,e){const r=ob(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=mJ(t,e),i=Xi(e?.in||t,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),Bu(i,e)}function pJ(t,e){const r=js(t,e?.in),s=+Bu(r,e)-+YEe(r,e);return Math.round(s/V8)+1}function bs(t,e){const r=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return r+s}const Df={y(t,e){const r=t.getFullYear(),s=r>0?r:1-r;return bs(e==="yy"?s%100:s,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):bs(r+1,2)},d(t,e){return bs(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return bs(t.getHours()%12||12,e.length)},H(t,e){return bs(t.getHours(),e.length)},m(t,e){return bs(t.getMinutes(),e.length)},s(t,e){return bs(t.getSeconds(),e.length)},S(t,e){const r=e.length,s=t.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return bs(a,e.length)}},nx={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iU={G:function(t,e,r){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const s=t.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return Df.y(t,e)},Y:function(t,e,r,s){const a=mJ(t,s),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return bs(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):bs(i,e.length)},R:function(t,e){const r=cJ(t);return bs(r,e.length)},u:function(t,e){const r=t.getFullYear();return bs(r,e.length)},Q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return bs(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return bs(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,r){const s=t.getMonth();switch(e){case"M":case"MM":return Df.M(t,e);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,r){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return bs(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,r,s){const a=pJ(t,s);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):bs(a,e.length)},I:function(t,e,r){const s=fJ(t);return e==="Io"?r.ordinalNumber(s,{unit:"week"}):bs(s,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Df.d(t,e)},D:function(t,e,r){const s=KEe(t);return e==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):bs(s,e.length)},E:function(t,e,r){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,r,s){const a=t.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return bs(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,s){const a=t.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return bs(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const s=t.getDay(),a=s===0?7:s;switch(e){case"i":return String(a);case"ii":return bs(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const s=t.getHours();let a;switch(s===12?a=nx.noon:s===0?a=nx.midnight:a=s/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const s=t.getHours();let a;switch(s>=17?a=nx.evening:s>=12?a=nx.afternoon:s>=4?a=nx.morning:a=nx.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Df.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Df.H(t,e)},K:function(t,e,r){const s=t.getHours()%12;return e==="Ko"?r.ordinalNumber(s,{unit:"hour"}):bs(s,e.length)},k:function(t,e,r){let s=t.getHours();return s===0&&(s=24),e==="ko"?r.ordinalNumber(s,{unit:"hour"}):bs(s,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Df.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Df.s(t,e)},S:function(t,e){return Df.S(t,e)},X:function(t,e,r){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return lU(s);case"XXXX":case"XX":return fp(s);case"XXXXX":case"XXX":default:return fp(s,":")}},x:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"x":return lU(s);case"xxxx":case"xx":return fp(s);case"xxxxx":case"xxx":default:return fp(s,":")}},O:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+oU(s,":");case"OOOO":default:return"GMT"+fp(s,":")}},z:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+oU(s,":");case"zzzz":default:return"GMT"+fp(s,":")}},t:function(t,e,r){const s=Math.trunc(+t/1e3);return bs(s,e.length)},T:function(t,e,r){return bs(+t,e.length)}};function oU(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+e+bs(i,2)}function lU(t,e){return t%60===0?(t>0?"-":"+")+bs(Math.abs(t)/60,2):fp(t,e)}function fp(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),a=bs(Math.trunc(s/60),2),i=bs(s%60,2);return r+a+e+i}const cU=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},xJ=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},XEe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return cU(t,e);let i;switch(s){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",cU(s,e)).replace("{{time}}",xJ(a,e))},ZEe={p:xJ,P:XEe},JEe=/^D+$/,QEe=/^Y+$/,ePe=["D","DD","YY","YYYY"];function tPe(t){return JEe.test(t)}function rPe(t){return QEe.test(t)}function nPe(t,e,r){const s=sPe(t,e,r);if(console.warn(s),ePe.includes(t))throw new RangeError(s)}function sPe(t,e,r){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const aPe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,iPe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oPe=/^'([^]*?)'?$/,lPe=/''/g,cPe=/[a-zA-Z]/;function On(t,e,r){const s=ob(),a=r?.locale??s.locale??hJ,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=js(t,r?.in);if(!mEe(l))throw new RangeError("Invalid time value");let c=e.match(iPe).map(u=>{const h=u[0];if(h==="p"||h==="P"){const f=ZEe[h];return f(u,a.formatLong)}return u}).join("").match(aPe).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:dPe(u)};if(iU[h])return{isToken:!0,value:u};if(h.match(cPe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(u=>{if(!u.isToken)return u.value;const h=u.value;(!r?.useAdditionalWeekYearTokens&&rPe(h)||!r?.useAdditionalDayOfYearTokens&&tPe(h))&&nPe(h,e,String(t));const f=iU[h[0]];return f(l,h,a.localize,d)}).join("")}function dPe(t){const e=t.match(oPe);return e?e[1].replace(lPe,"'"):t}function uPe(t,e){const r=js(t,e?.in),s=r.getFullYear(),a=r.getMonth(),i=Xi(r,0);return i.setFullYear(s,a+1,0),i.setHours(0,0,0,0),i.getDate()}function hPe(t){return Math.trunc(+js(t)/1e3)}function fPe(t,e){const r=js(t,e?.in),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(0,0,0,0),js(r,e?.in)}function mPe(t,e){const r=js(t,e?.in);return pEe(fPe(r,e),Il(r,e),e)+1}function OE(t,e){return+js(t)>+js(e)}function gJ(t,e){return+js(t)<+js(e)}function G8(t,e,r){const[s,a]=Gg(r?.in,t,e);return s.getFullYear()===a.getFullYear()&&s.getMonth()===a.getMonth()}function pPe(t,e,r){const[s,a]=Gg(r?.in,t,e);return s.getFullYear()===a.getFullYear()}function pC(t,e,r){return Jo(t,-e,r)}function xC(t,e,r){const s=js(t,r?.in),a=s.getFullYear(),i=s.getDate(),o=Xi(t,0);o.setFullYear(a,e,15),o.setHours(0,0,0,0);const l=uPe(o);return s.setMonth(e,Math.min(i,l)),s}function dU(t,e,r){const s=js(t,r?.in);return isNaN(+s)?Xi(t,NaN):(s.setFullYear(e),s)}const xPe=()=>{const{theme:t}=fn(),e=t==="dark",r=e?"text-white":"text-gray-900",s=e?"text-[#a3a3a3]":"text-gray-600",a=e?"bg-[#161616]":"bg-white",i=e?"bg-[#1e1e1e]":"bg-gray-50",o=e?"border-[#2a2a2a]":"border-gray-200",l=e?"hover:bg-[#1e1e1e]":"hover:bg-gray-50",[c,d]=S.useState("chat"),[u,h]=S.useState(""),[f,m]=S.useState("all"),[y,g]=S.useState([]),[v,b]=S.useState(null),[w,N]=S.useState([]),[_,C]=S.useState(null),[E,A]=S.useState([]),[I,$]=S.useState(null);S.useEffect(()=>{O(),P(),M()},[]);const O=()=>{const Q=localStorage.getItem("chatConversations");if(Q){const ce=JSON.parse(Q).map(ie=>({...ie,timestamp:new Date(ie.timestamp),messages:ie.messages.map(pe=>({...pe,timestamp:pe.timestamp?new Date(pe.timestamp):void 0}))}));g(ce)}else{const ne=[{id:"1",title:"Booking inquiry for Mystery Mansion",timestamp:new Date(Date.now()-18e5),messages:[{id:"1",type:"user",text:"I'd like to book Mystery Mansion",timestamp:new Date(Date.now()-18e5)},{id:"2",type:"bot",text:"Great choice! Mystery Mansion is available. When would you like to book?",timestamp:new Date(Date.now()-174e4)},{id:"3",type:"user",text:"Tonight at 7pm for 4 people",timestamp:new Date(Date.now()-168e4)},{id:"4",type:"bot",text:"Perfect! I can reserve that for you. The price for 4 people is $120.",timestamp:new Date(Date.now()-162e4)}]}];g(ne)}},P=()=>{const Q=localStorage.getItem("callHistory");if(Q){const ce=JSON.parse(Q).map(ie=>({...ie,timestamp:new Date(ie.timestamp)}));N(ce)}else{const ne=[{id:"1",customerName:"John Smith",customerPhone:"+1 (555) 123-4567",duration:"5:32",timestamp:new Date(Date.now()-72e5),status:"completed",notes:"Customer wants to book for birthday party. Discussed pricing and availability."},{id:"2",customerName:"Sarah Johnson",customerPhone:"+1 (555) 234-5678",duration:"2:15",timestamp:new Date(Date.now()-18e6),status:"completed",notes:"Asked about group discounts for 10+ people."},{id:"3",customerName:"Mike Davis",customerPhone:"+1 (555) 345-6789",duration:"0:00",timestamp:new Date(Date.now()-288e5),status:"missed",notes:"No voicemail left."},{id:"4",customerName:"Emily Brown",customerPhone:"+1 (555) 456-7890",duration:"1:45",timestamp:new Date(Date.now()-864e5),status:"voicemail",notes:"Left message asking about availability for corporate event."}];N(ne),localStorage.setItem("callHistory",JSON.stringify(ne))}},M=()=>{const Q=localStorage.getItem("formSubmissions");if(Q){const ce=JSON.parse(Q).map(ie=>({...ie,timestamp:new Date(ie.timestamp)}));A(ce)}else{const ne=[{id:"1",formType:"Contact Form",customerName:"Alex Turner",customerEmail:"alex.turner@email.com",timestamp:new Date(Date.now()-36e5),status:"new",data:{subject:"Corporate Event Booking",message:"We are interested in booking your facility for a team building event with 25 people. What are your rates and availability for next month?",phone:"+1 (555) 567-8901"}},{id:"2",formType:"Quote Request",customerName:"Jessica Lee",customerEmail:"jessica.lee@company.com",timestamp:new Date(Date.now()-144e5),status:"reviewed",data:{eventType:"Birthday Party",numberOfGuests:8,preferredDate:"2025-11-15",message:"Looking for a package deal with food and drinks included."}},{id:"3",formType:"Feedback Form",customerName:"Robert Martinez",customerEmail:"robert.m@email.com",timestamp:new Date(Date.now()-432e5),status:"responded",data:{rating:5,experience:"Excellent",comments:"Had an amazing time! The staff was very helpful and the room was challenging but fun.",wouldRecommend:!0}},{id:"4",formType:"Partnership Inquiry",customerName:"Lisa Chen",customerEmail:"lisa.chen@business.com",timestamp:new Date(Date.now()-864e5),status:"reviewed",data:{companyName:"Corporate Solutions Inc.",partnershipType:"Bulk Bookings",message:"We would like to discuss ongoing partnership for monthly team events."}}];A(ne),localStorage.setItem("formSubmissions",JSON.stringify(ne))}},R=Q=>{const ne=y.filter(ce=>ce.id!==Q);g(ne),localStorage.setItem("chatConversations",JSON.stringify(ne)),v?.id===Q&&b(null),me.success("Chat conversation deleted")},W=Q=>{const ne=w.filter(ce=>ce.id!==Q);N(ne),localStorage.setItem("callHistory",JSON.stringify(ne)),_?.id===Q&&C(null),me.success("Call record deleted")},Y=Q=>{const ne=E.filter(ce=>ce.id!==Q);A(ne),localStorage.setItem("formSubmissions",JSON.stringify(ne)),I?.id===Q&&$(null),me.success("Form submission deleted")},K=Q=>{const ne=Q.messages.map(ae=>`[${ae.type.toUpperCase()}]: ${ae.text||"(no text)"}`).join(`
`),ce=new Blob([ne],{type:"text/plain"}),ie=URL.createObjectURL(ce),pe=document.createElement("a");pe.href=ie,pe.download=`chat-${Q.id}-${Date.now()}.txt`,pe.click(),URL.revokeObjectURL(ie),me.success("Chat exported successfully")},L=(Q,ne)=>{const ce=E.map(ie=>ie.id===Q?{...ie,status:ne}:ie);A(ce),localStorage.setItem("formSubmissions",JSON.stringify(ce)),I?.id===Q&&$({...I,status:ne}),me.success(`Status updated to ${ne}`)},F=Q=>{const ce=new Date().getTime()-Q.getTime();switch(f){case"today":return ce<1e3*60*60*24;case"week":return ce<1e3*60*60*24*7;case"month":return ce<1e3*60*60*24*30;default:return!0}},ee=y.filter(Q=>{const ne=Q.title.toLowerCase().includes(u.toLowerCase())||Q.messages.some(ie=>ie.text?.toLowerCase().includes(u.toLowerCase())),ce=F(Q.timestamp);return ne&&ce}),se=w.filter(Q=>{const ne=Q.customerName.toLowerCase().includes(u.toLowerCase())||Q.customerPhone.includes(u)||Q.notes?.toLowerCase().includes(u.toLowerCase()),ce=F(Q.timestamp);return ne&&ce}),q=E.filter(Q=>{const ne=Q.customerName.toLowerCase().includes(u.toLowerCase())||Q.customerEmail.toLowerCase().includes(u.toLowerCase())||Q.formType.toLowerCase().includes(u.toLowerCase()),ce=F(Q.timestamp);return ne&&ce}),z={total:y.length,today:y.filter(Q=>Date.now()-Q.timestamp.getTime()<1e3*60*60*24).length},Z={total:w.length,completed:w.filter(Q=>Q.status==="completed").length,missed:w.filter(Q=>Q.status==="missed").length,today:w.filter(Q=>Date.now()-Q.timestamp.getTime()<1e3*60*60*24).length},X={total:E.length,new:E.filter(Q=>Q.status==="new").length,reviewed:E.filter(Q=>Q.status==="reviewed").length,today:E.filter(Q=>Date.now()-Q.timestamp.getTime()<1e3*60*60*24).length};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(ui,{title:"Inbox",description:"Manage all customer communications in one place"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[n.jsx(ve,{className:`${e?"bg-[#161616] border-[#2a2a2a]":"bg-white border border-gray-200 shadow-sm"} p-4 sm:p-5 md:p-6`,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(ei,{className:`w-5 h-5 ${e?"text-blue-400":"text-blue-600"}`}),n.jsx(re,{className:`text-sm ${e?"text-[#a3a3a3]":"text-gray-700"}`,children:"Chat Conversations"})]}),n.jsxs("div",{className:"flex items-baseline gap-2 mt-3",children:[n.jsx("span",{className:`text-3xl ${r}`,children:z.total}),n.jsx("span",{className:`text-sm ${s}`,children:"total"})]}),z.today>0&&n.jsx("div",{className:"mt-2",children:n.jsxs(ze,{variant:"secondary",className:"text-xs",children:["+",z.today," today"]})})]}),n.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${e?"bg-blue-500/10":"bg-blue-50"}`,children:n.jsx(ei,{className:`w-6 h-6 ${e?"text-blue-400":"text-blue-600"}`})})]})}),n.jsx(ve,{className:`${e?"bg-[#161616] border-[#2a2a2a]":"bg-white border border-gray-200 shadow-sm"} p-4 sm:p-5 md:p-6`,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Gs,{className:`w-5 h-5 ${e?"text-green-400":"text-green-600"}`}),n.jsx(re,{className:`text-sm ${e?"text-[#a3a3a3]":"text-gray-700"}`,children:"Call Records"})]}),n.jsxs("div",{className:"flex items-baseline gap-2 mt-3",children:[n.jsx("span",{className:`text-3xl ${r}`,children:Z.total}),n.jsx("span",{className:`text-sm ${s}`,children:"total"})]}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[Z.missed>0&&n.jsxs(ze,{variant:"destructive",className:"text-xs",children:[Z.missed," missed"]}),Z.today>0&&n.jsxs(ze,{variant:"secondary",className:"text-xs",children:["+",Z.today," today"]})]})]}),n.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${e?"bg-green-500/10":"bg-green-50"}`,children:n.jsx(Gs,{className:`w-6 h-6 ${e?"text-green-400":"text-green-600"}`})})]})}),n.jsx(ve,{className:`${e?"bg-[#161616] border-[#2a2a2a]":"bg-white border border-gray-200 shadow-sm"} p-4 sm:p-5 md:p-6`,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx($s,{className:`w-5 h-5 ${e?"text-purple-400":"text-purple-600"}`}),n.jsx(re,{className:`text-sm ${e?"text-[#a3a3a3]":"text-gray-700"}`,children:"Form Submissions"})]}),n.jsxs("div",{className:"flex items-baseline gap-2 mt-3",children:[n.jsx("span",{className:`text-3xl ${r}`,children:X.total}),n.jsx("span",{className:`text-sm ${s}`,children:"total"})]}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[X.new>0&&n.jsxs(ze,{className:"text-xs bg-blue-600 hover:bg-blue-700 text-white",children:[X.new," new"]}),X.today>0&&n.jsxs(ze,{variant:"secondary",className:"text-xs",children:["+",X.today," today"]})]})]}),n.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${e?"bg-purple-500/10":"bg-purple-50"}`,children:n.jsx($s,{className:`w-6 h-6 ${e?"text-purple-400":"text-purple-600"}`})})]})})]}),n.jsxs(ve,{className:`${e?"bg-[#161616] border-[#2a2a2a]":"bg-white border border-gray-200 shadow-sm"}`,children:[n.jsx("div",{className:`p-3 sm:p-4 md:p-6 border-b ${o}`,children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 sm:gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ba,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${e?"text-[#737373]":"text-gray-400"}`}),n.jsx(ge,{placeholder:"Search conversations, calls, or forms...",value:u,onChange:Q=>h(Q.target.value),className:`pl-10 h-12 ${e?"bg-[#1e1e1e] border-[#2a2a2a] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]}),n.jsxs("div",{className:"flex gap-2 flex-shrink-0 overflow-x-auto pb-1",children:[n.jsx(J,{variant:f==="all"?"default":"outline",onClick:()=>m("all"),className:"min-h-[44px] h-11 sm:h-12 px-3 sm:px-4 text-sm flex-shrink-0",size:"sm",children:"All"}),n.jsx(J,{variant:f==="today"?"default":"outline",onClick:()=>m("today"),className:"min-h-[44px] h-11 sm:h-12 px-3 sm:px-4 text-sm flex-shrink-0",size:"sm",children:"Today"}),n.jsx(J,{variant:f==="week"?"default":"outline",onClick:()=>m("week"),className:"min-h-[44px] h-11 sm:h-12 px-3 sm:px-4 text-sm flex-shrink-0",size:"sm",children:"Week"}),n.jsx(J,{variant:f==="month"?"default":"outline",onClick:()=>m("month"),className:"min-h-[44px] h-11 sm:h-12 px-3 sm:px-4 text-sm flex-shrink-0",size:"sm",children:"Month"})]})]})}),n.jsxs(ta,{value:c,onValueChange:d,className:"w-full",children:[n.jsx("div",{className:`px-3 sm:px-4 md:px-6 border-b ${o} overflow-x-auto`,children:n.jsxs(pa,{className:"bg-transparent w-full justify-start h-auto p-0 gap-2 sm:gap-4",children:[n.jsxs(Ft,{value:"chat",className:`${e?"data-[state=active]:bg-transparent data-[state=active]:text-white":"data-[state=active]:bg-transparent data-[state=active]:text-gray-900"} rounded-none border-b-2 border-transparent data-[state=active]:border-blue-600 px-3 sm:px-4 py-3 sm:py-4 gap-1.5 sm:gap-2 text-xs sm:text-sm flex-shrink-0`,children:[n.jsx(ei,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Chat History"}),n.jsx("span",{className:"sm:hidden",children:"Chat"}),n.jsx(ze,{variant:"secondary",className:"ml-1 text-xs",children:ee.length})]}),n.jsxs(Ft,{value:"calls",className:`${e?"data-[state=active]:bg-transparent data-[state=active]:text-white":"data-[state=active]:bg-transparent data-[state=active]:text-gray-900"} rounded-none border-b-2 border-transparent data-[state=active]:border-blue-600 px-3 sm:px-4 py-3 sm:py-4 gap-1.5 sm:gap-2 text-xs sm:text-sm flex-shrink-0`,children:[n.jsx(Gs,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Call History"}),n.jsx("span",{className:"sm:hidden",children:"Calls"}),n.jsx(ze,{variant:"secondary",className:"ml-1 text-xs",children:se.length})]}),n.jsxs(Ft,{value:"forms",className:`${e?"data-[state=active]:bg-transparent data-[state=active]:text-white":"data-[state=active]:bg-transparent data-[state=active]:text-gray-900"} rounded-none border-b-2 border-transparent data-[state=active]:border-blue-600 px-3 sm:px-4 py-3 sm:py-4 gap-1.5 sm:gap-2 text-xs sm:text-sm flex-shrink-0`,children:[n.jsx($s,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Form Submissions"}),n.jsx("span",{className:"sm:hidden",children:"Forms"}),n.jsx(ze,{variant:"secondary",className:"ml-1 text-xs",children:q.length})]})]})}),n.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[n.jsx(Bt,{value:"chat",className:"mt-0",children:n.jsx(gPe,{conversations:ee,selectedChat:v,onSelectChat:b,onDeleteChat:R,onExportChat:K,isDark:e,textClass:r,textMutedClass:s,bgClass:a,bgElevatedClass:i,borderClass:o,hoverClass:l})}),n.jsx(Bt,{value:"calls",className:"mt-0",children:n.jsx(vPe,{calls:se,selectedCall:_,onSelectCall:C,onDeleteCall:W,isDark:e,textClass:r,textMutedClass:s,bgClass:a,bgElevatedClass:i,borderClass:o,hoverClass:l})}),n.jsx(Bt,{value:"forms",className:"mt-0",children:n.jsx(yPe,{forms:q,selectedForm:I,onSelectForm:$,onDeleteForm:Y,onUpdateStatus:L,isDark:e,textClass:r,textMutedClass:s,bgClass:a,bgElevatedClass:i,borderClass:o,hoverClass:l})})]})]})]})]})};function gPe({conversations:t,selectedChat:e,onSelectChat:r,onDeleteChat:s,onExportChat:a,isDark:i,textClass:o,textMutedClass:l,bgClass:c,bgElevatedClass:d,borderClass:u,hoverClass:h}){return t.length===0?n.jsxs("div",{className:`${i?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-gray-50 border border-gray-200"} rounded-lg p-12 text-center`,children:[n.jsx(ei,{className:`w-16 h-16 ${l} mx-auto mb-4`}),n.jsx("h3",{className:`text-lg mb-2 ${o}`,children:"No conversations found"}),n.jsx("p",{className:l,children:"Chat conversations will appear here when customers interact with your AI assistant"})]}):n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsx(Ps,{className:"h-[500px] sm:h-[600px] lg:h-[650px] pr-2 sm:pr-4",children:n.jsx("div",{className:"space-y-2",children:t.map(f=>n.jsx("button",{onClick:()=>r(f),className:`w-full p-3 sm:p-4 rounded-lg border ${u} text-left transition-all min-h-[44px] ${e?.id===f.id?i?"bg-[#1e1e1e] border-blue-500 ring-1 ring-blue-500":"bg-blue-50 border-blue-300 ring-1 ring-blue-300":`${i?"bg-[#1e1e1e]":"bg-white"} ${h}`}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:`text-sm ${o} line-clamp-2 mb-1`,children:f.title}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:`w-3 h-3 ${l}`}),n.jsx("p",{className:`text-xs ${l}`,children:On(f.timestamp,"MMM d, h:mm a")})]})]}),n.jsx(ze,{variant:"secondary",className:"text-xs flex-shrink-0",children:f.messages.length})]})},f.id))})})}),n.jsx("div",{className:"lg:col-span-2",children:e?n.jsxs("div",{className:`${i?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white border border-gray-200 shadow-sm"} rounded-lg border`,children:[n.jsx("div",{className:`p-3 sm:p-4 md:p-6 border-b ${u}`,children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-3 sm:gap-4 mb-4",children:[n.jsxs("div",{className:"flex-1 min-w-0 w-full sm:w-auto",children:[n.jsx("h3",{className:`text-base sm:text-lg mb-2 ${o} line-clamp-2`,children:e.title}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:`w-4 h-4 ${l}`}),n.jsx("p",{className:`text-xs sm:text-sm ${l}`,children:On(e.timestamp,"MMMM d, yyyy  h:mm a")})]})]}),n.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>a(e),className:"min-h-[44px] h-9 sm:h-10 gap-2 flex-1 sm:flex-initial",children:[n.jsx(hs,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>{confirm("Delete this conversation?")&&s(e.id)},className:"min-h-[44px] h-9 sm:h-10 gap-2 flex-1 sm:flex-initial",children:[n.jsx(Dn,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]})}),n.jsx(Ps,{className:"h-[400px] sm:h-[480px] lg:h-[520px] p-3 sm:p-4 md:p-6",children:n.jsx("div",{className:"space-y-3 sm:space-y-4",children:e.messages.map(f=>n.jsx("div",{className:`flex ${f.type==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[85%] sm:max-w-[80%] rounded-lg p-3 sm:p-4 ${f.type==="user"?"bg-blue-600 text-white":i?"bg-[#161616] border border-[#2a2a2a]":"bg-gray-50 border border-gray-200"}`,children:[n.jsx("p",{className:`text-sm sm:text-base ${f.type==="user"?"text-white":o}`,children:f.text}),f.timestamp&&n.jsx("p",{className:`text-xs mt-2 ${f.type==="user"?"text-white/70":l}`,children:On(f.timestamp,"h:mm a")})]})},f.id))})})]}):n.jsx("div",{className:`${i?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-gray-50 border border-gray-200"} rounded-lg border p-12 text-center h-full flex items-center justify-center`,children:n.jsxs("div",{children:[n.jsx(ei,{className:`w-16 h-16 ${l} mx-auto mb-4`}),n.jsx("h3",{className:`text-lg mb-2 ${o}`,children:"No conversation selected"}),n.jsx("p",{className:l,children:"Select a conversation from the list to view details"})]})})})]})}function vPe({calls:t,selectedCall:e,onSelectCall:r,onDeleteCall:s,isDark:a,textClass:i,textMutedClass:o,bgClass:l,bgElevatedClass:c,borderClass:d,hoverClass:u}){const h=m=>{switch(m){case"completed":return n.jsx(Tt,{className:"w-4 h-4 text-green-600"});case"missed":return n.jsx(ds,{className:"w-4 h-4 text-red-600"});case"voicemail":return n.jsx(us,{className:"w-4 h-4 text-amber-600"})}},f=m=>{switch(m){case"completed":return n.jsx(ze,{className:"text-xs bg-green-600 hover:bg-green-700 text-white",children:"Completed"});case"missed":return n.jsx(ze,{className:"text-xs bg-red-600 hover:bg-red-700 text-white",children:"Missed"});case"voicemail":return n.jsx(ze,{className:"text-xs bg-amber-600 hover:bg-amber-700 text-white",children:"Voicemail"})}};return t.length===0?n.jsxs("div",{className:`${a?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-gray-50 border border-gray-200"} rounded-lg p-12 text-center`,children:[n.jsx(Gs,{className:`w-16 h-16 ${o} mx-auto mb-4`}),n.jsx("h3",{className:`text-lg mb-2 ${i}`,children:"No call records found"}),n.jsx("p",{className:o,children:"Phone call records will appear here when logged"})]}):n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsx(Ps,{className:"h-[500px] sm:h-[600px] lg:h-[650px] pr-2 sm:pr-4",children:n.jsx("div",{className:"space-y-2",children:t.map(m=>n.jsxs("button",{onClick:()=>r(m),className:`w-full p-3 sm:p-4 rounded-lg border ${d} text-left transition-all min-h-[44px] ${e?.id===m.id?a?"bg-[#1e1e1e] border-blue-500 ring-1 ring-blue-500":"bg-blue-50 border-blue-300 ring-1 ring-blue-300":`${a?"bg-[#1e1e1e]":"bg-white"} ${u}`}`,children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[h(m.status),n.jsx("p",{className:`text-sm ${i}`,children:m.customerName})]}),f(m.status)]}),n.jsx("p",{className:`text-xs ${o} mb-2`,children:m.customerPhone}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:`w-3 h-3 ${o}`}),n.jsx("p",{className:`text-xs ${o}`,children:On(m.timestamp,"MMM d, h:mm a")})]}),n.jsx("p",{className:`text-xs ${o}`,children:m.duration})]})]},m.id))})})}),n.jsx("div",{className:"lg:col-span-2",children:e?n.jsxs("div",{className:`${a?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white border border-gray-200 shadow-sm"} rounded-lg border`,children:[n.jsx("div",{className:`p-3 sm:p-4 md:p-6 border-b ${d}`,children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-3 sm:gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0 w-full sm:w-auto",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-3",children:[h(e.status),n.jsx("h3",{className:`text-base sm:text-lg ${i}`,children:e.customerName}),f(e.status)]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:`w-4 h-4 ${o}`}),n.jsx("p",{className:`text-xs sm:text-sm ${o}`,children:On(e.timestamp,"MMMM d, yyyy  h:mm a")})]})]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>{confirm("Delete this call record?")&&s(e.id)},className:"min-h-[44px] h-9 sm:h-10 gap-2 w-full sm:w-auto",children:[n.jsx(Dn,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})}),n.jsxs("div",{className:"p-3 sm:p-4 md:p-6 space-y-3 sm:space-y-4",children:[n.jsxs("div",{children:[n.jsx(re,{className:`text-sm mb-2 block ${a?"text-[#a3a3a3]":"text-gray-700"}`,children:"Phone Number"}),n.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg ${a?"bg-[#161616]":"bg-gray-100 border border-gray-300"}`,children:[n.jsx(Gs,{className:`w-5 h-5 ${o}`}),n.jsx("p",{className:i,children:e.customerPhone})]})]}),n.jsxs("div",{children:[n.jsx(re,{className:`text-sm mb-2 block ${a?"text-[#a3a3a3]":"text-gray-700"}`,children:"Duration"}),n.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg ${a?"bg-[#161616]":"bg-gray-100 border border-gray-300"}`,children:[n.jsx(Qt,{className:`w-5 h-5 ${o}`}),n.jsx("p",{className:i,children:e.duration})]})]}),e.notes&&n.jsxs("div",{children:[n.jsx(re,{className:`text-sm mb-2 block ${a?"text-[#a3a3a3]":"text-gray-700"}`,children:"Notes"}),n.jsx("div",{className:`p-4 rounded-lg ${a?"bg-[#161616]":"bg-gray-100 border border-gray-300"}`,children:n.jsx("p",{className:i,children:e.notes})})]})]})]}):n.jsx("div",{className:`${a?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-gray-50 border border-gray-200"} rounded-lg border p-12 text-center h-full flex items-center justify-center`,children:n.jsxs("div",{children:[n.jsx(Gs,{className:`w-16 h-16 ${o} mx-auto mb-4`}),n.jsx("h3",{className:`text-lg mb-2 ${i}`,children:"No call selected"}),n.jsx("p",{className:o,children:"Select a call record from the list to view details"})]})})})]})}function yPe({forms:t,selectedForm:e,onSelectForm:r,onDeleteForm:s,onUpdateStatus:a,isDark:i,textClass:o,textMutedClass:l,bgClass:c,bgElevatedClass:d,borderClass:u,hoverClass:h}){const f=m=>{switch(m){case"new":return n.jsx(ze,{className:"text-xs bg-blue-600 hover:bg-blue-700 text-white",children:"New"});case"reviewed":return n.jsx(ze,{className:"text-xs bg-amber-600 hover:bg-amber-700 text-white",children:"Reviewed"});case"responded":return n.jsx(ze,{className:"text-xs bg-green-600 hover:bg-green-700 text-white",children:"Responded"})}};return t.length===0?n.jsxs("div",{className:`${i?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-gray-50 border border-gray-200"} rounded-lg p-12 text-center`,children:[n.jsx($s,{className:`w-16 h-16 ${l} mx-auto mb-4`}),n.jsx("h3",{className:`text-lg mb-2 ${o}`,children:"No form submissions found"}),n.jsx("p",{className:l,children:"Customer form submissions will appear here"})]}):n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsx(Ps,{className:"h-[500px] sm:h-[600px] lg:h-[650px] pr-2 sm:pr-4",children:n.jsx("div",{className:"space-y-2",children:t.map(m=>n.jsxs("button",{onClick:()=>r(m),className:`w-full p-3 sm:p-4 rounded-lg border ${u} text-left transition-all min-h-[44px] ${e?.id===m.id?i?"bg-[#1e1e1e] border-blue-500 ring-1 ring-blue-500":"bg-blue-50 border-blue-300 ring-1 ring-blue-300":`${i?"bg-[#1e1e1e]":"bg-white"} ${h}`}`,children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[n.jsx("p",{className:`text-sm ${o}`,children:m.formType}),f(m.status)]}),n.jsx("p",{className:`text-sm ${o} mb-1`,children:m.customerName}),n.jsx("p",{className:`text-xs ${l} mb-2 truncate`,children:m.customerEmail}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:`w-3 h-3 ${l}`}),n.jsx("p",{className:`text-xs ${l}`,children:On(m.timestamp,"MMM d, h:mm a")})]})]},m.id))})})}),n.jsx("div",{className:"lg:col-span-2",children:e?n.jsxs("div",{className:`${i?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white border border-gray-200 shadow-sm"} rounded-lg border`,children:[n.jsx("div",{className:`p-3 sm:p-4 md:p-6 border-b ${u}`,children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-3 sm:gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0 w-full sm:w-auto",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-3",children:[n.jsx("h3",{className:`text-base sm:text-lg ${o}`,children:e.formType}),f(e.status)]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:`w-4 h-4 ${l}`}),n.jsx("p",{className:`text-xs sm:text-sm ${l}`,children:On(e.timestamp,"MMMM d, yyyy  h:mm a")})]})]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>{confirm("Delete this submission?")&&s(e.id)},className:"min-h-[44px] h-9 sm:h-10 gap-2 w-full sm:w-auto",children:[n.jsx(Dn,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})}),n.jsxs("div",{className:"p-3 sm:p-4 md:p-6 space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx(re,{className:`text-sm mb-2 block ${i?"text-[#a3a3a3]":"text-gray-700"}`,children:"Customer Name"}),n.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg ${i?"bg-[#161616]":"bg-gray-100 border border-gray-300"}`,children:[n.jsx(ca,{className:`w-5 h-5 ${l}`}),n.jsx("p",{className:o,children:e.customerName})]})]}),n.jsxs("div",{children:[n.jsx(re,{className:`text-sm mb-2 block ${i?"text-[#a3a3a3]":"text-gray-700"}`,children:"Email Address"}),n.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg ${i?"bg-[#161616]":"bg-gray-100 border border-gray-300"}`,children:[n.jsx(Gn,{className:`w-5 h-5 ${l}`}),n.jsx("p",{className:o,children:e.customerEmail})]})]}),n.jsxs("div",{children:[n.jsx(re,{className:`text-sm mb-3 block ${i?"text-[#a3a3a3]":"text-gray-700"}`,children:"Form Details"}),n.jsx("div",{className:`p-4 rounded-lg ${i?"bg-[#161616]":"bg-gray-100 border border-gray-300"} space-y-3`,children:Object.entries(e.data).map(([m,y])=>{const g=m.replace(/([A-Z])/g," $1").trim();return n.jsxs("div",{className:`pb-3 border-b ${u} last:border-0 last:pb-0`,children:[n.jsx("p",{className:`text-xs mb-1 capitalize ${l}`,children:g}),n.jsx("p",{className:`text-sm ${o}`,children:typeof y=="boolean"?y?"Yes":"No":String(y)})]},m)})})]}),n.jsxs("div",{children:[n.jsx(re,{className:`text-sm mb-3 block ${i?"text-[#a3a3a3]":"text-gray-700"}`,children:"Update Status"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsx(J,{variant:e.status==="new"?"default":"outline",size:"sm",onClick:()=>a(e.id,"new"),className:"flex-1 min-h-[44px] h-10",children:"New"}),n.jsx(J,{variant:e.status==="reviewed"?"default":"outline",size:"sm",onClick:()=>a(e.id,"reviewed"),className:"flex-1 min-h-[44px] h-10",children:"Reviewed"}),n.jsx(J,{variant:e.status==="responded"?"default":"outline",size:"sm",onClick:()=>a(e.id,"responded"),className:"flex-1 min-h-[44px] h-10",children:"Responded"})]})]})]})]}):n.jsx("div",{className:`${i?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-gray-50 border border-gray-200"} rounded-lg border p-12 text-center h-full flex items-center justify-center`,children:n.jsxs("div",{children:[n.jsx($s,{className:`w-16 h-16 ${l} mx-auto mb-4`}),n.jsx("h3",{className:`text-lg mb-2 ${o}`,children:"No submission selected"}),n.jsx("p",{className:l,children:"Select a form submission from the list to view details"})]})})})]})}const bPe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class K8 extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class uU extends K8{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class hU extends K8{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class fU extends K8{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var IE;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(IE||(IE={}));class wPe{constructor(e,{headers:r={},customFetch:s,region:a=IE.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=bPe(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Er(this,arguments,void 0,function*(r,s={}){var a;try{const{headers:i,method:o,body:l,signal:c}=s;let d={},{region:u}=s;u||(u=this.region);const h=new URL(`${this.url}/${r}`);u&&u!=="any"&&(d["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let f;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",f=l):typeof l=="string"?(d["Content-Type"]="text/plain",f=l):typeof FormData<"u"&&l instanceof FormData?f=l:(d["Content-Type"]="application/json",f=JSON.stringify(l)):f=l;const m=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:f,signal:c}).catch(b=>{throw b.name==="AbortError"?b:new uU(b)}),y=m.headers.get("x-relay-error");if(y&&y==="true")throw new hU(m);if(!m.ok)throw new fU(m);let g=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield m.json():g==="application/octet-stream"||g==="application/pdf"?v=yield m.blob():g==="text/event-stream"?v=m:g==="multipart/form-data"?v=yield m.formData():v=yield m.text(),{data:v,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new uU(i)}:{data:null,error:i,response:i instanceof fU||i instanceof hU?i.context:void 0}}})}}var So={};const Kg=mne(ode);var M2={},R2={},L2={},F2={},B2={},U2={},mU;function vJ(){if(mU)return U2;mU=1,Object.defineProperty(U2,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return U2.default=t,U2}var pU;function yJ(){if(pU)return B2;pU=1,Object.defineProperty(B2,"__esModule",{value:!0});const e=Kg.__importDefault(vJ());class r{constructor(a){var i,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,u,h,f;let m=null,y=null,g=null,v=c.status,b=c.statusText;if(c.ok){if(this.method!=="HEAD"){const C=await c.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?y=C:y=JSON.parse(C))}const N=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),_=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");N&&_&&_.length>1&&(g=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,g=null,v=406,b="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const N=await c.text();try{m=JSON.parse(N),Array.isArray(m)&&c.status===404&&(y=[],m=null,v=200,b="OK")}catch{c.status===404&&N===""?(v=204,b="No Content"):m={message:N}}if(m&&this.isMaybeSingle&&(!((f=m?.details)===null||f===void 0)&&f.includes("0 rows"))&&(m=null,v=200,b="OK"),m&&this.shouldThrowOnError)throw new e.default(m)}return{error:m,data:y,count:g,status:v,statusText:b}});return this.shouldThrowOnError||(l=l.catch(c=>{var d,u,h;return{error:{message:`${(d=c?.name)!==null&&d!==void 0?d:"FetchError"}: ${c?.message}`,details:`${(u=c?.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(h=c?.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(a,i)}returns(){return this}overrideTypes(){return this}}return B2.default=r,B2}var xU;function bJ(){if(xU)return F2;xU=1,Object.defineProperty(F2,"__esModule",{value:!0});const e=Kg.__importDefault(yJ());class r extends e.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",u=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${u?`${u},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(d,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var u;const h=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${f}"; options=${h};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return F2.default=r,F2}var gU;function Y8(){if(gU)return L2;gU=1,Object.defineProperty(L2,"__esModule",{value:!0});const e=Kg.__importDefault(bJ()),r=new RegExp("[,()]");class s extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const u=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${d}fts${u}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return L2.default=s,L2}var vU;function wJ(){if(vU)return R2;vU=1,Object.defineProperty(R2,"__esModule",{value:!0});const e=Kg.__importDefault(Y8());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let d=!1;const u=(a??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",u),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const d=a.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(d.length>0){const u=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var d;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return R2.default=r,R2}var yU;function jPe(){if(yU)return M2;yU=1,Object.defineProperty(M2,"__esModule",{value:!0});const t=Kg,e=t.__importDefault(wJ()),r=t.__importDefault(Y8());class s{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new s(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:d}={}){var u;let h;const f=new URL(`${this.url}/rpc/${i}`);let m;l||c?(h=l?"HEAD":"GET",Object.entries(o).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{f.searchParams.append(g,v)})):(h="POST",m=o);const y=new Headers(this.headers);return d&&y.set("Prefer",`count=${d}`),new r.default({method:h,url:f,headers:y,schema:this.schemaName,body:m,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return M2.default=s,M2}var bU;function NPe(){if(bU)return So;bU=1,Object.defineProperty(So,"__esModule",{value:!0}),So.PostgrestError=So.PostgrestBuilder=So.PostgrestTransformBuilder=So.PostgrestFilterBuilder=So.PostgrestQueryBuilder=So.PostgrestClient=void 0;const t=Kg,e=t.__importDefault(jPe());So.PostgrestClient=e.default;const r=t.__importDefault(wJ());So.PostgrestQueryBuilder=r.default;const s=t.__importDefault(Y8());So.PostgrestFilterBuilder=s.default;const a=t.__importDefault(bJ());So.PostgrestTransformBuilder=a.default;const i=t.__importDefault(yJ());So.PostgrestBuilder=i.default;const o=t.__importDefault(vJ());return So.PostgrestError=o.default,So.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:o.default},So}var jJ=NPe();const NJ=Jn(jJ),SPe=iW({__proto__:null,default:NJ},[jJ]),{PostgrestClient:_Pe,PostgrestQueryBuilder:EVe,PostgrestFilterBuilder:PVe,PostgrestTransformBuilder:TVe,PostgrestBuilder:OVe,PostgrestError:IVe}=NJ||SPe;class CPe{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const kPe="2.80.0",APe=`realtime-js/${kPe}`,EPe="1.0.0",$E=1e4,PPe=1e3,TPe=100;var C1;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(C1||(C1={}));var bi;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(bi||(bi={}));var Td;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Td||(Td={}));var DE;(function(t){t.websocket="websocket"})(DE||(DE={}));var vp;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(vp||(vp={}));class OPe{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,r,s)}_decodeBroadcast(e,r,s){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(e.slice(o,o+a));o=o+a;const c=s.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class SJ{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Bs;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Bs||(Bs={}));const wU=(t,e,r={})=>{var s;const a=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=IPe(o,t,e,a),i),{}):{}},IPe=(t,e,r,s)=>{const a=e.find(l=>l.name===t),i=a?.type,o=r[t];return i&&!s.includes(i)?_J(i,o):ME(o)},_J=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return RPe(e,r)}switch(t){case Bs.bool:return $Pe(e);case Bs.float4:case Bs.float8:case Bs.int2:case Bs.int4:case Bs.int8:case Bs.numeric:case Bs.oid:return DPe(e);case Bs.json:case Bs.jsonb:return MPe(e);case Bs.timestamp:return LPe(e);case Bs.abstime:case Bs.date:case Bs.daterange:case Bs.int4range:case Bs.int8range:case Bs.money:case Bs.reltime:case Bs.text:case Bs.time:case Bs.timestamptz:case Bs.timetz:case Bs.tsrange:case Bs.tstzrange:return ME(e);default:return ME(e)}},ME=t=>t,$Pe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},DPe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},MPe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},RPe=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>_J(e,l))}return t},LPe=t=>typeof t=="string"?t.replace(" ","T"):t,CJ=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class gC{constructor(e,r,s={},a=$E){this.channel=e,this.event=r,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var jU;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(jU||(jU={}));class k1{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=k1.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=k1.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=k1.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,a){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const f=u.map(v=>v.presence_ref),m=h.map(v=>v.presence_ref),y=u.filter(v=>m.indexOf(v.presence_ref)<0),g=h.filter(v=>f.indexOf(v.presence_ref)<0);y.length>0&&(l[d]=y),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},s,a)}static syncDiff(e,r,s,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const h=e[l].map(m=>m.presence_ref),f=u.filter(m=>h.indexOf(m.presence_ref)<0);e[l].unshift(...f)}s(l,u,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[l]=d,a(l,d,c),d.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const a=e[s];return"metas"in a?r[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var NU;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(NU||(NU={}));var A1;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(A1||(A1={}));var Eh;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Eh||(Eh={}));class X8{constructor(e,r={config:{}},s){var a,i;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=bi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new gC(this,Td.join,this.params,this.timeout),this.rejoinTimer=new SJ(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bi.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=bi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=bi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Td.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new k1(this),this.broadcastEndpointURL=CJ(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==bi.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(m=>m.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[A1.PRESENCE]&&this.bindings[A1.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>e?.(Eh.CHANNEL_ERROR,m)),this._onClose(()=>e?.(Eh.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){e?.(Eh.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(y=g?.length)!==null&&y!==void 0?y:0,b=[];for(let w=0;w<v;w++){const N=g[w],{filter:{event:_,schema:C,table:E,filter:A}}=N,I=m&&m[w];if(I&&I.event===_&&I.schema===C&&I.table===E&&I.filter===A)b.push(Object.assign(Object.assign({},N),{id:I.id}));else{this.unsubscribe(),this.state=bi.errored,e?.(Eh.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Eh.SUBSCRIBED);return}}).receive("error",m=>{this.state=bi.errored,e?.(Eh.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e?.(Eh.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===bi.joined&&e===A1.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var s,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=bi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Td.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new gC(this,Td.leave,{},e),s.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bi.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new gC(this,e,r,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>TPe){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var a,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Td;if(s&&[l,c,d,u].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,r,s);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var y,g,v;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(g=m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(f,s)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,g,v,b,w,N;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,C=(y=m.filter)===null||y===void 0?void 0:y.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(C==="*"||C?.toLocaleLowerCase()===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(w=(b=m?.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((N=r?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:g,table:v,commit_timestamp:b,type:w,errors:N}=y;f=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:b,eventType:w,new:{},old:{},errors:N}),this._getPayloadRecords(y))}m.callback(f,s)})}_isClosed(){return this.state===bi.closed}_isJoined(){return this.state===bi.joined}_isJoining(){return this.state===bi.joining}_isLeaving(){return this.state===bi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&X8.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Td.close,{},e)}_onError(e){this._on(Td.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=wU(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=wU(e.columns,e.old_record)),r}}const vC=()=>{},z2={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},FPe=[1e3,2e3,5e3,1e4],BPe=1e4,UPe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zPe{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$E,this.transport=null,this.heartbeatIntervalMs=z2.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vC,this.ref=0,this.reconnectTimer=null,this.logger=vC,this.conn=null,this.sendBuffer=[],this.serializer=new OPe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${DE.websocket}`,this.httpEndpoint=CJ(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=CPe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:EPe}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case C1.connecting:return vp.Connecting;case C1.open:return vp.Open;case C1.closing:return vp.Closing;default:return vp.Closed}}isConnected(){return this.connectionState()===vp.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===s);if(a)return a;{const i=new X8(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:s,payload:a,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${s} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(PPe,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},z2.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${s} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Td.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${s}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([UPe],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:APe};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(Td.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new SJ(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},z2.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,a,i,o,l,c,d,u;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:$E,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:z2.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:vC,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(h=>FPe[h-1]||BPe),this.encode=(d=e?.encode)!==null&&d!==void 0?d:((h,f)=>f(JSON.stringify(h))),this.decode=(u=e?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Z8 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Aa(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class VPe extends Z8{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class RE extends Z8{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const J8=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),WPe=()=>Response,LE=t=>{if(Array.isArray(t))return t.map(r=>LE(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=LE(s)}),e},HPe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},yC=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},qPe=(t,e,r)=>Er(void 0,void 0,void 0,function*(){const s=yield WPe();t instanceof s&&!r?.noResolveJson?t.json().then(a=>{const i=t.status||500,o=a?.statusCode||i+"";e(new VPe(yC(a),i,o))}).catch(a=>{e(new RE(yC(a),a))}):e(new RE(yC(t),t))}),GPe=(t,e,r,s)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"||!s?a:(HPe(s)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(s)):a.body=s,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function lb(t,e,r,s,a,i){return Er(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,GPe(e,s,a,i)).then(c=>{if(!c.ok)throw c;return s?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>qPe(c,l,s))})})}function Oy(t,e,r,s){return Er(this,void 0,void 0,function*(){return lb(t,"GET",e,r,s)})}function Ad(t,e,r,s,a){return Er(this,void 0,void 0,function*(){return lb(t,"POST",e,s,a,r)})}function FE(t,e,r,s,a){return Er(this,void 0,void 0,function*(){return lb(t,"PUT",e,s,a,r)})}function KPe(t,e,r,s){return Er(this,void 0,void 0,function*(){return lb(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function Q8(t,e,r,s,a){return Er(this,void 0,void 0,function*(){return lb(t,"DELETE",e,s,a,r)})}class YPe{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Er(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Aa(e))return{data:null,error:e};throw e}})}}var kJ;class XPe{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[kJ]="BlobDownloadBuilder",this.promise=null}asStream(){return new YPe(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Er(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Aa(e))return{data:null,error:e};throw e}})}}kJ=Symbol.toStringTag;const ZPe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},SU={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class JPe{constructor(e,r={},s,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=J8(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,a){return Er(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},SU),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),a?.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield(e=="PUT"?FE:Ad)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Aa(i))return{data:null,error:i};throw i}})}upload(e,r,s){return Er(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,a){return Er(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:SU.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield FE(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Aa(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Er(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield Ad(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Z8("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Aa(s))return{data:null,error:s};throw s}})}update(e,r,s){return Er(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return Er(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Aa(a))return{data:null,error:a};throw a}})}copy(e,r,s){return Er(this,void 0,void 0,function*(){try{return{data:{path:(yield Ad(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Aa(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,s){return Er(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield Ad(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Aa(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,s){return Er(this,void 0,void 0,function*(){try{const a=yield Ad(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Aa(a))return{data:null,error:a};throw a}})}download(e,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>Oy(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new XPe(c,this.shouldThrowOnError)}info(e){return Er(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield Oy(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:LE(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Aa(s))return{data:null,error:s};throw s}})}exists(e){return Er(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield KPe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Aa(s)&&s instanceof RE){const a=s.originalError;if([400,404].includes(a?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${d}`)}}}remove(e){return Er(this,void 0,void 0,function*(){try{return{data:yield Q8(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Aa(r))return{data:null,error:r};throw r}})}list(e,r,s){return Er(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},ZPe),r),{prefix:e||""});return{data:yield Ad(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Aa(a))return{data:null,error:a};throw a}})}listV2(e,r){return Er(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Ad(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Aa(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const AJ="2.80.0",EJ={"X-Client-Info":`storage-js/${AJ}`};class QPe{constructor(e,r={},s,a){this.shouldThrowOnError=!1;const i=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},EJ),r),this.fetch=J8(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Er(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Oy(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Aa(r))return{data:null,error:r};throw r}})}getBucket(e){return Er(this,void 0,void 0,function*(){try{return{data:yield Oy(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Aa(r))return{data:null,error:r};throw r}})}createBucket(e){return Er(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield Ad(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Aa(a))return{data:null,error:a};throw a}})}updateBucket(e,r){return Er(this,void 0,void 0,function*(){try{return{data:yield FE(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Aa(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Er(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Aa(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Er(this,void 0,void 0,function*(){try{return{data:yield Q8(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Aa(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class eTe{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},EJ),r),this.fetch=J8(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Er(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Aa(r))return{data:null,error:r};throw r}})}listBuckets(e){return Er(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const s=r.toString(),a=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Oy(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Aa(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Er(this,void 0,void 0,function*(){try{return{data:yield Q8(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Aa(r))return{data:null,error:r};throw r}})}}const eO={"X-Client-Info":`storage-js/${AJ}`,"Content-Type":"application/json"};class PJ extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function nc(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class bC extends PJ{constructor(e,r,s){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tTe extends PJ{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var _U;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(_U||(_U={}));const tO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),rTe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},CU=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nTe=(t,e,r)=>Er(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const a=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const l=o?.statusCode||o?.code||a+"";e(new bC(CU(o),a,l))}).catch(()=>{const o=a+"",l=i.statusText||`HTTP ${a} error`;e(new bC(l,a,o))});else{const o=a+"",l=i.statusText||`HTTP ${a} error`;e(new bC(l,a,o))}}else e(new tTe(CU(t),t))}),sTe=(t,e,r,s)=>{const a={method:t,headers:e?.headers||{}};return s?(rTe(s)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(s)):a.body=s,Object.assign(Object.assign({},a),r)):a};function aTe(t,e,r,s,a,i){return Er(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,sTe(e,s,a,i)).then(c=>{if(!c.ok)throw c;if(s?.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>nTe(c,l,s))})})}function sc(t,e,r,s,a){return Er(this,void 0,void 0,function*(){return aTe(t,"POST",e,s,a,r)})}class iTe{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},eO),r),this.fetch=tO(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Er(this,void 0,void 0,function*(){try{return{data:(yield sc(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Er(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nc(s))return{data:null,error:s};throw s}})}listIndexes(e){return Er(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Er(this,void 0,void 0,function*(){try{return{data:(yield sc(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nc(s))return{data:null,error:s};throw s}})}}class oTe{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},eO),r),this.fetch=tO(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Er(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield sc(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}getVectors(e){return Er(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}listVectors(e){return Er(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield sc(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}queryVectors(e){return Er(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Er(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield sc(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}}class lTe{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},eO),r),this.fetch=tO(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Er(this,void 0,void 0,function*(){try{return{data:(yield sc(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}getBucket(e){return Er(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}listBuckets(){return Er(this,arguments,void 0,function*(e={}){try{return{data:yield sc(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Er(this,void 0,void 0,function*(){try{return{data:(yield sc(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}}class cTe extends lTe{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new dTe(this.url,this.headers,e,this.fetch)}}class dTe extends iTe{constructor(e,r,s,a){super(e,r,a),this.vectorBucketName=s}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Er(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Er(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Er(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Er(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new uTe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class uTe extends oTe{constructor(e,r,s,a,i){super(e,r,i),this.vectorBucketName=s,this.indexName=a}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Er(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Er(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Er(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Er(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Er(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class hTe extends QPe{constructor(e,r={},s,a){super(e,r,s,a)}from(e){return new JPe(this.url,this.headers,e,this.fetch)}get vectors(){return new cTe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new eTe(this.url+"/iceberg",this.headers,this.fetch)}}const fTe="2.80.0";let r1="";typeof Deno<"u"?r1="deno":typeof document<"u"?r1="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r1="react-native":r1="node";const mTe={"X-Client-Info":`supabase-js-${r1}/${fTe}`},pTe={headers:mTe},xTe={schema:"public"},gTe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vTe={},yTe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),bTe=()=>Headers,wTe=(t,e,r)=>{const s=yTe(r),a=bTe();return async(i,o)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let d=new a(o?.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},o),{headers:d}))}};function jTe(t){return t.endsWith("/")?t:t+"/"}function NTe(t,e){var r,s;const{db:a,auth:i,realtime:o,global:l}=t,{db:c,auth:d,realtime:u,global:h}=e,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h?.headers)!==null&&r!==void 0?r:{}),(s=l?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function STe(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(jTe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const TJ="2.80.0",mx=30*1e3,BE=3,wC=BE*mx,_Te="http://localhost:9999",CTe="supabase.auth.token",kTe={"X-Client-Info":`gotrue-js/${TJ}`},UE="X-Supabase-Api-Version",OJ={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ATe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ETe=600*1e3;class Iy extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function Mr(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class PTe extends Iy{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function TTe(t){return Mr(t)&&t.name==="AuthApiError"}class yp extends Iy{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ym extends Iy{constructor(e,r,s,a){super(e,s,a),this.name=r,this.status=s}}class Sd extends ym{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function OTe(t){return Mr(t)&&t.name==="AuthSessionMissingError"}class sx extends ym{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class V2 extends ym{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class W2 extends ym{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ITe(t){return Mr(t)&&t.name==="AuthImplicitGrantRedirectError"}class kU extends ym{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zE extends ym{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function jC(t){return Mr(t)&&t.name==="AuthRetryableFetchError"}class AU extends ym{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class VE extends ym{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),EU=` 	
\r=`.split(""),$Te=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<EU.length;e+=1)t[EU[e].charCodeAt(0)]=-2;for(let e=0;e<Jj.length;e+=1)t[Jj[e].charCodeAt(0)]=e;return t})();function PU(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Jj[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Jj[s]),e.queuedBits-=6}}function IJ(t,e,r){const s=$Te[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function TU(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{RTe(o,s,r)};for(let o=0;o<t.length;o+=1)IJ(t.charCodeAt(o),a,i);return e.join("")}function DTe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function MTe(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}DTe(s,e)}}function RTe(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function zx(t){const e=[],r={queue:0,queuedBits:0},s=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)IJ(t.charCodeAt(a),r,s);return new Uint8Array(e)}function LTe(t){const e=[];return MTe(t,r=>e.push(r)),new Uint8Array(e)}function Ap(t){const e=[],r={queue:0,queuedBits:0},s=a=>{e.push(a)};return t.forEach(a=>PU(a,r,s)),PU(null,r,s),e.join("")}function FTe(t){return Math.round(Date.now()/1e3)+t}function BTe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Eo=()=>typeof window<"u"&&typeof document<"u",sp={tested:!1,writable:!1},$J=()=>{if(!Eo())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sp.tested)return sp.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),sp.tested=!0,sp.writable=!0}catch{sp.tested=!0,sp.writable=!1}return sp.writable};function UTe(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((s,a)=>{e[a]=s}),e}const DJ=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),zTe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",px=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ap=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mf=async(t,e)=>{await t.removeItem(e)};class w5{constructor(){this.promise=new w5.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}w5.promiseConstructor=Promise;function NC(t){const e=t.split(".");if(e.length!==3)throw new VE("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!ATe.test(e[s]))throw new VE("JWT not in base64url format");return{header:JSON.parse(TU(e[0])),payload:JSON.parse(TU(e[1])),signature:zx(e[2]),raw:{header:e[0],payload:e[1]}}}async function VTe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function WTe(t,e){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){a(o);return}}})()})}function HTe(t){return("0"+t.toString(16)).substr(-2)}function qTe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(e),Array.from(e,HTe).join("")}async function GTe(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function KTe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await GTe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ax(t,e,r=!1){const s=qTe();let a=s;r&&(a+="/PASSWORD_RECOVERY"),await px(t,`${e}-code-verifier`,a);const i=await KTe(s);return[i,s===i?"plain":"s256"]}const YTe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XTe(t){const e=t.headers.get(UE);if(!e||!e.match(YTe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ZTe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function JTe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const QTe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ix(t){if(!QTe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function SC(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function e8e(t,e){return new Proxy(t,{get:(r,s,a)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,a)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,s,a)}})}function OU(t){return JSON.parse(JSON.stringify(t))}const mp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),t8e=[502,503,504];async function IU(t){var e;if(!zTe(t))throw new zE(mp(t),0);if(t8e.includes(t.status))throw new zE(mp(t),t.status);let r;try{r=await t.json()}catch(i){throw new yp(mp(i),i)}let s;const a=XTe(t);if(a&&a.getTime()>=OJ["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new AU(mp(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Sd}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new AU(mp(r),t.status,r.weak_password.reasons);throw new PTe(mp(r),t.status||500,s)}const r8e=(t,e,r,s)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),r))};async function en(t,e,r,s){var a;const i=Object.assign({},s?.headers);i[UE]||(i[UE]=OJ["2024-01-01"].name),s?.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(a=s?.query)!==null&&a!==void 0?a:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await n8e(t,e,r+l,{headers:i,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(c):{data:Object.assign({},c),error:null}}async function n8e(t,e,r,s,a,i){const o=r8e(e,s,a,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new zE(mp(c),0)}if(l.ok||await IU(l),s?.noResolveJson)return l;try{return await l.json()}catch(c){await IU(c)}}function _d(t){var e;let r=null;i8e(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=FTe(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function $U(t){const e=_d(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Yf(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function s8e(t){return{data:t,error:null}}function a8e(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i}=t,o=um(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function DU(t){return t}function i8e(t){return t.access_token&&t.refresh_token&&t.expires_in}const _C=["global","local","others"];class o8e{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=DJ(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=_C[0]){if(_C.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_C.join(", ")}`);try{return await en(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Mr(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await en(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Yf})}catch(s){if(Mr(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=um(e,["options"]),a=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(a.new_email=s?.newEmail,delete a.newEmail),await en(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:a8e,redirectTo:r?.redirectTo})}catch(r){if(Mr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await en(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Yf})}catch(r){if(Mr(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await en(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:DU});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);d[`${v}Page`]=g}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Mr(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){ix(e);try{return await en(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Yf})}catch(r){if(Mr(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ix(e);try{return await en(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Yf})}catch(s){if(Mr(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){ix(e);try{return await en(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Yf})}catch(s){if(Mr(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){ix(e.userId);try{const{data:r,error:s}=await en(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:s}}catch(r){if(Mr(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ix(e.userId),ix(e.id);try{return{data:await en(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Mr(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await en(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:DU});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);d[`${v}Page`]=g}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Mr(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await en(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Mr(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await en(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Mr(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await en(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Mr(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await en(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Mr(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await en(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Mr(r))return{data:null,error:r};throw r}}}function MU(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ox={debug:!!(globalThis&&$J()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class MJ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class l8e extends MJ{}async function c8e(t,e,r){ox.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),ox.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){ox.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{ox.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw ox.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new l8e(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ox.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function d8e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function RJ(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function u8e(t){return parseInt(t,16)}function h8e(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function f8e(t){var e;const{chainId:r,domain:s,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=RJ(t.address),y=u?`${u}://${s}`:s,g=t.statement?`${t.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${m}

${g}`;let b=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(b+=`
Expiration Time: ${a.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),d){let w=`
Resources:`;for(const N of d){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);w+=`
- ${N}`}b+=w}return`${v}
${b}`}class oi extends Error{constructor({message:e,code:r,cause:s,name:a}){var i;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=a??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Qj extends oi{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function m8e({error:t,options:e}){var r,s,a;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new oi({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new oi({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new oi({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new oi({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new oi({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new oi({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new oi({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new oi({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(LJ(o)){if(i.rp.id!==o)return new oi({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new oi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new oi({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new oi({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new oi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function p8e({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new oi({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new oi({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(LJ(s)){if(r.rpId!==s)return new oi({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new oi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new oi({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new oi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class x8e{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const g8e=new x8e;function v8e(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,a=um(t,["challenge","user","excludeCredentials"]),i=zx(e).buffer,o=Object.assign(Object.assign({},r),{id:zx(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(s&&s.length>0){l.excludeCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const d=s[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:zx(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function y8e(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=um(t,["challenge","allowCredentials"]),a=zx(e).buffer,i=Object.assign(Object.assign({},s),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:zx(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function b8e(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ap(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ap(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function w8e(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ap(new Uint8Array(a.authenticatorData)),clientDataJSON:Ap(new Uint8Array(a.clientDataJSON)),signature:Ap(new Uint8Array(a.signature)),userHandle:a.userHandle?Ap(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function LJ(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function RU(){var t,e;return!!(Eo()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function j8e(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Qj("Browser returned unexpected credential type",e)}:{data:null,error:new Qj("Empty credential response",e)}}catch(e){return{data:null,error:m8e({error:e,options:t})}}}async function N8e(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Qj("Browser returned unexpected credential type",e)}:{data:null,error:new Qj("Empty credential response",e)}}catch(e){return{data:null,error:p8e({error:e,options:t})}}}const S8e={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},_8e={userVerification:"preferred",hints:["security-key"]};function eN(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of t)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(r(o))s[i]=o;else if(e(o)){const l=s[i];e(l)?s[i]=eN(l,o):s[i]=eN(o)}else s[i]=o}return s}function C8e(t,e){return eN(S8e,t,e||{})}function k8e(t,e){return eN(_8e,t,e||{})}class A8e{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const c=a??g8e.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${s}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=C8e(o.webauthn.credential_options.publicKey,i?.create),{data:u,error:h}=await j8e({publicKey:d,signal:c});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const d=k8e(o.webauthn.credential_options.publicKey,i?.request),{data:u,error:h}=await N8e(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return Mr(o)?{data:null,error:o}:{data:null,error:new yp("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new Iy("rpId is required for WebAuthn authentication")};try{if(!RU())return{data:null,error:new yp("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:s,credential_response:c.credential_response}})}catch(o){return Mr(o)?{data:null,error:o}:{data:null,error:new yp("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new Iy("rpId is required for WebAuthn registration")};try{if(!RU())return{data:null,error:new yp("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:s,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return Mr(o)?{data:null,error:o}:{data:null,error:new yp("Unexpected error in register",o)}}}}d8e();const E8e={url:_Te,storageKey:CTe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kTe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function LU(t,e,r){return await r()}const lx={};class $y{get jwks(){var e,r;return(r=(e=lx[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){lx[this.storageKey]=Object.assign(Object.assign({},lx[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=lx[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){lx[this.storageKey]=Object.assign(Object.assign({},lx[this.storageKey]),{cachedAt:e})}constructor(e){var r,s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},E8e),e);if(this.storageKey=i.storageKey,this.instanceID=(r=$y.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,$y.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Eo()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new o8e({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=DJ(i.fetch),this.lock=i.lock||LU,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Eo()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=c8e:this.lock=LU,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new A8e(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:$J()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=MU(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=MU(this.memoryStorage)),Eo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${TJ}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},s="none";if(Eo()&&(r=UTe(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),Eo()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ITe(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Mr(r)?this._returnResult({error:r}):this._returnResult({error:new yp("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,a;try{const i=await en(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:_d}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(Mr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,s,a;try{let i;if("email"in e){const{email:u,password:h,options:f}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await ax(this.storage,this.storageKey)),i=await en(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:u,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:y},xform:_d})}else if("phone"in e){const{phone:u,password:h,options:f}=e;i=await en(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=f?.data)!==null&&s!==void 0?s:{},channel:(a=f?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:_d})}else throw new V2("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(Mr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await en(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:$U})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await en(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:$U})}else throw new V2("You must provide either an email or phone number and a password");const{data:s,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!s||!s.session||!s.user){const i=new sx;return this._returnResult({data:{user:null,session:null},error:i})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(r){if(Mr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,s,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,a,i,o,l,c,d,u,h,f;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:g,wallet:v,statement:b,options:w}=e;let N;if(Eo())if(typeof v=="object")N=v;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")N=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=v}const _=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href),C=await N.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=RJ(C[0]);let A=(s=w?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!A){const $=await N.request({method:"eth_chainId"});A=u8e($)}const I={domain:_.host,address:E,statement:b,uri:_.href,version:"1",chainId:A,nonce:(a=w?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=w?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=w?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=w?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=w?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=w?.signInWithEthereum)===null||u===void 0?void 0:u.resources};m=f8e(I),y=await N.request({method:"personal_sign",params:[h8e(m),E]})}try{const{data:g,error:v}=await en(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:_d});if(v)throw v;if(!g||!g.session||!g.user){const b=new sx;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(Mr(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var r,s,a,i,o,l,c,d,u,h,f,m;let y,g;if("message"in e)y=e.message,g=e.signature;else{const{chain:v,wallet:b,statement:w,options:N}=e;let _;if(Eo())if(typeof b=="object")_=b;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const C=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),w?{statement:w}:null));let A;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")A=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)A=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)y=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),g=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${C.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(a=(s=N?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=N?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((o=N?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((l=N?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((h=(u=N?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...N.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:v,error:b}=await en(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Ap(g)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:_d});if(b)throw b;if(!v||!v.session||!v.user){const w=new sx;return this._returnResult({data:{user:null,session:null},error:w})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(Mr(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(e){const r=await ap(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(r??"").split("/");try{const{data:i,error:o}=await en(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:_d});if(await Mf(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new sx;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Mr(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:s,token:a,access_token:i,nonce:o}=e,l=await en(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:_d}),{data:c,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const u=new sx;return this._returnResult({data:{user:null,session:null},error:u})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(Mr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,s,a,i,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await ax(this.storage,this.storageKey));const{error:h}=await en(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await en(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c?.data)!==null&&a!==void 0?a:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:u})}throw new V2("You must provide either an email or phone number.")}catch(l){if(Mr(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,s;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await en(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:_d});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(Mr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,s,a;try{let i=null,o=null;this.flowType==="pkce"&&([i,o]=await ax(this.storage,this.storageKey));const l=await en(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:s8e});return this._returnResult(l)}catch(i){if(Mr(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new Sd;const{error:a}=await en(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(Mr(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:a,options:i}=e,{error:o}=await en(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:s,type:a,options:i}=e,{data:o,error:l}=await en(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:l})}throw new V2("You must provide either an email or phone number and a type")}catch(r){if(Mr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ap(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<wC:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await ap(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=SC()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=e8e(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await en(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Yf}):await this._useSession(async r=>{var s,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Sd}:await en(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Yf})})}catch(r){if(Mr(r))return OTe(r)&&(await this._removeSession(),await Mf(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new Sd;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await ax(this.storage,this.storageKey));const{data:d,error:u}=await en(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Yf});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(Mr(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Sd;const r=Date.now()/1e3;let s=r,a=!0,i=null;const{payload:o}=NC(e.access_token);if(o.exp&&(s=o.exp,a=s<=r),a){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Mr(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Sd;const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Mr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Eo())throw new W2("No browser detected.");if(e.error||e.error_description||e.error_code)throw new W2(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new kU("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new W2("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new kU("No code detected.");const{data:w,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!i||!l||!o||!d)throw new W2("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const m=f-u;m*1e3<=mx&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const y=f-h;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,u);const{data:g,error:v}=await this._getUser(i);if(v)throw v;const b={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(s){if(Mr(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ap(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(s=a.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(TTe(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Mf(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=BTe(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await ax(this.storage,this.storageKey,!0));try{return await en(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Mr(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Mr(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await en(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Eo()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(Mr(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:d,nonce:u}=e,h=await en(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:_d}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new sx}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(a){if(Mr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)throw o;return await en(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Mr(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await WTe(async a=>(a>0&&await VTe(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await en(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_d})),(a,i)=>{const o=200*Math.pow(2,a);return i&&jC(i)&&Date.now()+o-s<mx})}catch(s){if(this._debug(r,"error",s),Mr(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),Eo()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await ap(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ap(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await px(this.userStorage,this.storageKey+"-user",o)),a.user=(e=o?.user)!==null&&e!==void 0?e:SC()}else if(a&&!a.user&&!a.user){const o=await ap(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await Mf(this.storage,this.storageKey+"-user"),await px(this.storage,this.storageKey,a)):a.user=SC()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<wC;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${wC}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),jC(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new Sd;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new w5;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Sd;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Mr(i)){const o={data:null,error:i};return jC(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,s=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await px(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=OU(a);await px(this.storage,this.storageKey,i)}else{const a=OU(r);await px(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Mf(this.storage,this.storageKey),await Mf(this.storage,this.storageKey+"-code-verifier"),await Mf(this.storage,this.storageKey+"-user"),this.userStorage&&await Mf(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Eo()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),mx);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-e)/mx);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${mx}ms, refresh threshold is ${BE} ticks`),a<=BE&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof MJ)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Eo()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const a=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await ax(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(s?.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s?.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await en(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(Mr(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:d}=await en(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&c.type==="totp"&&(!((a=c?.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Mr(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?b8e(e.webauthn.credential_response):w8e(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await en(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Mr(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await en(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:v8e(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:y8e(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Mr(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r?.factors)!==null&&e!==void 0?e:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:s},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=NC(s.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(e=s.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;return a?this._returnResult({data:null,error:a}):s?await en(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Sd})})}catch(r){if(Mr(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:a},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Sd});const o=await en(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Eo()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(s){if(Mr(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:a},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Sd});const o=await en(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Eo()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(s){if(Mr(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(l=>l.kid===e);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(l=>l.kid===e),s&&this.jwks_cached_at+ETe>a)return s;const{data:i,error:o}=await en(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,s=i.keys.find(l=>l.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});s=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=NC(s);r?.allowExpired||ZTe(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){const{error:m}=await this.getUser(s);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const u=JTe(a.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,LTe(`${l}.${c}`)))throw new VE("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(s){if(Mr(s))return this._returnResult({data:null,error:s});throw s}}}$y.nextInstanceID={};const P8e=$y;class T8e extends P8e{constructor(e){super(e)}}class O8e{constructor(e,r,s){var a,i,o;this.supabaseUrl=e,this.supabaseKey=r;const l=STe(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:xTe,realtime:vTe,auth:Object.assign(Object.assign({},gTe),{storageKey:c}),global:pTe},u=NTe(s??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=wTe(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new _Pe(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new hTe(this.storageUrl.href,this.headers,this.fetch,s?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new wPe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d,throwOnError:u},h,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new T8e({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:i,flowType:l,lock:c,debug:d,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new zPe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s?.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FJ=(t,e,r)=>new O8e(t,e,r);function I8e(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}I8e()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $8e="https://ohfjkcajnqvethmrpdwc.supabase.co",D8e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oZmprY2FqbnF2ZXRobXJwZHdjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMDE2OTEsImV4cCI6MjA3Nzc3NzY5MX0.EkzMR6RP3YiVNASU3Ppq4KiJHCP8R8lY4yQxKhs_4e8",Pr=FJ($8e,D8e,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}});function M8e(t){const[e,r]=S.useState([]),[s,a]=S.useState(null),i=async(h=!1)=>{try{a(null);const{data:f,error:m}=await Pr.rpc("get_bookings_with_details",{p_venue_id:t||null,p_status:null,p_from_date:null,p_to_date:null});if(m)throw m;r(f||[])}catch(f){console.error("Error fetching bookings:",f),a(f.message),h&&me.error("Failed to load bookings")}},o=async h=>{try{const{data:f,error:m}=await Pr.rpc("create_booking",{p_venue_id:h.venue_id,p_game_id:h.game_id,p_customer_id:h.customer_id,p_booking_date:h.booking_date,p_booking_time:h.booking_time,p_players:h.players,p_total_amount:h.total_amount,p_notes:h.notes||null});if(m)throw m;return me.success("Booking created successfully!"),await i(),f}catch(f){throw console.error("Error creating booking:",f),me.error(f.message||"Failed to create booking"),f}},l=async(h,f)=>{try{const{data:m,error:y}=await Pr.from("bookings").update(f).eq("id",h).select().single();if(y)throw y;return me.success("Booking updated successfully!"),await i(),m}catch(m){throw console.error("Error updating booking:",m),me.error(m.message||"Failed to update booking"),m}},c=async(h,f,m=!1)=>{try{const{data:y,error:g}=await Pr.rpc("cancel_booking",{p_booking_id:h,p_reason:f||null,p_issue_refund:m});if(g)throw g;return me.success("Booking cancelled successfully!"),await i(),y}catch(y){throw console.error("Error cancelling booking:",y),me.error(y.message||"Failed to cancel booking"),y}},d=async h=>{try{const{data:f,error:m}=await Pr.from("bookings").select("*").eq("id",h).single();if(m)throw m;return f}catch(f){throw console.error("Error fetching booking:",f),me.error("Failed to load booking details"),f}},u=async(h,f)=>{try{const{data:m,error:y}=await Pr.rpc("get_available_slots",{p_game_id:h,p_date:f});if(y)throw y;return m}catch(m){return console.error("Error fetching available slots:",m),[]}};return S.useEffect(()=>{i();const h=Pr.channel("bookings-changes").on("postgres_changes",{event:"*",schema:"public",table:"bookings"},f=>{console.log("Booking changed:",f),i()}).subscribe();return()=>{h.unsubscribe()}},[t]),{bookings:e,loading:!1,error:s,createBooking:o,updateBooking:l,cancelBooking:c,getBookingById:d,getAvailableSlots:u,refreshBookings:i}}function rO(t){const{currentUser:e}=il(),[r,s]=S.useState([]),[a,i]=S.useState(null),o=async(f=!1)=>{try{i(null);let m=Pr.from("games").select("*").order("created_at",{ascending:!1});t&&(m=m.eq("venue_id",t));const{data:y,error:g}=await m;if(g)throw g;s(y||[])}catch(m){console.error("Error fetching games:",m),i(m.message),f&&me.error("Failed to load games")}},l=async f=>{try{if(console.log("useGames.createGame called with:",f),console.log("Current user from context:",e),!f.venue_id)throw new Error("Venue ID is required to create a game");const{data:{session:m},error:y}=await Pr.auth.getSession(),g=m?.user?.id||null;g?console.log("Using Supabase user ID:",g):console.log("No Supabase session - proceeding with anon access");const v={...f,created_by:g};console.log("Inserting game data:",v);const{data:b,error:w}=await Pr.from("games").insert([v]).select().single();if(w)throw console.error("Supabase insert error:",{message:w.message,code:w.code,details:w.details,hint:w.hint}),w;return console.log("Game created successfully in database:",b),me.success("Game created successfully!"),await o(),b}catch(m){throw console.error("Error creating game:",{message:m?.message,code:m?.code,details:m?.details,hint:m?.hint,stack:m?.stack}),me.error(m.message||"Failed to create game"),m}},c=async(f,m)=>{try{const{data:y,error:g}=await Pr.from("games").update(m).eq("id",f).select().single();if(g)throw g;return me.success("Game updated successfully!"),await o(),y}catch(y){throw console.error("Error updating game:",y),me.error(y.message||"Failed to update game"),y}},d=async f=>{try{const{error:m}=await Pr.from("games").delete().eq("id",f);if(m)throw m;me.success("Game deleted successfully!"),await o()}catch(m){throw console.error("Error deleting game:",m),me.error(m.message||"Failed to delete game"),m}},u=async f=>{try{const{data:m,error:y}=await Pr.from("games").select("*").eq("id",f).single();if(y)throw y;return m}catch(m){throw console.error("Error fetching game:",m),me.error("Failed to load game details"),m}},h=async f=>{try{const{data:m,error:y}=await Pr.from("games").select("*").eq("venue_id",f).eq("status","active").order("name");if(y)throw y;return m||[]}catch(m){return console.error("Error fetching games by venue:",m),[]}};return S.useEffect(()=>{o();const f=Pr.channel("games-changes").on("postgres_changes",{event:"*",schema:"public",table:"games"},m=>{console.log("Game changed:",m),o()}).subscribe();return()=>{f.unsubscribe()}},[t]),{games:r,loading:!1,error:a,createGame:l,updateGame:c,deleteGame:d,getGameById:u,getGamesByVenue:h,refreshGames:o}}function nO(){const[t,e]=S.useState([]),[r,s]=S.useState(null),a=async(u=!1)=>{try{s(null);const{data:h,error:f}=await Pr.from("venues").select("*").order("created_at",{ascending:!1});if(f)throw f;e(h||[])}catch(h){console.error("Error fetching venues:",h),s(h.message),u&&me.error("Failed to load venues")}},i=async u=>{try{console.log("Creating venue with data:",u);const{data:{session:h}}=await Pr.auth.getSession(),f={...u,created_by:h?.user?.id||null};console.log("Inserting venue data:",f);const{data:m,error:y}=await Pr.from("venues").insert([f]).select().single();if(y)throw console.error("Venue insert error:",y),y;return console.log("Venue created successfully:",m),console.log("Generated embed_key:",m.embed_key),console.log("Generated slug:",m.slug),me.success("Venue created successfully!"),await a(),m}catch(h){throw console.error("Error creating venue:",h),me.error(h.message||"Failed to create venue"),h}},o=async(u,h)=>{try{const{data:f,error:m}=await Pr.from("venues").update(h).eq("id",u).select().single();if(m)throw m;return me.success("Venue updated successfully!"),await a(),f}catch(f){throw console.error("Error updating venue:",f),me.error(f.message||"Failed to update venue"),f}},l=async u=>{try{const{error:h}=await Pr.from("venues").delete().eq("id",u);if(h)throw h;me.success("Venue deleted successfully!"),await a()}catch(h){throw console.error("Error deleting venue:",h),me.error(h.message||"Failed to delete venue"),h}},c=async u=>{try{const{data:h,error:f}=await Pr.from("venues").select("*").eq("id",u).single();if(f)throw f;return h}catch(h){throw console.error("Error fetching venue:",h),me.error("Failed to load venue details"),h}},d=async u=>{try{const{data:h,error:f}=await Pr.rpc("get_venue_stats",{p_venue_id:u});if(f)throw f;return h}catch(h){return console.error("Error fetching venue stats:",h),null}};return S.useEffect(()=>{a();const u=Pr.channel("venues-changes").on("postgres_changes",{event:"*",schema:"public",table:"venues"},h=>{console.log("Venue changed:",h),a()}).subscribe();return()=>{u.unsubscribe()}},[]),{venues:t,loading:!1,error:r,createVenue:i,updateVenue:o,deleteVenue:l,getVenueById:c,getVenueStats:d,refreshVenues:a}}const Bd=({children:t,permissions:e,anyPermissions:r,role:s,fallback:a=null,hide:i=!0})=>{const{hasAllPermissions:o,hasAnyPermission:l,isRole:c,currentUser:d}=il();if(s){const u=Array.isArray(s)?s:[s];if(!d||!u.includes(d.role))return i?n.jsx(n.Fragment,{children:a}):null}return e&&!o(e)?i?n.jsx(n.Fragment,{children:a}):null:r&&!l(r)?i?n.jsx(n.Fragment,{children:a}):null:n.jsx(n.Fragment,{children:t})};function Vp({className:t,...e}){return n.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:n.jsx("table",{"data-slot":"table",className:nr("w-full caption-bottom text-sm",t),...e})})}function Wp({className:t,...e}){return n.jsx("thead",{"data-slot":"table-header",className:nr("[&_tr]:border-b",t),...e})}function Hp({className:t,...e}){return n.jsx("tbody",{"data-slot":"table-body",className:nr("[&_tr:last-child]:border-0",t),...e})}function Ma({className:t,...e}){return n.jsx("tr",{"data-slot":"table-row",className:nr("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function Gr({className:t,...e}){return n.jsx("th",{"data-slot":"table-head",className:nr("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function $t({className:t,...e}){return n.jsx("td",{"data-slot":"table-cell",className:nr("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function R8e(t){const e=L8e(t),r=S.forwardRef((s,a)=>{const{children:i,...o}=s,l=S.Children.toArray(i),c=l.find(B8e);if(c){const d=c.props.children,u=l.map(h=>h===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:h);return n.jsx(e,{...o,ref:a,children:S.isValidElement(d)?S.cloneElement(d,void 0,u):null})}return n.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function L8e(t){const e=S.forwardRef((r,s)=>{const{children:a,...i}=r;if(S.isValidElement(a)){const o=z8e(a),l=U8e(i,a.props);return a.type!==S.Fragment&&(l.ref=s?Hu(s,o):o),S.cloneElement(a,l)}return S.Children.count(a)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var F8e=Symbol("radix.slottable");function B8e(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===F8e}function U8e(t,e){const r={...e};for(const s in e){const a=t[s],i=e[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function z8e(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function j5(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var BJ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),V8e="VisuallyHidden",W8e=S.forwardRef((t,e)=>n.jsx(Tr.span,{...t,ref:e,style:{...BJ,...t.style}}));W8e.displayName=V8e;var H8e=[" ","Enter","ArrowUp","ArrowDown"],q8e=[" ","Enter"],a0="Select",[N5,S5,G8e]=Fy(a0),[Yg]=Mo(a0,[G8e,Dg]),_5=Dg(),[K8e,bm]=Yg(a0),[Y8e,X8e]=Yg(a0),UJ=t=>{const{__scopeSelect:e,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:m,form:y}=t,g=_5(e),[v,b]=S.useState(null),[w,N]=S.useState(null),[_,C]=S.useState(!1),E=u0(d),[A,I]=uc({prop:s,defaultProp:a??!1,onChange:i,caller:a0}),[$,O]=uc({prop:o,defaultProp:l,onChange:c,caller:a0}),P=S.useRef(null),M=v?y||!!v.closest("form"):!0,[R,W]=S.useState(new Set),Y=Array.from(R).map(K=>K.props.value).join(";");return n.jsx(LP,{...g,children:n.jsxs(K8e,{required:m,scope:e,trigger:v,onTriggerChange:b,valueNode:w,onValueNodeChange:N,valueNodeHasChildren:_,onValueNodeHasChildrenChange:C,contentId:oc(),value:$,onValueChange:O,open:A,onOpenChange:I,dir:E,triggerPointerDownPosRef:P,disabled:f,children:[n.jsx(N5.Provider,{scope:e,children:n.jsx(Y8e,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(K=>{W(L=>new Set(L).add(K))},[]),onNativeOptionRemove:S.useCallback(K=>{W(L=>{const F=new Set(L);return F.delete(K),F})},[]),children:r})}),M?n.jsxs(cQ,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:h,value:$,onChange:K=>O(K.target.value),disabled:f,form:y,children:[$===void 0?n.jsx("option",{value:""}):null,Array.from(R)]},Y):null]})})};UJ.displayName=a0;var zJ="SelectTrigger",VJ=S.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:s=!1,...a}=t,i=_5(r),o=bm(zJ,r),l=o.disabled||s,c=Zr(e,o.onTriggerChange),d=S5(r),u=S.useRef("touch"),[h,f,m]=uQ(g=>{const v=d().filter(N=>!N.disabled),b=v.find(N=>N.value===o.value),w=hQ(v,g,b);w!==void 0&&o.onValueChange(w.value)}),y=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return n.jsx(NN,{asChild:!0,...i,children:n.jsx(Tr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":dQ(o.value)?"":void 0,...a,ref:c,onClick:Vt(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&y(g)}),onPointerDown:Vt(a.onPointerDown,g=>{u.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:Vt(a.onKeyDown,g=>{const v=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(v&&g.key===" ")&&H8e.includes(g.key)&&(y(),g.preventDefault())})})})});VJ.displayName=zJ;var WJ="SelectValue",HJ=S.forwardRef((t,e)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=t,c=bm(WJ,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=Zr(e,c.onValueNodeChange);return ti(()=>{d(u)},[d,u]),n.jsx(Tr.span,{...l,ref:h,style:{pointerEvents:"none"},children:dQ(c.value)?n.jsx(n.Fragment,{children:o}):i})});HJ.displayName=WJ;var Z8e="SelectIcon",qJ=S.forwardRef((t,e)=>{const{__scopeSelect:r,children:s,...a}=t;return n.jsx(Tr.span,{"aria-hidden":!0,...a,ref:e,children:s||""})});qJ.displayName=Z8e;var J8e="SelectPortal",GJ=t=>n.jsx(Vy,{asChild:!0,...t});GJ.displayName=J8e;var i0="SelectContent",KJ=S.forwardRef((t,e)=>{const r=bm(i0,t.__scopeSelect),[s,a]=S.useState();if(ti(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?Ly.createPortal(n.jsx(YJ,{scope:t.__scopeSelect,children:n.jsx(N5.Slot,{scope:t.__scopeSelect,children:n.jsx("div",{children:t.children})})}),i):null}return n.jsx(XJ,{...t,ref:e})});KJ.displayName=i0;var kd=10,[YJ,wm]=Yg(i0),Q8e="SelectContentImpl",eOe=R8e("SelectContent.RemoveScroll"),XJ=S.forwardRef((t,e)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:v,...b}=t,w=bm(i0,r),[N,_]=S.useState(null),[C,E]=S.useState(null),A=Zr(e,ce=>_(ce)),[I,$]=S.useState(null),[O,P]=S.useState(null),M=S5(r),[R,W]=S.useState(!1),Y=S.useRef(!1);S.useEffect(()=>{if(N)return _N(N)},[N]),gN();const K=S.useCallback(ce=>{const[ie,...pe]=M().map(we=>we.ref.current),[ae]=pe.slice(-1),be=document.activeElement;for(const we of ce)if(we===be||(we?.scrollIntoView({block:"nearest"}),we===ie&&C&&(C.scrollTop=0),we===ae&&C&&(C.scrollTop=C.scrollHeight),we?.focus(),document.activeElement!==be))return},[M,C]),L=S.useCallback(()=>K([I,N]),[K,I,N]);S.useEffect(()=>{R&&L()},[R,L]);const{onOpenChange:F,triggerPointerDownPosRef:ee}=w;S.useEffect(()=>{if(N){let ce={x:0,y:0};const ie=ae=>{ce={x:Math.abs(Math.round(ae.pageX)-(ee.current?.x??0)),y:Math.abs(Math.round(ae.pageY)-(ee.current?.y??0))}},pe=ae=>{ce.x<=10&&ce.y<=10?ae.preventDefault():N.contains(ae.target)||F(!1),document.removeEventListener("pointermove",ie),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",pe,{capture:!0})}}},[N,F,ee]),S.useEffect(()=>{const ce=()=>F(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[F]);const[se,q]=uQ(ce=>{const ie=M().filter(be=>!be.disabled),pe=ie.find(be=>be.ref.current===document.activeElement),ae=hQ(ie,ce,pe);ae&&setTimeout(()=>ae.ref.current.focus())}),z=S.useCallback((ce,ie,pe)=>{const ae=!Y.current&&!pe;(w.value!==void 0&&w.value===ie||ae)&&($(ce),ae&&(Y.current=!0))},[w.value]),Z=S.useCallback(()=>N?.focus(),[N]),X=S.useCallback((ce,ie,pe)=>{const ae=!Y.current&&!pe;(w.value!==void 0&&w.value===ie||ae)&&P(ce)},[w.value]),Q=s==="popper"?WE:ZJ,ne=Q===WE?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return n.jsx(YJ,{scope:r,content:N,viewport:C,onViewportChange:E,itemRefCallback:z,selectedItem:I,onItemLeave:Z,itemTextRefCallback:X,focusSelectedItem:L,selectedItemText:O,position:s,isPositioned:R,searchRef:se,children:n.jsx(Hy,{as:eOe,allowPinchZoom:!0,children:n.jsx(Uy,{asChild:!0,trapped:w.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Vt(a,ce=>{w.trigger?.focus({preventScroll:!0}),ce.preventDefault()}),children:n.jsx(By,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:n.jsx(Q,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ce=>ce.preventDefault(),...b,...ne,onPlaced:()=>W(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Vt(b.onKeyDown,ce=>{const ie=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!ie&&ce.key.length===1&&q(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let ae=M().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const be=ce.target,we=ae.indexOf(be);ae=ae.slice(we+1)}setTimeout(()=>K(ae)),ce.preventDefault()}})})})})})})});XJ.displayName=Q8e;var tOe="SelectItemAlignedPosition",ZJ=S.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:s,...a}=t,i=bm(i0,r),o=wm(i0,r),[l,c]=S.useState(null),[d,u]=S.useState(null),h=Zr(e,A=>u(A)),f=S5(r),m=S.useRef(!1),y=S.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:b,focusSelectedItem:w}=o,N=S.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&v&&b){const A=i.trigger.getBoundingClientRect(),I=d.getBoundingClientRect(),$=i.valueNode.getBoundingClientRect(),O=b.getBoundingClientRect();if(i.dir!=="rtl"){const be=O.left-I.left,we=$.left-be,Ie=A.left-we,Ee=A.width+Ie,H=Math.max(Ee,I.width),Le=window.innerWidth-kd,Ye=U1(we,[kd,Math.max(kd,Le-H)]);l.style.minWidth=Ee+"px",l.style.left=Ye+"px"}else{const be=I.right-O.right,we=window.innerWidth-$.right-be,Ie=window.innerWidth-A.right-we,Ee=A.width+Ie,H=Math.max(Ee,I.width),Le=window.innerWidth-kd,Ye=U1(we,[kd,Math.max(kd,Le-H)]);l.style.minWidth=Ee+"px",l.style.right=Ye+"px"}const P=f(),M=window.innerHeight-kd*2,R=g.scrollHeight,W=window.getComputedStyle(d),Y=parseInt(W.borderTopWidth,10),K=parseInt(W.paddingTop,10),L=parseInt(W.borderBottomWidth,10),F=parseInt(W.paddingBottom,10),ee=Y+K+R+F+L,se=Math.min(v.offsetHeight*5,ee),q=window.getComputedStyle(g),z=parseInt(q.paddingTop,10),Z=parseInt(q.paddingBottom,10),X=A.top+A.height/2-kd,Q=M-X,ne=v.offsetHeight/2,ce=v.offsetTop+ne,ie=Y+K+ce,pe=ee-ie;if(ie<=X){const be=P.length>0&&v===P[P.length-1].ref.current;l.style.bottom="0px";const we=d.clientHeight-g.offsetTop-g.offsetHeight,Ie=Math.max(Q,ne+(be?Z:0)+we+L),Ee=ie+Ie;l.style.height=Ee+"px"}else{const be=P.length>0&&v===P[0].ref.current;l.style.top="0px";const Ie=Math.max(X,Y+g.offsetTop+(be?z:0)+ne)+pe;l.style.height=Ie+"px",g.scrollTop=ie-X+g.offsetTop}l.style.margin=`${kd}px 0`,l.style.minHeight=se+"px",l.style.maxHeight=M+"px",s?.(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,d,g,v,b,i.dir,s]);ti(()=>N(),[N]);const[_,C]=S.useState();ti(()=>{d&&C(window.getComputedStyle(d).zIndex)},[d]);const E=S.useCallback(A=>{A&&y.current===!0&&(N(),w?.(),y.current=!1)},[N,w]);return n.jsx(nOe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:E,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:n.jsx(Tr.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});ZJ.displayName=tOe;var rOe="SelectPopperPosition",WE=S.forwardRef((t,e)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=kd,...i}=t,o=_5(r);return n.jsx(FP,{...o,...i,ref:e,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});WE.displayName=rOe;var[nOe,sO]=Yg(i0,{}),HE="SelectViewport",JJ=S.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:s,...a}=t,i=wm(HE,r),o=sO(HE,r),l=Zr(e,i.onViewportChange),c=S.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(N5.Slot,{scope:r,children:n.jsx(Tr.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Vt(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f?.current&&h){const m=Math.abs(c.current-u.scrollTop);if(m>0){const y=window.innerHeight-kd*2,g=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),b=Math.max(g,v);if(b<y){const w=b+m,N=Math.min(y,w),_=w-N;h.style.height=N+"px",h.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});JJ.displayName=HE;var QJ="SelectGroup",[sOe,aOe]=Yg(QJ),iOe=S.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,a=oc();return n.jsx(sOe,{scope:r,id:a,children:n.jsx(Tr.div,{role:"group","aria-labelledby":a,...s,ref:e})})});iOe.displayName=QJ;var eQ="SelectLabel",oOe=S.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,a=aOe(eQ,r);return n.jsx(Tr.div,{id:a.id,...s,ref:e})});oOe.displayName=eQ;var tN="SelectItem",[lOe,tQ]=Yg(tN),rQ=S.forwardRef((t,e)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=t,l=bm(tN,r),c=wm(tN,r),d=l.value===s,[u,h]=S.useState(i??""),[f,m]=S.useState(!1),y=Zr(e,w=>c.itemRefCallback?.(w,s,a)),g=oc(),v=S.useRef("touch"),b=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(lOe,{scope:r,value:s,disabled:a,textId:g,isSelected:d,onItemTextChange:S.useCallback(w=>{h(N=>N||(w?.textContent??"").trim())},[]),children:n.jsx(N5.ItemSlot,{scope:r,value:s,disabled:a,textValue:u,children:n.jsx(Tr.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:Vt(o.onFocus,()=>m(!0)),onBlur:Vt(o.onBlur,()=>m(!1)),onClick:Vt(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:Vt(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:Vt(o.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:Vt(o.onPointerMove,w=>{v.current=w.pointerType,a?c.onItemLeave?.():v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Vt(o.onPointerLeave,w=>{w.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Vt(o.onKeyDown,w=>{c.searchRef?.current!==""&&w.key===" "||(q8e.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});rQ.displayName=tN;var n1="SelectItemText",nQ=S.forwardRef((t,e)=>{const{__scopeSelect:r,className:s,style:a,...i}=t,o=bm(n1,r),l=wm(n1,r),c=tQ(n1,r),d=X8e(n1,r),[u,h]=S.useState(null),f=Zr(e,b=>h(b),c.onItemTextChange,b=>l.itemTextRefCallback?.(b,c.value,c.disabled)),m=u?.textContent,y=S.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=d;return ti(()=>(g(y),()=>v(y)),[g,v,y]),n.jsxs(n.Fragment,{children:[n.jsx(Tr.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ly.createPortal(i.children,o.valueNode):null]})});nQ.displayName=n1;var sQ="SelectItemIndicator",aQ=S.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t;return tQ(sQ,r).isSelected?n.jsx(Tr.span,{"aria-hidden":!0,...s,ref:e}):null});aQ.displayName=sQ;var qE="SelectScrollUpButton",iQ=S.forwardRef((t,e)=>{const r=wm(qE,t.__scopeSelect),s=sO(qE,t.__scopeSelect),[a,i]=S.useState(!1),o=Zr(e,s.onScrollButtonChange);return ti(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(lQ,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});iQ.displayName=qE;var GE="SelectScrollDownButton",oQ=S.forwardRef((t,e)=>{const r=wm(GE,t.__scopeSelect),s=sO(GE,t.__scopeSelect),[a,i]=S.useState(!1),o=Zr(e,s.onScrollButtonChange);return ti(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(lQ,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});oQ.displayName=GE;var lQ=S.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=t,i=wm("SelectScrollButton",r),o=S.useRef(null),l=S5(r),c=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>c(),[c]),ti(()=>{l().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),n.jsx(Tr.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:Vt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Vt(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Vt(a.onPointerLeave,()=>{c()})})}),cOe="SelectSeparator",dOe=S.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t;return n.jsx(Tr.div,{"aria-hidden":!0,...s,ref:e})});dOe.displayName=cOe;var KE="SelectArrow",uOe=S.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,a=_5(r),i=bm(KE,r),o=wm(KE,r);return i.open&&o.position==="popper"?n.jsx(BP,{...a,...s,ref:e}):null});uOe.displayName=KE;var hOe="SelectBubbleInput",cQ=S.forwardRef(({__scopeSelect:t,value:e,...r},s)=>{const a=S.useRef(null),i=Zr(s,a),o=j5(e);return S.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&u){const h=new Event("change",{bubbles:!0});u.call(l,e),l.dispatchEvent(h)}},[o,e]),n.jsx(Tr.select,{...r,style:{...BJ,...r.style},ref:i,defaultValue:e})});cQ.displayName=hOe;function dQ(t){return t===""||t===void 0}function uQ(t){const e=Ki(t),r=S.useRef(""),s=S.useRef(0),a=S.useCallback(o=>{const l=r.current+o;e(l),(function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),i=S.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function hQ(t,e,r){const a=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=fOe(t,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function fOe(t,e){return t.map((r,s)=>t[(e+s)%t.length])}var mOe=UJ,pOe=VJ,xOe=HJ,gOe=qJ,vOe=GJ,yOe=KJ,bOe=JJ,wOe=rQ,jOe=nQ,NOe=aQ,SOe=iQ,_Oe=oQ;function Kt({...t}){return n.jsx(mOe,{"data-slot":"select",...t})}function Yt({...t}){return n.jsx(xOe,{"data-slot":"select-value",...t})}function Xt({className:t,size:e="default",children:r,...s}){return n.jsxs(pOe,{"data-slot":"select-trigger","data-size":e,className:nr("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s,children:[r,n.jsx(gOe,{asChild:!0,children:n.jsx(Dd,{className:"size-4 opacity-50"})})]})}function Zt({className:t,children:e,position:r="popper",...s}){return n.jsx(vOe,{children:n.jsxs(yOe,{"data-slot":"select-content",className:nr("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...s,children:[n.jsx(COe,{}),n.jsx(bOe,{className:nr("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),n.jsx(kOe,{})]})})}function Ce({className:t,children:e,...r}){return n.jsxs(wOe,{"data-slot":"select-item",className:nr("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[n.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:n.jsx(NOe,{children:n.jsx(jn,{className:"size-4"})})}),n.jsx(jOe,{children:e})]})}function COe({className:t,...e}){return n.jsx(SOe,{"data-slot":"select-scroll-up-button",className:nr("flex cursor-default items-center justify-center py-1",t),...e,children:n.jsx(dW,{className:"size-4"})})}function kOe({className:t,...e}){return n.jsx(_Oe,{"data-slot":"select-scroll-down-button",className:nr("flex cursor-default items-center justify-center py-1",t),...e,children:n.jsx(Dd,{className:"size-4"})})}function AOe(t){const e=EOe(t),r=S.forwardRef((s,a)=>{const{children:i,...o}=s,l=S.Children.toArray(i),c=l.find(TOe);if(c){const d=c.props.children,u=l.map(h=>h===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:h);return n.jsx(e,{...o,ref:a,children:S.isValidElement(d)?S.cloneElement(d,void 0,u):null})}return n.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function EOe(t){const e=S.forwardRef((r,s)=>{const{children:a,...i}=r;if(S.isValidElement(a)){const o=IOe(a),l=OOe(i,a.props);return a.type!==S.Fragment&&(l.ref=s?Hu(s,o):o),S.cloneElement(a,l)}return S.Children.count(a)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var POe=Symbol("radix.slottable");function TOe(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===POe}function OOe(t,e){const r={...e};for(const s in e){const a=t[s],i=e[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function IOe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var C5="Dialog",[fQ,mQ]=Mo(C5),[$Oe,Yd]=fQ(C5),pQ=t=>{const{__scopeDialog:e,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=t,l=S.useRef(null),c=S.useRef(null),[d,u]=uc({prop:s,defaultProp:a??!1,onChange:i,caller:C5});return n.jsx($Oe,{scope:e,triggerRef:l,contentRef:c,contentId:oc(),titleId:oc(),descriptionId:oc(),open:d,onOpenChange:u,onOpenToggle:S.useCallback(()=>u(h=>!h),[u]),modal:o,children:r})};pQ.displayName=C5;var xQ="DialogTrigger",gQ=S.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,a=Yd(xQ,r),i=Zr(e,a.triggerRef);return n.jsx(Tr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":oO(a.open),...s,ref:i,onClick:Vt(t.onClick,a.onOpenToggle)})});gQ.displayName=xQ;var aO="DialogPortal",[DOe,vQ]=fQ(aO,{forceMount:void 0}),yQ=t=>{const{__scopeDialog:e,forceMount:r,children:s,container:a}=t,i=Yd(aO,e);return n.jsx(DOe,{scope:e,forceMount:r,children:S.Children.map(s,o=>n.jsx(fo,{present:r||i.open,children:n.jsx(Vy,{asChild:!0,container:a,children:o})}))})};yQ.displayName=aO;var rN="DialogOverlay",bQ=S.forwardRef((t,e)=>{const r=vQ(rN,t.__scopeDialog),{forceMount:s=r.forceMount,...a}=t,i=Yd(rN,t.__scopeDialog);return i.modal?n.jsx(fo,{present:s||i.open,children:n.jsx(ROe,{...a,ref:e})}):null});bQ.displayName=rN;var MOe=AOe("DialogOverlay.RemoveScroll"),ROe=S.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,a=Yd(rN,r);return n.jsx(Hy,{as:MOe,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(Tr.div,{"data-state":oO(a.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),o0="DialogContent",wQ=S.forwardRef((t,e)=>{const r=vQ(o0,t.__scopeDialog),{forceMount:s=r.forceMount,...a}=t,i=Yd(o0,t.__scopeDialog);return n.jsx(fo,{present:s||i.open,children:i.modal?n.jsx(LOe,{...a,ref:e}):n.jsx(FOe,{...a,ref:e})})});wQ.displayName=o0;var LOe=S.forwardRef((t,e)=>{const r=Yd(o0,t.__scopeDialog),s=S.useRef(null),a=Zr(e,r.contentRef,s);return S.useEffect(()=>{const i=s.current;if(i)return _N(i)},[]),n.jsx(jQ,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Vt(t.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Vt(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Vt(t.onFocusOutside,i=>i.preventDefault())})}),FOe=S.forwardRef((t,e)=>{const r=Yd(o0,t.__scopeDialog),s=S.useRef(!1),a=S.useRef(!1);return n.jsx(jQ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(s.current||r.triggerRef.current?.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),jQ=S.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=t,l=Yd(o0,r),c=S.useRef(null),d=Zr(e,c);return gN(),n.jsxs(n.Fragment,{children:[n.jsx(Uy,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(By,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":oO(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(UOe,{titleId:l.titleId}),n.jsx(VOe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),iO="DialogTitle",NQ=S.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,a=Yd(iO,r);return n.jsx(Tr.h2,{id:a.titleId,...s,ref:e})});NQ.displayName=iO;var SQ="DialogDescription",_Q=S.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,a=Yd(SQ,r);return n.jsx(Tr.p,{id:a.descriptionId,...s,ref:e})});_Q.displayName=SQ;var CQ="DialogClose",kQ=S.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,a=Yd(CQ,r);return n.jsx(Tr.button,{type:"button",...s,ref:e,onClick:Vt(t.onClick,()=>a.onOpenChange(!1))})});kQ.displayName=CQ;function oO(t){return t?"open":"closed"}var AQ="DialogTitleWarning",[BOe,EQ]=Moe(AQ,{contentName:o0,titleName:iO,docsSlug:"dialog"}),UOe=({titleId:t})=>{const e=EQ(AQ),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},zOe="DialogDescriptionWarning",VOe=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${EQ(zOe).contentName}}.`;return S.useEffect(()=>{const a=t.current?.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},PQ=pQ,WOe=gQ,TQ=yQ,lO=bQ,OQ=wQ,IQ=NQ,$Q=_Q,cO=kQ;function or({...t}){return n.jsx(PQ,{"data-slot":"dialog",...t})}function HOe({...t}){return n.jsx(TQ,{"data-slot":"dialog-portal",...t})}const DQ=S.forwardRef(({className:t,...e},r)=>n.jsx(lO,{ref:r,"data-slot":"dialog-overlay",className:nr("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));DQ.displayName=lO.displayName;function lr({className:t,children:e,...r}){return n.jsxs(HOe,{"data-slot":"dialog-portal",children:[n.jsx(DQ,{}),n.jsxs(OQ,{"data-slot":"dialog-content",className:nr("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 lg:data-[state=closed]:slide-out-to-bottom-0 lg:data-[state=open]:slide-in-from-bottom-0 fixed z-50 grid w-full gap-4 border shadow-lg duration-200","max-lg:inset-0 max-lg:h-full max-lg:max-w-full max-lg:rounded-none max-lg:p-4 max-lg:translate-x-0 max-lg:translate-y-0","lg:top-[50%] lg:left-[50%] lg:max-w-[calc(100%-2rem)] lg:translate-x-[-50%] lg:translate-y-[-50%] lg:rounded-lg lg:p-6 lg:sm:max-w-lg",t),...r,children:[e,n.jsxs(cO,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-3 right-3 lg:top-4 lg:right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-5 lg:[&_svg:not([class*='size-'])]:size-4",children:[n.jsx(In,{}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Nr({className:t,...e}){return n.jsx("div",{"data-slot":"dialog-header",className:nr("flex flex-col gap-2 text-center sm:text-left",t),...e})}function wn({className:t,...e}){return n.jsx("div",{"data-slot":"dialog-footer",className:nr("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function cr({className:t,...e}){return n.jsx(IQ,{"data-slot":"dialog-title",className:nr("text-lg leading-none font-semibold",t),...e})}function xr({className:t,...e}){return n.jsx($Q,{"data-slot":"dialog-description",className:nr("text-muted-foreground text-sm",t),...e})}var rn=function(){return rn=Object.assign||function(e){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},rn.apply(this,arguments)};function qOe(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(r[s[a]]=t[s[a]]);return r}function MQ(t,e,r){for(var s=0,a=e.length,i;s<a;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}function cb(t){return t.mode==="multiple"}function db(t){return t.mode==="range"}function k5(t){return t.mode==="single"}var GOe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function KOe(t,e){return On(t,"LLLL y",e)}function YOe(t,e){return On(t,"d",e)}function XOe(t,e){return On(t,"LLLL",e)}function ZOe(t){return"".concat(t)}function JOe(t,e){return On(t,"cccccc",e)}function QOe(t,e){return On(t,"yyyy",e)}var eIe=Object.freeze({__proto__:null,formatCaption:KOe,formatDay:YOe,formatMonthCaption:XOe,formatWeekNumber:ZOe,formatWeekdayName:JOe,formatYearCaption:QOe}),tIe=function(t,e,r){return On(t,"do MMMM (EEEE)",r)},rIe=function(){return"Month: "},nIe=function(){return"Go to next month"},sIe=function(){return"Go to previous month"},aIe=function(t,e){return On(t,"cccc",e)},iIe=function(t){return"Week n. ".concat(t)},oIe=function(){return"Year: "},lIe=Object.freeze({__proto__:null,labelDay:tIe,labelMonthDropdown:rIe,labelNext:nIe,labelPrevious:sIe,labelWeekNumber:iIe,labelWeekday:aIe,labelYearDropdown:oIe});function cIe(){var t="buttons",e=GOe,r=hJ,s={},a={},i=1,o={},l=new Date;return{captionLayout:t,classNames:e,formatters:eIe,labels:lIe,locale:r,modifiersClassNames:s,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function dIe(t){var e=t.fromYear,r=t.toYear,s=t.fromMonth,a=t.toMonth,i=t.fromDate,o=t.toDate;return s?i=Il(s):e&&(i=new Date(e,0,1)),a?o=H8(a):r&&(o=new Date(r,11,31)),{fromDate:i?_g(i):void 0,toDate:o?_g(o):void 0}}var RQ=S.createContext(void 0);function uIe(t){var e,r=t.initialProps,s=cIe(),a=dIe(r),i=a.fromDate,o=a.toDate,l=(e=r.captionLayout)!==null&&e!==void 0?e:s.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(k5(r)||cb(r)||db(r))&&(c=r.onSelect);var d=rn(rn(rn({},s),r),{captionLayout:l,classNames:rn(rn({},s.classNames),r.classNames),components:rn({},r.components),formatters:rn(rn({},s.formatters),r.formatters),fromDate:i,labels:rn(rn({},s.labels),r.labels),mode:r.mode||s.mode,modifiers:rn(rn({},s.modifiers),r.modifiers),modifiersClassNames:rn(rn({},s.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:rn(rn({},s.styles),r.styles),toDate:o});return n.jsx(RQ.Provider,{value:d,children:t.children})}function Ks(){var t=S.useContext(RQ);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function LQ(t){var e=Ks(),r=e.locale,s=e.classNames,a=e.styles,i=e.formatters.formatCaption;return n.jsx("div",{className:s.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:r})})}function hIe(t){return n.jsx("svg",rn({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function FQ(t){var e,r,s=t.onChange,a=t.value,i=t.children,o=t.caption,l=t.className,c=t.style,d=Ks(),u=(r=(e=d.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:hIe;return n.jsxs("div",{className:l,style:c,children:[n.jsx("span",{className:d.classNames.vhidden,children:t["aria-label"]}),n.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:s,children:i}),n.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,n.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function fIe(t){var e,r=Ks(),s=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!s)return n.jsx(n.Fragment,{});if(!a)return n.jsx(n.Fragment,{});var h=[];if(pPe(s,a))for(var f=Il(s),m=s.getMonth();m<=a.getMonth();m++)h.push(xC(f,m));else for(var f=Il(new Date),m=0;m<=11;m++)h.push(xC(f,m));var y=function(v){var b=Number(v.target.value),w=xC(Il(t.displayMonth),b);t.onChange(w)},g=(e=d?.Dropdown)!==null&&e!==void 0?e:FQ;return n.jsx(g,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:y,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:o}),children:h.map(function(v){return n.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function mIe(t){var e,r=t.displayMonth,s=Ks(),a=s.fromDate,i=s.toDate,o=s.locale,l=s.styles,c=s.classNames,d=s.components,u=s.formatters.formatYearCaption,h=s.labels.labelYearDropdown,f=[];if(!a)return n.jsx(n.Fragment,{});if(!i)return n.jsx(n.Fragment,{});for(var m=a.getFullYear(),y=i.getFullYear(),g=m;g<=y;g++)f.push(dU(dJ(new Date),g));var v=function(w){var N=dU(Il(r),Number(w.target.value));t.onChange(N)},b=(e=d?.Dropdown)!==null&&e!==void 0?e:FQ;return n.jsx(b,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:u(r,{locale:o}),children:f.map(function(w){return n.jsx("option",{value:w.getFullYear(),children:u(w,{locale:o})},w.getFullYear())})})}function pIe(t,e){var r=S.useState(t),s=r[0],a=r[1],i=e===void 0?s:e;return[i,a]}function xIe(t){var e=t.month,r=t.defaultMonth,s=t.today,a=e||r||s||new Date,i=t.toDate,o=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(i&&Ty(i,a)<0){var d=-1*(c-1);a=Wd(i,d)}return o&&Ty(a,o)<0&&(a=o),Il(a)}function gIe(){var t=Ks(),e=xIe(t),r=pIe(e,t.month),s=r[0],a=r[1],i=function(o){var l;if(!t.disableNavigation){var c=Il(o);a(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[s,i]}function vIe(t,e){for(var r=e.reverseMonths,s=e.numberOfMonths,a=Il(t),i=Il(Wd(a,s)),o=Ty(i,a),l=[],c=0;c<o;c++){var d=Wd(a,c);l.push(d)}return r&&(l=l.reverse()),l}function yIe(t,e){if(!e.disableNavigation){var r=e.toDate,s=e.pagedNavigation,a=e.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=Il(t);if(!r)return Wd(l,o);var c=Ty(r,t);if(!(c<i))return Wd(l,o)}}function bIe(t,e){if(!e.disableNavigation){var r=e.fromDate,s=e.pagedNavigation,a=e.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=Il(t);if(!r)return Wd(l,-o);var c=Ty(l,r);if(!(c<=0))return Wd(l,-o)}}var BQ=S.createContext(void 0);function wIe(t){var e=Ks(),r=gIe(),s=r[0],a=r[1],i=vIe(s,e),o=yIe(s,e),l=bIe(s,e),c=function(h){return i.some(function(f){return G8(h,f)})},d=function(h,f){c(h)||(f&&gJ(h,f)?a(Wd(h,1+e.numberOfMonths*-1)):a(h))},u={currentMonth:s,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return n.jsx(BQ.Provider,{value:u,children:t.children})}function ub(){var t=S.useContext(BQ);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function FU(t){var e,r=Ks(),s=r.classNames,a=r.styles,i=r.components,o=ub().goToMonth,l=function(u){o(Wd(u,t.displayIndex?-t.displayIndex:0))},c=(e=i?.CaptionLabel)!==null&&e!==void 0?e:LQ,d=n.jsx(c,{id:t.id,displayMonth:t.displayMonth});return n.jsxs("div",{className:s.caption_dropdowns,style:a.caption_dropdowns,children:[n.jsx("div",{className:s.vhidden,children:d}),n.jsx(fIe,{onChange:l,displayMonth:t.displayMonth}),n.jsx(mIe,{onChange:l,displayMonth:t.displayMonth})]})}function jIe(t){return n.jsx("svg",rn({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function NIe(t){return n.jsx("svg",rn({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var nN=S.forwardRef(function(t,e){var r=Ks(),s=r.classNames,a=r.styles,i=[s.button_reset,s.button];t.className&&i.push(t.className);var o=i.join(" "),l=rn(rn({},a.button_reset),a.button);return t.style&&Object.assign(l,t.style),n.jsx("button",rn({},t,{ref:e,type:"button",className:o,style:l}))});function SIe(t){var e,r,s=Ks(),a=s.dir,i=s.locale,o=s.classNames,l=s.styles,c=s.labels,d=c.labelPrevious,u=c.labelNext,h=s.components;if(!t.nextMonth&&!t.previousMonth)return n.jsx(n.Fragment,{});var f=d(t.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),y=u(t.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),v=(e=h?.IconRight)!==null&&e!==void 0?e:NIe,b=(r=h?.IconLeft)!==null&&r!==void 0?r:jIe;return n.jsxs("div",{className:o.nav,style:l.nav,children:[!t.hidePrevious&&n.jsx(nN,{name:"previous-month","aria-label":f,className:m,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:a==="rtl"?n.jsx(v,{className:o.nav_icon,style:l.nav_icon}):n.jsx(b,{className:o.nav_icon,style:l.nav_icon})}),!t.hideNext&&n.jsx(nN,{name:"next-month","aria-label":y,className:g,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:a==="rtl"?n.jsx(b,{className:o.nav_icon,style:l.nav_icon}):n.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function BU(t){var e=Ks().numberOfMonths,r=ub(),s=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(y){return G8(t.displayMonth,y)}),c=l===0,d=l===o.length-1,u=e>1&&(c||!d),h=e>1&&(d||!c),f=function(){s&&i(s)},m=function(){a&&i(a)};return n.jsx(SIe,{displayMonth:t.displayMonth,hideNext:u,hidePrevious:h,nextMonth:a,previousMonth:s,onPreviousClick:f,onNextClick:m})}function _Ie(t){var e,r=Ks(),s=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(e=l?.CaptionLabel)!==null&&e!==void 0?e:LQ,d;return a?d=n.jsx(c,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?d=n.jsx(FU,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?d=n.jsxs(n.Fragment,{children:[n.jsx(FU,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),n.jsx(BU,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):d=n.jsxs(n.Fragment,{children:[n.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),n.jsx(BU,{displayMonth:t.displayMonth,id:t.id})]}),n.jsx("div",{className:s.caption,style:i.caption,children:d})}function CIe(t){var e=Ks(),r=e.footer,s=e.styles,a=e.classNames.tfoot;return r?n.jsx("tfoot",{className:a,style:s.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:r})})}):n.jsx(n.Fragment,{})}function kIe(t,e,r){for(var s=r?s0(new Date):Bu(new Date,{locale:t,weekStartsOn:e}),a=[],i=0;i<7;i++){var o=Jo(s,i);a.push(o)}return a}function AIe(){var t=Ks(),e=t.classNames,r=t.styles,s=t.showWeekNumber,a=t.locale,i=t.weekStartsOn,o=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,d=kIe(a,i,o);return n.jsxs("tr",{style:r.head_row,className:e.head_row,children:[s&&n.jsx("td",{style:r.head_cell,className:e.head_cell}),d.map(function(u,h){return n.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},h)})]})}function EIe(){var t,e=Ks(),r=e.classNames,s=e.styles,a=e.components,i=(t=a?.HeadRow)!==null&&t!==void 0?t:AIe;return n.jsx("thead",{style:s.head,className:r.head,children:n.jsx(i,{})})}function PIe(t){var e=Ks(),r=e.locale,s=e.formatters.formatDay;return n.jsx(n.Fragment,{children:s(t.date,{locale:r})})}var dO=S.createContext(void 0);function TIe(t){if(!cb(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return n.jsx(dO.Provider,{value:e,children:t.children})}return n.jsx(OIe,{initialProps:t.initialProps,children:t.children})}function OIe(t){var e=t.initialProps,r=t.children,s=e.selected,a=e.min,i=e.max,o=function(d,u,h){var f,m;(f=e.onDayClick)===null||f===void 0||f.call(e,d,u,h);var y=!!(u.selected&&a&&s?.length===a);if(!y){var g=!!(!u.selected&&i&&s?.length===i);if(!g){var v=s?MQ([],s):[];if(u.selected){var b=v.findIndex(function(w){return Ol(d,w)});v.splice(b,1)}else v.push(d);(m=e.onSelect)===null||m===void 0||m.call(e,v,d,u,h)}}},l={disabled:[]};s&&l.disabled.push(function(d){var u=i&&s.length>i-1,h=s.some(function(f){return Ol(f,d)});return!!(u&&!h)});var c={selected:s,onDayClick:o,modifiers:l};return n.jsx(dO.Provider,{value:c,children:r})}function uO(){var t=S.useContext(dO);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function IIe(t,e){var r=e||{},s=r.from,a=r.to;return s&&a?Ol(a,t)&&Ol(s,t)?void 0:Ol(a,t)?{from:a,to:void 0}:Ol(s,t)?void 0:OE(s,t)?{from:t,to:a}:{from:s,to:t}:a?OE(t,a)?{from:a,to:t}:{from:t,to:a}:s?gJ(t,s)?{from:t,to:s}:{from:s,to:t}:{from:t,to:void 0}}var hO=S.createContext(void 0);function $Ie(t){if(!db(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(hO.Provider,{value:e,children:t.children})}return n.jsx(DIe,{initialProps:t.initialProps,children:t.children})}function DIe(t){var e=t.initialProps,r=t.children,s=e.selected,a=s||{},i=a.from,o=a.to,l=e.min,c=e.max,d=function(m,y,g){var v,b;(v=e.onDayClick)===null||v===void 0||v.call(e,m,y,g);var w=IIe(m,s);(b=e.onSelect)===null||b===void 0||b.call(e,w,m,y,g)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],Ol(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:pC(i,l-1),before:Jo(i,l-1)}),i&&o&&u.disabled.push({after:i,before:Jo(i,l-1)}),!i&&o&&u.disabled.push({after:pC(o,l-1),before:Jo(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:Jo(i,-c+1)}),u.disabled.push({after:Jo(i,c-1)})),i&&o){var h=Nu(o,i)+1,f=c-h;u.disabled.push({before:pC(i,f)}),u.disabled.push({after:Jo(o,f)})}!i&&o&&(u.disabled.push({before:Jo(o,-c+1)}),u.disabled.push({after:Jo(o,c-1)}))}return n.jsx(hO.Provider,{value:{selected:s,onDayClick:d,modifiers:u},children:r})}function fO(){var t=S.useContext(hO);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function jw(t){return Array.isArray(t)?MQ([],t):t!==void 0?[t]:[]}function MIe(t){var e={};return Object.entries(t).forEach(function(r){var s=r[0],a=r[1];e[s]=jw(a)}),e}var Hd;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Hd||(Hd={}));var RIe=Hd.Selected,_h=Hd.Disabled,LIe=Hd.Hidden,FIe=Hd.Today,CC=Hd.RangeEnd,kC=Hd.RangeMiddle,AC=Hd.RangeStart,BIe=Hd.Outside;function UIe(t,e,r){var s,a=(s={},s[RIe]=jw(t.selected),s[_h]=jw(t.disabled),s[LIe]=jw(t.hidden),s[FIe]=[t.today],s[CC]=[],s[kC]=[],s[AC]=[],s[BIe]=[],s);return t.fromDate&&a[_h].push({before:t.fromDate}),t.toDate&&a[_h].push({after:t.toDate}),cb(t)?a[_h]=a[_h].concat(e.modifiers[_h]):db(t)&&(a[_h]=a[_h].concat(r.modifiers[_h]),a[AC]=r.modifiers[AC],a[kC]=r.modifiers[kC],a[CC]=r.modifiers[CC]),a}var UQ=S.createContext(void 0);function zIe(t){var e=Ks(),r=uO(),s=fO(),a=UIe(e,r,s),i=MIe(e.modifiers),o=rn(rn({},a),i);return n.jsx(UQ.Provider,{value:o,children:t.children})}function zQ(){var t=S.useContext(UQ);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function VIe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function WIe(t){return!!(t&&typeof t=="object"&&"from"in t)}function HIe(t){return!!(t&&typeof t=="object"&&"after"in t)}function qIe(t){return!!(t&&typeof t=="object"&&"before"in t)}function GIe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function KIe(t,e){var r,s=e.from,a=e.to;if(s&&a){var i=Nu(a,s)<0;i&&(r=[a,s],s=r[0],a=r[1]);var o=Nu(t,s)>=0&&Nu(a,t)>=0;return o}return a?Ol(a,t):s?Ol(s,t):!1}function YIe(t){return W8(t)}function XIe(t){return Array.isArray(t)&&t.every(W8)}function ZIe(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(YIe(r))return Ol(t,r);if(XIe(r))return r.includes(t);if(WIe(r))return KIe(t,r);if(GIe(r))return r.dayOfWeek.includes(t.getDay());if(VIe(r)){var s=Nu(r.before,t),a=Nu(r.after,t),i=s>0,o=a<0,l=OE(r.before,r.after);return l?o&&i:i||o}return HIe(r)?Nu(t,r.after)>0:qIe(r)?Nu(r.before,t)>0:typeof r=="function"?r(t):!1})}function mO(t,e,r){var s=Object.keys(e).reduce(function(i,o){var l=e[o];return ZIe(t,l)&&i.push(o),i},[]),a={};return s.forEach(function(i){return a[i]=!0}),r&&!G8(t,r)&&(a.outside=!0),a}function JIe(t,e){for(var r=Il(t[0]),s=H8(t[t.length-1]),a,i,o=r;o<=s;){var l=mO(o,e),c=!l.disabled&&!l.hidden;if(!c){o=Jo(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Jo(o,1)}return i||a}var QIe=365;function VQ(t,e){var r=e.moveBy,s=e.direction,a=e.context,i=e.modifiers,o=e.retry,l=o===void 0?{count:0,lastFocused:t}:o,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,h=a.locale,f={day:Jo,week:TE,month:Wd,year:uEe,startOfWeek:function(v){return a.ISOWeek?s0(v):Bu(v,{locale:h,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?uJ(v):q8(v,{locale:h,weekStartsOn:c})}},m=f[r](t,s==="after"?1:-1);s==="before"&&d?m=hEe([d,m]):s==="after"&&u&&(m=fEe([u,m]));var y=!0;if(i){var g=mO(m,i);y=!g.disabled&&!g.hidden}return y?m:l.count>QIe?l.lastFocused:VQ(m,{moveBy:r,direction:s,context:a,modifiers:i,retry:rn(rn({},l),{count:l.count+1})})}var WQ=S.createContext(void 0);function e7e(t){var e=ub(),r=zQ(),s=S.useState(),a=s[0],i=s[1],o=S.useState(),l=o[0],c=o[1],d=JIe(e.displayMonths,r),u=a??(l&&e.isDateDisplayed(l))?l:d,h=function(){c(a),i(void 0)},f=function(v){i(v)},m=Ks(),y=function(v,b){if(a){var w=VQ(a,{moveBy:v,direction:b,context:m,modifiers:r});Ol(a,w)||(e.goToDate(w,a),f(w))}},g={focusedDay:a,focusTarget:u,blur:h,focus:f,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return n.jsx(WQ.Provider,{value:g,children:t.children})}function pO(){var t=S.useContext(WQ);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function t7e(t,e){var r=zQ(),s=mO(t,r,e);return s}var xO=S.createContext(void 0);function r7e(t){if(!k5(t.initialProps)){var e={selected:void 0};return n.jsx(xO.Provider,{value:e,children:t.children})}return n.jsx(n7e,{initialProps:t.initialProps,children:t.children})}function n7e(t){var e=t.initialProps,r=t.children,s=function(i,o,l){var c,d,u;if((c=e.onDayClick)===null||c===void 0||c.call(e,i,o,l),o.selected&&!e.required){(d=e.onSelect)===null||d===void 0||d.call(e,void 0,i,o,l);return}(u=e.onSelect)===null||u===void 0||u.call(e,i,i,o,l)},a={selected:e.selected,onDayClick:s};return n.jsx(xO.Provider,{value:a,children:r})}function HQ(){var t=S.useContext(xO);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function s7e(t,e){var r=Ks(),s=HQ(),a=uO(),i=fO(),o=pO(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,h=o.blur,f=o.focus,m=o.focusMonthBefore,y=o.focusMonthAfter,g=o.focusYearBefore,v=o.focusYearAfter,b=o.focusStartOfWeek,w=o.focusEndOfWeek,N=function(L){var F,ee,se,q;k5(r)?(F=s.onDayClick)===null||F===void 0||F.call(s,t,e,L):cb(r)?(ee=a.onDayClick)===null||ee===void 0||ee.call(a,t,e,L):db(r)?(se=i.onDayClick)===null||se===void 0||se.call(i,t,e,L):(q=r.onDayClick)===null||q===void 0||q.call(r,t,e,L)},_=function(L){var F;f(t),(F=r.onDayFocus)===null||F===void 0||F.call(r,t,e,L)},C=function(L){var F;h(),(F=r.onDayBlur)===null||F===void 0||F.call(r,t,e,L)},E=function(L){var F;(F=r.onDayMouseEnter)===null||F===void 0||F.call(r,t,e,L)},A=function(L){var F;(F=r.onDayMouseLeave)===null||F===void 0||F.call(r,t,e,L)},I=function(L){var F;(F=r.onDayPointerEnter)===null||F===void 0||F.call(r,t,e,L)},$=function(L){var F;(F=r.onDayPointerLeave)===null||F===void 0||F.call(r,t,e,L)},O=function(L){var F;(F=r.onDayTouchCancel)===null||F===void 0||F.call(r,t,e,L)},P=function(L){var F;(F=r.onDayTouchEnd)===null||F===void 0||F.call(r,t,e,L)},M=function(L){var F;(F=r.onDayTouchMove)===null||F===void 0||F.call(r,t,e,L)},R=function(L){var F;(F=r.onDayTouchStart)===null||F===void 0||F.call(r,t,e,L)},W=function(L){var F;(F=r.onDayKeyUp)===null||F===void 0||F.call(r,t,e,L)},Y=function(L){var F;switch(L.key){case"ArrowLeft":L.preventDefault(),L.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":L.preventDefault(),L.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":L.preventDefault(),L.stopPropagation(),d();break;case"ArrowUp":L.preventDefault(),L.stopPropagation(),u();break;case"PageUp":L.preventDefault(),L.stopPropagation(),L.shiftKey?g():m();break;case"PageDown":L.preventDefault(),L.stopPropagation(),L.shiftKey?v():y();break;case"Home":L.preventDefault(),L.stopPropagation(),b();break;case"End":L.preventDefault(),L.stopPropagation(),w();break}(F=r.onDayKeyDown)===null||F===void 0||F.call(r,t,e,L)},K={onClick:N,onFocus:_,onBlur:C,onKeyDown:Y,onKeyUp:W,onMouseEnter:E,onMouseLeave:A,onPointerEnter:I,onPointerLeave:$,onTouchCancel:O,onTouchEnd:P,onTouchMove:M,onTouchStart:R};return K}function a7e(){var t=Ks(),e=HQ(),r=uO(),s=fO(),a=k5(t)?e.selected:cb(t)?r.selected:db(t)?s.selected:void 0;return a}function i7e(t){return Object.values(Hd).includes(t)}function o7e(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(s){var a=t.modifiersClassNames[s];if(a)r.push(a);else if(i7e(s)){var i=t.classNames["day_".concat(s)];i&&r.push(i)}}),r}function l7e(t,e){var r=rn({},t.styles.day);return Object.keys(e).forEach(function(s){var a;r=rn(rn({},r),(a=t.modifiersStyles)===null||a===void 0?void 0:a[s])}),r}function c7e(t,e,r){var s,a,i,o=Ks(),l=pO(),c=t7e(t,e),d=s7e(t,c),u=a7e(),h=!!(o.onDayClick||o.mode!=="default");S.useEffect(function(){var E;c.outside||l.focusedDay&&h&&Ol(l.focusedDay,t)&&((E=r.current)===null||E===void 0||E.focus())},[l.focusedDay,t,r,h,c.outside]);var f=o7e(o,c).join(" "),m=l7e(o,c),y=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:PIe,v=n.jsx(g,{date:t,displayMonth:e,activeModifiers:c}),b={style:m,className:f,children:v,role:"gridcell"},w=l.focusTarget&&Ol(l.focusTarget,t)&&!c.outside,N=l.focusedDay&&Ol(l.focusedDay,t),_=rn(rn(rn({},b),(s={disabled:c.disabled,role:"gridcell"},s["aria-selected"]=c.selected,s.tabIndex=N||w?0:-1,s)),d),C={isButton:h,isHidden:y,activeModifiers:c,selectedDays:u,buttonProps:_,divProps:b};return C}function d7e(t){var e=S.useRef(null),r=c7e(t.date,t.displayMonth,e);return r.isHidden?n.jsx("div",{role:"gridcell"}):r.isButton?n.jsx(nN,rn({name:"day",ref:e},r.buttonProps)):n.jsx("div",rn({},r.divProps))}function u7e(t){var e=t.number,r=t.dates,s=Ks(),a=s.onWeekNumberClick,i=s.styles,o=s.classNames,l=s.locale,c=s.labels.labelWeekNumber,d=s.formatters.formatWeekNumber,u=d(Number(e),{locale:l});if(!a)return n.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var h=c(Number(e),{locale:l}),f=function(m){a(e,r,m)};return n.jsx(nN,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:f,children:u})}function h7e(t){var e,r,s=Ks(),a=s.styles,i=s.classNames,o=s.showWeekNumber,l=s.components,c=(e=l?.Day)!==null&&e!==void 0?e:d7e,d=(r=l?.WeekNumber)!==null&&r!==void 0?r:u7e,u;return o&&(u=n.jsx("td",{className:i.cell,style:a.cell,children:n.jsx(d,{number:t.weekNumber,dates:t.dates})})),n.jsxs("tr",{className:i.row,style:a.row,children:[u,t.dates.map(function(h){return n.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:n.jsx(c,{displayMonth:t.displayMonth,date:h})},hPe(h))})]})}function UU(t,e,r){for(var s=r?.ISOWeek?uJ(e):q8(e,r),a=r?.ISOWeek?s0(t):Bu(t,r),i=Nu(s,a),o=[],l=0;l<=i;l++)o.push(Jo(a,l));var c=o.reduce(function(d,u){var h=r?.ISOWeek?fJ(u):pJ(u,r),f=d.find(function(m){return m.weekNumber===h});return f?(f.dates.push(u),d):(d.push({weekNumber:h,dates:[u]}),d)},[]);return c}function f7e(t,e){var r=UU(Il(t),H8(t),e);if(e?.useFixedWeeks){var s=mPe(t,e);if(s<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=TE(i,6-s),l=UU(TE(i,1),o,e);r.push.apply(r,l)}}return r}function m7e(t){var e,r,s,a=Ks(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,h=a.weekStartsOn,f=a.firstWeekContainsDate,m=a.ISOWeek,y=f7e(t.displayMonth,{useFixedWeeks:!!d,ISOWeek:m,locale:i,weekStartsOn:h,firstWeekContainsDate:f}),g=(e=u?.Head)!==null&&e!==void 0?e:EIe,v=(r=u?.Row)!==null&&r!==void 0?r:h7e,b=(s=u?.Footer)!==null&&s!==void 0?s:CIe;return n.jsxs("table",{id:t.id,className:o.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&n.jsx(g,{}),n.jsx("tbody",{className:o.tbody,style:l.tbody,children:y.map(function(w){return n.jsx(v,{displayMonth:t.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),n.jsx(b,{displayMonth:t.displayMonth})]})}function p7e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var x7e=p7e()?S.useLayoutEffect:S.useEffect,EC=!1,g7e=0;function zU(){return"react-day-picker-".concat(++g7e)}function v7e(t){var e,r=t??(EC?zU():null),s=S.useState(r),a=s[0],i=s[1];return x7e(function(){a===null&&i(zU())},[]),S.useEffect(function(){EC===!1&&(EC=!0)},[]),(e=t??a)!==null&&e!==void 0?e:void 0}function y7e(t){var e,r,s=Ks(),a=s.dir,i=s.classNames,o=s.styles,l=s.components,c=ub().displayMonths,d=v7e(s.id?"".concat(s.id,"-").concat(t.displayIndex):void 0),u=s.id?"".concat(s.id,"-grid-").concat(t.displayIndex):void 0,h=[i.month],f=o.month,m=t.displayIndex===0,y=t.displayIndex===c.length-1,g=!m&&!y;a==="rtl"&&(e=[m,y],y=e[0],m=e[1]),m&&(h.push(i.caption_start),f=rn(rn({},f),o.caption_start)),y&&(h.push(i.caption_end),f=rn(rn({},f),o.caption_end)),g&&(h.push(i.caption_between),f=rn(rn({},f),o.caption_between));var v=(r=l?.Caption)!==null&&r!==void 0?r:_Ie;return n.jsxs("div",{className:h.join(" "),style:f,children:[n.jsx(v,{id:d,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),n.jsx(m7e,{id:u,"aria-labelledby":d,displayMonth:t.displayMonth})]},t.displayIndex)}function b7e(t){var e=Ks(),r=e.classNames,s=e.styles;return n.jsx("div",{className:r.months,style:s.months,children:t.children})}function w7e(t){var e,r,s=t.initialProps,a=Ks(),i=pO(),o=ub(),l=S.useState(!1),c=l[0],d=l[1];S.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var h=rn(rn({},a.styles.root),a.style),f=Object.keys(s).filter(function(y){return y.startsWith("data-")}).reduce(function(y,g){var v;return rn(rn({},y),(v={},v[g]=s[g],v))},{}),m=(r=(e=s.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:b7e;return n.jsx("div",rn({className:u.join(" "),style:h,dir:a.dir,id:a.id,nonce:s.nonce,title:s.title,lang:s.lang},f,{children:n.jsx(m,{children:o.displayMonths.map(function(y,g){return n.jsx(y7e,{displayIndex:g,displayMonth:y},g)})})}))}function j7e(t){var e=t.children,r=qOe(t,["children"]);return n.jsx(uIe,{initialProps:r,children:n.jsx(wIe,{children:n.jsx(r7e,{initialProps:r,children:n.jsx(TIe,{initialProps:r,children:n.jsx($Ie,{initialProps:r,children:n.jsx(zIe,{children:n.jsx(e7e,{children:e})})})})})})})}function N7e(t){return n.jsx(j7e,rn({},t,{children:n.jsx(w7e,{initialProps:t})}))}function Uu({className:t,classNames:e,showOutsideDays:r=!0,...s}){return n.jsx(N7e,{showOutsideDays:r,className:nr("p-3",t),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:nr(M1({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:nr("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",s.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:nr(M1({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:a,...i})=>n.jsx(qn,{className:nr("size-4",a),...i}),IconRight:({className:a,...i})=>n.jsx(Ds,{className:nr("size-4",a),...i})},...s})}function mn({className:t,...e}){return n.jsx("textarea",{"data-slot":"textarea",className:nr("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function ws(t){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ws(t)}var qd=Uint8Array,ac=Uint16Array,gO=Int32Array,vO=new qd([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),yO=new qd([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),VU=new qd([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qQ=function(t,e){for(var r=new ac(31),s=0;s<31;++s)r[s]=e+=1<<t[s-1];for(var a=new gO(r[30]),s=1;s<30;++s)for(var i=r[s];i<r[s+1];++i)a[i]=i-r[s]<<5|s;return{b:r,r:a}},GQ=qQ(vO,2),S7e=GQ.b,YE=GQ.r;S7e[28]=258,YE[258]=28;var _7e=qQ(yO,0),WU=_7e.r,XE=new ac(32768);for(var ea=0;ea<32768;++ea){var Rf=(ea&43690)>>1|(ea&21845)<<1;Rf=(Rf&52428)>>2|(Rf&13107)<<2,Rf=(Rf&61680)>>4|(Rf&3855)<<4,XE[ea]=((Rf&65280)>>8|(Rf&255)<<8)>>1}var E1=(function(t,e,r){for(var s=t.length,a=0,i=new ac(e);a<s;++a)t[a]&&++i[t[a]-1];var o=new ac(e);for(a=1;a<e;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new ac(1<<e);var c=15-e;for(a=0;a<s;++a)if(t[a])for(var d=a<<4|t[a],u=e-t[a],h=o[t[a]-1]++<<u,f=h|(1<<u)-1;h<=f;++h)l[XE[h]>>c]=d}else for(l=new ac(s),a=0;a<s;++a)t[a]&&(l[a]=XE[o[t[a]-1]++]>>15-t[a]);return l}),l0=new qd(288);for(var ea=0;ea<144;++ea)l0[ea]=8;for(var ea=144;ea<256;++ea)l0[ea]=9;for(var ea=256;ea<280;++ea)l0[ea]=7;for(var ea=280;ea<288;++ea)l0[ea]=8;var sN=new qd(32);for(var ea=0;ea<32;++ea)sN[ea]=5;var C7e=E1(l0,9,0),k7e=E1(sN,5,0),KQ=function(t){return(t+7)/8|0},A7e=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new qd(t.subarray(e,r))},Ch=function(t,e,r){r<<=e&7;var s=e/8|0;t[s]|=r,t[s+1]|=r>>8},Bv=function(t,e,r){r<<=e&7;var s=e/8|0;t[s]|=r,t[s+1]|=r>>8,t[s+2]|=r>>16},PC=function(t,e){for(var r=[],s=0;s<t.length;++s)t[s]&&r.push({s,f:t[s]});var a=r.length,i=r.slice();if(!a)return{t:XQ,l:0};if(a==1){var o=new qd(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(C,E){return C.f-E.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=r[r[d].f<r[h].f?d++:h++],c=r[d!=u&&r[d].f<r[h].f?d++:h++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var f=i[0].s,s=1;s<a;++s)i[s].s>f&&(f=i[s].s);var m=new ac(f+1),y=ZE(r[u-1],m,0);if(y>e){var s=0,g=0,v=y-e,b=1<<v;for(i.sort(function(E,A){return m[A.s]-m[E.s]||E.f-A.f});s<a;++s){var w=i[s].s;if(m[w]>e)g+=b-(1<<y-m[w]),m[w]=e;else break}for(g>>=v;g>0;){var N=i[s].s;m[N]<e?g-=1<<e-m[N]++-1:++s}for(;s>=0&&g;--s){var _=i[s].s;m[_]==e&&(--m[_],++g)}y=e}return{t:new qd(m),l:y}},ZE=function(t,e,r){return t.s==-1?Math.max(ZE(t.l,e,r+1),ZE(t.r,e,r+1)):e[t.s]=r},HU=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ac(++e),s=0,a=t[0],i=1,o=function(c){r[s++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=t[l]}return{c:r.subarray(0,s),n:e}},Uv=function(t,e){for(var r=0,s=0;s<e.length;++s)r+=t[s]*e[s];return r},YQ=function(t,e,r){var s=r.length,a=KQ(e+2);t[a]=s&255,t[a+1]=s>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<s;++i)t[a+i+4]=r[i];return(a+4+s)*8},qU=function(t,e,r,s,a,i,o,l,c,d,u){Ch(e,u++,r),++a[256];for(var h=PC(a,15),f=h.t,m=h.l,y=PC(i,15),g=y.t,v=y.l,b=HU(f),w=b.c,N=b.n,_=HU(g),C=_.c,E=_.n,A=new ac(19),I=0;I<w.length;++I)++A[w[I]&31];for(var I=0;I<C.length;++I)++A[C[I]&31];for(var $=PC(A,7),O=$.t,P=$.l,M=19;M>4&&!O[VU[M-1]];--M);var R=d+5<<3,W=Uv(a,l0)+Uv(i,sN)+o,Y=Uv(a,f)+Uv(i,g)+o+14+3*M+Uv(A,O)+2*A[16]+3*A[17]+7*A[18];if(c>=0&&R<=W&&R<=Y)return YQ(e,u,t.subarray(c,c+d));var K,L,F,ee;if(Ch(e,u,1+(Y<W)),u+=2,Y<W){K=E1(f,m,0),L=f,F=E1(g,v,0),ee=g;var se=E1(O,P,0);Ch(e,u,N-257),Ch(e,u+5,E-1),Ch(e,u+10,M-4),u+=14;for(var I=0;I<M;++I)Ch(e,u+3*I,O[VU[I]]);u+=3*M;for(var q=[w,C],z=0;z<2;++z)for(var Z=q[z],I=0;I<Z.length;++I){var X=Z[I]&31;Ch(e,u,se[X]),u+=O[X],X>15&&(Ch(e,u,Z[I]>>5&127),u+=Z[I]>>12)}}else K=C7e,L=l0,F=k7e,ee=sN;for(var I=0;I<l;++I){var Q=s[I];if(Q>255){var X=Q>>18&31;Bv(e,u,K[X+257]),u+=L[X+257],X>7&&(Ch(e,u,Q>>23&31),u+=vO[X]);var ne=Q&31;Bv(e,u,F[ne]),u+=ee[ne],ne>3&&(Bv(e,u,Q>>5&8191),u+=yO[ne])}else Bv(e,u,K[Q]),u+=L[Q]}return Bv(e,u,K[256]),u+L[256]},E7e=new gO([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),XQ=new qd(0),P7e=function(t,e,r,s,a,i){var o=i.z||t.length,l=new qd(s+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(s,l.length-a),d=i.l,u=(i.r||0)&7;if(e){u&&(c[0]=i.r>>3);for(var h=E7e[e-1],f=h>>13,m=h&8191,y=(1<<r)-1,g=i.p||new ac(32768),v=i.h||new ac(y+1),b=Math.ceil(r/3),w=2*b,N=function(Ee){return(t[Ee]^t[Ee+1]<<b^t[Ee+2]<<w)&y},_=new gO(25e3),C=new ac(288),E=new ac(32),A=0,I=0,$=i.i||0,O=0,P=i.w||0,M=0;$+2<o;++$){var R=N($),W=$&32767,Y=v[R];if(g[W]=Y,v[R]=W,P<=$){var K=o-$;if((A>7e3||O>24576)&&(K>423||!d)){u=qU(t,c,0,_,C,E,I,O,M,$-M,u),O=A=I=0,M=$;for(var L=0;L<286;++L)C[L]=0;for(var L=0;L<30;++L)E[L]=0}var F=2,ee=0,se=m,q=W-Y&32767;if(K>2&&R==N($-q))for(var z=Math.min(f,K)-1,Z=Math.min(32767,$),X=Math.min(258,K);q<=Z&&--se&&W!=Y;){if(t[$+F]==t[$+F-q]){for(var Q=0;Q<X&&t[$+Q]==t[$+Q-q];++Q);if(Q>F){if(F=Q,ee=q,Q>z)break;for(var ne=Math.min(q,Q-2),ce=0,L=0;L<ne;++L){var ie=$-q+L&32767,pe=g[ie],ae=ie-pe&32767;ae>ce&&(ce=ae,Y=ie)}}}W=Y,Y=g[W],q+=W-Y&32767}if(ee){_[O++]=268435456|YE[F]<<18|WU[ee];var be=YE[F]&31,we=WU[ee]&31;I+=vO[be]+yO[we],++C[257+be],++E[we],P=$+F,++A}else _[O++]=t[$],++C[t[$]]}}for($=Math.max($,P);$<o;++$)_[O++]=t[$],++C[t[$]];u=qU(t,c,d,_,C,E,I,O,M,$-M,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=v,i.p=g,i.i=$,i.w=P)}else{for(var $=i.w||0;$<o+d;$+=65535){var Ie=$+65535;Ie>=o&&(c[u/8|0]=d,Ie=o),u=YQ(c,u+1,t.subarray($,Ie))}i.i=o}return A7e(l,0,s+KQ(u)+a)},ZQ=function(){var t=1,e=0;return{p:function(r){for(var s=t,a=e,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=s+=r[o];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}t=s,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},T7e=function(t,e,r,s,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new qd(i.length+t.length);o.set(i),o.set(t,i.length),t=o,a.w=i.length}return P7e(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,s,a)},JQ=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},O7e=function(t,e){var r=e.level,s=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=s<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=ZQ();a.p(e.dictionary),JQ(t,2,a.d())}};function JE(t,e){e||(e={});var r=ZQ();r.p(t);var s=T7e(t,e,e.dictionary?6:2,4);return O7e(s,e),JQ(s,s.length-4,r.d()),s}var I7e=typeof TextDecoder<"u"&&new TextDecoder,$7e=0;try{I7e.decode(XQ,{stream:!0}),$7e=1}catch{}function D7e(t){if(Array.isArray(t))return t}function M7e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function GU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=Array(e);r<e;r++)s[r]=t[r];return s}function R7e(t,e){if(t){if(typeof t=="string")return GU(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?GU(t,e):void 0}}function L7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KU(t,e){return D7e(t)||M7e(t,e)||R7e(t,e)||L7e()}function YU(t,e="utf8"){return new TextDecoder(e).decode(t)}const F7e=new TextEncoder;function B7e(t){return F7e.encode(t)}const U7e=1024*8,z7e=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),TC={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class bO{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=U7e,r={}){let s=!1;typeof e=="number"?e=new ArrayBuffer(e):(s=!0,this.lastWrittenByte=e.byteLength);const a=r.offset?r.offset>>>0:0,i=e.byteLength-a;let o=a;(ArrayBuffer.isView(e)||e instanceof bO)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+a),e=e.buffer),s?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const s=(this.offset+e)*2,a=new Uint8Array(s);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const s=TC[r].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+s);if(this.littleEndian===z7e&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+s));l.reverse();const c=new TC[r](l.buffer);return this.offset+=s,c.reverse(),c}const o=new TC[r](i);return this.offset+=s,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let s=0;s<e;s++)r+=this.readChar();return r}readUtf8(e=1){return YU(this.readBytes(e))}decodeText(e=1,r="utf8"){return YU(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(B7e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Xg(t){let e=t.length;for(;--e>=0;)t[e]=0}const V7e=3,W7e=258,QQ=29,H7e=256,q7e=H7e+1+QQ,eee=30,G7e=512,K7e=new Array((q7e+2)*2);Xg(K7e);const Y7e=new Array(eee*2);Xg(Y7e);const X7e=new Array(G7e);Xg(X7e);const Z7e=new Array(W7e-V7e+1);Xg(Z7e);const J7e=new Array(QQ);Xg(J7e);const Q7e=new Array(eee);Xg(Q7e);const e$e=(t,e,r,s)=>{let a=t&65535|0,i=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+e[s++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var QE=e$e;const t$e=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var s=0;s<8;s++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},r$e=new Uint32Array(t$e()),n$e=(t,e,r,s)=>{const a=r$e,i=s+r;t^=-1;for(let o=s;o<i;o++)t=t>>>8^a[(t^e[o])&255];return t^-1};var pu=n$e,eP={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},tee={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const s$e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var a$e=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const s in r)s$e(r,s)&&(t[s]=r[s])}}return t},i$e=t=>{let e=0;for(let s=0,a=t.length;s<a;s++)e+=t[s].length;const r=new Uint8Array(e);for(let s=0,a=0,i=t.length;s<i;s++){let o=t[s];r.set(o,a),a+=o.length}return r},ree={assign:a$e,flattenChunks:i$e};let nee=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{nee=!1}const Dy=new Uint8Array(256);for(let t=0;t<256;t++)Dy[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Dy[254]=Dy[254]=1;var o$e=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,s,a,i,o=t.length,l=0;for(a=0;a<o;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<o&&(s=t.charCodeAt(a+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),i=0,a=0;i<l;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<o&&(s=t.charCodeAt(a+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),a++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const l$e=(t,e)=>{if(e<65534&&t.subarray&&nee)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let s=0;s<e;s++)r+=String.fromCharCode(t[s]);return r};var c$e=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let s,a;const i=new Array(r*2);for(a=0,s=0;s<r;){let o=t[s++];if(o<128){i[a++]=o;continue}let l=Dy[o];if(l>4){i[a++]=65533,s+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&s<r;)o=o<<6|t[s++]&63,l--;if(l>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return l$e(i,a)},d$e=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Dy[t[r]]>e?r:e},tP={string2buf:o$e,buf2string:c$e,utf8border:d$e};function u$e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var h$e=u$e;const H2=16209,f$e=16191;var m$e=function(e,r){let s,a,i,o,l,c,d,u,h,f,m,y,g,v,b,w,N,_,C,E,A,I,$,O;const P=e.state;s=e.next_in,$=e.input,a=s+(e.avail_in-5),i=e.next_out,O=e.output,o=i-(r-e.avail_out),l=i+(e.avail_out-257),c=P.dmax,d=P.wsize,u=P.whave,h=P.wnext,f=P.window,m=P.hold,y=P.bits,g=P.lencode,v=P.distcode,b=(1<<P.lenbits)-1,w=(1<<P.distbits)-1;e:do{y<15&&(m+=$[s++]<<y,y+=8,m+=$[s++]<<y,y+=8),N=g[m&b];t:for(;;){if(_=N>>>24,m>>>=_,y-=_,_=N>>>16&255,_===0)O[i++]=N&65535;else if(_&16){C=N&65535,_&=15,_&&(y<_&&(m+=$[s++]<<y,y+=8),C+=m&(1<<_)-1,m>>>=_,y-=_),y<15&&(m+=$[s++]<<y,y+=8,m+=$[s++]<<y,y+=8),N=v[m&w];r:for(;;){if(_=N>>>24,m>>>=_,y-=_,_=N>>>16&255,_&16){if(E=N&65535,_&=15,y<_&&(m+=$[s++]<<y,y+=8,y<_&&(m+=$[s++]<<y,y+=8)),E+=m&(1<<_)-1,E>c){e.msg="invalid distance too far back",P.mode=H2;break e}if(m>>>=_,y-=_,_=i-o,E>_){if(_=E-_,_>u&&P.sane){e.msg="invalid distance too far back",P.mode=H2;break e}if(A=0,I=f,h===0){if(A+=d-_,_<C){C-=_;do O[i++]=f[A++];while(--_);A=i-E,I=O}}else if(h<_){if(A+=d+h-_,_-=h,_<C){C-=_;do O[i++]=f[A++];while(--_);if(A=0,h<C){_=h,C-=_;do O[i++]=f[A++];while(--_);A=i-E,I=O}}}else if(A+=h-_,_<C){C-=_;do O[i++]=f[A++];while(--_);A=i-E,I=O}for(;C>2;)O[i++]=I[A++],O[i++]=I[A++],O[i++]=I[A++],C-=3;C&&(O[i++]=I[A++],C>1&&(O[i++]=I[A++]))}else{A=i-E;do O[i++]=O[A++],O[i++]=O[A++],O[i++]=O[A++],C-=3;while(C>2);C&&(O[i++]=O[A++],C>1&&(O[i++]=O[A++]))}}else if((_&64)===0){N=v[(N&65535)+(m&(1<<_)-1)];continue r}else{e.msg="invalid distance code",P.mode=H2;break e}break}}else if((_&64)===0){N=g[(N&65535)+(m&(1<<_)-1)];continue t}else if(_&32){P.mode=f$e;break e}else{e.msg="invalid literal/length code",P.mode=H2;break e}break}}while(s<a&&i<l);C=y>>3,s-=C,y-=C<<3,m&=(1<<y)-1,e.next_in=s,e.next_out=i,e.avail_in=s<a?5+(a-s):5-(s-a),e.avail_out=i<l?257+(l-i):257-(i-l),P.hold=m,P.bits=y};const cx=15,XU=852,ZU=592,JU=0,OC=1,QU=2,p$e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),x$e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),g$e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),v$e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),y$e=(t,e,r,s,a,i,o,l)=>{const c=l.bits;let d=0,u=0,h=0,f=0,m=0,y=0,g=0,v=0,b=0,w=0,N,_,C,E,A,I=null,$;const O=new Uint16Array(cx+1),P=new Uint16Array(cx+1);let M=null,R,W,Y;for(d=0;d<=cx;d++)O[d]=0;for(u=0;u<s;u++)O[e[r+u]]++;for(m=c,f=cx;f>=1&&O[f]===0;f--);if(m>f&&(m=f),f===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<f&&O[h]===0;h++);for(m<h&&(m=h),v=1,d=1;d<=cx;d++)if(v<<=1,v-=O[d],v<0)return-1;if(v>0&&(t===JU||f!==1))return-1;for(P[1]=0,d=1;d<cx;d++)P[d+1]=P[d]+O[d];for(u=0;u<s;u++)e[r+u]!==0&&(o[P[e[r+u]]++]=u);if(t===JU?(I=M=o,$=20):t===OC?(I=p$e,M=x$e,$=257):(I=g$e,M=v$e,$=0),w=0,u=0,d=h,A=i,y=m,g=0,C=-1,b=1<<m,E=b-1,t===OC&&b>XU||t===QU&&b>ZU)return 1;for(;;){R=d-g,o[u]+1<$?(W=0,Y=o[u]):o[u]>=$?(W=M[o[u]-$],Y=I[o[u]-$]):(W=96,Y=0),N=1<<d-g,_=1<<y,h=_;do _-=N,a[A+(w>>g)+_]=R<<24|W<<16|Y|0;while(_!==0);for(N=1<<d-1;w&N;)N>>=1;if(N!==0?(w&=N-1,w+=N):w=0,u++,--O[d]===0){if(d===f)break;d=e[r+o[u]]}if(d>m&&(w&E)!==C){for(g===0&&(g=m),A+=h,y=d-g,v=1<<y;y+g<f&&(v-=O[y+g],!(v<=0));)y++,v<<=1;if(b+=1<<y,t===OC&&b>XU||t===QU&&b>ZU)return 1;C=w&E,a[C]=m<<24|y<<16|A-i|0}}return w!==0&&(a[A+w]=d-g<<24|64<<16|0),l.bits=m,0};var P1=y$e;const b$e=0,see=1,aee=2,{Z_FINISH:ez,Z_BLOCK:w$e,Z_TREES:q2,Z_OK:c0,Z_STREAM_END:j$e,Z_NEED_DICT:N$e,Z_STREAM_ERROR:Jc,Z_DATA_ERROR:iee,Z_MEM_ERROR:oee,Z_BUF_ERROR:S$e,Z_DEFLATED:tz}=tee,A5=16180,rz=16181,nz=16182,sz=16183,az=16184,iz=16185,oz=16186,lz=16187,cz=16188,dz=16189,aN=16190,kh=16191,IC=16192,uz=16193,$C=16194,hz=16195,fz=16196,mz=16197,pz=16198,G2=16199,K2=16200,xz=16201,gz=16202,vz=16203,yz=16204,bz=16205,DC=16206,wz=16207,jz=16208,la=16209,lee=16210,cee=16211,_$e=852,C$e=592,k$e=15,A$e=k$e,Nz=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function E$e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const y0=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<A5||e.mode>cee?1:0},dee=t=>{if(y0(t))return Jc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=A5,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(_$e),e.distcode=e.distdyn=new Int32Array(C$e),e.sane=1,e.back=-1,c0},uee=t=>{if(y0(t))return Jc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,dee(t)},hee=(t,e)=>{let r;if(y0(t))return Jc;const s=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Jc:(s.window!==null&&s.wbits!==e&&(s.window=null),s.wrap=r,s.wbits=e,uee(t))},fee=(t,e)=>{if(!t)return Jc;const r=new E$e;t.state=r,r.strm=t,r.window=null,r.mode=A5;const s=hee(t,e);return s!==c0&&(t.state=null),s},P$e=t=>fee(t,A$e);let Sz=!0,MC,RC;const T$e=t=>{if(Sz){MC=new Int32Array(512),RC=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(P1(see,t.lens,0,288,MC,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;P1(aee,t.lens,0,32,RC,0,t.work,{bits:5}),Sz=!1}t.lencode=MC,t.lenbits=9,t.distcode=RC,t.distbits=5},mee=(t,e,r,s)=>{let a;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),s>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>s&&(a=s),i.window.set(e.subarray(r-s,r-s+a),i.wnext),s-=a,s?(i.window.set(e.subarray(r-s,r),0),i.wnext=s,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},O$e=(t,e)=>{let r,s,a,i,o,l,c,d,u,h,f,m,y,g,v=0,b,w,N,_,C,E,A,I;const $=new Uint8Array(4);let O,P;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(y0(t)||!t.output||!t.input&&t.avail_in!==0)return Jc;r=t.state,r.mode===kh&&(r.mode=IC),o=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,s=t.input,l=t.avail_in,d=r.hold,u=r.bits,h=l,f=c,I=c0;e:for(;;)switch(r.mode){case A5:if(r.wrap===0){r.mode=IC;break}for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,$[0]=d&255,$[1]=d>>>8&255,r.check=pu(r.check,$,2,0),d=0,u=0,r.mode=rz;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){t.msg="incorrect header check",r.mode=la;break}if((d&15)!==tz){t.msg="unknown compression method",r.mode=la;break}if(d>>>=4,u-=4,A=(d&15)+8,r.wbits===0&&(r.wbits=A),A>15||A>r.wbits){t.msg="invalid window size",r.mode=la;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=d&512?dz:kh,d=0,u=0;break;case rz:for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(r.flags=d,(r.flags&255)!==tz){t.msg="unknown compression method",r.mode=la;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=la;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&($[0]=d&255,$[1]=d>>>8&255,r.check=pu(r.check,$,2,0)),d=0,u=0,r.mode=nz;case nz:for(;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&($[0]=d&255,$[1]=d>>>8&255,$[2]=d>>>16&255,$[3]=d>>>24&255,r.check=pu(r.check,$,4,0)),d=0,u=0,r.mode=sz;case sz:for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&($[0]=d&255,$[1]=d>>>8&255,r.check=pu(r.check,$,2,0)),d=0,u=0,r.mode=az;case az:if(r.flags&1024){for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&($[0]=d&255,$[1]=d>>>8&255,r.check=pu(r.check,$,2,0)),d=0,u=0}else r.head&&(r.head.extra=null);r.mode=iz;case iz:if(r.flags&1024&&(m=r.length,m>l&&(m=l),m&&(r.head&&(A=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(s.subarray(i,i+m),A)),r.flags&512&&r.wrap&4&&(r.check=pu(r.check,s,m,i)),l-=m,i+=m,r.length-=m),r.length))break e;r.length=0,r.mode=oz;case oz:if(r.flags&2048){if(l===0)break e;m=0;do A=s[i+m++],r.head&&A&&r.length<65536&&(r.head.name+=String.fromCharCode(A));while(A&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=pu(r.check,s,m,i)),l-=m,i+=m,A)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=lz;case lz:if(r.flags&4096){if(l===0)break e;m=0;do A=s[i+m++],r.head&&A&&r.length<65536&&(r.head.comment+=String.fromCharCode(A));while(A&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=pu(r.check,s,m,i)),l-=m,i+=m,A)break e}else r.head&&(r.head.comment=null);r.mode=cz;case cz:if(r.flags&512){for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(r.wrap&4&&d!==(r.check&65535)){t.msg="header crc mismatch",r.mode=la;break}d=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=kh;break;case dz:for(;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}t.adler=r.check=Nz(d),d=0,u=0,r.mode=aN;case aN:if(r.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=d,r.bits=u,N$e;t.adler=r.check=1,r.mode=kh;case kh:if(e===w$e||e===q2)break e;case IC:if(r.last){d>>>=u&7,u-=u&7,r.mode=DC;break}for(;u<3;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}switch(r.last=d&1,d>>>=1,u-=1,d&3){case 0:r.mode=uz;break;case 1:if(T$e(r),r.mode=G2,e===q2){d>>>=2,u-=2;break e}break;case 2:r.mode=fz;break;case 3:t.msg="invalid block type",r.mode=la}d>>>=2,u-=2;break;case uz:for(d>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){t.msg="invalid stored block lengths",r.mode=la;break}if(r.length=d&65535,d=0,u=0,r.mode=$C,e===q2)break e;case $C:r.mode=hz;case hz:if(m=r.length,m){if(m>l&&(m=l),m>c&&(m=c),m===0)break e;a.set(s.subarray(i,i+m),o),l-=m,i+=m,c-=m,o+=m,r.length-=m;break}r.mode=kh;break;case fz:for(;u<14;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(r.nlen=(d&31)+257,d>>>=5,u-=5,r.ndist=(d&31)+1,d>>>=5,u-=5,r.ncode=(d&15)+4,d>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=la;break}r.have=0,r.mode=mz;case mz:for(;r.have<r.ncode;){for(;u<3;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.lens[M[r.have++]]=d&7,d>>>=3,u-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,O={bits:r.lenbits},I=P1(b$e,r.lens,0,19,r.lencode,0,r.work,O),r.lenbits=O.bits,I){t.msg="invalid code lengths set",r.mode=la;break}r.have=0,r.mode=pz;case pz:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[d&(1<<r.lenbits)-1],b=v>>>24,w=v>>>16&255,N=v&65535,!(b<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(N<16)d>>>=b,u-=b,r.lens[r.have++]=N;else{if(N===16){for(P=b+2;u<P;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(d>>>=b,u-=b,r.have===0){t.msg="invalid bit length repeat",r.mode=la;break}A=r.lens[r.have-1],m=3+(d&3),d>>>=2,u-=2}else if(N===17){for(P=b+3;u<P;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=b,u-=b,A=0,m=3+(d&7),d>>>=3,u-=3}else{for(P=b+7;u<P;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=b,u-=b,A=0,m=11+(d&127),d>>>=7,u-=7}if(r.have+m>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=la;break}for(;m--;)r.lens[r.have++]=A}}if(r.mode===la)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=la;break}if(r.lenbits=9,O={bits:r.lenbits},I=P1(see,r.lens,0,r.nlen,r.lencode,0,r.work,O),r.lenbits=O.bits,I){t.msg="invalid literal/lengths set",r.mode=la;break}if(r.distbits=6,r.distcode=r.distdyn,O={bits:r.distbits},I=P1(aee,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,O),r.distbits=O.bits,I){t.msg="invalid distances set",r.mode=la;break}if(r.mode=G2,e===q2)break e;case G2:r.mode=K2;case K2:if(l>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=d,r.bits=u,m$e(t,f),o=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,s=t.input,l=t.avail_in,d=r.hold,u=r.bits,r.mode===kh&&(r.back=-1);break}for(r.back=0;v=r.lencode[d&(1<<r.lenbits)-1],b=v>>>24,w=v>>>16&255,N=v&65535,!(b<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(w&&(w&240)===0){for(_=b,C=w,E=N;v=r.lencode[E+((d&(1<<_+C)-1)>>_)],b=v>>>24,w=v>>>16&255,N=v&65535,!(_+b<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=_,u-=_,r.back+=_}if(d>>>=b,u-=b,r.back+=b,r.length=N,w===0){r.mode=bz;break}if(w&32){r.back=-1,r.mode=kh;break}if(w&64){t.msg="invalid literal/length code",r.mode=la;break}r.extra=w&15,r.mode=xz;case xz:if(r.extra){for(P=r.extra;u<P;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=gz;case gz:for(;v=r.distcode[d&(1<<r.distbits)-1],b=v>>>24,w=v>>>16&255,N=v&65535,!(b<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if((w&240)===0){for(_=b,C=w,E=N;v=r.distcode[E+((d&(1<<_+C)-1)>>_)],b=v>>>24,w=v>>>16&255,N=v&65535,!(_+b<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=_,u-=_,r.back+=_}if(d>>>=b,u-=b,r.back+=b,w&64){t.msg="invalid distance code",r.mode=la;break}r.offset=N,r.extra=w&15,r.mode=vz;case vz:if(r.extra){for(P=r.extra;u<P;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=la;break}r.mode=yz;case yz:if(c===0)break e;if(m=f-c,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=la;break}m>r.wnext?(m-=r.wnext,y=r.wsize-m):y=r.wnext-m,m>r.length&&(m=r.length),g=r.window}else g=a,y=o-r.offset,m=r.length;m>c&&(m=c),c-=m,r.length-=m;do a[o++]=g[y++];while(--m);r.length===0&&(r.mode=K2);break;case bz:if(c===0)break e;a[o++]=r.length,c--,r.mode=K2;break;case DC:if(r.wrap){for(;u<32;){if(l===0)break e;l--,d|=s[i++]<<u,u+=8}if(f-=c,t.total_out+=f,r.total+=f,r.wrap&4&&f&&(t.adler=r.check=r.flags?pu(r.check,a,f,o-f):QE(r.check,a,f,o-f)),f=c,r.wrap&4&&(r.flags?d:Nz(d))!==r.check){t.msg="incorrect data check",r.mode=la;break}d=0,u=0}r.mode=wz;case wz:if(r.wrap&&r.flags){for(;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(r.wrap&4&&d!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=la;break}d=0,u=0}r.mode=jz;case jz:I=j$e;break e;case la:I=iee;break e;case lee:return oee;case cee:default:return Jc}return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=d,r.bits=u,(r.wsize||f!==t.avail_out&&r.mode<la&&(r.mode<DC||e!==ez))&&mee(t,t.output,t.next_out,f-t.avail_out),h-=t.avail_in,f-=t.avail_out,t.total_in+=h,t.total_out+=f,r.total+=f,r.wrap&4&&f&&(t.adler=r.check=r.flags?pu(r.check,a,f,t.next_out-f):QE(r.check,a,f,t.next_out-f)),t.data_type=r.bits+(r.last?64:0)+(r.mode===kh?128:0)+(r.mode===G2||r.mode===$C?256:0),(h===0&&f===0||e===ez)&&I===c0&&(I=S$e),I},I$e=t=>{if(y0(t))return Jc;let e=t.state;return e.window&&(e.window=null),t.state=null,c0},$$e=(t,e)=>{if(y0(t))return Jc;const r=t.state;return(r.wrap&2)===0?Jc:(r.head=e,e.done=!1,c0)},D$e=(t,e)=>{const r=e.length;let s,a,i;return y0(t)||(s=t.state,s.wrap!==0&&s.mode!==aN)?Jc:s.mode===aN&&(a=1,a=QE(a,e,r,0),a!==s.check)?iee:(i=mee(t,e,r,r),i?(s.mode=lee,oee):(s.havedict=1,c0))};var M$e=uee,R$e=hee,L$e=dee,F$e=P$e,B$e=fee,U$e=O$e,z$e=I$e,V$e=$$e,W$e=D$e,H$e="pako inflate (from Nodeca project)",Ph={inflateReset:M$e,inflateReset2:R$e,inflateResetKeep:L$e,inflateInit:F$e,inflateInit2:B$e,inflate:U$e,inflateEnd:z$e,inflateGetHeader:V$e,inflateSetDictionary:W$e,inflateInfo:H$e};function q$e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var G$e=q$e;const pee=Object.prototype.toString,{Z_NO_FLUSH:K$e,Z_FINISH:Y$e,Z_OK:My,Z_STREAM_END:LC,Z_NEED_DICT:FC,Z_STREAM_ERROR:X$e,Z_DATA_ERROR:_z,Z_MEM_ERROR:Z$e}=tee;function hb(t){this.options=ree.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h$e,this.strm.avail_out=0;let r=Ph.inflateInit2(this.strm,e.windowBits);if(r!==My)throw new Error(eP[r]);if(this.header=new G$e,Ph.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=tP.string2buf(e.dictionary):pee.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Ph.inflateSetDictionary(this.strm,e.dictionary),r!==My)))throw new Error(eP[r])}hb.prototype.push=function(t,e){const r=this.strm,s=this.options.chunkSize,a=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?Y$e:K$e,pee.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(s),r.next_out=0,r.avail_out=s),i=Ph.inflate(r,o),i===FC&&a&&(i=Ph.inflateSetDictionary(r,a),i===My?i=Ph.inflate(r,o):i===_z&&(i=FC));r.avail_in>0&&i===LC&&r.state.wrap>0&&t[r.next_in]!==0;)Ph.inflateReset(r),i=Ph.inflate(r,o);switch(i){case X$e:case _z:case FC:case Z$e:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===LC))if(this.options.to==="string"){let c=tP.utf8border(r.output,r.next_out),d=r.next_out-c,u=tP.buf2string(r.output,c);r.next_out=d,r.avail_out=s-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===My&&l===0)){if(i===LC)return i=Ph.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};hb.prototype.onData=function(t){this.chunks.push(t)};hb.prototype.onEnd=function(t){t===My&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ree.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function J$e(t,e){const r=new hb(e);if(r.push(t),r.err)throw r.msg||eP[r.err];return r.result}var Q$e=hb,eDe=J$e,tDe={Inflate:Q$e,inflate:eDe};const{Inflate:rDe,inflate:nDe}=tDe;var Cz=rDe,sDe=nDe;const xee=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;xee[t]=e}const kz=4294967295;function aDe(t,e,r){let s=t;for(let a=0;a<r;a++)s=xee[(s^e[a])&255]^s>>>8;return s}function iDe(t,e){return(aDe(kz,t,e)^kz)>>>0}function Az(t,e,r){const s=t.readUint32(),a=iDe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==s)throw new Error(`CRC mismatch for chunk ${r}. Expected ${s}, found ${a}`)}function gee(t,e,r){for(let s=0;s<r;s++)e[s]=t[s]}function vee(t,e,r,s){let a=0;for(;a<s;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-s]&255}function yee(t,e,r,s){let a=0;if(r.length===0)for(;a<s;a++)e[a]=t[a];else for(;a<s;a++)e[a]=t[a]+r[a]&255}function bee(t,e,r,s,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<s;i++)e[i]=t[i]+(e[i-a]>>1)&255}else{for(;i<a;i++)e[i]=t[i]+(r[i]>>1)&255;for(;i<s;i++)e[i]=t[i]+(e[i-a]+r[i]>>1)&255}}function wee(t,e,r,s,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<s;i++)e[i]=t[i]+e[i-a]&255}else{for(;i<a;i++)e[i]=t[i]+r[i]&255;for(;i<s;i++)e[i]=t[i]+oDe(e[i-a],r[i],r[i-a])&255}}function oDe(t,e,r){const s=t+e-r,a=Math.abs(s-t),i=Math.abs(s-e),o=Math.abs(s-r);return a<=i&&a<=o?t:i<=o?e:r}function lDe(t,e,r,s,a,i){switch(t){case 0:gee(e,r,a);break;case 1:vee(e,r,a,i);break;case 2:yee(e,r,s,a);break;case 3:bee(e,r,s,a,i);break;case 4:wee(e,r,s,a,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const cDe=new Uint16Array([255]),dDe=new Uint8Array(cDe.buffer),uDe=dDe[0]===255;function hDe(t){const{data:e,width:r,height:s,channels:a,depth:i}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,c=new Uint8Array(s*r*l);let d=0;for(let u=0;u<7;u++){const h=o[u],f=Math.ceil((r-h.x)/h.xStep),m=Math.ceil((s-h.y)/h.yStep);if(f<=0||m<=0)continue;const y=f*l,g=new Uint8Array(y);for(let v=0;v<m;v++){const b=e[d++],w=e.subarray(d,d+y);d+=y;const N=new Uint8Array(y);lDe(b,w,N,g,y,l),g.set(N);for(let _=0;_<f;_++){const C=h.x+_*h.xStep,E=h.y+v*h.yStep;if(!(C>=r||E>=s))for(let A=0;A<l;A++)c[(E*r+C)*l+A]=N[_*l+A]}}}if(i===16){const u=new Uint16Array(c.buffer);if(uDe)for(let h=0;h<u.length;h++)u[h]=fDe(u[h]);return u}else return c}function fDe(t){return(t&255)<<8|t>>8&255}const mDe=new Uint16Array([255]),pDe=new Uint8Array(mDe.buffer),xDe=pDe[0]===255,gDe=new Uint8Array(0);function Ez(t){const{data:e,width:r,height:s,channels:a,depth:i}=t,o=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*r),c=new Uint8Array(s*l);let d=gDe,u=0,h,f;for(let m=0;m<s;m++){switch(h=e.subarray(u+1,u+1+l),f=c.subarray(m*l,(m+1)*l),e[u]){case 0:gee(h,f,l);break;case 1:vee(h,f,l,o);break;case 2:yee(h,f,d,l);break;case 3:bee(h,f,d,l,o);break;case 4:wee(h,f,d,l,o);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}d=f,u+=l+1}if(i===16){const m=new Uint16Array(c.buffer);if(xDe)for(let y=0;y<m.length;y++)m[y]=vDe(m[y]);return m}else return c}function vDe(t){return(t&255)<<8|t>>8&255}const Nw=Uint8Array.of(137,80,78,71,13,10,26,10);function Pz(t){if(!yDe(t.readBytes(Nw.length)))throw new Error("wrong PNG signature")}function yDe(t){if(t.length<Nw.length)return!1;for(let e=0;e<Nw.length;e++)if(t[e]!==Nw[e])return!1;return!0}const bDe="tEXt",wDe=0,jee=new TextDecoder("latin1");function jDe(t){if(SDe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const NDe=/^[\u0000-\u00FF]*$/;function SDe(t){if(!NDe.test(t))throw new Error("invalid latin1 text")}function _De(t,e,r){const s=Nee(e);t[s]=CDe(e,r-s.length-1)}function Nee(t){for(t.mark();t.readByte()!==wDe;);const e=t.offset;t.reset();const r=jee.decode(t.readBytes(e-t.offset-1));return t.skip(1),jDe(r),r}function CDe(t,e){return jee.decode(t.readBytes(e))}const Zl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},BC={UNKNOWN:-1,DEFLATE:0},Tz={UNKNOWN:-1,ADAPTIVE:0},UC={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Y2={NONE:0,BACKGROUND:1,PREVIOUS:2},zC={SOURCE:0,OVER:1};class kDe extends bO{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:s=!1}=r;this._checkCrc=s,this._inflator=new Cz,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=BC.UNKNOWN,this._filterMethod=Tz.UNKNOWN,this._interlaceMethod=UC.UNKNOWN,this._colorType=Zl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Pz(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(Pz(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const s=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case bDe:_De(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Az(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const s=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=s+e;break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Az(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=ADe(this.readUint8());const r=this.readUint8();this._colorType=r;let s;switch(r){case Zl.GREYSCALE:s=1;break;case Zl.TRUECOLOUR:s=3;break;case Zl.INDEXED_COLOUR:s=1;break;case Zl.GREYSCALE_ALPHA:s=2;break;case Zl.TRUECOLOUR_ALPHA:s=4;break;case Zl.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==BC.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const s=[];this._palette=s;for(let a=0;a<r;a++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,s=this.offset+this.byteOffset;if(s+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Zl.GREYSCALE:case Zl.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case Zl.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const s=this.readByte();this._palette[r].push(s)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Zl.UNKNOWN:case Zl.GREYSCALE_ALPHA:case Zl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=Nee(this),s=this.readUint8();if(s!==BC.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const a=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:sDe(a)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),s=this.readByte();this._png.resolution={x:e,y:r,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(e);if(s){if(s.data=Ez({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)r.data=s.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(s,a,r),this.addFrameDataToCanvas(r,s)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,s){switch(e.disposeOp){case Y2.NONE:break;case Y2.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let i=0;i<this._png.width;i++){const o=(a*e.width+i)*this._png.channels;for(let l=0;l<this._png.channels;l++)s.data[o+l]=0}break;case Y2.PREVIOUS:s.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const s=1<<this._png.depth,a=(i,o)=>{const l=((i+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,c=(i*r.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case zC.SOURCE:for(let i=0;i<r.height;i++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=a(i,o);for(let d=0;d<this._png.channels;d++)e.data[l+d]=r.data[c+d]}break;case zC.OVER:for(let i=0;i<r.height;i++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=a(i,o);for(let d=0;d<this._png.channels;d++){const u=r.data[c+this._png.channels-1]/s,h=d%(this._png.channels-1)===0?1:r.data[c+d],f=Math.floor(u*h+(1-u)*e.data[l+d]);e.data[l+d]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Tz.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===UC.NO_INTERLACE)this._png.data=Ez({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===UC.ADAM7)this._png.data=hDe({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Y2.NONE,blendOp:zC.SOURCE,data:e}),this._inflator=new Cz,this._writingDataChunks=!1}}function ADe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Oz;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Oz||(Oz={}));function EDe(t,e){return new kDe(t,e).decode()}var sn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function VC(){sn.console&&typeof sn.console.log=="function"&&sn.console.log.apply(sn.console,arguments)}var Os={log:VC,warn:function(t){sn.console&&(typeof sn.console.warn=="function"?sn.console.warn.apply(sn.console,arguments):VC.call(null,arguments))},error:function(t){sn.console&&(typeof sn.console.error=="function"?sn.console.error.apply(sn.console,arguments):VC(t))}};function WC(t,e,r){var s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){pp(s.response,e,r)},s.onerror=function(){Os.error("could not download file")},s.send()}function Iz(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function X2(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var pp=sn.saveAs||((typeof window>"u"?"undefined":ws(window))!=="object"||window!==sn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var s=sn.URL||sn.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?Iz(a.href)?WC(t,e,r):X2(a,a.target="_blank"):X2(a)):(a.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){X2(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Iz(t))WC(t,e,r);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){X2(s)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:ws(i)!=="object"&&(Os.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,r),e)}:function(t,e,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof t=="string")return WC(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(sn.HTMLElement)||sn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":ws(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=u:location=u,s=null},l.readAsDataURL(t)}else{var c=sn.URL||sn.webkitURL,d=c.createObjectURL(t);s?s.location=d:location.href=d,s=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function See(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],s=0;s<r.length;s++){var a=r[s].re,i=r[s].process,o=a.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var Sw=sn.atob.bind(sn),$z=sn.btoa.bind(sn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function HC(t,e){var r=t[0],s=t[1],a=t[2],i=t[3];r=_o(r,s,a,i,e[0],7,-680876936),i=_o(i,r,s,a,e[1],12,-389564586),a=_o(a,i,r,s,e[2],17,606105819),s=_o(s,a,i,r,e[3],22,-1044525330),r=_o(r,s,a,i,e[4],7,-176418897),i=_o(i,r,s,a,e[5],12,1200080426),a=_o(a,i,r,s,e[6],17,-1473231341),s=_o(s,a,i,r,e[7],22,-45705983),r=_o(r,s,a,i,e[8],7,1770035416),i=_o(i,r,s,a,e[9],12,-1958414417),a=_o(a,i,r,s,e[10],17,-42063),s=_o(s,a,i,r,e[11],22,-1990404162),r=_o(r,s,a,i,e[12],7,1804603682),i=_o(i,r,s,a,e[13],12,-40341101),a=_o(a,i,r,s,e[14],17,-1502002290),r=Co(r,s=_o(s,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Co(i,r,s,a,e[6],9,-1069501632),a=Co(a,i,r,s,e[11],14,643717713),s=Co(s,a,i,r,e[0],20,-373897302),r=Co(r,s,a,i,e[5],5,-701558691),i=Co(i,r,s,a,e[10],9,38016083),a=Co(a,i,r,s,e[15],14,-660478335),s=Co(s,a,i,r,e[4],20,-405537848),r=Co(r,s,a,i,e[9],5,568446438),i=Co(i,r,s,a,e[14],9,-1019803690),a=Co(a,i,r,s,e[3],14,-187363961),s=Co(s,a,i,r,e[8],20,1163531501),r=Co(r,s,a,i,e[13],5,-1444681467),i=Co(i,r,s,a,e[2],9,-51403784),a=Co(a,i,r,s,e[7],14,1735328473),r=ko(r,s=Co(s,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=ko(i,r,s,a,e[8],11,-2022574463),a=ko(a,i,r,s,e[11],16,1839030562),s=ko(s,a,i,r,e[14],23,-35309556),r=ko(r,s,a,i,e[1],4,-1530992060),i=ko(i,r,s,a,e[4],11,1272893353),a=ko(a,i,r,s,e[7],16,-155497632),s=ko(s,a,i,r,e[10],23,-1094730640),r=ko(r,s,a,i,e[13],4,681279174),i=ko(i,r,s,a,e[0],11,-358537222),a=ko(a,i,r,s,e[3],16,-722521979),s=ko(s,a,i,r,e[6],23,76029189),r=ko(r,s,a,i,e[9],4,-640364487),i=ko(i,r,s,a,e[12],11,-421815835),a=ko(a,i,r,s,e[15],16,530742520),r=Ao(r,s=ko(s,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=Ao(i,r,s,a,e[7],10,1126891415),a=Ao(a,i,r,s,e[14],15,-1416354905),s=Ao(s,a,i,r,e[5],21,-57434055),r=Ao(r,s,a,i,e[12],6,1700485571),i=Ao(i,r,s,a,e[3],10,-1894986606),a=Ao(a,i,r,s,e[10],15,-1051523),s=Ao(s,a,i,r,e[1],21,-2054922799),r=Ao(r,s,a,i,e[8],6,1873313359),i=Ao(i,r,s,a,e[15],10,-30611744),a=Ao(a,i,r,s,e[6],15,-1560198380),s=Ao(s,a,i,r,e[13],21,1309151649),r=Ao(r,s,a,i,e[4],6,-145523070),i=Ao(i,r,s,a,e[11],10,-1120210379),a=Ao(a,i,r,s,e[2],15,718787259),s=Ao(s,a,i,r,e[9],21,-343485551),t[0]=Jf(r,t[0]),t[1]=Jf(s,t[1]),t[2]=Jf(a,t[2]),t[3]=Jf(i,t[3])}function E5(t,e,r,s,a,i){return e=Jf(Jf(e,t),Jf(s,i)),Jf(e<<a|e>>>32-a,r)}function _o(t,e,r,s,a,i,o){return E5(e&r|~e&s,t,e,a,i,o)}function Co(t,e,r,s,a,i,o){return E5(e&s|r&~s,t,e,a,i,o)}function ko(t,e,r,s,a,i,o){return E5(e^r^s,t,e,a,i,o)}function Ao(t,e,r,s,a,i,o){return E5(r^(e|~s),t,e,a,i,o)}function _ee(t){var e,r=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)HC(s,PDe(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(HC(s,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,HC(s,a),s}function PDe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var Dz="0123456789abcdef".split("");function TDe(t){for(var e="",r=0;r<4;r++)e+=Dz[t>>8*r+4&15]+Dz[t>>8*r&15];return e}function ODe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function rP(t){return _ee(t).map(ODe).join("")}var IDe=(function(t){for(var e=0;e<t.length;e++)t[e]=TDe(t[e]);return t.join("")})(_ee("hello"))!="5d41402abc4b2a76b9719d911017c592";function Jf(t,e){if(IDe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function nP(t,e){var r,s,a,i;if(t!==r){for(var o=(a=t,i=1+(256/t.length|0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=t,s=l}else l=s;var h=e.length,f=0,m=0,y="";for(c=0;c<h;c++)m=(m+(u=l[f=(f+1)%256]))%256,l[f]=l[m],l[m]=u,o=l[(l[f]+l[m])%256],y+=String.fromCharCode(e.charCodeAt(c)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Mz={print:4,modify:8,copy:16,"annot-forms":32};function xx(t,e,r,s){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(Mz.perm!==void 0)throw new Error("Invalid permission: "+l);a+=Mz[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=rP(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=nP(this.encryptionKey,this.padding)}function gx(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,s=0;s<r;s++){var a=t.charCodeAt(s);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[s]}return e}function Rz(t){if(ws(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,s,a){if(a=a||!1,typeof r!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[s,!!a],i},this.unsubscribe=function(r){for(var s in e)if(e[s][r])return delete e[s][r],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var o=e[r][i];try{o[0].apply(t,s)}catch(l){sn.console&&Os.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function iN(t){if(!(this instanceof iN))return new iN(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Cee(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function bp(t,e,r,s,a){if(!(this instanceof bp))return new bp(t,e,r,s,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Cee.call(this,s,a)}function Ex(t,e,r,s,a){if(!(this instanceof Ex))return new Ex(t,e,r,s,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Cee.call(this,s,a)}function wr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;ws(t=t||{})==="object"&&(r=t.orientation,s=t.unit||s,a=t.format||a,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),s=s||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,f={},m={internal:{},__private__:{}};m.__private__.PubSub=Rz;var y="1.3",g=m.__private__.getPdfVersion=function(){return y};m.__private__.setPdfVersion=function(B){y=B};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return v};var b=m.__private__.getPageFormat=function(B){return v[B]};a=a||"a4";var w="compat",N="advanced",_=w;function C(){this.saveGraphicsState(),H(new He(Dt,0,0,-Dt,0,ml()*Dt).toString()+" cm"),this.setFontSize(this.getFontSize()/Dt),d="n",_=N}function E(){this.restoreGraphicsState(),d="S",_=w}var A=m.__private__.combineFontStyleAndFontWeight=function(B,le){if(B=="bold"&&le=="normal"||B=="bold"&&le==400||B=="normal"&&le=="italic"||B=="bold"&&le=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return le&&(B=le==400||le==="normal"?B==="italic"?"italic":"normal":le!=700&&le!=="bold"||B!=="normal"?(le==700?"bold":le)+""+B:"bold"),B};m.advancedAPI=function(B){var le=_===w;return le&&C.call(this),typeof B!="function"||(B(this),le&&E.call(this)),this},m.compatAPI=function(B){var le=_===N;return le&&E.call(this),typeof B!="function"||(B(this),le&&C.call(this)),this},m.isAdvancedAPI=function(){return _===N};var I,$=function(B){if(_!==N)throw new Error(B+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=m.roundToPrecision=m.__private__.roundToPrecision=function(B,le){var _e=e||le;if(isNaN(B)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return B.toFixed(_e).replace(/0+$/,"")};I=m.hpf=m.__private__.hpf=typeof c=="number"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return O(B,c)}:c==="smart"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return O(B,B>-1&&B<1?16:5)}:function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return O(B,16)};var P=m.f2=m.__private__.f2=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f2");return O(B,2)},M=m.__private__.f3=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f3");return O(B,3)},R=m.scale=m.__private__.scale=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.scale");return _===w?B*Dt:_===N?B:void 0},W=function(B){return R((function(le){return _===w?ml()-le:_===N?le:void 0})(B))};m.__private__.setPrecision=m.setPrecision=function(B){typeof parseInt(B,10)=="number"&&(e=parseInt(B,10))};var Y,K="00000000000000000000000000000000",L=m.__private__.getFileId=function(){return K},F=m.__private__.setFileId=function(B){return K=B!==void 0&&/^[a-fA-F0-9]{32}$/.test(B)?B.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(xn=new xx(u.userPermissions,u.userPassword,u.ownerPassword,K)),K};m.setFileId=function(B){return F(B),this},m.getFileId=function(){return L()};var ee=m.__private__.convertDateToPDFDate=function(B){var le=B.getTimezoneOffset(),_e=le<0?"+":"-",De=Math.floor(Math.abs(le/60)),We=Math.abs(le%60),mt=[_e,X(De),"'",X(We),"'"].join("");return["D:",B.getFullYear(),X(B.getMonth()+1),X(B.getDate()),X(B.getHours()),X(B.getMinutes()),X(B.getSeconds()),mt].join("")},se=m.__private__.convertPDFDateToDate=function(B){var le=parseInt(B.substr(2,4),10),_e=parseInt(B.substr(6,2),10)-1,De=parseInt(B.substr(8,2),10),We=parseInt(B.substr(10,2),10),mt=parseInt(B.substr(12,2),10),St=parseInt(B.substr(14,2),10);return new Date(le,_e,De,We,mt,St,0)},q=m.__private__.setCreationDate=function(B){var le;if(B===void 0&&(B=new Date),B instanceof Date)le=ee(B);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(B))throw new Error("Invalid argument passed to jsPDF.setCreationDate");le=B}return Y=le},z=m.__private__.getCreationDate=function(B){var le=Y;return B==="jsDate"&&(le=se(Y)),le};m.setCreationDate=function(B){return q(B),this},m.getCreationDate=function(B){return z(B)};var Z,X=m.__private__.padd2=function(B){return("0"+parseInt(B)).slice(-2)},Q=m.__private__.padd2Hex=function(B){return("00"+(B=B.toString())).substr(B.length)},ne=0,ce=[],ie=[],pe=0,ae=[],be=[],we=!1,Ie=ie;m.__private__.setCustomOutputDestination=function(B){we=!0,Ie=B};var Ee=function(B){we||(Ie=B)};m.__private__.resetCustomOutputDestination=function(){we=!1,Ie=ie};var H=m.__private__.out=function(B){return B=B.toString(),pe+=B.length+1,Ie.push(B),Ie},Le=m.__private__.write=function(B){return H(arguments.length===1?B.toString():Array.prototype.join.call(arguments," "))},Ye=m.__private__.getArrayBuffer=function(B){for(var le=B.length,_e=new ArrayBuffer(le),De=new Uint8Array(_e);le--;)De[le]=B.charCodeAt(le);return _e},xt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return xt};var qe=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(B){return qe=_===N?B/Dt:B,this};var ft,ke=m.__private__.getFontSize=m.getFontSize=function(){return _===w?qe:qe*Dt},lt=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(B){return lt=B,this},m.__private__.getR2L=m.getR2L=function(){return lt};var Ve,Ke=m.__private__.setZoomMode=function(B){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(B))ft=B;else if(isNaN(B)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(B)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+B+'" is not recognized.');ft=B}else ft=parseInt(B,10)};m.__private__.getZoomMode=function(){return ft};var yt,Mt=m.__private__.setPageMode=function(B){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(B)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+B+'" is not recognized.');Ve=B};m.__private__.getPageMode=function(){return Ve};var Gt=m.__private__.setLayoutMode=function(B){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(B)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+B+'" is not recognized.');yt=B};m.__private__.getLayoutMode=function(){return yt},m.__private__.setDisplayMode=m.setDisplayMode=function(B,le,_e){return Ke(B),Gt(le),Mt(_e),this};var qt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(B){if(Object.keys(qt).indexOf(B)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return qt[B]},m.__private__.getDocumentProperties=function(){return qt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(B){for(var le in qt)qt.hasOwnProperty(le)&&B[le]&&(qt[le]=B[le]);return this},m.__private__.setDocumentProperty=function(B,le){if(Object.keys(qt).indexOf(B)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return qt[B]=le};var At,Dt,Nt,$r,Or,Ht={},bt={},an=[],er={},$e={},nt={},sr={},dr=null,Rr=0,Jt=[],_t=new Rz(m),Lr=t.hotfixes||[],Ze={},Ae={},wt=[],He=function B(le,_e,De,We,mt,St){if(!(this instanceof B))return new B(le,_e,De,We,mt,St);isNaN(le)&&(le=1),isNaN(_e)&&(_e=0),isNaN(De)&&(De=0),isNaN(We)&&(We=1),isNaN(mt)&&(mt=0),isNaN(St)&&(St=0),this._matrix=[le,_e,De,We,mt,St]};Object.defineProperty(He.prototype,"sx",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(He.prototype,"shy",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(He.prototype,"shx",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(He.prototype,"sy",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(He.prototype,"tx",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(He.prototype,"ty",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(He.prototype,"a",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(He.prototype,"b",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(He.prototype,"c",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(He.prototype,"d",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(He.prototype,"e",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(He.prototype,"f",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(He.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(He.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(He.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(He.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),He.prototype.join=function(B){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(B)},He.prototype.multiply=function(B){var le=B.sx*this.sx+B.shy*this.shx,_e=B.sx*this.shy+B.shy*this.sy,De=B.shx*this.sx+B.sy*this.shx,We=B.shx*this.shy+B.sy*this.sy,mt=B.tx*this.sx+B.ty*this.shx+this.tx,St=B.tx*this.shy+B.ty*this.sy+this.ty;return new He(le,_e,De,We,mt,St)},He.prototype.decompose=function(){var B=this.sx,le=this.shy,_e=this.shx,De=this.sy,We=this.tx,mt=this.ty,St=Math.sqrt(B*B+le*le),mr=(B/=St)*_e+(le/=St)*De;_e-=B*mr,De-=le*mr;var Cr=Math.sqrt(_e*_e+De*De);return mr/=Cr,B*(De/=Cr)<le*(_e/=Cr)&&(B=-B,le=-le,mr=-mr,St=-St),{scale:new He(St,0,0,Cr,0,0),translate:new He(1,0,0,1,We,mt),rotate:new He(B,le,-le,B,0,0),skew:new He(1,0,mr,1,0,0)}},He.prototype.toString=function(B){return this.join(" ")},He.prototype.inversed=function(){var B=this.sx,le=this.shy,_e=this.shx,De=this.sy,We=this.tx,mt=this.ty,St=1/(B*De-le*_e),mr=De*St,Cr=-le*St,Jr=-_e*St,Qr=B*St;return new He(mr,Cr,Jr,Qr,-mr*We-Jr*mt,-Cr*We-Qr*mt)},He.prototype.applyToPoint=function(B){var le=B.x*this.sx+B.y*this.shx+this.tx,_e=B.x*this.shy+B.y*this.sy+this.ty;return new wc(le,_e)},He.prototype.applyToRectangle=function(B){var le=this.applyToPoint(B),_e=this.applyToPoint(new wc(B.x+B.w,B.y+B.h));return new Qu(le.x,le.y,_e.x-le.x,_e.y-le.y)},He.prototype.clone=function(){var B=this.sx,le=this.shy,_e=this.shx,De=this.sy,We=this.tx,mt=this.ty;return new He(B,le,_e,De,We,mt)},m.Matrix=He;var jt=m.matrixMult=function(B,le){return le.multiply(B)},fr=new He(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=fr;var on=function(B,le){if(!$e[B]){var _e=(le instanceof bp?"Sh":"P")+(Object.keys(er).length+1).toString(10);le.id=_e,$e[B]=_e,er[_e]=le,_t.publish("addPattern",le)}};m.ShadingPattern=bp,m.TilingPattern=Ex,m.addShadingPattern=function(B,le){return $("addShadingPattern()"),on(B,le),this},m.beginTilingPattern=function(B){$("beginTilingPattern()"),ul(B.boundingBox[0],B.boundingBox[1],B.boundingBox[2]-B.boundingBox[0],B.boundingBox[3]-B.boundingBox[1],B.matrix)},m.endTilingPattern=function(B,le){$("endTilingPattern()"),le.stream=be[Z].join(`
`),on(B,le),_t.publish("endTilingPattern",le),wt.pop().restore()};var En,pn=m.__private__.newObject=function(){var B=Dr();return fs(B,!0),B},Dr=m.__private__.newObjectDeferred=function(){return ne++,ce[ne]=function(){return pe},ne},fs=function(B,le){return le=typeof le=="boolean"&&le,ce[B]=pe,le&&H(B+" 0 obj"),B},Rl=m.__private__.newAdditionalObject=function(){var B={objId:Dr(),content:""};return ae.push(B),B},hc=Dr(),Ji=Dr(),Lo=m.__private__.decodeColorString=function(B){var le=B.split(" ");if(le.length!==2||le[1]!=="g"&&le[1]!=="G")le.length!==5||le[4]!=="k"&&le[4]!=="K"||(le=[(1-le[0])*(1-le[3]),(1-le[1])*(1-le[3]),(1-le[2])*(1-le[3]),"r"]);else{var _e=parseFloat(le[0]);le=[_e,_e,_e,"r"]}for(var De="#",We=0;We<3;We++)De+=("0"+Math.floor(255*parseFloat(le[We])).toString(16)).slice(-2);return De},xa=m.__private__.encodeColorString=function(B){var le;typeof B=="string"&&(B={ch1:B});var _e=B.ch1,De=B.ch2,We=B.ch3,mt=B.ch4,St=B.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var mr=new See(_e);if(mr.ok)_e=mr.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var Cr=parseInt(_e.substr(1),16);_e=Cr>>16&255,De=Cr>>8&255,We=255&Cr}if(De===void 0||mt===void 0&&_e===De&&De===We)le=typeof _e=="string"?_e+" "+St[0]:B.precision===2?P(_e/255)+" "+St[0]:M(_e/255)+" "+St[0];else if(mt===void 0||ws(mt)==="object"){if(mt&&!isNaN(mt.a)&&mt.a===0)return["1.","1.","1.",St[1]].join(" ");le=typeof _e=="string"?[_e,De,We,St[1]].join(" "):B.precision===2?[P(_e/255),P(De/255),P(We/255),St[1]].join(" "):[M(_e/255),M(De/255),M(We/255),St[1]].join(" ")}else le=typeof _e=="string"?[_e,De,We,mt,St[2]].join(" "):B.precision===2?[P(_e),P(De),P(We),P(mt),St[2]].join(" "):[M(_e),M(De),M(We),M(mt),St[2]].join(" ");return le},Qi=m.__private__.getFilters=function(){return o},ga=m.__private__.putStream=function(B){var le=(B=B||{}).data||"",_e=B.filters||Qi(),De=B.alreadyAppliedFilters||[],We=B.addLength1||!1,mt=le.length,St=B.objectId,mr=function(Wa){return Wa};if(u!==null&&St===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(mr=xn.encryptor(St,0));var Cr={};_e===!0&&(_e=["FlateEncode"]);var Jr=B.additionalKeyValues||[],Qr=(Cr=wr.API.processDataByFilters!==void 0?wr.API.processDataByFilters(le,_e):{data:le,reverseChain:[]}).reverseChain+(Array.isArray(De)?De.join(" "):De.toString());if(Cr.data.length!==0&&(Jr.push({key:"Length",value:Cr.data.length}),We===!0&&Jr.push({key:"Length1",value:mt})),Qr.length!=0)if(Qr.split("/").length-1==1)Jr.push({key:"Filter",value:Qr});else{Jr.push({key:"Filter",value:"["+Qr+"]"});for(var Bn=0;Bn<Jr.length;Bn+=1)if(Jr[Bn].key==="DecodeParms"){for(var Ys=[],Pa=0;Pa<Cr.reverseChain.split("/").length-1;Pa+=1)Ys.push("null");Ys.push(Jr[Bn].value),Jr[Bn].value="["+Ys.join(" ")+"]"}}H("<<");for(var Ns=0;Ns<Jr.length;Ns++)H("/"+Jr[Ns].key+" "+Jr[Ns].value);H(">>"),Cr.data.length!==0&&(H("stream"),H(mr(Cr.data)),H("endstream"))},td=m.__private__.putPage=function(B){var le=B.number,_e=B.data,De=B.objId,We=B.contentsObjId;fs(De,!0),H("<</Type /Page"),H("/Parent "+B.rootDictionaryObjId+" 0 R"),H("/Resources "+B.resourceDictionaryObjId+" 0 R"),H("/MediaBox ["+parseFloat(I(B.mediaBox.bottomLeftX))+" "+parseFloat(I(B.mediaBox.bottomLeftY))+" "+I(B.mediaBox.topRightX)+" "+I(B.mediaBox.topRightY)+"]"),B.cropBox!==null&&H("/CropBox ["+I(B.cropBox.bottomLeftX)+" "+I(B.cropBox.bottomLeftY)+" "+I(B.cropBox.topRightX)+" "+I(B.cropBox.topRightY)+"]"),B.bleedBox!==null&&H("/BleedBox ["+I(B.bleedBox.bottomLeftX)+" "+I(B.bleedBox.bottomLeftY)+" "+I(B.bleedBox.topRightX)+" "+I(B.bleedBox.topRightY)+"]"),B.trimBox!==null&&H("/TrimBox ["+I(B.trimBox.bottomLeftX)+" "+I(B.trimBox.bottomLeftY)+" "+I(B.trimBox.topRightX)+" "+I(B.trimBox.topRightY)+"]"),B.artBox!==null&&H("/ArtBox ["+I(B.artBox.bottomLeftX)+" "+I(B.artBox.bottomLeftY)+" "+I(B.artBox.topRightX)+" "+I(B.artBox.topRightY)+"]"),typeof B.userUnit=="number"&&B.userUnit!==1&&H("/UserUnit "+B.userUnit),_t.publish("putPage",{objId:De,pageContext:Jt[le],pageNumber:le,page:_e}),H("/Contents "+We+" 0 R"),H(">>"),H("endobj");var mt=_e.join(`
`);return _===N&&(mt+=`
Q`),fs(We,!0),ga({data:mt,filters:Qi(),objectId:We}),H("endobj"),De},za=m.__private__.putPages=function(){var B,le,_e=[];for(B=1;B<=Rr;B++)Jt[B].objId=Dr(),Jt[B].contentsObjId=Dr();for(B=1;B<=Rr;B++)_e.push(td({number:B,data:be[B],objId:Jt[B].objId,contentsObjId:Jt[B].contentsObjId,mediaBox:Jt[B].mediaBox,cropBox:Jt[B].cropBox,bleedBox:Jt[B].bleedBox,trimBox:Jt[B].trimBox,artBox:Jt[B].artBox,userUnit:Jt[B].userUnit,rootDictionaryObjId:hc,resourceDictionaryObjId:Ji}));fs(hc,!0),H("<</Type /Pages");var De="/Kids [";for(le=0;le<Rr;le++)De+=_e[le]+" 0 R ";H(De+"]"),H("/Count "+Rr),H(">>"),H("endobj"),_t.publish("postPutPages")},Fo=function(B){_t.publish("putFont",{font:B,out:H,newObject:pn,putStream:ga}),B.isAlreadyPutted!==!0&&(B.objectNumber=pn(),H("<<"),H("/Type /Font"),H("/BaseFont /"+gx(B.postScriptName)),H("/Subtype /Type1"),typeof B.encoding=="string"&&H("/Encoding /"+B.encoding),H("/FirstChar 32"),H("/LastChar 255"),H(">>"),H("endobj"))},Ll=function(B){B.objectNumber=pn();var le=[];le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Form"}),le.push({key:"BBox",value:"["+[I(B.x),I(B.y),I(B.x+B.width),I(B.y+B.height)].join(" ")+"]"}),le.push({key:"Matrix",value:"["+B.matrix.toString()+"]"});var _e=B.pages[1].join(`
`);ga({data:_e,additionalKeyValues:le,objectId:B.objectNumber}),H("endobj")},ll=function(B,le){le||(le=21);var _e=pn(),De=(function(St,mr){var Cr,Jr=[],Qr=1/(mr-1);for(Cr=0;Cr<1;Cr+=Qr)Jr.push(Cr);if(Jr.push(1),St[0].offset!=0){var Bn={offset:0,color:St[0].color};St.unshift(Bn)}if(St[St.length-1].offset!=1){var Ys={offset:1,color:St[St.length-1].color};St.push(Ys)}for(var Pa="",Ns=0,Wa=0;Wa<Jr.length;Wa++){for(Cr=Jr[Wa];Cr>St[Ns+1].offset;)Ns++;var va=St[Ns].offset,fi=(Cr-va)/(St[Ns+1].offset-va),pl=St[Ns].color,po=St[Ns+1].color;Pa+=Q(Math.round((1-fi)*pl[0]+fi*po[0]).toString(16))+Q(Math.round((1-fi)*pl[1]+fi*po[1]).toString(16))+Q(Math.round((1-fi)*pl[2]+fi*po[2]).toString(16))}return Pa.trim()})(B.colors,le),We=[];We.push({key:"FunctionType",value:"0"}),We.push({key:"Domain",value:"[0.0 1.0]"}),We.push({key:"Size",value:"["+le+"]"}),We.push({key:"BitsPerSample",value:"8"}),We.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),We.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ga({data:De,additionalKeyValues:We,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),H("endobj"),B.objectNumber=pn(),H("<< /ShadingType "+B.type),H("/ColorSpace /DeviceRGB");var mt="/Coords ["+I(parseFloat(B.coords[0]))+" "+I(parseFloat(B.coords[1]))+" ";B.type===2?mt+=I(parseFloat(B.coords[2]))+" "+I(parseFloat(B.coords[3])):mt+=I(parseFloat(B.coords[2]))+" "+I(parseFloat(B.coords[3]))+" "+I(parseFloat(B.coords[4]))+" "+I(parseFloat(B.coords[5])),H(mt+="]"),B.matrix&&H("/Matrix ["+B.matrix.toString()+"]"),H("/Function "+_e+" 0 R"),H("/Extend [true true]"),H(">>"),H("endobj")},fc=function(B,le){var _e=Dr(),De=pn();le.push({resourcesOid:_e,objectOid:De}),B.objectNumber=De;var We=[];We.push({key:"Type",value:"/Pattern"}),We.push({key:"PatternType",value:"1"}),We.push({key:"PaintType",value:"1"}),We.push({key:"TilingType",value:"1"}),We.push({key:"BBox",value:"["+B.boundingBox.map(I).join(" ")+"]"}),We.push({key:"XStep",value:I(B.xStep)}),We.push({key:"YStep",value:I(B.yStep)}),We.push({key:"Resources",value:_e+" 0 R"}),B.matrix&&We.push({key:"Matrix",value:"["+B.matrix.toString()+"]"}),ga({data:B.stream,additionalKeyValues:We,objectId:B.objectNumber}),H("endobj")},Nm=function(B){for(var le in B.objectNumber=pn(),H("<<"),B)switch(le){case"opacity":H("/ca "+P(B[le]));break;case"stroke-opacity":H("/CA "+P(B[le]))}H(">>"),H("endobj")},ns=function(B){fs(B.resourcesOid,!0),H("<<"),H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var le in H("/Font <<"),Ht)Ht.hasOwnProperty(le)&&(h===!1||h===!0&&f.hasOwnProperty(le))&&H("/"+le+" "+Ht[le].objectNumber+" 0 R");H(">>")})(),(function(){if(Object.keys(er).length>0){for(var le in H("/Shading <<"),er)er.hasOwnProperty(le)&&er[le]instanceof bp&&er[le].objectNumber>=0&&H("/"+le+" "+er[le].objectNumber+" 0 R");_t.publish("putShadingPatternDict"),H(">>")}})(),(function(le){if(Object.keys(er).length>0){for(var _e in H("/Pattern <<"),er)er.hasOwnProperty(_e)&&er[_e]instanceof m.TilingPattern&&er[_e].objectNumber>=0&&er[_e].objectNumber<le&&H("/"+_e+" "+er[_e].objectNumber+" 0 R");_t.publish("putTilingPatternDict"),H(">>")}})(B.objectOid),(function(){if(Object.keys(nt).length>0){var le;for(le in H("/ExtGState <<"),nt)nt.hasOwnProperty(le)&&nt[le].objectNumber>=0&&H("/"+le+" "+nt[le].objectNumber+" 0 R");_t.publish("putGStateDict"),H(">>")}})(),(function(){for(var le in H("/XObject <<"),Ze)Ze.hasOwnProperty(le)&&Ze[le].objectNumber>=0&&H("/"+le+" "+Ze[le].objectNumber+" 0 R");_t.publish("putXobjectDict"),H(">>")})(),H(">>"),H("endobj")},nf=function(B){bt[B.fontName]=bt[B.fontName]||{},bt[B.fontName][B.fontStyle]=B.id},mc=function(B,le,_e,De,We){var mt={id:"F"+(Object.keys(Ht).length+1).toString(10),postScriptName:B,fontName:le,fontStyle:_e,encoding:De,isStandardFont:We||!1,metadata:{}};return _t.publish("addFont",{font:mt,instance:this}),Ht[mt.id]=mt,nf(mt),mt.id},hi=m.__private__.pdfEscape=m.pdfEscape=function(B,le){return(function(_e,De){var We,mt,St,mr,Cr,Jr,Qr,Bn,Ys;if(St=(De=De||{}).sourceEncoding||"Unicode",Cr=De.outputEncoding,(De.autoencode||Cr)&&Ht[At].metadata&&Ht[At].metadata[St]&&Ht[At].metadata[St].encoding&&(mr=Ht[At].metadata[St].encoding,!Cr&&Ht[At].encoding&&(Cr=Ht[At].encoding),!Cr&&mr.codePages&&(Cr=mr.codePages[0]),typeof Cr=="string"&&(Cr=mr[Cr]),Cr)){for(Qr=!1,Jr=[],We=0,mt=_e.length;We<mt;We++)(Bn=Cr[_e.charCodeAt(We)])?Jr.push(String.fromCharCode(Bn)):Jr.push(_e[We]),Jr[We].charCodeAt(0)>>8&&(Qr=!0);_e=Jr.join("")}for(We=_e.length;Qr===void 0&&We!==0;)_e.charCodeAt(We-1)>>8&&(Qr=!0),We--;if(!Qr)return _e;for(Jr=De.noBOM?[]:[254,255],We=0,mt=_e.length;We<mt;We++){if((Ys=(Bn=_e.charCodeAt(We))>>8)>>8)throw new Error("Character at position "+We+" of string '"+_e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Jr.push(Ys),Jr.push(Bn-(Ys<<8))}return String.fromCharCode.apply(void 0,Jr)})(B,le).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pc=m.__private__.beginPage=function(B){be[++Rr]=[],Jt[Rr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(B[0]),topRightY:Number(B[1])}},Bo(Rr),Ee(be[Z])},Fe=function(B,le){var _e,De,We;switch(r=le||r,typeof B=="string"&&(_e=b(B.toLowerCase()),Array.isArray(_e)&&(De=_e[0],We=_e[1])),Array.isArray(B)&&(De=B[0]*Dt,We=B[1]*Dt),isNaN(De)&&(De=a[0],We=a[1]),(De>14400||We>14400)&&(Os.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),De=Math.min(14400,De),We=Math.min(14400,We)),a=[De,We],r.substr(0,1)){case"l":We>De&&(a=[We,De]);break;case"p":De>We&&(a=[We,De])}pc(a),Zu(dl),H(Ju),km!==0&&H(km+" J"),Am!==0&&H(Am+" j"),_t.publish("addPage",{pageNumber:Rr})},Qd=function(B){B>0&&B<=Rr&&(be.splice(B,1),Jt.splice(B,1),Rr--,Z>Rr&&(Z=Rr),this.setPage(Z))},Bo=function(B){B>0&&B<=Rr&&(Z=B)},Va=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return be.length-1},Ur=function(B,le,_e){var De,We=void 0;return _e=_e||{},B=B!==void 0?B:Ht[At].fontName,le=le!==void 0?le:Ht[At].fontStyle,De=B.toLowerCase(),bt[De]!==void 0&&bt[De][le]!==void 0?We=bt[De][le]:bt[B]!==void 0&&bt[B][le]!==void 0?We=bt[B][le]:_e.disableWarning===!1&&Os.warn("Unable to look up font label for font '"+B+"', '"+le+"'. Refer to getFontList() for available fonts."),We||_e.noFallback||(We=bt.times[le])==null&&(We=bt.times.normal),We},Sn=m.__private__.putInfo=function(){var B=pn(),le=function(De){return De};for(var _e in u!==null&&(le=xn.encryptor(B,0)),H("<<"),H("/Producer ("+hi(le("jsPDF "+wr.version))+")"),qt)qt.hasOwnProperty(_e)&&qt[_e]&&H("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+hi(le(qt[_e]))+")");H("/CreationDate ("+hi(le(Y))+")"),H(">>"),H("endobj")},Sm=m.__private__.putCatalog=function(B){var le=(B=B||{}).rootDictionaryObjId||hc;switch(pn(),H("<<"),H("/Type /Catalog"),H("/Pages "+le+" 0 R"),ft||(ft="fullwidth"),ft){case"fullwidth":H("/OpenAction [3 0 R /FitH null]");break;case"fullheight":H("/OpenAction [3 0 R /FitV null]");break;case"fullpage":H("/OpenAction [3 0 R /Fit]");break;case"original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+ft;_e.substr(_e.length-1)==="%"&&(ft=parseInt(ft)/100),typeof ft=="number"&&H("/OpenAction [3 0 R /XYZ null null "+P(ft)+"]")}switch(yt||(yt="continuous"),yt){case"continuous":H("/PageLayout /OneColumn");break;case"single":H("/PageLayout /SinglePage");break;case"two":case"twoleft":H("/PageLayout /TwoColumnLeft");break;case"tworight":H("/PageLayout /TwoColumnRight")}Ve&&H("/PageMode /"+Ve),_t.publish("putCatalog"),H(">>"),H("endobj")},Oe=m.__private__.putTrailer=function(){H("trailer"),H("<<"),H("/Size "+(ne+1)),H("/Root "+ne+" 0 R"),H("/Info "+(ne-1)+" 0 R"),u!==null&&H("/Encrypt "+xn.oid+" 0 R"),H("/ID [ <"+K+"> <"+K+"> ]"),H(">>")},Ot=m.__private__.putHeader=function(){H("%PDF-"+y),H("%")},tr=m.__private__.putXRef=function(){var B="0000000000";H("xref"),H("0 "+(ne+1)),H("0000000000 65535 f ");for(var le=1;le<=ne;le++)typeof ce[le]=="function"?H((B+ce[le]()).slice(-10)+" 00000 n "):ce[le]!==void 0?H((B+ce[le]).slice(-10)+" 00000 n "):H("0000000000 00000 n ")},jr=m.__private__.buildDocument=function(){var B;ne=0,pe=0,ie=[],ce=[],ae=[],hc=Dr(),Ji=Dr(),Ee(ie),_t.publish("buildDocument"),Ot(),za(),(function(){_t.publish("putAdditionalObjects");for(var _e=0;_e<ae.length;_e++){var De=ae[_e];fs(De.objId,!0),H(De.content),H("endobj")}_t.publish("postPutAdditionalObjects")})(),B=[],(function(){for(var _e in Ht)Ht.hasOwnProperty(_e)&&(h===!1||h===!0&&f.hasOwnProperty(_e))&&Fo(Ht[_e])})(),(function(){var _e;for(_e in nt)nt.hasOwnProperty(_e)&&Nm(nt[_e])})(),(function(){for(var _e in Ze)Ze.hasOwnProperty(_e)&&Ll(Ze[_e])})(),(function(_e){var De;for(De in er)er.hasOwnProperty(De)&&(er[De]instanceof bp?ll(er[De]):er[De]instanceof Ex&&fc(er[De],_e))})(B),_t.publish("putResources"),B.forEach(ns),ns({resourcesOid:Ji,objectOid:Number.MAX_SAFE_INTEGER}),_t.publish("postPutResources"),u!==null&&(xn.oid=pn(),H("<<"),H("/Filter /Standard"),H("/V "+xn.v),H("/R "+xn.r),H("/U <"+xn.toHexString(xn.U)+">"),H("/O <"+xn.toHexString(xn.O)+">"),H("/P "+xn.P),H(">>"),H("endobj")),Sn(),Sm();var le=pe;return tr(),Oe(),H("startxref"),H(""+le),H("%%EOF"),Ee(be[Z]),ie.join(`
`)},Yr=m.__private__.getBlob=function(B){return new Blob([Ye(B)],{type:"application/pdf"})},$n=m.output=m.__private__.output=(En=function(B,le){switch(typeof(le=le||{})=="string"?le={filename:le}:le.filename=le.filename||"generated.pdf",B){case void 0:return jr();case"save":m.save(le.filename);break;case"arraybuffer":return Ye(jr());case"blob":return Yr(jr());case"bloburi":case"bloburl":if(sn.URL!==void 0&&typeof sn.URL.createObjectURL=="function")return sn.URL&&sn.URL.createObjectURL(Yr(jr()))||void 0;Os.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",De=jr();try{_e=$z(De)}catch{_e=$z(unescape(encodeURIComponent(De)))}return"data:application/pdf;filename="+le.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(sn)==="[object Window]"){var We="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",mt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';le.pdfObjectUrl&&(We=le.pdfObjectUrl,mt="");var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+We+'"'+mt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(le)+");<\/script></body></html>",mr=sn.open();return mr!==null&&mr.document.write(St),mr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(sn)==="[object Window]"){var Cr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(le.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+le.filename+'" width="500px" height="400px" /></body></html>',Jr=sn.open();if(Jr!==null){Jr.document.write(Cr);var Qr=this;Jr.document.documentElement.querySelector("#pdfViewer").onload=function(){Jr.document.title=le.filename,Jr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Qr.output("bloburl"))}}return Jr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(sn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Bn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",le)+'"></iframe></body></html>',Ys=sn.open();if(Ys!==null&&(Ys.document.write(Bn),Ys.document.title=le.filename),Ys||typeof safari>"u")return Ys;break;case"datauri":case"dataurl":return sn.document.location.href=this.output("datauristring",le);default:return null}},En.foo=function(){try{return En.apply(this,arguments)}catch(_e){var B=_e.stack||"";~B.indexOf(" at ")&&(B=B.split(" at ")[1]);var le="Error in function "+B.split(`
`)[0].split("<")[0]+": "+_e.message;if(!sn.console)throw new Error(le);sn.console.error(le,_e),sn.alert&&alert(le)}},En.foo.bar=En,En.foo),Oi=function(B){return Array.isArray(Lr)===!0&&Lr.indexOf(B)>-1};switch(s){case"pt":Dt=1;break;case"mm":Dt=72/25.4;break;case"cm":Dt=72/2.54;break;case"in":Dt=72;break;case"px":Dt=Oi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Dt=12;break;case"ex":Dt=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);Dt=s}var xn=null;q(),F();var eo=m.__private__.getPageInfo=m.getPageInfo=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Jt[B].objId,pageNumber:B,pageContext:Jt[B]}},Ii=m.__private__.getPageInfoByObjId=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var le in Jt)if(Jt[le].objId===B)break;return eo(le)},xc=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Jt[Z].objId,pageNumber:Z,pageContext:Jt[Z]}};m.addPage=function(){return Fe.apply(this,arguments),this},m.setPage=function(){return Bo.apply(this,arguments),Ee.call(this,be[Z]),this},m.insertPage=function(B){return this.addPage(),this.movePage(Z,B),this},m.movePage=function(B,le){var _e,De;if(B>le){_e=be[B],De=Jt[B];for(var We=B;We>le;We--)be[We]=be[We-1],Jt[We]=Jt[We-1];be[le]=_e,Jt[le]=De,this.setPage(le)}else if(B<le){_e=be[B],De=Jt[B];for(var mt=B;mt<le;mt++)be[mt]=be[mt+1],Jt[mt]=Jt[mt+1];be[le]=_e,Jt[le]=De,this.setPage(le)}return this},m.deletePage=function(){return Qd.apply(this,arguments),this},m.__private__.text=m.text=function(B,le,_e,De,We){var mt,St,mr,Cr,Jr,Qr,Bn,Ys,Pa,Ns=(De=De||{}).scope||this;if(typeof B=="number"&&typeof le=="number"&&(typeof _e=="string"||Array.isArray(_e))){var Wa=_e;_e=le,le=B,B=Wa}if(arguments[3]instanceof He==0?(mr=arguments[4],Cr=arguments[5],ws(Bn=arguments[3])==="object"&&Bn!==null||(typeof mr=="string"&&(Cr=mr,mr=null),typeof Bn=="string"&&(Cr=Bn,Bn=null),typeof Bn=="number"&&(mr=Bn,Bn=null),De={flags:Bn,angle:mr,align:Cr})):($("The transform parameter of text() with a Matrix value"),Pa=We),isNaN(le)||isNaN(_e)||B==null)throw new Error("Invalid arguments passed to jsPDF.text");if(B.length===0)return Ns;var va,fi="",pl=typeof De.lineHeightFactor=="number"?De.lineHeightFactor:mo,po=Ns.internal.scaleFactor;function _0(Un){return Un=Un.split("	").join(Array(De.TabLen||9).join(" ")),hi(Un,Bn)}function eu(Un){for(var ss,sa=Un.concat(),Ta=[],Wl=sa.length;Wl--;)typeof(ss=sa.shift())=="string"?Ta.push(ss):Array.isArray(Un)&&(ss.length===1||ss[1]===void 0&&ss[2]===void 0)?Ta.push(ss[0]):Ta.push([ss[0],ss[1],ss[2]]);return Ta}function rh(Un,ss){var sa;if(typeof Un=="string")sa=ss(Un)[0];else if(Array.isArray(Un)){for(var Ta,Wl,Im=Un.concat(),pf=[],ud=Im.length;ud--;)typeof(Ta=Im.shift())=="string"?pf.push(ss(Ta)[0]):Array.isArray(Ta)&&typeof Ta[0]=="string"&&(Wl=ss(Ta[0],Ta[1],Ta[2]),pf.push([Wl[0],Wl[1],Wl[2]]));sa=pf}return sa}var tu=!1,nh=!0;if(typeof B=="string")tu=!0;else if(Array.isArray(B)){var ru=B.concat();St=[];for(var sh,Di=ru.length;Di--;)(typeof(sh=ru.shift())!="string"||Array.isArray(sh)&&typeof sh[0]!="string")&&(nh=!1);tu=nh}if(tu===!1)throw new Error('Type of text must be string or Array. "'+B+'" is not recognized.');typeof B=="string"&&(B=B.match(/[\r?\n]/)?B.split(/\r\n|\r|\n/g):[B]);var ah=qe/Ns.internal.scaleFactor,ih=ah*(pl-1);switch(De.baseline){case"bottom":_e-=ih;break;case"top":_e+=ah-ih;break;case"hanging":_e+=ah-2*ih;break;case"middle":_e+=ah/2-ih}if((Qr=De.maxWidth||0)>0&&(typeof B=="string"?B=Ns.splitTextToSize(B,Qr):Object.prototype.toString.call(B)==="[object Array]"&&(B=B.reduce(function(Un,ss){return Un.concat(Ns.splitTextToSize(ss,Qr))},[]))),mt={text:B,x:le,y:_e,options:De,mutex:{pdfEscape:hi,activeFontKey:At,fonts:Ht,activeFontSize:qe}},_t.publish("preProcessText",mt),B=mt.text,mr=(De=mt.options).angle,Pa instanceof He==0&&mr&&typeof mr=="number"){mr*=Math.PI/180,De.rotationDirection===0&&(mr=-mr),_===N&&(mr=-mr);var Tm=Math.cos(mr),Om=Math.sin(mr);Pa=new He(Tm,Om,-Om,Tm,0,0)}else mr&&mr instanceof He&&(Pa=mr);_!==N||Pa||(Pa=fr),(Jr=De.charSpace||Ul)!==void 0&&(fi+=I(R(Jr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ys=De.horizontalScale)!==void 0&&(fi+=I(100*Ys)+` Tz
`),De.lang;var ra=-1,zl=De.renderingMode!==void 0?De.renderingMode:De.stroke,jc=Ns.internal.getCurrentPageInfo().pageContext;switch(zl){case 0:case!1:case"fill":ra=0;break;case 1:case!0:case"stroke":ra=1;break;case 2:case"fillThenStroke":ra=2;break;case 3:case"invisible":ra=3;break;case 4:case"fillAndAddForClipping":ra=4;break;case 5:case"strokeAndAddPathForClipping":ra=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ra=6;break;case 7:case"addToPathForClipping":ra=7}var C0=jc.usedRenderingMode!==void 0?jc.usedRenderingMode:-1;ra!==-1?fi+=ra+` Tr
`:C0!==-1&&(fi+=`0 Tr
`),ra!==-1&&(jc.usedRenderingMode=ra),Cr=De.align||"left";var zo,nu=qe*pl,uf=Ns.internal.pageSize.getWidth(),hf=Ht[At];Jr=De.charSpace||Ul,Qr=De.maxWidth||0,Bn=Object.assign({autoencode:!0,noBOM:!0},De.flags);var od=[],xl=function(Un){return Ns.getStringUnitWidth(Un,{font:hf,charSpace:Jr,fontSize:qe,doKerning:!1})*qe/po};if(Object.prototype.toString.call(B)==="[object Array]"){var Vo;St=eu(B),Cr!=="left"&&(zo=St.map(xl));var Wo,su=0;if(Cr==="right"){le-=zo[0],B=[],Di=St.length;for(var Nc=0;Nc<Di;Nc++)Nc===0?(Wo=Uo(le),Vo=sd(_e)):(Wo=R(su-zo[Nc]),Vo=-nu),B.push([St[Nc],Wo,Vo]),su=zo[Nc]}else if(Cr==="center"){le-=zo[0]/2,B=[],Di=St.length;for(var ld=0;ld<Di;ld++)ld===0?(Wo=Uo(le),Vo=sd(_e)):(Wo=R((su-zo[ld])/2),Vo=-nu),B.push([St[ld],Wo,Vo]),su=zo[ld]}else if(Cr==="left"){B=[],Di=St.length;for(var cd=0;cd<Di;cd++)B.push(St[cd])}else if(Cr==="justify"&&hf.encoding==="Identity-H"){B=[],Di=St.length,Qr=Qr!==0?Qr:uf;for(var Sc=0,ya=0;ya<Di;ya++)if(Vo=ya===0?sd(_e):-nu,Wo=ya===0?Uo(le):Sc,ya<Di-1){var oh=R((Qr-zo[ya])/(St[ya].split(" ").length-1)),_c=St[ya].split(" ");B.push([_c[0]+" ",Wo,Vo]),Sc=0;for(var Vl=1;Vl<_c.length;Vl++){var lh=(xl(_c[Vl-1]+" "+_c[Vl])-xl(_c[Vl]))*po+oh;Vl==_c.length-1?B.push([_c[Vl],lh,0]):B.push([_c[Vl]+" ",lh,0]),Sc-=lh}}else B.push([St[ya],Wo,Vo]);B.push(["",Sc,0])}else{if(Cr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(B=[],Di=St.length,Qr=Qr!==0?Qr:uf,ya=0;ya<Di;ya++){Vo=ya===0?sd(_e):-nu,Wo=ya===0?Uo(le):0;var ch=St[ya].split(" ").length-1,ff=ch>0?(Qr-zo[ya])/ch:0;ya<Di-1?od.push(I(R(ff))):od.push(0),B.push([St[ya],Wo,Vo])}}}(typeof De.R2L=="boolean"?De.R2L:lt)===!0&&(B=rh(B,function(Un,ss,sa){return[Un.split("").reverse().join(""),ss,sa]})),mt={text:B,x:le,y:_e,options:De,mutex:{pdfEscape:hi,activeFontKey:At,fonts:Ht,activeFontSize:qe}},_t.publish("postProcessText",mt),B=mt.text,va=mt.mutex.isHex||!1;var mf=Ht[At].encoding;mf!=="WinAnsiEncoding"&&mf!=="StandardEncoding"||(B=rh(B,function(Un,ss,sa){return[_0(Un),ss,sa]})),St=eu(B),B=[];for(var dd,au,iu,dh=Array.isArray(St[0])?1:0,ou="",uh=function(Un,ss,sa){var Ta="";return sa instanceof He?(sa=typeof De.angle=="number"?jt(sa,new He(1,0,0,1,Un,ss)):jt(new He(1,0,0,1,Un,ss),sa),_===N&&(sa=jt(new He(1,0,0,-1,0,0),sa)),Ta=sa.join(" ")+` Tm
`):Ta=I(Un)+" "+I(ss)+` Td
`,Ta},na=0;na<St.length;na++){switch(ou="",dh){case 1:iu=(va?"<":"(")+St[na][0]+(va?">":")"),dd=parseFloat(St[na][1]),au=parseFloat(St[na][2]);break;case 0:iu=(va?"<":"(")+St[na]+(va?">":")"),dd=Uo(le),au=sd(_e)}od!==void 0&&od[na]!==void 0&&(ou=od[na]+` Tw
`),na===0?B.push(ou+uh(dd,au,Pa)+iu):dh===0?B.push(ou+iu):dh===1&&B.push(ou+uh(dd,au,Pa)+iu)}B=dh===0?B.join(` Tj
T* `):B.join(` Tj
`),B+=` Tj
`;var xo=`BT
/`;return xo+=At+" "+qe+` Tf
`,xo+=I(qe*pl)+` TL
`,xo+=Bl+`
`,xo+=fi,xo+=B,H(xo+="ET"),f[At]=!0,Ns};var cl=m.__private__.clip=m.clip=function(B){return H(B==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return cl("evenodd")},m.__private__.discardPath=m.discardPath=function(){return H("n"),this};var gc=m.__private__.isValidStyle=function(B){var le=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(B)!==-1&&(le=!0),le};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(B){return gc(B)&&(d=B),this};var sf=m.__private__.getStyle=m.getStyle=function(B){var le=d;switch(B){case"D":case"S":le="S";break;case"F":le="f";break;case"FD":case"DF":le="B";break;case"f":case"f*":case"B":case"B*":le=B}return le},Mn=m.close=function(){return H("h"),this};m.stroke=function(){return H("S"),this},m.fill=function(B){return rd("f",B),this},m.fillEvenOdd=function(B){return rd("f*",B),this},m.fillStroke=function(B){return rd("B",B),this},m.fillStrokeEvenOdd=function(B){return rd("B*",B),this};var rd=function(B,le){ws(le)==="object"?w0(le,B):H(B)},af=function(B){B===null||_===N&&B===void 0||(B=sf(B),H(B))};function _m(B,le,_e,De,We){var mt=new Ex(le||this.boundingBox,_e||this.xStep,De||this.yStep,this.gState,We||this.matrix);mt.stream=this.stream;var St=B+"$$"+this.cloneIndex+++"$$";return on(St,mt),mt}var w0=function(B,le){var _e=$e[B.key],De=er[_e];if(De instanceof bp)H("q"),H(j0(le)),De.gState&&m.setGState(De.gState),H(B.matrix.toString()+" cm"),H("/"+_e+" sh"),H("Q");else if(De instanceof Ex){var We=new He(1,0,0,-1,0,ml());B.matrix&&(We=We.multiply(B.matrix||fr),_e=_m.call(De,B.key,B.boundingBox,B.xStep,B.yStep,We).id),H("q"),H("/Pattern cs"),H("/"+_e+" scn"),De.gState&&m.setGState(De.gState),H(le),H("Q")}},j0=function(B){switch(B){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},of=m.moveTo=function(B,le){return H(I(R(B))+" "+I(W(le))+" m"),this},nd=m.lineTo=function(B,le){return H(I(R(B))+" "+I(W(le))+" l"),this},Fl=m.curveTo=function(B,le,_e,De,We,mt){return H([I(R(B)),I(W(le)),I(R(_e)),I(W(De)),I(R(We)),I(W(mt)),"c"].join(" ")),this};m.__private__.line=m.line=function(B,le,_e,De,We){if(isNaN(B)||isNaN(le)||isNaN(_e)||isNaN(De)||!gc(We))throw new Error("Invalid arguments passed to jsPDF.line");return _===w?this.lines([[_e-B,De-le]],B,le,[1,1],We||"S"):this.lines([[_e-B,De-le]],B,le,[1,1]).stroke()},m.__private__.lines=m.lines=function(B,le,_e,De,We,mt){var St,mr,Cr,Jr,Qr,Bn,Ys,Pa,Ns,Wa,va,fi;if(typeof B=="number"&&(fi=_e,_e=le,le=B,B=fi),De=De||[1,1],mt=mt||!1,isNaN(le)||isNaN(_e)||!Array.isArray(B)||!Array.isArray(De)||!gc(We)||typeof mt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(of(le,_e),St=De[0],mr=De[1],Jr=B.length,Wa=le,va=_e,Cr=0;Cr<Jr;Cr++)(Qr=B[Cr]).length===2?(Wa=Qr[0]*St+Wa,va=Qr[1]*mr+va,nd(Wa,va)):(Bn=Qr[0]*St+Wa,Ys=Qr[1]*mr+va,Pa=Qr[2]*St+Wa,Ns=Qr[3]*mr+va,Wa=Qr[4]*St+Wa,va=Qr[5]*mr+va,Fl(Bn,Ys,Pa,Ns,Wa,va));return mt&&Mn(),af(We),this},m.path=function(B){for(var le=0;le<B.length;le++){var _e=B[le],De=_e.c;switch(_e.op){case"m":of(De[0],De[1]);break;case"l":nd(De[0],De[1]);break;case"c":Fl.apply(this,De);break;case"h":Mn()}}return this},m.__private__.rect=m.rect=function(B,le,_e,De,We){if(isNaN(B)||isNaN(le)||isNaN(_e)||isNaN(De)||!gc(We))throw new Error("Invalid arguments passed to jsPDF.rect");return _===w&&(De=-De),H([I(R(B)),I(W(le)),I(R(_e)),I(R(De)),"re"].join(" ")),af(We),this},m.__private__.triangle=m.triangle=function(B,le,_e,De,We,mt,St){if(isNaN(B)||isNaN(le)||isNaN(_e)||isNaN(De)||isNaN(We)||isNaN(mt)||!gc(St))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-B,De-le],[We-_e,mt-De],[B-We,le-mt]],B,le,[1,1],St,!0),this},m.__private__.roundedRect=m.roundedRect=function(B,le,_e,De,We,mt,St){if(isNaN(B)||isNaN(le)||isNaN(_e)||isNaN(De)||isNaN(We)||isNaN(mt)||!gc(St))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var mr=4/3*(Math.SQRT2-1);return We=Math.min(We,.5*_e),mt=Math.min(mt,.5*De),this.lines([[_e-2*We,0],[We*mr,0,We,mt-mt*mr,We,mt],[0,De-2*mt],[0,mt*mr,-We*mr,mt,-We,mt],[2*We-_e,0],[-We*mr,0,-We,-mt*mr,-We,-mt],[0,2*mt-De],[0,-mt*mr,We*mr,-mt,We,-mt]],B+We,le,[1,1],St,!0),this},m.__private__.ellipse=m.ellipse=function(B,le,_e,De,We){if(isNaN(B)||isNaN(le)||isNaN(_e)||isNaN(De)||!gc(We))throw new Error("Invalid arguments passed to jsPDF.ellipse");var mt=4/3*(Math.SQRT2-1)*_e,St=4/3*(Math.SQRT2-1)*De;return of(B+_e,le),Fl(B+_e,le-St,B+mt,le-De,B,le-De),Fl(B-mt,le-De,B-_e,le-St,B-_e,le),Fl(B-_e,le+St,B-mt,le+De,B,le+De),Fl(B+mt,le+De,B+_e,le+St,B+_e,le),af(We),this},m.__private__.circle=m.circle=function(B,le,_e,De){if(isNaN(B)||isNaN(le)||isNaN(_e)||!gc(De))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(B,le,_e,_e,De)},m.setFont=function(B,le,_e){return _e&&(le=A(le,_e)),At=Ur(B,le,{disableWarning:!1}),this};var vc=m.__private__.getFont=m.getFont=function(){return Ht[Ur.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var B,le,_e={};for(B in bt)if(bt.hasOwnProperty(B))for(le in _e[B]=[],bt[B])bt[B].hasOwnProperty(le)&&_e[B].push(le);return _e},m.addFont=function(B,le,_e,De,We){var mt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&mt.indexOf(arguments[3])!==-1?We=arguments[3]:arguments[3]&&mt.indexOf(arguments[3])==-1&&(_e=A(_e,De)),mc.call(this,B,le,_e,We=We||"Identity-H")};var mo,dl=t.lineWidth||.200025,Hr=m.__private__.getLineWidth=m.getLineWidth=function(){return dl},Zu=m.__private__.setLineWidth=m.setLineWidth=function(B){return dl=B,H(I(R(B))+" w"),this};m.__private__.setLineDash=wr.API.setLineDash=wr.API.setLineDashPattern=function(B,le){if(B=B||[],le=le||0,isNaN(le)||!Array.isArray(B))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return B=B.map(function(_e){return I(R(_e))}).join(" "),le=I(R(le)),H("["+B+"] "+le+" d"),this};var yc=m.__private__.getLineHeight=m.getLineHeight=function(){return qe*mo};m.__private__.getLineHeight=m.getLineHeight=function(){return qe*mo};var ev=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(B){return typeof(B=B||1.15)=="number"&&(mo=B),this},N0=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return mo};ev(t.lineHeight);var Uo=m.__private__.getHorizontalCoordinate=function(B){return R(B)},sd=m.__private__.getVerticalCoordinate=function(B){return _===N?B:Jt[Z].mediaBox.topRightY-Jt[Z].mediaBox.bottomLeftY-R(B)},S0=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(B){return I(Uo(B))},lf=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(B){return I(sd(B))},Ju=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Lo(Ju)},m.__private__.setStrokeColor=m.setDrawColor=function(B,le,_e,De){return Ju=xa({ch1:B,ch2:le,ch3:_e,ch4:De,pdfColorType:"draw",precision:2}),H(Ju),this};var Cm=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Lo(Cm)},m.__private__.setFillColor=m.setFillColor=function(B,le,_e,De){return Cm=xa({ch1:B,ch2:le,ch3:_e,ch4:De,pdfColorType:"fill",precision:2}),H(Cm),this};var Bl=t.textColor||"0 g",bc=m.__private__.getTextColor=m.getTextColor=function(){return Lo(Bl)};m.__private__.setTextColor=m.setTextColor=function(B,le,_e,De){return Bl=xa({ch1:B,ch2:le,ch3:_e,ch4:De,pdfColorType:"text",precision:3}),this};var Ul=t.charSpace,cf=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Ul||0)};m.__private__.setCharSpace=m.setCharSpace=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ul=B,this};var km=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(B){var le=m.CapJoinStyles[B];if(le===void 0)throw new Error("Line cap style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return km=le,H(le+" J"),this};var Am=0;m.__private__.setLineJoin=m.setLineJoin=function(B){var le=m.CapJoinStyles[B];if(le===void 0)throw new Error("Line join style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Am=le,H(le+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(B){if(B=B||0,isNaN(B))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return H(I(R(B))+" M"),this},m.GState=iN,m.setGState=function(B){(B=typeof B=="string"?nt[sr[B]]:ad(null,B)).equals(dr)||(H("/"+B.id+" gs"),dr=B)};var ad=function(B,le){if(!B||!sr[B]){var _e=!1;for(var De in nt)if(nt.hasOwnProperty(De)&&nt[De].equals(le)){_e=!0;break}if(_e)le=nt[De];else{var We="GS"+(Object.keys(nt).length+1).toString(10);nt[We]=le,le.id=We}return B&&(sr[B]=le.id),_t.publish("addGState",le),le}};m.addGState=function(B,le){return ad(B,le),this},m.saveGraphicsState=function(){return H("q"),an.push({key:At,size:qe,color:Bl}),this},m.restoreGraphicsState=function(){H("Q");var B=an.pop();return At=B.key,qe=B.size,Bl=B.color,dr=null,this},m.setCurrentTransformationMatrix=function(B){return H(B.toString()+" cm"),this},m.comment=function(B){return H("#"+B),this};var wc=function(B,le){var _e=B||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(mt){isNaN(mt)||(_e=parseFloat(mt))}});var De=le||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return De},set:function(mt){isNaN(mt)||(De=parseFloat(mt))}});var We="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return We},set:function(mt){We=mt.toString()}}),this},Qu=function(B,le,_e,De){wc.call(this,B,le),this.type="rect";var We=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return We},set:function(St){isNaN(St)||(We=parseFloat(St))}});var mt=De||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return mt},set:function(St){isNaN(St)||(mt=parseFloat(St))}}),this},eh=function(){this.page=Rr,this.currentPage=Z,this.pages=be.slice(0),this.pagesContext=Jt.slice(0),this.x=Nt,this.y=$r,this.matrix=Or,this.width=th(Z),this.height=hl(Z),this.outputDestination=Ie,this.id="",this.objectNumber=-1};eh.prototype.restore=function(){Rr=this.page,Z=this.currentPage,Jt=this.pagesContext,be=this.pages,Nt=this.x,$r=this.y,Or=this.matrix,Em(Z,this.width),fl(Z,this.height),Ie=this.outputDestination};var ul=function(B,le,_e,De,We){wt.push(new eh),Rr=Z=0,be=[],Nt=B,$r=le,Or=We,pc([_e,De])};for(var id in m.beginFormObject=function(B,le,_e,De,We){return ul(B,le,_e,De,We),this},m.endFormObject=function(B){return(function(le){if(Ae[le])wt.pop().restore();else{var _e=new eh,De="Xo"+(Object.keys(Ze).length+1).toString(10);_e.id=De,Ae[le]=De,Ze[De]=_e,_t.publish("addFormObject",_e),wt.pop().restore()}})(B),this},m.doFormObject=function(B,le){var _e=Ze[Ae[B]];return H("q"),H(le.toString()+" cm"),H("/"+_e.id+" Do"),H("Q"),this},m.getFormObject=function(B){var le=Ze[Ae[B]];return{x:le.x,y:le.y,width:le.width,height:le.height,matrix:le.matrix}},m.save=function(B,le){return B=B||"generated.pdf",(le=le||{}).returnPromise=le.returnPromise||!1,le.returnPromise===!1?(pp(Yr(jr()),B),typeof pp.unload=="function"&&sn.setTimeout&&setTimeout(pp.unload,911),this):new Promise(function(_e,De){try{var We=pp(Yr(jr()),B);typeof pp.unload=="function"&&sn.setTimeout&&setTimeout(pp.unload,911),_e(We)}catch(mt){De(mt.message)}})},wr.API)wr.API.hasOwnProperty(id)&&(id==="events"&&wr.API.events.length?(function(B,le){var _e,De,We;for(We=le.length-1;We!==-1;We--)_e=le[We][0],De=le[We][1],B.subscribe.apply(B,[_e].concat(typeof De=="function"?[De]:De))})(_t,wr.API.events):m[id]=wr.API[id]);function th(B){return Jt[B].mediaBox.topRightX-Jt[B].mediaBox.bottomLeftX}function Em(B,le){Jt[B].mediaBox.topRightX=le+Jt[B].mediaBox.bottomLeftX}function hl(B){return Jt[B].mediaBox.topRightY-Jt[B].mediaBox.bottomLeftY}function fl(B,le){Jt[B].mediaBox.topRightY=le+Jt[B].mediaBox.bottomLeftY}var Pm=m.getPageWidth=function(B){return th(B=B||Z)/Dt},$i=m.setPageWidth=function(B,le){Em(B,le*Dt)},ml=m.getPageHeight=function(B){return hl(B=B||Z)/Dt},df=m.setPageHeight=function(B,le){fl(B,le*Dt)};return m.internal={pdfEscape:hi,getStyle:sf,getFont:vc,getFontSize:ke,getCharSpace:cf,getTextColor:bc,getLineHeight:yc,getLineHeightFactor:N0,getLineWidth:Hr,write:Le,getHorizontalCoordinate:Uo,getVerticalCoordinate:sd,getCoordinateString:S0,getVerticalCoordinateString:lf,collections:{},newObject:pn,newAdditionalObject:Rl,newObjectDeferred:Dr,newObjectDeferredBegin:fs,getFilters:Qi,putStream:ga,events:_t,scaleFactor:Dt,pageSize:{getWidth:function(){return Pm(Z)},setWidth:function(B){$i(Z,B)},getHeight:function(){return ml(Z)},setHeight:function(B){df(Z,B)}},encryptionOptions:u,encryption:xn,getEncryptor:function(B){return u!==null?xn.encryptor(B,0):function(le){return le}},output:$n,getNumberOfPages:Va,pages:be,out:H,f2:P,f3:M,getPageInfo:eo,getPageInfoByObjId:Ii,getCurrentPageInfo:xc,getPDFVersion:g,Point:wc,Rectangle:Qu,Matrix:He,hasHotfix:Oi},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Pm(Z)},set:function(B){$i(Z,B)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return ml(Z)},set:function(B){df(Z,B)},enumerable:!0,configurable:!0}),function(B){for(var le=0,_e=xt.length;le<_e;le++){var De=mc.call(this,B[le][0],B[le][1],B[le][2],xt[le][3],!0);h===!1&&(f[De]=!0);var We=B[le][0].split("-");nf({id:De,fontName:We[0],fontStyle:We[1]||""})}_t.publish("addFonts",{fonts:Ht,dictionary:bt})}.call(m,xt),At="F1",Fe(a,r),_t.publish("initialized"),m}xx.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},xx.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},xx.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},xx.prototype.processOwnerPassword=function(t,e){return nP(rP(e).substr(0,5),t)},xx.prototype.encryptor=function(t,e){var r=rP(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return nP(r,s)}},iN.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||ws(t)!==ws(this))return!1;var s=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;s++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&s--;return s===0},wr.API={events:[]},wr.version="3.0.3";var Ra=wr.API,wO=1,b0=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},dx=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},hn=function(t){return t.toFixed(2)},Lf=function(t){return t.toFixed(5)};Ra.__acroform__={};var Dl=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Lz=function(t){return t*wO},xu=function(t){var e=new Aee,r=br.internal.getHeight(t)||0,s=br.internal.getWidth(t)||0;return e.BBox=[0,0,Number(hn(s)),Number(hn(r))],e},$De=Ra.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},DDe=Ra.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},MDe=Ra.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Xa=Ra.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return MDe(t,e-1)},Za=Ra.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $De(t,e-1)},Ja=Ra.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return DDe(t,e-1)},RDe=Ra.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,a=t[0],i=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=s(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=s(i)||0,[Number(hn(c.lowerLeft_X)),Number(hn(c.lowerLeft_Y)),Number(hn(c.upperRight_X)),Number(hn(c.upperRight_Y))]},LDe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,s=sP(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+hn(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=xu(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},sP=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,s={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(P){return P.split(`
`)}):a.map(function(P){return[P]});var i=r,o=br.internal.getHeight(t)||0;o=o<0?-o:o;var l=br.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(P,M,R){if(P+1<a.length){var W=M+" "+a[P+1][0];return Z2(W,t,R).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var d,u,h=Z2("3",t,i).height,f=t.multiline?o-i:(o-h)/2,m=f+=2,y=0,g=0,v=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Z2(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var b="",w=0,N=0;N<a.length;N++)if(a.hasOwnProperty(N)){var _=!1;if(a[N].length!==1&&v!==a[N].length-1){if((h+2)*(w+2)+2>o)continue e;b+=a[N][v],_=!0,g=N,N--}else{b=(b+=a[N][v]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var C=parseInt(N),E=c(C,b,i),A=N>=a.length-1;if(E&&!A){b+=" ",v=0;continue}if(E||A){if(A)g=C;else if(t.multiline&&(h+2)*(w+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(w+2)+2>o)continue e;g=C}}for(var I="",$=y;$<=g;$++){var O=a[$];if(t.multiline){if($===g){I+=O[v]+" ",v=(v+1)%O.length;continue}if($===y){I+=O[O.length-1]+" ";continue}}I+=O[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,u=Z2(I,t,i).width,t.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;default:d=2}e+=hn(d)+" "+hn(m)+` Td
`,e+="("+b0(I)+`) Tj
`,e+=-hn(d)+` 0 Td
`,m=-(i+2),u=0,y=_?g:g+1,w++,b=""}break}return s.text=e,s.fontSize=i,s},Z2=function(t,e,r){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},FDe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},BDe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(s){return s.type===r.type&&s.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},UDe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Xd.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(FDe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");wO=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Eee,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];i.objId=void 0,i.hasAnnotation&&BDe(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(s,a){var i=!s;for(var o in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(o)){var l=s[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=RDe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=br.createDefaultAppearanceStream(l),ws(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=LDe(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var h="";for(var f in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(f)){var m=l.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var y=m[o];typeof y=="function"&&(y=y.call(a,l)),h+="/"+o+" "+y+" ",a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y)}}else typeof(y=m)=="function"&&(y=y.call(a,l)),h+="/"+o+" "+y,a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&(function(g,v){for(var b in g)if(g.hasOwnProperty(b)){var w=b,N=g[b];v.internal.newObjectDeferredBegin(N.objId,!0),ws(N)==="object"&&typeof N.putStream=="function"&&N.putStream(),delete g[w]}})(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},kee=Ra.__acroform__.arrayToPdfArray=function(t,e,r){var s=function(o){return o};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),ws(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(s=r.internal.getEncryptor(e)),a+="("+b0(s(t[i].toString()))+")"):a+=t[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},qC=function(t,e,r){var s=function(a){return a};return e!==void 0&&r&&(s=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+b0(s(t))+")"},Su=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Su.prototype.toString=function(){return this.objId+" 0 R"},Su.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Su.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var s=e[r],a=this[s];a&&(Array.isArray(a)?t.push({key:s,value:kee(a,this.objId,this.scope)}):a instanceof Su?(a.scope=this.scope,t.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:s,value:a}))}return t};var Aee=function(){Su.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Dl(Aee,Su);var Eee=function(){Su.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(s){return s};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+b0(r(t))+")"}},set:function(r){t=r}})};Dl(Eee,Su);var Xd=function t(){Su.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xa(e,3)},set:function(b){b?this.F=Za(e,3):this.F=Ja(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(b){s=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(b){s[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(b){s[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(b){s[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(b){s[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof oN)return;i="FieldObject"+t.FieldNum++}var b=function(w){return w};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+b0(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/wO:d},set:function(b){d=b}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(b){u=b}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof oN||this instanceof qp))return qC(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=b}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof qi==0?qC(f,this.objId,this.scope):f},set:function(b){b=b.toString(),f=this instanceof qi==0?b.substr(0,1)==="("?dx(b.substr(1,b.length-2)):dx(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof qi==1?dx(f.substr(1,f.length-1)):f},set:function(b){b=b.toString(),f=this instanceof qi==1?"/"+b:b}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof qi==0?qC(m,this.objId,this.scope):m},set:function(b){b=b.toString(),m=this instanceof qi==0?b.substr(0,1)==="("?dx(b.substr(1,b.length-2)):dx(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof qi==1?dx(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof qi==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(b){b=!!b,g=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(b){y=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xa(this.Ff,1)},set:function(b){b?this.Ff=Za(this.Ff,1):this.Ff=Ja(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xa(this.Ff,2)},set:function(b){b?this.Ff=Za(this.Ff,2):this.Ff=Ja(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xa(this.Ff,3)},set:function(b){b?this.Ff=Za(this.Ff,3):this.Ff=Ja(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');v=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(v){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Dl(Xd,Su);var Vx=function(){Xd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return kee(e,this.objId,this.scope)},set:function(r){var s,a;a=[],typeof(s=r)=="string"&&(a=(function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d})(s,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,s){for(s=s||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xa(this.Ff,18)},set:function(r){r?this.Ff=Za(this.Ff,18):this.Ff=Ja(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xa(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Za(this.Ff,19):this.Ff=Ja(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xa(this.Ff,20)},set:function(r){r?(this.Ff=Za(this.Ff,20),e.sort()):this.Ff=Ja(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xa(this.Ff,22)},set:function(r){r?this.Ff=Za(this.Ff,22):this.Ff=Ja(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xa(this.Ff,23)},set:function(r){r?this.Ff=Za(this.Ff,23):this.Ff=Ja(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xa(this.Ff,27)},set:function(r){r?this.Ff=Za(this.Ff,27):this.Ff=Ja(this.Ff,27)}}),this.hasAppearanceStream=!1};Dl(Vx,Xd);var Wx=function(){Vx.call(this),this.fontName="helvetica",this.combo=!1};Dl(Wx,Vx);var Hx=function(){Wx.call(this),this.combo=!0};Dl(Hx,Wx);var _w=function(){Hx.call(this),this.edit=!0};Dl(_w,Hx);var qi=function(){Xd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xa(this.Ff,15)},set:function(r){r?this.Ff=Za(this.Ff,15):this.Ff=Ja(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xa(this.Ff,16)},set:function(r){r?this.Ff=Za(this.Ff,16):this.Ff=Ja(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xa(this.Ff,17)},set:function(r){r?this.Ff=Za(this.Ff,17):this.Ff=Ja(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xa(this.Ff,26)},set:function(r){r?this.Ff=Za(this.Ff,26):this.Ff=Ja(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,a=[];for(s in a.push("<<"),e)a.push("/"+s+" ("+b0(r(e[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){ws(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Dl(qi,Xd);var Cw=function(){qi.call(this),this.pushButton=!0};Dl(Cw,qi);var qx=function(){qi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Dl(qx,qi);var oN=function(){var t,e;Xd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),s)o.push("/"+i+" ("+b0(a(s[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){ws(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=br.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Dl(oN,Xd),qx.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},qx.prototype.createOption=function(t){var e=new oN;return e.Parent=this,e.optionName=t,this.Kids.push(e),zDe.call(this.scope,e),e};var kw=function(){qi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=br.CheckBox.createAppearanceStream()};Dl(kw,qi);var qp=function(){Xd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xa(this.Ff,13)},set:function(e){e?this.Ff=Za(this.Ff,13):this.Ff=Ja(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xa(this.Ff,21)},set:function(e){e?this.Ff=Za(this.Ff,21):this.Ff=Ja(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xa(this.Ff,23)},set:function(e){e?this.Ff=Za(this.Ff,23):this.Ff=Ja(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xa(this.Ff,24)},set:function(e){e?this.Ff=Za(this.Ff,24):this.Ff=Ja(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xa(this.Ff,25)},set:function(e){e?this.Ff=Za(this.Ff,25):this.Ff=Ja(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xa(this.Ff,26)},set:function(e){e?this.Ff=Za(this.Ff,26):this.Ff=Ja(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Dl(qp,Xd);var Aw=function(){qp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xa(this.Ff,14)},set:function(t){t?this.Ff=Za(this.Ff,14):this.Ff=Ja(this.Ff,14)}}),this.password=!0};Dl(Aw,qp);var br={CheckBox:{createAppearanceStream:function(){return{N:{On:br.CheckBox.YesNormal},D:{On:br.CheckBox.YesPushDown,Off:br.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=xu(t);e.scope=t.scope;var r=[],s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=sP(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+hn(br.internal.getWidth(t))+" "+hn(br.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+s+" "+hn(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=xu(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),a=[],i=br.internal.getHeight(t),o=br.internal.getWidth(t),l=sP(t,t.caption);return a.push("1 g"),a.push("0 0 "+hn(o)+" "+hn(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+hn(o-1)+" "+hn(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+hn(l.fontSize)+" Tf "+s),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=xu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+hn(br.internal.getWidth(t))+" "+hn(br.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:br.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=br.RadioButton.Circle.YesNormal,e.D[t]=br.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=xu(t);e.scope=t.scope;var r=[],s=br.internal.getWidth(t)<=br.internal.getHeight(t)?br.internal.getWidth(t)/4:br.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var a=br.internal.Bezier_C,i=Number((s*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Lf(br.internal.getWidth(t)/2)+" "+Lf(br.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=xu(t);e.scope=t.scope;var r=[],s=br.internal.getWidth(t)<=br.internal.getHeight(t)?br.internal.getWidth(t)/4:br.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*br.internal.Bezier_C).toFixed(5)),o=Number((s*br.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Lf(br.internal.getWidth(t)/2)+" "+Lf(br.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Lf(br.internal.getWidth(t)/2)+" "+Lf(br.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),r.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),r.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),r.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=xu(t);e.scope=t.scope;var r=[],s=br.internal.getWidth(t)<=br.internal.getHeight(t)?br.internal.getWidth(t)/4:br.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*br.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Lf(br.internal.getWidth(t)/2)+" "+Lf(br.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:br.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=br.RadioButton.Cross.YesNormal,e.D[t]=br.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=xu(t);e.scope=t.scope;var r=[],s=br.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+hn(br.internal.getWidth(t)-2)+" "+hn(br.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(hn(s.x1.x)+" "+hn(s.x1.y)+" m"),r.push(hn(s.x2.x)+" "+hn(s.x2.y)+" l"),r.push(hn(s.x4.x)+" "+hn(s.x4.y)+" m"),r.push(hn(s.x3.x)+" "+hn(s.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=xu(t);e.scope=t.scope;var r=br.internal.calculateCross(t),s=[];return s.push("0.749023 g"),s.push("0 0 "+hn(br.internal.getWidth(t))+" "+hn(br.internal.getHeight(t))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+hn(br.internal.getWidth(t)-2)+" "+hn(br.internal.getHeight(t)-2)+" re"),s.push("W"),s.push("n"),s.push(hn(r.x1.x)+" "+hn(r.x1.y)+" m"),s.push(hn(r.x2.x)+" "+hn(r.x2.y)+" l"),s.push(hn(r.x4.x)+" "+hn(r.x4.y)+" m"),s.push(hn(r.x3.x)+" "+hn(r.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=xu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+hn(br.internal.getWidth(t))+" "+hn(br.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};br.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=br.internal.getWidth(t),r=br.internal.getHeight(t),s=Math.min(e,r);return{x1:{x:(e-s)/2,y:(r-s)/2+s},x2:{x:(e-s)/2+s,y:(r-s)/2},x3:{x:(e-s)/2,y:(r-s)/2},x4:{x:(e-s)/2+s,y:(r-s)/2+s}}}},br.internal.getWidth=function(t){var e=0;return ws(t)==="object"&&(e=Lz(t.Rect[2])),e},br.internal.getHeight=function(t){var e=0;return ws(t)==="object"&&(e=Lz(t.Rect[3])),e};var zDe=Ra.addField=function(t){if(UDe(this,t),!(t instanceof Xd))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ra.AcroFormChoiceField=Vx,Ra.AcroFormListBox=Wx,Ra.AcroFormComboBox=Hx,Ra.AcroFormEditBox=_w,Ra.AcroFormButton=qi,Ra.AcroFormPushButton=Cw,Ra.AcroFormRadioButton=qx,Ra.AcroFormCheckBox=kw,Ra.AcroFormTextField=qp,Ra.AcroFormPasswordField=Aw,Ra.AcroFormAppearance=br,Ra.AcroForm={ChoiceField:Vx,ListBox:Wx,ComboBox:Hx,EditBox:_w,Button:qi,PushButton:Cw,RadioButton:qx,CheckBox:kw,TextField:qp,PasswordField:Aw,Appearance:br},wr.AcroForm={ChoiceField:Vx,ListBox:Wx,ComboBox:Hx,EditBox:_w,Button:qi,PushButton:Cw,RadioButton:qx,CheckBox:kw,TextField:qp,PasswordField:Aw,Appearance:br};wr.AcroForm;function Pee(t){return t.reduce(function(e,r,s){return e[r]=s,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(P,M){var R,W,Y,K,L,F=r;if((M=M||r)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(E(P))for(L in s)for(Y=s[L],R=0;R<Y.length;R+=1){for(K=!0,W=0;W<Y[R].length;W+=1)if(Y[R][W]!==void 0&&Y[R][W]!==P[W]){K=!1;break}if(K===!0){F=L;break}}else for(L in s)for(Y=s[L],R=0;R<Y.length;R+=1){for(K=!0,W=0;W<Y[R].length;W+=1)if(Y[R][W]!==void 0&&Y[R][W]!==P.charCodeAt(W)){K=!1;break}if(K===!0){F=L;break}}return F===r&&M!==r&&(F=M),F},i=function P(M){for(var R=this.internal.write,W=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:M.width}),K.push({key:"Height",value:M.height}),M.colorSpace===b.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===b.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var L="",F=0,ee=M.transparency.length;F<ee;F++)L+=M.transparency[F]+" "+M.transparency[F]+" ";K.push({key:"Mask",value:"["+L+"]"})}M.sMask!==void 0&&K.push({key:"SMask",value:M.objectId+1+" 0 R"});var se=M.filter!==void 0?["/"+M.filter]:void 0;if(W({data:M.data,additionalKeyValues:K,alreadyAppliedFilters:se,objectId:M.objectId}),R("endobj"),"sMask"in M&&M.sMask!==void 0){var q,z=(q=M.sMaskBitsPerComponent)!==null&&q!==void 0?q:M.bitsPerComponent,Z={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:z,data:M.sMask};"filter"in M&&(Z.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(z," /Columns ").concat(M.width),Z.filter=M.filter),P.call(this,Z)}if(M.colorSpace===b.INDEXED){var X=this.internal.newObject();W({data:I(new Uint8Array(M.palette)),objectId:X}),R("endobj")}},o=function(){var P=this.internal.collections[e+"images"];for(var M in P)i.call(this,P[M])},l=function(){var P,M=this.internal.collections[e+"images"],R=this.internal.write;for(var W in M)R("/I"+(P=M[W]).index,P.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var P=this.internal.collections[e+"images"];return c.call(this),P},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(P){return typeof t["process"+P.toUpperCase()]=="function"},f=function(P){return ws(P)==="object"&&P.nodeType===1},m=function(P,M){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var R=""+P.getAttribute("src");if(R.indexOf("data:image/")===0)return Sw(unescape(R).split("base64,").pop());var W=t.loadFile(R,!0);if(W!==void 0)return W}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var Y;switch(M){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;default:Y="image/jpeg"}return Sw(P.toDataURL(Y,1).split("base64,").pop())}},y=function(P){var M=this.internal.collections[e+"images"];if(M){for(var R in M)if(P===M[R].alias)return M[R]}},g=function(P,M,R){return P||M||(P=-96,M=-96),P<0&&(P=-1*R.width*72/P/this.internal.scaleFactor),M<0&&(M=-1*R.height*72/M/this.internal.scaleFactor),P===0&&(P=M*R.width/R.height),M===0&&(M=P*R.height/R.width),[P,M]},v=function(P,M,R,W,Y,K){var L=g.call(this,R,W,Y),F=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,se=d.call(this);if(R=L[0],W=L[1],se[Y.index]=Y,K){K*=Math.PI/180;var q=Math.cos(K),z=Math.sin(K),Z=function(Q){return Q.toFixed(4)},X=[Z(q),Z(z),Z(-1*z),Z(q),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,F(P),ee(M+W),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([F(R),"0","0",F(W),"0","0","cm"].join(" "))):this.internal.write([F(R),"0","0",F(W),F(P),ee(M+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=t.__addimage__.sHashCode=function(P){var M,R,W=0;if(typeof P=="string")for(R=P.length,M=0;M<R;M++)W=(W<<5)-W+P.charCodeAt(M),W|=0;else if(E(P))for(R=P.byteLength/2,M=0;M<R;M++)W=(W<<5)-W+P[M],W|=0;return W},_=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var M=!0;return P.length===0&&(M=!1),P.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(M=!1),M},C=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var M=P.indexOf(",");return M<0?null:P.substring(0,M).trim().endsWith("base64")?P.substring(M+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var E=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},A=t.__addimage__.binaryStringToUint8Array=function(P){for(var M=P.length,R=new Uint8Array(M),W=0;W<M;W++)R[W]=P.charCodeAt(W);return R},I=t.__addimage__.arrayBufferToBinaryString=function(P){for(var M="",R=E(P)?P:new Uint8Array(P),W=0;W<R.length;W+=8192)M+=String.fromCharCode.apply(null,R.subarray(W,W+8192));return M};t.addImage=function(){var P,M,R,W,Y,K,L,F,ee;if(typeof arguments[1]=="number"?(M=r,R=arguments[1],W=arguments[2],Y=arguments[3],K=arguments[4],L=arguments[5],F=arguments[6],ee=arguments[7]):(M=arguments[1],R=arguments[2],W=arguments[3],Y=arguments[4],K=arguments[5],L=arguments[6],F=arguments[7],ee=arguments[8]),ws(P=arguments[0])==="object"&&!f(P)&&"imageData"in P){var se=P;P=se.imageData,M=se.format||M||r,R=se.x||R||0,W=se.y||W||0,Y=se.w||se.width||Y,K=se.h||se.height||K,L=se.alias||L,F=se.compression||F,ee=se.rotation||se.angle||ee}var q=this.internal.getFilters();if(F===void 0&&q.indexOf("FlateEncode")!==-1&&(F="SLOW"),isNaN(R)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var z=$.call(this,P,M,L,F);return v.call(this,R,W,Y,K,z,ee),this};var $=function(P,M,R,W){var Y,K,L;if(typeof P=="string"&&a(P)===r){P=unescape(P);var F=O(P,!1);(F!==""||(F=t.loadFile(P,!0))!==void 0)&&(P=F)}if(f(P)&&(P=m(P,M)),M=a(P,M),!h(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((L=R)==null||L.length===0)&&(R=(function(ee){return typeof ee=="string"||E(ee)?N(ee):E(ee.data)?N(ee.data):null})(P)),(Y=y.call(this,R))||(P instanceof Uint8Array||M==="RGBA"||(K=P,P=A(P)),Y=this["process"+M.toUpperCase()](P,u.call(this),R,(function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in t.image_compression?ee:w.NONE})(W),K)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},O=t.__addimage__.convertBase64ToBinaryString=function(P,M){M=typeof M!="boolean"||M;var R,W="";if(typeof P=="string"){var Y;R=(Y=C(P))!==null&&Y!==void 0?Y:P;try{W=Sw(R)}catch(K){if(M)throw _(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};t.getImageProperties=function(P){var M,R,W="";if(f(P)&&(P=m(P)),typeof P=="string"&&a(P)===r&&((W=O(P,!1))===""&&(W=t.loadFile(P)||""),P=W),R=a(P),!h(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(P instanceof Uint8Array||(P=A(P)),!(M=this["process"+R.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=R,M}})(wr.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};wr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var s,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((s=d[h]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<d.length;f++){s=d[f];var m=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(g.objId),w=s.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y)+"] ")+"/Contents ("+m(b(s.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(b(w))+") >>",g.content=i;var N=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(s.bounds.x+30)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w+30)+" "+l(s.bounds.y)+"] ")+" /Parent "+N,s.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(g.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y+s.bounds.h)+"] ";var _=s.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(y(s.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(s.options.name){var C=this.annotations._nameMap[s.options.name];s.options.pageNumber=C.page,s.options.top=C.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",i="",s.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(y(s.options.url))+") >>";else if(s.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,i+=" /FitV "+s.options.left+"]";break;default:var E=l(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),i+=" /XYZ "+s.options.left+" "+E+" "+s.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var s=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":s.pageContext.annotations.push(r)}},t.link=function(r,s,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(s),w:c(r+a),h:d(s+i)},options:o,type:"link"})},t.textWithLink=function(r,s,a,i){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var u=this.splitTextToSize(r,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(r,s,a,i),a+=.2*d,i.align==="center"&&(s-=c/2),i.align==="right"&&(s-=c),this.link(s,a-d,l,o,i),c},t.getTextWidth=function(r){var s=this.internal.getFontSize();return this.getStringUnitWidth(r)*s/this.internal.scaleFactor}})(wr.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=t.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&a.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(g){var v=0,b=r,w="",N=0;for(v=0;v<g.length;v+=1)b[g.charCodeAt(v)]!==void 0?(N++,typeof(b=b[g.charCodeAt(v)])=="number"&&(w+=String.fromCharCode(b),b=r,N=0),v===g.length-1&&(b=r,w+=g.charAt(v-(N-1)),v-=N-1,N=0)):(b=r,w+=g.charAt(v-N),v-=N,N=0);return w};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&s[g.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(g,v,b){return o(g)?i(g)===!1?-1:!d(g)||!o(v)&&!o(b)||!o(b)&&l(v)||l(g)&&!o(v)||l(g)&&c(v)||l(g)&&l(v)?0:u(g)&&o(v)&&!l(v)&&o(b)&&d(b)?3:l(g)||!o(b)?1:2:-1},m=function(g){var v=0,b=0,w=0,N="",_="",C="",E=(g=g||"").split("\\s+"),A=[];for(v=0;v<E.length;v+=1){for(A.push(""),b=0;b<E[v].length;b+=1)N=E[v][b],_=E[v][b-1],C=E[v][b+1],o(N)?(w=f(N,_,C),A[v]+=w!==-1?String.fromCharCode(e[N.charCodeAt(0)][w]):N):A[v]+=N;A[v]=h(A[v])}return A.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var g,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(v)){var w=0;for(b=[],w=0;w<v.length;w+=1)Array.isArray(v[w])?b.push([m(v[w][0]),v[w][1],v[w][2]]):b.push([m(v[w])]);g=b}else g=m(v);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",y])})(wr.API),wr.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,s){var a;if((r=r||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(wr.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(g){y=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return s.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){s.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),f=d.scaleFactor||this.internal.scaleFactor,m=0,y=0,g=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=d.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,_){return N.concat(v.splitTextToSize(_,b))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)m<(g=this.getStringUnitWidth(c[w],{font:h})*u)&&(m=g);return m!==0&&(y=c.length),{w:m/=f,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){s.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,m&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,u,h,f){if(s.call(this),!u)throw new Error("No data for PDF table.");var m,y,g,v,b=[],w=[],N=[],_={},C={},E=[],A=[],I=(f=f||{}).autoSize||!1,$=f.printHeaders!==!1,O=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,P=f.margins||Object.assign({width:this.getPageWidth()},e),M=typeof f.padding=="number"?f.padding:3,R=f.headerBackgroundColor||"#c8c8c8",W=f.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=W,this.setFontSize(O),h==null)w=b=Object.keys(u[0]),N=b.map(function(){return"left"});else if(Array.isArray(h)&&ws(h[0])==="object")for(b=h.map(function(se){return se.name}),w=h.map(function(se){return se.prompt||se.name||""}),N=h.map(function(se){return se.align||"left"}),m=0;m<h.length;m+=1)C[h[m].name]=.7499990551181103*h[m].width;else Array.isArray(h)&&typeof h[0]=="string"&&(w=b=h,N=b.map(function(){return"left"}));if(I||Array.isArray(h)&&typeof h[0]=="string")for(m=0;m<b.length;m+=1){for(_[v=b[m]]=u.map(function(se){return se[v]}),this.setFont(void 0,"bold"),E.push(this.getTextDimensions(w[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=_[v],this.setFont(void 0,"normal"),g=0;g<y.length;g+=1)E.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[v]=Math.max.apply(null,E)+M+M,E=[]}if($){var Y={};for(m=0;m<b.length;m+=1)Y[b[m]]={},Y[b[m]].text=w[m],Y[b[m]].align=N[m];var K=l.call(this,Y,C);A=b.map(function(se){return new i(c,d,C[se],K,Y[se].text,void 0,Y[se].align)}),this.setTableHeaderRow(A),this.printHeaderRow(1,!1)}var L=h.reduce(function(se,q){return se[q.name]=q.align,se},{});for(m=0;m<u.length;m+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:m,data:u[m]},this);var F=l.call(this,u[m],C);for(g=0;g<b.length;g+=1){var ee=u[m][b[g]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:m,col:g,data:ee},this),o.call(this,new i(c,d,C[b[g]],F,ee,m+2,L[b[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(m){var y=c[m];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,d[m]-u-u)},this).map(function(m){return this.getLineHeightFactor()*m.length*h/f+u+u},this).reduce(function(m,y){return Math.max(m,y)},0)};t.setTableHeaderRow=function(c){s.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){u=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(y)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}})(wr.API);var Tee={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Oee=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],aP=Pee(Oee),Iee=[100,200,300,400,500,600,700,800,900],VDe=Pee(Iee);function GC(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return Tee[i=i||"normal"]?i:"normal"})(t.style),s=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(t.weight),a=(function(i){return typeof aP[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:r,weight:s,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,s].join(" ")}}}function Fz(t,e,r,s){var a;for(a=r;a>=0&&a<e.length;a+=s)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=s)if(t[e[a]])return t[e[a]]}var WDe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Bz={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Uz(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function zz(t){return t.trimLeft()}function HDe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function qDe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var J2,Vz,Wz,ux,Q2,Hz,qz,Gz,KC=["times"];function Kz(t,e,r,s,a){var i=4,o=Xz;switch(a){case wr.API.image_compression.FAST:i=1,o=Yz;break;case wr.API.image_compression.MEDIUM:i=6,o=Zz;break;case wr.API.image_compression.SLOW:i=9,o=Jz}t=(function(c,d,u,h){for(var f,m=c.length/d,y=new Uint8Array(c.length+m),g=[GDe,Yz,Xz,Zz,Jz],v=0;v<m;v+=1){var b=v*d,w=c.subarray(b,b+d);if(h)y.set(h(w,u,f),b+v);else{for(var N=g.length,_=[],C=0;C<N;C+=1)_[C]=g[C](w,u,f);var E=YDe(_.concat());y.set(_[E],b+v)}f=w}return y})(t,e,Math.ceil(r*s/8),o);var l=JE(t,{level:i});return wr.API.__addimage__.arrayBufferToBinaryString(l)}function GDe(t){var e=Array.apply([],t);return e.unshift(0),e}function Yz(t,e){var r=t.length,s=[];s[0]=1;for(var a=0;a<r;a+=1){var i=t[a-e]||0;s[a+1]=t[a]-i+256&255}return s}function Xz(t,e,r){var s=t.length,a=[];a[0]=2;for(var i=0;i<s;i+=1){var o=r&&r[i]||0;a[i+1]=t[i]-o+256&255}return a}function Zz(t,e,r){var s=t.length,a=[];a[0]=3;for(var i=0;i<s;i+=1){var o=t[i-e]||0,l=r&&r[i]||0;a[i+1]=t[i]+256-(o+l>>>1)&255}return a}function Jz(t,e,r){var s=t.length,a=[];a[0]=4;for(var i=0;i<s;i+=1){var o=KDe(t[i-e]||0,r&&r[i]||0,r&&r[i-e]||0);a[i+1]=t[i]-o+256&255}return a}function KDe(t,e,r){if(t===e&&e===r)return t;var s=Math.abs(e-r),a=Math.abs(t-r),i=Math.abs(t+e-r-r);return s<=a&&s<=i?t:a<=i?e:r}function YDe(t){var e=t.map(function(r){return r.reduce(function(s,a){return s+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function YC(t,e,r){var s=e*r,a=Math.floor(s/8),i=16-(s-8*a+r),o=(1<<r)-1;return $ee(t,a)>>i&o}function Qz(t,e,r,s){var a=r*s,i=Math.floor(a/8),o=16-(a-8*i+s),l=(1<<s)-1,c=(e&l)<<o;(function(d,u,h){if(u+1<d.byteLength)d.setUint16(u,h,!1);else{var f=h>>8&255;d.setUint8(u,f)}})(t,i,$ee(t,i)&~(l<<o)&65535|c)}function $ee(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function XDe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,s=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,o=1<<1+(7&a);t[e++],t[e++];var l=null,c=null;i&&(l=e,c=o,e+=3*o);var d=!0,u=[],h=0,f=null,m=0,y=null;for(this.width=r,this.height=s;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[e++];h=t[e++]|t[e++]<<8,f=t[e++],1&g||(f=null),m=g>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,_=t[e++],C=_>>6&1,E=1<<1+(7&_),A=l,I=c,$=!1;_>>7&&($=!0,A=e,I=E,e+=3*E);var O=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}u.push({x:v,y:b,width:w,height:N,has_local_palette:$,palette_offset:A,palette_size:I,data_offset:O,data_length:e-O,transparent_index:f,interlaced:!!C,delay:h,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(M){if(M<0||M>=u.length)throw new Error("Frame index out of range.");return u[M]},this.decodeAndBlitFrameBGRA=function(M,R){var W=this.frameInfo(M),Y=W.width*W.height,K=new Uint8Array(Y);eV(t,W.data_offset,K,Y);var L=W.palette_offset,F=W.transparent_index;F===null&&(F=256);var ee=W.width,se=r-ee,q=ee,z=4*(W.y*r+W.x),Z=4*((W.y+W.height)*r+W.x),X=z,Q=4*se;W.interlaced===!0&&(Q+=4*r*7);for(var ne=8,ce=0,ie=K.length;ce<ie;++ce){var pe=K[ce];if(q===0&&(q=ee,(X+=Q)>=Z&&(Q=4*se+4*r*(ne-1),X=z+(ee+se)*(ne<<1),ne>>=1)),pe===F)X+=4;else{var ae=t[L+3*pe],be=t[L+3*pe+1],we=t[L+3*pe+2];R[X++]=we,R[X++]=be,R[X++]=ae,R[X++]=255}--q}},this.decodeAndBlitFrameRGBA=function(M,R){var W=this.frameInfo(M),Y=W.width*W.height,K=new Uint8Array(Y);eV(t,W.data_offset,K,Y);var L=W.palette_offset,F=W.transparent_index;F===null&&(F=256);var ee=W.width,se=r-ee,q=ee,z=4*(W.y*r+W.x),Z=4*((W.y+W.height)*r+W.x),X=z,Q=4*se;W.interlaced===!0&&(Q+=4*r*7);for(var ne=8,ce=0,ie=K.length;ce<ie;++ce){var pe=K[ce];if(q===0&&(q=ee,(X+=Q)>=Z&&(Q=4*se+4*r*(ne-1),X=z+(ee+se)*(ne<<1),ne>>=1)),pe===F)X+=4;else{var ae=t[L+3*pe],be=t[L+3*pe+1],we=t[L+3*pe+2];R[X++]=ae,R[X++]=be,R[X++]=we,R[X++]=255}--q}}}function eV(t,e,r,s){for(var a=t[e++],i=1<<a,o=i+1,l=o+1,c=a+1,d=(1<<c)-1,u=0,h=0,f=0,m=t[e++],y=new Int32Array(4096),g=null;;){for(;u<16&&m!==0;)h|=t[e++]<<u,u+=8,m===1?m=t[e++]:--m;if(u<c)break;var v=h&d;if(h>>=c,u-=c,v!==i){if(v===o)break;for(var b=v<l?v:g,w=0,N=b;N>i;)N=y[N]>>8,++w;var _=N;if(f+w+(b!==v?1:0)>s)return void Os.log("Warning, gif stream longer than expected.");r[f++]=_;var C=f+=w;for(b!==v&&(r[f++]=_),N=b;w--;)N=y[N],r[--C]=255&N,N>>=8;g!==null&&l<4096&&(y[l++]=g<<8|_,l>=d+1&&c<12&&(++c,d=d<<1|1)),g=v}else l=o+1,d=(1<<(c=a+1))-1,g=null}return f!==s&&Os.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function XC(t){var e,r,s,a,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),f=new Array(65535),m=new Array(64),y=new Array(64),g=[],v=0,b=7,w=new Array(64),N=new Array(64),_=new Array(64),C=new Array(256),E=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(z,Z){for(var X=0,Q=0,ne=new Array,ce=1;ce<=16;ce++){for(var ie=1;ie<=z[ce];ie++)ne[Z[Q]]=[],ne[Z[Q]][0]=X,ne[Z[Q]][1]=ce,Q++,X++;X*=2}return ne}function L(z){for(var Z=z[0],X=z[1]-1;X>=0;)Z&1<<X&&(v|=1<<b),X--,--b<0&&(v==255?(F(255),F(0)):F(v),b=7,v=0)}function F(z){g.push(z)}function ee(z){F(z>>8&255),F(255&z)}function se(z,Z,X,Q,ne){for(var ce,ie=ne[0],pe=ne[240],ae=(function(qe,ft){var ke,lt,Ve,Ke,yt,Mt,Gt,qt,At,Dt,Nt=0;for(At=0;At<8;++At){ke=qe[Nt],lt=qe[Nt+1],Ve=qe[Nt+2],Ke=qe[Nt+3],yt=qe[Nt+4],Mt=qe[Nt+5],Gt=qe[Nt+6];var $r=ke+(qt=qe[Nt+7]),Or=ke-qt,Ht=lt+Gt,bt=lt-Gt,an=Ve+Mt,er=Ve-Mt,$e=Ke+yt,nt=Ke-yt,sr=$r+$e,dr=$r-$e,Rr=Ht+an,Jt=Ht-an;qe[Nt]=sr+Rr,qe[Nt+4]=sr-Rr;var _t=.707106781*(Jt+dr);qe[Nt+2]=dr+_t,qe[Nt+6]=dr-_t;var Lr=.382683433*((sr=nt+er)-(Jt=bt+Or)),Ze=.5411961*sr+Lr,Ae=1.306562965*Jt+Lr,wt=.707106781*(Rr=er+bt),He=Or+wt,jt=Or-wt;qe[Nt+5]=jt+Ze,qe[Nt+3]=jt-Ze,qe[Nt+1]=He+Ae,qe[Nt+7]=He-Ae,Nt+=8}for(Nt=0,At=0;At<8;++At){ke=qe[Nt],lt=qe[Nt+8],Ve=qe[Nt+16],Ke=qe[Nt+24],yt=qe[Nt+32],Mt=qe[Nt+40],Gt=qe[Nt+48];var fr=ke+(qt=qe[Nt+56]),on=ke-qt,En=lt+Gt,pn=lt-Gt,Dr=Ve+Mt,fs=Ve-Mt,Rl=Ke+yt,hc=Ke-yt,Ji=fr+Rl,Lo=fr-Rl,xa=En+Dr,Qi=En-Dr;qe[Nt]=Ji+xa,qe[Nt+32]=Ji-xa;var ga=.707106781*(Qi+Lo);qe[Nt+16]=Lo+ga,qe[Nt+48]=Lo-ga;var td=.382683433*((Ji=hc+fs)-(Qi=pn+on)),za=.5411961*Ji+td,Fo=1.306562965*Qi+td,Ll=.707106781*(xa=fs+pn),ll=on+Ll,fc=on-Ll;qe[Nt+40]=fc+za,qe[Nt+24]=fc-za,qe[Nt+8]=ll+Fo,qe[Nt+56]=ll-Fo,Nt++}for(At=0;At<64;++At)Dt=qe[At]*ft[At],m[At]=Dt>0?Dt+.5|0:Dt-.5|0;return m})(z,Z),be=0;be<64;++be)y[A[be]]=ae[be];var we=y[0]-X;X=y[0],we==0?L(Q[0]):(L(Q[f[ce=32767+we]]),L(h[ce]));for(var Ie=63;Ie>0&&y[Ie]==0;)Ie--;if(Ie==0)return L(ie),X;for(var Ee,H=1;H<=Ie;){for(var Le=H;y[H]==0&&H<=Ie;)++H;var Ye=H-Le;if(Ye>=16){Ee=Ye>>4;for(var xt=1;xt<=Ee;++xt)L(pe);Ye&=15}ce=32767+y[H],L(ne[(Ye<<4)+f[ce]]),L(h[ce]),H++}return Ie!=63&&L(ie),X}function q(z){z=Math.min(Math.max(z,1),100),i!=z&&((function(Z){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var ne=o((X[Q]*Z+50)/100);ne=Math.min(Math.max(ne,1),255),l[A[Q]]=ne}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ie=0;ie<64;ie++){var pe=o((ce[ie]*Z+50)/100);pe=Math.min(Math.max(pe,1),255),c[A[ie]]=pe}for(var ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],be=0,we=0;we<8;we++)for(var Ie=0;Ie<8;Ie++)d[be]=1/(l[A[be]]*ae[we]*ae[Ie]*8),u[be]=1/(c[A[be]]*ae[we]*ae[Ie]*8),be++})(z<50?Math.floor(5e3/z):Math.floor(200-2*z)),i=z)}this.encode=function(z,Z){Z&&q(Z),g=new Array,v=0,b=7,ee(65496),ee(65504),ee(16),F(74),F(70),F(73),F(70),F(0),F(1),F(1),F(0),ee(1),ee(1),F(0),F(0),(function(){ee(65499),ee(132),F(0);for(var lt=0;lt<64;lt++)F(l[lt]);F(1);for(var Ve=0;Ve<64;Ve++)F(c[Ve])})(),(function(lt,Ve){ee(65472),ee(17),F(8),ee(Ve),ee(lt),F(3),F(1),F(17),F(0),F(2),F(17),F(1),F(3),F(17),F(1)})(z.width,z.height),(function(){ee(65476),ee(418),F(0);for(var lt=0;lt<16;lt++)F(I[lt+1]);for(var Ve=0;Ve<=11;Ve++)F($[Ve]);F(16);for(var Ke=0;Ke<16;Ke++)F(O[Ke+1]);for(var yt=0;yt<=161;yt++)F(P[yt]);F(1);for(var Mt=0;Mt<16;Mt++)F(M[Mt+1]);for(var Gt=0;Gt<=11;Gt++)F(R[Gt]);F(17);for(var qt=0;qt<16;qt++)F(W[qt+1]);for(var At=0;At<=161;At++)F(Y[At])})(),ee(65498),ee(12),F(3),F(1),F(0),F(2),F(17),F(3),F(17),F(0),F(63),F(0);var X=0,Q=0,ne=0;v=0,b=7,this.encode.displayName="_encode_";for(var ce,ie,pe,ae,be,we,Ie,Ee,H,Le=z.data,Ye=z.width,xt=z.height,qe=4*Ye,ft=0;ft<xt;){for(ce=0;ce<qe;){for(be=qe*ft+ce,Ie=-1,Ee=0,H=0;H<64;H++)we=be+(Ee=H>>3)*qe+(Ie=4*(7&H)),ft+Ee>=xt&&(we-=qe*(ft+1+Ee-xt)),ce+Ie>=qe&&(we-=ce+Ie-qe+4),ie=Le[we++],pe=Le[we++],ae=Le[we++],w[H]=(E[ie]+E[pe+256|0]+E[ae+512|0]>>16)-128,N[H]=(E[ie+768|0]+E[pe+1024|0]+E[ae+1280|0]>>16)-128,_[H]=(E[ie+1280|0]+E[pe+1536|0]+E[ae+1792|0]>>16)-128;X=se(w,d,X,e,s),Q=se(N,u,Q,r,a),ne=se(_,u,ne,r,a),ce+=32}ft+=8}if(b>=0){var ke=[];ke[1]=b+1,ke[0]=(1<<b+1)-1,L(ke)}return ee(65497),new Uint8Array(g)},t=t||50,(function(){for(var z=String.fromCharCode,Z=0;Z<256;Z++)C[Z]=z(Z)})(),e=K(I,$),r=K(M,R),s=K(O,P),a=K(W,Y),(function(){for(var z=1,Z=2,X=1;X<=15;X++){for(var Q=z;Q<Z;Q++)f[32767+Q]=X,h[32767+Q]=[],h[32767+Q][1]=X,h[32767+Q][0]=Q;for(var ne=-(Z-1);ne<=-z;ne++)f[32767+ne]=X,h[32767+ne]=[],h[32767+ne][1]=X,h[32767+ne][0]=Z-1+ne;z<<=1,Z<<=1}})(),(function(){for(var z=0;z<256;z++)E[z]=19595*z,E[z+256|0]=38470*z,E[z+512|0]=7471*z+32768,E[z+768|0]=-11059*z,E[z+1024|0]=-21709*z,E[z+1280|0]=32768*z+8421375,E[z+1536|0]=-27439*z,E[z+1792|0]=-5329*z})(),q(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function jd(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function tV(t){function e($){if(!$)throw Error("assert :P")}function r($,O,P){for(var M=0;4>M;M++)if($[O+M]!=P.charCodeAt(M))return!0;return!1}function s($,O,P,M,R){for(var W=0;W<R;W++)$[O+W]=P[M+W]}function a($,O,P,M){for(var R=0;R<M;R++)$[O+R]=P}function i($){return new Int32Array($)}function o($,O){for(var P=[],M=0;M<$;M++)P.push(new O);return P}function l($,O){var P=[];return(function M(R,W,Y){for(var K=Y[W],L=0;L<K&&(R.push(Y.length>W+1?[]:new O),!(Y.length<W+1));L++)M(R[L],W+1,Y)})(P,0,$),P}var c=function(){var $=this;function O(k,D){for(var V=1<<D-1>>>0;k&V;)V>>>=1;return V?(k&V-1)+V:k}function P(k,D,V,te,oe){e(!(te%V));do k[D+(te-=V)]=oe;while(0<te)}function M(k,D,V,te,oe){if(e(2328>=oe),512>=oe)var ue=i(512);else if((ue=i(oe))==null)return 0;return(function(he,xe,ye,je,Me,Xe){var Se,Be,Ge=xe,ut=1<<ye,Qe=i(16),ct=i(16);for(e(Me!=0),e(je!=null),e(he!=null),e(0<ye),Be=0;Be<Me;++Be){if(15<je[Be])return 0;++Qe[je[Be]]}if(Qe[0]==Me)return 0;for(ct[1]=0,Se=1;15>Se;++Se){if(Qe[Se]>1<<Se)return 0;ct[Se+1]=ct[Se]+Qe[Se]}for(Be=0;Be<Me;++Be)Se=je[Be],0<je[Be]&&(Xe[ct[Se]++]=Be);if(ct[15]==1)return(je=new R).g=0,je.value=Xe[0],P(he,Ge,1,ut,je),ut;var dt,gt=-1,vt=ut-1,kr=0,ar=1,cn=1,pr=1<<ye;for(Be=0,Se=1,Me=2;Se<=ye;++Se,Me<<=1){if(ar+=cn<<=1,0>(cn-=Qe[Se]))return 0;for(;0<Qe[Se];--Qe[Se])(je=new R).g=Se,je.value=Xe[Be++],P(he,Ge+kr,Me,pr,je),kr=O(kr,Se)}for(Se=ye+1,Me=2;15>=Se;++Se,Me<<=1){if(ar+=cn<<=1,0>(cn-=Qe[Se]))return 0;for(;0<Qe[Se];--Qe[Se]){if(je=new R,(kr&vt)!=gt){for(Ge+=pr,dt=1<<(gt=Se)-ye;15>gt&&!(0>=(dt-=Qe[gt]));)++gt,dt<<=1;ut+=pr=1<<(dt=gt-ye),he[xe+(gt=kr&vt)].g=dt+ye,he[xe+gt].value=Ge-xe-gt}je.g=Se-ye,je.value=Xe[Be++],P(he,Ge+(kr>>ye),Me,pr,je),kr=O(kr,Se)}}return ar!=2*ct[15]-1?0:ut})(k,D,V,te,oe,ue)}function R(){this.value=this.g=0}function W(){this.value=this.g=0}function Y(){this.G=o(5,R),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(xl,W)}function K(k,D,V,te){e(k!=null),e(D!=null),e(2147483648>te),k.Ca=254,k.I=0,k.b=-8,k.Ka=0,k.oa=D,k.pa=V,k.Jd=D,k.Yc=V+te,k.Zc=4<=te?V+te-4+1:V,ie(k)}function L(k,D){for(var V=0;0<D--;)V|=ae(k,128)<<D;return V}function F(k,D){var V=L(k,D);return pe(k)?-V:V}function ee(k,D,V,te){var oe,ue=0;for(e(k!=null),e(D!=null),e(4294967288>te),k.Sb=te,k.Ra=0,k.u=0,k.h=0,4<te&&(te=4),oe=0;oe<te;++oe)ue+=D[V+oe]<<8*oe;k.Ra=ue,k.bb=te,k.oa=D,k.pa=V}function se(k){for(;8<=k.u&&k.bb<k.Sb;)k.Ra>>>=8,k.Ra+=k.oa[k.pa+k.bb]<<su-8>>>0,++k.bb,k.u-=8;Q(k)&&(k.h=1,k.u=0)}function q(k,D){if(e(0<=D),!k.h&&D<=Wo){var V=X(k)&Vo[D];return k.u+=D,se(k),V}return k.h=1,k.u=0}function z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(k){return k.Ra>>>(k.u&su-1)>>>0}function Q(k){return e(k.bb<=k.Sb),k.h||k.bb==k.Sb&&k.u>su}function ne(k,D){k.u=D,k.h=Q(k)}function ce(k){k.u>=Nc&&(e(k.u>=Nc),se(k))}function ie(k){e(k!=null&&k.oa!=null),k.pa<k.Zc?(k.I=(k.oa[k.pa++]|k.I<<8)>>>0,k.b+=8):(e(k!=null&&k.oa!=null),k.pa<k.Yc?(k.b+=8,k.I=k.oa[k.pa++]|k.I<<8):k.Ka?k.b=0:(k.I<<=8,k.b+=8,k.Ka=1))}function pe(k){return L(k,1)}function ae(k,D){var V=k.Ca;0>k.b&&ie(k);var te=k.b,oe=V*D>>>8,ue=(k.I>>>te>oe)+0;for(ue?(V-=oe,k.I-=oe+1<<te>>>0):V=oe+1,te=V,oe=0;256<=te;)oe+=8,te>>=8;return te=7^oe+ld[te],k.b-=te,k.Ca=(V<<te)-1,ue}function be(k,D,V){k[D+0]=V>>24&255,k[D+1]=V>>16&255,k[D+2]=V>>8&255,k[D+3]=255&V}function we(k,D){return k[D+0]|k[D+1]<<8}function Ie(k,D){return we(k,D)|k[D+2]<<16}function Ee(k,D){return we(k,D)|we(k,D+2)<<16}function H(k,D){var V=1<<D;return e(k!=null),e(0<D),k.X=i(V),k.X==null?0:(k.Mb=32-D,k.Xa=D,1)}function Le(k,D){e(k!=null),e(D!=null),e(k.Xa==D.Xa),s(D.X,0,k.X,0,1<<D.Xa)}function Ye(){this.X=[],this.Xa=this.Mb=0}function xt(k,D,V,te){e(V!=null),e(te!=null);var oe=V[0],ue=te[0];return oe==0&&(oe=(k*ue+D/2)/D),ue==0&&(ue=(D*oe+k/2)/k),0>=oe||0>=ue?0:(V[0]=oe,te[0]=ue,1)}function qe(k,D){return k+(1<<D)-1>>>D}function ft(k,D){return((4278255360&k)+(4278255360&D)>>>0&4278255360)+((16711935&k)+(16711935&D)>>>0&16711935)>>>0}function ke(k,D){$[D]=function(V,te,oe,ue,he,xe,ye){var je;for(je=0;je<he;++je){var Me=$[k](xe[ye+je-1],oe,ue+je);xe[ye+je]=ft(V[te+je],Me)}}}function lt(){this.ud=this.hd=this.jd=0}function Ve(k,D){return((4278124286&(k^D))>>>1)+(k&D)>>>0}function Ke(k){return 0<=k&&256>k?k:0>k?0:255<k?255:void 0}function yt(k,D){return Ke(k+(k-D+.5>>1))}function Mt(k,D,V){return Math.abs(D-V)-Math.abs(k-V)}function Gt(k,D,V,te,oe,ue,he){for(te=ue[he-1],V=0;V<oe;++V)ue[he+V]=te=ft(k[D+V],te)}function qt(k,D,V,te,oe){var ue;for(ue=0;ue<V;++ue){var he=k[D+ue],xe=he>>8&255,ye=16711935&(ye=(ye=16711935&he)+((xe<<16)+xe));te[oe+ue]=(4278255360&he)+ye>>>0}}function At(k,D){D.jd=255&k,D.hd=k>>8&255,D.ud=k>>16&255}function Dt(k,D,V,te,oe,ue){var he;for(he=0;he<te;++he){var xe=D[V+he],ye=xe>>>8,je=xe,Me=255&(Me=(Me=xe>>>16)+((k.jd<<24>>24)*(ye<<24>>24)>>>5));je=255&(je=(je+=(k.hd<<24>>24)*(ye<<24>>24)>>>5)+((k.ud<<24>>24)*(Me<<24>>24)>>>5)),oe[ue+he]=(4278255360&xe)+(Me<<16)+je}}function Nt(k,D,V,te,oe){$[D]=function(ue,he,xe,ye,je,Me,Xe,Se,Be){for(ye=Xe;ye<Se;++ye)for(Xe=0;Xe<Be;++Xe)je[Me++]=oe(xe[te(ue[he++])])},$[k]=function(ue,he,xe,ye,je,Me,Xe){var Se=8>>ue.b,Be=ue.Ea,Ge=ue.K[0],ut=ue.w;if(8>Se)for(ue=(1<<ue.b)-1,ut=(1<<Se)-1;he<xe;++he){var Qe,ct=0;for(Qe=0;Qe<Be;++Qe)Qe&ue||(ct=te(ye[je++])),Me[Xe++]=oe(Ge[ct&ut]),ct>>=Se}else $["VP8LMapColor"+V](ye,je,Ge,ut,Me,Xe,he,xe,Be)}}function $r(k,D,V,te,oe){for(V=D+V;D<V;){var ue=k[D++];te[oe++]=ue>>16&255,te[oe++]=ue>>8&255,te[oe++]=255&ue}}function Or(k,D,V,te,oe){for(V=D+V;D<V;){var ue=k[D++];te[oe++]=ue>>16&255,te[oe++]=ue>>8&255,te[oe++]=255&ue,te[oe++]=ue>>24&255}}function Ht(k,D,V,te,oe){for(V=D+V;D<V;){var ue=(he=k[D++])>>16&240|he>>12&15,he=240&he|he>>28&15;te[oe++]=ue,te[oe++]=he}}function bt(k,D,V,te,oe){for(V=D+V;D<V;){var ue=(he=k[D++])>>16&248|he>>13&7,he=he>>5&224|he>>3&31;te[oe++]=ue,te[oe++]=he}}function an(k,D,V,te,oe){for(V=D+V;D<V;){var ue=k[D++];te[oe++]=255&ue,te[oe++]=ue>>8&255,te[oe++]=ue>>16&255}}function er(k,D,V,te,oe,ue){if(ue==0)for(V=D+V;D<V;)be(te,((ue=k[D++])[0]>>24|ue[1]>>8&65280|ue[2]<<8&16711680|ue[3]<<24)>>>0),oe+=32;else s(te,oe,k,D,V)}function $e(k,D){$[D][0]=$[k+"0"],$[D][1]=$[k+"1"],$[D][2]=$[k+"2"],$[D][3]=$[k+"3"],$[D][4]=$[k+"4"],$[D][5]=$[k+"5"],$[D][6]=$[k+"6"],$[D][7]=$[k+"7"],$[D][8]=$[k+"8"],$[D][9]=$[k+"9"],$[D][10]=$[k+"10"],$[D][11]=$[k+"11"],$[D][12]=$[k+"12"],$[D][13]=$[k+"13"],$[D][14]=$[k+"0"],$[D][15]=$[k+"0"]}function nt(k){return k==vf||k==mh||k==Lm||k==Fm}function sr(){this.eb=[],this.size=this.A=this.fb=0}function dr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new sr,this.f.kb=new dr,this.sd=null}function Jt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function _t(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Lr(k){return alert("todo:WebPSamplerProcessPlane"),k.T}function Ze(k,D){var V=k.T,te=D.ba.f.RGBA,oe=te.eb,ue=te.fb+k.ka*te.A,he=vo[D.ba.S],xe=k.y,ye=k.O,je=k.f,Me=k.N,Xe=k.ea,Se=k.W,Be=D.cc,Ge=D.dc,ut=D.Mc,Qe=D.Nc,ct=k.ka,dt=k.ka+k.T,gt=k.U,vt=gt+1>>1;for(ct==0?he(xe,ye,null,null,je,Me,Xe,Se,je,Me,Xe,Se,oe,ue,null,null,gt):(he(D.ec,D.fc,xe,ye,Be,Ge,ut,Qe,je,Me,Xe,Se,oe,ue-te.A,oe,ue,gt),++V);ct+2<dt;ct+=2)Be=je,Ge=Me,ut=Xe,Qe=Se,Me+=k.Rc,Se+=k.Rc,ue+=2*te.A,he(xe,(ye+=2*k.fa)-k.fa,xe,ye,Be,Ge,ut,Qe,je,Me,Xe,Se,oe,ue-te.A,oe,ue,gt);return ye+=k.fa,k.j+dt<k.o?(s(D.ec,D.fc,xe,ye,gt),s(D.cc,D.dc,je,Me,vt),s(D.Mc,D.Nc,Xe,Se,vt),V--):1&dt||he(xe,ye,null,null,je,Me,Xe,Se,je,Me,Xe,Se,oe,ue+te.A,null,null,gt),V}function Ae(k,D,V){var te=k.F,oe=[k.J];if(te!=null){var ue=k.U,he=D.ba.S,xe=he==Rm||he==Lm;D=D.ba.f.RGBA;var ye=[0],je=k.ka;ye[0]=k.T,k.Kb&&(je==0?--ye[0]:(--je,oe[0]-=k.width),k.j+k.ka+k.T==k.o&&(ye[0]=k.o-k.j-je));var Me=D.eb;je=D.fb+je*D.A,k=Dm(te,oe[0],k.width,ue,ye,Me,je+(xe?0:3),D.A),e(V==ye),k&&nt(he)&&fh(Me,je,xe,ue,ye,D.A)}return 0}function wt(k){var D=k.ma,V=D.ba.S,te=11>V,oe=V==lu||V==Mm||V==Rm||V==ms||V==12||nt(V);if(D.memory=null,D.Ib=null,D.Jb=null,D.Nd=null,!uf(D.Oa,k,oe?11:12))return 0;if(oe&&nt(V)&&_0(),k.da)alert("todo:use_scaling");else{if(te){if(D.Ib=Lr,k.Kb){if(V=k.U+1>>1,D.memory=i(k.U+2*V),D.memory==null)return 0;D.ec=D.memory,D.fc=0,D.cc=D.ec,D.dc=D.fc+k.U,D.Mc=D.cc,D.Nc=D.dc+V,D.Ib=Ze,_0()}}else alert("todo:EmitYUV");oe&&(D.Jb=Ae,te&&pl())}if(te&&!mi){for(k=0;256>k;++k)yo[k]=89858*(k-128)+Hl>>hd,bo[k]=-22014*(k-128)+Hl,jf[k]=-45773*(k-128),vh[k]=113618*(k-128)+Hl>>hd;for(k=Qn;k<as;++k)D=76283*(k-16)+Hl>>hd,I0[k-Qn]=ra(D,255),Tb[k-Qn]=ra(D+8>>4,15);mi=1}return 1}function He(k){var D=k.ma,V=k.U,te=k.T;return e(!(1&k.ka)),0>=V||0>=te?0:(V=D.Ib(k,D),D.Jb!=null&&D.Jb(k,D,V),D.Dc+=V,1)}function jt(k){k.ma.memory=null}function fr(k,D,V,te){return q(k,8)!=47?0:(D[0]=q(k,14)+1,V[0]=q(k,14)+1,te[0]=q(k,1),q(k,3)!=0?0:!k.h)}function on(k,D){if(4>k)return k+1;var V=k-2>>1;return(2+(1&k)<<V)+q(D,V)+1}function En(k,D){return 120<D?D-120:1<=(V=((V=U5[D-1])>>4)*k+(8-(15&V)))?V:1;var V}function pn(k,D,V){var te=X(V),oe=k[D+=255&te].g-8;return 0<oe&&(ne(V,V.u+8),te=X(V),D+=k[D].value,D+=te&(1<<oe)-1),ne(V,V.u+k[D].g),k[D].value}function Dr(k,D,V){return V.g+=k.g,V.value+=k.value<<D>>>0,e(8>=V.g),k.g}function fs(k,D,V){var te=k.xc;return e((D=te==0?0:k.vc[k.md*(V>>te)+(D>>te)])<k.Wb),k.Ya[D]}function Rl(k,D,V,te){var oe=k.ab,ue=k.c*D,he=k.C;D=he+D;var xe=V,ye=te;for(te=k.Ta,V=k.Ua;0<oe--;){var je=k.gc[oe],Me=he,Xe=D,Se=xe,Be=ye,Ge=(ye=te,xe=V,je.Ea);switch(e(Me<Xe),e(Xe<=je.nc),je.hc){case 2:ya(Se,Be,(Xe-Me)*Ge,ye,xe);break;case 0:var ut=Me,Qe=Xe,ct=ye,dt=xe,gt=(pr=je).Ea;ut==0&&(cd(Se,Be,null,null,1,ct,dt),Gt(Se,Be+1,0,0,gt-1,ct,dt+1),Be+=gt,dt+=gt,++ut);for(var vt=1<<pr.b,kr=vt-1,ar=qe(gt,pr.b),cn=pr.K,pr=pr.w+(ut>>pr.b)*ar;ut<Qe;){var _n=cn,aa=pr,un=1;for(Sc(Se,Be,ct,dt-gt,1,ct,dt);un<gt;){var ir=(un&~kr)+vt;ir>gt&&(ir=gt),(0,ch[_n[aa++]>>8&15])(Se,Be+ +un,ct,dt+un-gt,ir-un,ct,dt+un),un=ir}Be+=gt,dt+=gt,++ut&kr||(pr+=ar)}Xe!=je.nc&&s(ye,xe-Ge,ye,xe+(Xe-Me-1)*Ge,Ge);break;case 1:for(Ge=Se,Qe=Be,gt=(Se=je.Ea)-(dt=Se&~(ct=(Be=1<<je.b)-1)),ut=qe(Se,je.b),vt=je.K,je=je.w+(Me>>je.b)*ut;Me<Xe;){for(kr=vt,ar=je,cn=new lt,pr=Qe+dt,_n=Qe+Se;Qe<pr;)At(kr[ar++],cn),ff(cn,Ge,Qe,Be,ye,xe),Qe+=Be,xe+=Be;Qe<_n&&(At(kr[ar++],cn),ff(cn,Ge,Qe,gt,ye,xe),Qe+=gt,xe+=gt),++Me&ct||(je+=ut)}break;case 3:if(Se==ye&&Be==xe&&0<je.b){for(Qe=ye,Se=Ge=xe+(Xe-Me)*Ge-(dt=(Xe-Me)*qe(je.Ea,je.b)),Be=ye,ct=xe,ut=[],dt=(gt=dt)-1;0<=dt;--dt)ut[dt]=Be[ct+dt];for(dt=gt-1;0<=dt;--dt)Qe[Se+dt]=ut[dt];oh(je,Me,Xe,ye,Ge,ye,xe)}else oh(je,Me,Xe,Se,Be,ye,xe)}xe=te,ye=V}ye!=V&&s(te,V,xe,ye,ue)}function hc(k,D){var V=k.V,te=k.Ba+k.c*k.C,oe=D-k.C;if(e(D<=k.l.o),e(16>=oe),0<oe){var ue=k.l,he=k.Ta,xe=k.Ua,ye=ue.width;if(Rl(k,oe,V,te),oe=xe=[xe],e((V=k.C)<(te=D)),e(ue.v<ue.va),te>ue.o&&(te=ue.o),V<ue.j){var je=ue.j-V;V=ue.j,oe[0]+=je*ye}if(V>=te?V=0:(oe[0]+=4*ue.v,ue.ka=V-ue.j,ue.U=ue.va-ue.v,ue.T=te-V,V=1),V){if(xe=xe[0],11>(V=k.ca).S){var Me=V.f.RGBA,Xe=(te=V.S,oe=ue.U,ue=ue.T,je=Me.eb,Me.A),Se=ue;for(Me=Me.fb+k.Ma*Me.A;0<Se--;){var Be=he,Ge=xe,ut=oe,Qe=je,ct=Me;switch(te){case E0:mf(Be,Ge,ut,Qe,ct);break;case lu:dd(Be,Ge,ut,Qe,ct);break;case vf:dd(Be,Ge,ut,Qe,ct),fh(Qe,ct,0,ut,1,0);break;case Cb:dh(Be,Ge,ut,Qe,ct);break;case Mm:er(Be,Ge,ut,Qe,ct,1);break;case mh:er(Be,Ge,ut,Qe,ct,1),fh(Qe,ct,0,ut,1,0);break;case Rm:er(Be,Ge,ut,Qe,ct,0);break;case Lm:er(Be,Ge,ut,Qe,ct,0),fh(Qe,ct,1,ut,1,0);break;case ms:au(Be,Ge,ut,Qe,ct);break;case Fm:au(Be,Ge,ut,Qe,ct),rv(Qe,ct,ut,1,0);break;case P0:iu(Be,Ge,ut,Qe,ct);break;default:e(0)}xe+=ye,Me+=Xe}k.Ma+=ue}else alert("todo:EmitRescaledRowsYUVA");e(k.Ma<=V.height)}}k.C=D,e(k.C<=k.i)}function Ji(k){var D;if(0<k.ua)return 0;for(D=0;D<k.Wb;++D){var V=k.Ya[D].G,te=k.Ya[D].H;if(0<V[1][te[1]+0].g||0<V[2][te[2]+0].g||0<V[3][te[3]+0].g)return 0}return 1}function Lo(k,D,V,te,oe,ue){if(k.Z!=0){var he=k.qd,xe=k.rd;for(e(Mi[k.Z]!=null);D<V;++D)Mi[k.Z](he,xe,te,oe,te,oe,ue),he=te,xe=oe,oe+=ue;k.qd=he,k.rd=xe}}function xa(k,D){var V=k.l.ma,te=V.Z==0||V.Z==1?k.l.j:k.C;if(te=k.C<te?te:k.C,e(D<=k.l.o),D>te){var oe=k.l.width,ue=V.ca,he=V.tb+oe*te,xe=k.V,ye=k.Ba+k.c*te,je=k.gc;e(k.ab==1),e(je[0].hc==3),Vl(je[0],te,D,xe,ye,ue,he),Lo(V,te,D,ue,he,oe)}k.C=k.Ma=D}function Qi(k,D,V,te,oe,ue,he){var xe=k.$/te,ye=k.$%te,je=k.m,Me=k.s,Xe=V+k.$,Se=Xe;oe=V+te*oe;var Be=V+te*ue,Ge=280+Me.ua,ut=k.Pb?xe:16777216,Qe=0<Me.ua?Me.Wa:null,ct=Me.wc,dt=Xe<Be?fs(Me,ye,xe):null;e(k.C<ue),e(Be<=oe);var gt=!1;e:for(;;){for(;gt||Xe<Be;){var vt=0;if(xe>=ut){var kr=Xe-V;e((ut=k).Pb),ut.wd=ut.m,ut.xd=kr,0<ut.s.ua&&Le(ut.s.Wa,ut.s.vb),ut=xe+O0}if(ye&ct||(dt=fs(Me,ye,xe)),e(dt!=null),dt.Qb&&(D[Xe]=dt.qb,gt=!0),!gt)if(ce(je),dt.jc){vt=je,kr=D;var ar=Xe,cn=dt.pd[X(vt)&xl-1];e(dt.jc),256>cn.g?(ne(vt,vt.u+cn.g),kr[ar]=cn.value,vt=0):(ne(vt,vt.u+cn.g-256),e(256<=cn.value),vt=cn.value),vt==0&&(gt=!0)}else vt=pn(dt.G[0],dt.H[0],je);if(je.h)break;if(gt||256>vt){if(!gt)if(dt.nd)D[Xe]=(dt.qb|vt<<8)>>>0;else{if(ce(je),gt=pn(dt.G[1],dt.H[1],je),ce(je),kr=pn(dt.G[2],dt.H[2],je),ar=pn(dt.G[3],dt.H[3],je),je.h)break;D[Xe]=(ar<<24|gt<<16|vt<<8|kr)>>>0}if(gt=!1,++Xe,++ye>=te&&(ye=0,++xe,he!=null&&xe<=ue&&!(xe%16)&&he(k,xe),Qe!=null))for(;Se<Xe;)vt=D[Se++],Qe.X[(506832829*vt&4294967295)>>>Qe.Mb]=vt}else if(280>vt){if(vt=on(vt-256,je),kr=pn(dt.G[4],dt.H[4],je),ce(je),kr=En(te,kr=on(kr,je)),je.h)break;if(Xe-V<kr||oe-Xe<vt)break e;for(ar=0;ar<vt;++ar)D[Xe+ar]=D[Xe+ar-kr];for(Xe+=vt,ye+=vt;ye>=te;)ye-=te,++xe,he!=null&&xe<=ue&&!(xe%16)&&he(k,xe);if(e(Xe<=oe),ye&ct&&(dt=fs(Me,ye,xe)),Qe!=null)for(;Se<Xe;)vt=D[Se++],Qe.X[(506832829*vt&4294967295)>>>Qe.Mb]=vt}else{if(!(vt<Ge))break e;for(gt=vt-280,e(Qe!=null);Se<Xe;)vt=D[Se++],Qe.X[(506832829*vt&4294967295)>>>Qe.Mb]=vt;vt=Xe,e(!(gt>>>(kr=Qe).Xa)),D[vt]=kr.X[gt],gt=!0}gt||e(je.h==Q(je))}if(k.Pb&&je.h&&Xe<oe)e(k.m.h),k.a=5,k.m=k.wd,k.$=k.xd,0<k.s.ua&&Le(k.s.vb,k.s.Wa);else{if(je.h)break e;he?.(k,xe>ue?ue:xe),k.a=0,k.$=Xe-V}return 1}return k.a=3,0}function ga(k){e(k!=null),k.vc=null,k.yc=null,k.Ya=null;var D=k.Wa;D!=null&&(D.X=null),k.vb=null,e(k!=null)}function td(){var k=new Cr;return k==null?null:(k.a=0,k.xb=bf,$e("Predictor","VP8LPredictors"),$e("Predictor","VP8LPredictors_C"),$e("PredictorAdd","VP8LPredictorsAdd"),$e("PredictorAdd","VP8LPredictorsAdd_C"),ya=qt,ff=Dt,mf=$r,dd=Or,au=Ht,iu=bt,dh=an,$.VP8LMapColor32b=_c,$.VP8LMapColor8b=lh,k)}function za(k,D,V,te,oe){var ue=1,he=[k],xe=[D],ye=te.m,je=te.s,Me=null,Xe=0;e:for(;;){if(V)for(;ue&&q(ye,1);){var Se=he,Be=xe,Ge=te,ut=1,Qe=Ge.m,ct=Ge.gc[Ge.ab],dt=q(Qe,2);if(Ge.Oc&1<<dt)ue=0;else{switch(Ge.Oc|=1<<dt,ct.hc=dt,ct.Ea=Se[0],ct.nc=Be[0],ct.K=[null],++Ge.ab,e(4>=Ge.ab),dt){case 0:case 1:ct.b=q(Qe,3)+2,ut=za(qe(ct.Ea,ct.b),qe(ct.nc,ct.b),0,Ge,ct.K),ct.K=ct.K[0];break;case 3:var gt,vt=q(Qe,8)+1,kr=16<vt?0:4<vt?1:2<vt?2:3;if(Se[0]=qe(ct.Ea,kr),ct.b=kr,gt=ut=za(vt,1,0,Ge,ct.K)){var ar,cn=vt,pr=ct,_n=1<<(8>>pr.b),aa=i(_n);if(aa==null)gt=0;else{var un=pr.K[0],ir=pr.w;for(aa[0]=pr.K[0][0],ar=1;ar<1*cn;++ar)aa[ar]=ft(un[ir+ar],aa[ar-1]);for(;ar<4*_n;++ar)aa[ar]=0;pr.K[0]=null,pr.K[0]=aa,gt=1}}ut=gt;break;case 2:break;default:e(0)}ue=ut}}if(he=he[0],xe=xe[0],ue&&q(ye,1)&&!(ue=1<=(Xe=q(ye,4))&&11>=Xe)){te.a=3;break e}var zt;if(zt=ue)t:{var ba,Xr,gn,Ss=te,ri=he,Oa=xe,Xs=Xe,Ha=V,ni=Ss.m,Rs=Ss.s,Pn=[null],zn=1,Ls=0,Vn=Ab[Xs];r:for(;;){if(Ha&&q(ni,1)){var ia=q(ni,3)+2,oa=qe(ri,ia),ps=qe(Oa,ia),Ri=oa*ps;if(!za(oa,ps,0,Ss,Pn))break r;for(Pn=Pn[0],Rs.xc=ia,ba=0;ba<Ri;++ba){var is=Pn[ba]>>8&65535;Pn[ba]=is,is>=zn&&(zn=is+1)}}if(ni.h)break r;for(Xr=0;5>Xr;++Xr){var xs=ph[Xr];!Xr&&0<Xs&&(xs+=1<<Xs),Ls<xs&&(Ls=xs)}var Ia=o(zn*Vn,R),pi=zn,wo=o(pi,Y);if(wo==null)var wa=null;else e(65536>=pi),wa=wo;var ja=i(Ls);if(wa==null||ja==null||Ia==null){Ss.a=1;break r}var Li=Ia;for(ba=gn=0;ba<zn;++ba){var gs=wa[ba],Fi=gs.G,yl=gs.H,ql=0,si=1,Na=0;for(Xr=0;5>Xr;++Xr){xs=ph[Xr],Fi[Xr]=Li,yl[Xr]=gn,!Xr&&0<Xs&&(xs+=1<<Xs);s:{var uu,md=xs,Nf=Ss,Ac=ja,Ib=Li,mv=gn,Ts=0,Gl=Nf.m,pv=q(Gl,1);if(a(Ac,0,0,md),pv){var xv=q(Gl,1)+1,$0=q(Gl,1),D0=q(Gl,$0==0?1:8);Ac[D0]=1,xv==2&&(Ac[D0=q(Gl,8)]=1);var Ec=1}else{var Fs=i(19),$a=q(Gl,4)+4;if(19<$a){Nf.a=3;var Sa=0;break s}for(uu=0;uu<$a;++uu)Fs[B5[uu]]=q(Gl,3);var Sf=void 0,pd=void 0,_f=Nf,q5=Fs,qa=md,M0=Ac,Wm=0,Pc=_f.m,Kl=8,Ho=o(128,R);n:for(;M(Ho,0,7,q5,19);){if(q(Pc,1)){var Hm=2+2*q(Pc,3);if((Sf=2+q(Pc,Hm))>qa)break n}else Sf=qa;for(pd=0;pd<qa&&Sf--;){ce(Pc);var R0=Ho[0+(127&X(Pc))];ne(Pc,Pc.u+R0.g);var hu=R0.value;if(16>hu)M0[pd++]=hu,hu!=0&&(Kl=hu);else{var $b=hu==16,gv=hu-16,Db=T0[gv],vv=q(Pc,Bm[gv])+Db;if(pd+vv>qa)break n;for(var Mb=$b?Kl:0;0<vv--;)M0[pd++]=Mb}}Wm=1;break n}Wm||(_f.a=3),Ec=Wm}(Ec=Ec&&!Gl.h)&&(Ts=M(Ib,mv,8,Ac,md)),Ec&&Ts!=0?Sa=Ts:(Nf.a=3,Sa=0)}if(Sa==0)break r;if(si&&kb[Xr]==1&&(si=Li[gn].g==0),ql+=Li[gn].g,gn+=Sa,3>=Xr){var Cf,L0=ja[0];for(Cf=1;Cf<xs;++Cf)ja[Cf]>L0&&(L0=ja[Cf]);Na+=L0}}if(gs.nd=si,gs.Qb=0,si&&(gs.qb=(Fi[3][yl[3]+0].value<<24|Fi[1][yl[1]+0].value<<16|Fi[2][yl[2]+0].value)>>>0,ql==0&&256>Fi[0][yl[0]+0].value&&(gs.Qb=1,gs.qb+=Fi[0][yl[0]+0].value<<8)),gs.jc=!gs.Qb&&6>Na,gs.jc){var qm,qo=gs;for(qm=0;qm<xl;++qm){var xd=qm,Yl=qo.pd[xd],bh=qo.G[0][qo.H[0]+xd];256<=bh.value?(Yl.g=bh.g+256,Yl.value=bh.value):(Yl.g=0,Yl.value=0,xd>>=Dr(bh,8,Yl),xd>>=Dr(qo.G[1][qo.H[1]+xd],16,Yl),xd>>=Dr(qo.G[2][qo.H[2]+xd],0,Yl),Dr(qo.G[3][qo.H[3]+xd],24,Yl))}}}Rs.vc=Pn,Rs.Wb=zn,Rs.Ya=wa,Rs.yc=Ia,zt=1;break t}zt=0}if(!(ue=zt)){te.a=3;break e}if(0<Xe){if(je.ua=1<<Xe,!H(je.Wa,Xe)){te.a=1,ue=0;break e}}else je.ua=0;var F0=te,B0=he,Rb=xe,U0=F0.s,z0=U0.xc;if(F0.c=B0,F0.i=Rb,U0.md=qe(B0,z0),U0.wc=z0==0?-1:(1<<z0)-1,V){te.xb=kc;break e}if((Me=i(he*xe))==null){te.a=1,ue=0;break e}ue=(ue=Qi(te,Me,0,he,xe,xe,null))&&!ye.h;break e}return ue?(oe!=null?oe[0]=Me:(e(Me==null),e(V)),te.$=0,V||ga(je)):ga(je),ue}function Fo(k,D){var V=k.c*k.i,te=V+D+16*D;return e(k.c<=D),k.V=i(te),k.V==null?(k.Ta=null,k.Ua=0,k.a=1,0):(k.Ta=k.V,k.Ua=k.Ba+V+D,1)}function Ll(k,D){var V=k.C,te=D-V,oe=k.V,ue=k.Ba+k.c*V;for(e(D<=k.l.o);0<te;){var he=16<te?16:te,xe=k.l.ma,ye=k.l.width,je=ye*he,Me=xe.ca,Xe=xe.tb+ye*V,Se=k.Ta,Be=k.Ua;Rl(k,he,oe,ue),nv(Se,Be,Me,Xe,je),Lo(xe,V,V+he,Me,Xe,ye),te-=he,oe+=he*k.c,V+=he}e(V==D),k.C=k.Ma=D}function ll(){this.ub=this.yd=this.td=this.Rb=0}function fc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Nm(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function ns(){this.Yb=(function(){var k=[];return(function D(V,te,oe){for(var ue=oe[te],he=0;he<ue&&(V.push(oe.length>te+1?[]:0),!(oe.length<te+1));he++)D(V[he],te+1,oe)})(k,0,[3,11]),k})()}function nf(){this.jb=i(3),this.Wc=l([4,8],ns),this.Xc=l([4,17],ns)}function mc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function hi(){this.ld=this.La=this.dd=this.tc=0}function pc(){this.Na=this.la=0}function Fe(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qd(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Bo(){this.uc=this.M=this.Nb=0,this.wa=Array(new hi),this.Y=0,this.ya=Array(new Qd),this.aa=0,this.l=new Sn}function Va(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ur(){this.cb=this.a=0,this.sc="",this.m=new z,this.Od=new ll,this.Kc=new fc,this.ed=new mc,this.Qa=new Nm,this.Ic=this.$c=this.Aa=0,this.D=new Bo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,z),this.ia=0,this.pb=o(4,Fe),this.Pa=new nf,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Va),this.Hd=0,this.rb=Array(new pc),this.sb=0,this.wa=Array(new hi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qd),this.L=this.aa=0,this.gd=l([4,2],hi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Sn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Sm(){var k=new Ur;return k!=null&&(k.a=0,k.sc="OK",k.cb=0,k.Xb=0,xh||(xh=jr)),k}function Oe(k,D,V){return k.a==0&&(k.a=D,k.sc=V,k.cb=0),0}function Ot(k,D,V){return 3<=V&&k[D+0]==157&&k[D+1]==1&&k[D+2]==42}function tr(k,D){if(k==null)return 0;if(k.a=0,k.sc="OK",D==null)return Oe(k,2,"null VP8Io passed to VP8GetHeaders()");var V=D.data,te=D.w,oe=D.ha;if(4>oe)return Oe(k,7,"Truncated header.");var ue=V[te+0]|V[te+1]<<8|V[te+2]<<16,he=k.Od;if(he.Rb=!(1&ue),he.td=ue>>1&7,he.yd=ue>>4&1,he.ub=ue>>5,3<he.td)return Oe(k,3,"Incorrect keyframe parameters.");if(!he.yd)return Oe(k,4,"Frame not displayable.");te+=3,oe-=3;var xe=k.Kc;if(he.Rb){if(7>oe)return Oe(k,7,"cannot parse picture header");if(!Ot(V,te,oe))return Oe(k,3,"Bad code word");xe.c=16383&(V[te+4]<<8|V[te+3]),xe.Td=V[te+4]>>6,xe.i=16383&(V[te+6]<<8|V[te+5]),xe.Ud=V[te+6]>>6,te+=7,oe-=7,k.za=xe.c+15>>4,k.Ub=xe.i+15>>4,D.width=xe.c,D.height=xe.i,D.Da=0,D.j=0,D.v=0,D.va=D.width,D.o=D.height,D.da=0,D.ib=D.width,D.hb=D.height,D.U=D.width,D.T=D.height,a((ue=k.Pa).jb,0,255,ue.jb.length),e((ue=k.Qa)!=null),ue.Cb=0,ue.Bb=0,ue.Fb=1,a(ue.Zb,0,0,ue.Zb.length),a(ue.Lb,0,0,ue.Lb)}if(he.ub>oe)return Oe(k,7,"bad partition length");K(ue=k.m,V,te,he.ub),te+=he.ub,oe-=he.ub,he.Rb&&(xe.Ld=pe(ue),xe.Kd=pe(ue)),xe=k.Qa;var ye,je=k.Pa;if(e(ue!=null),e(xe!=null),xe.Cb=pe(ue),xe.Cb){if(xe.Bb=pe(ue),pe(ue)){for(xe.Fb=pe(ue),ye=0;4>ye;++ye)xe.Zb[ye]=pe(ue)?F(ue,7):0;for(ye=0;4>ye;++ye)xe.Lb[ye]=pe(ue)?F(ue,6):0}if(xe.Bb)for(ye=0;3>ye;++ye)je.jb[ye]=pe(ue)?L(ue,8):255}else xe.Bb=0;if(ue.Ka)return Oe(k,3,"cannot parse segment header");if((xe=k.ed).zd=pe(ue),xe.Tb=L(ue,6),xe.wb=L(ue,3),xe.Pc=pe(ue),xe.Pc&&pe(ue)){for(je=0;4>je;++je)pe(ue)&&(xe.vd[je]=F(ue,6));for(je=0;4>je;++je)pe(ue)&&(xe.od[je]=F(ue,6))}if(k.L=xe.Tb==0?0:xe.zd?1:2,ue.Ka)return Oe(k,3,"cannot parse filter header");var Me=oe;if(oe=ye=te,te=ye+Me,xe=Me,k.Xb=(1<<L(k.m,2))-1,Me<3*(je=k.Xb))V=7;else{for(ye+=3*je,xe-=3*je,Me=0;Me<je;++Me){var Xe=V[oe+0]|V[oe+1]<<8|V[oe+2]<<16;Xe>xe&&(Xe=xe),K(k.Jc[+Me],V,ye,Xe),ye+=Xe,xe-=Xe,oe+=3}K(k.Jc[+je],V,ye,xe),V=ye<te?0:5}if(V!=0)return Oe(k,V,"cannot parse partitions");for(V=L(ye=k.m,7),oe=pe(ye)?F(ye,4):0,te=pe(ye)?F(ye,4):0,xe=pe(ye)?F(ye,4):0,je=pe(ye)?F(ye,4):0,ye=pe(ye)?F(ye,4):0,Me=k.Qa,Xe=0;4>Xe;++Xe){if(Me.Cb){var Se=Me.Zb[Xe];Me.Fb||(Se+=V)}else{if(0<Xe){k.pb[Xe]=k.pb[0];continue}Se=V}var Be=k.pb[Xe];Be.Sc[0]=yf[ra(Se+oe,127)],Be.Sc[1]=Um[ra(Se+0,127)],Be.Eb[0]=2*yf[ra(Se+te,127)],Be.Eb[1]=101581*Um[ra(Se+xe,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=yf[ra(Se+je,117)],Be.Qc[1]=Um[ra(Se+ye,127)],Be.lc=Se+ye}if(!he.Rb)return Oe(k,4,"Not a key frame.");for(pe(ue),he=k.Pa,V=0;4>V;++V){for(oe=0;8>oe;++oe)for(te=0;3>te;++te)for(xe=0;11>xe;++xe)je=ae(ue,V5[V][oe][te][xe])?L(ue,8):Pb[V][oe][te][xe],he.Wc[V][oe].Yb[te][xe]=je;for(oe=0;17>oe;++oe)he.Xc[V][oe]=he.Wc[V][uv[oe]]}return k.kc=pe(ue),k.kc&&(k.Bd=L(ue,8)),k.cb=1}function jr(k,D,V,te,oe,ue,he){var xe=D[oe].Yb[V];for(V=0;16>oe;++oe){if(!ae(k,xe[V+0]))return oe;for(;!ae(k,xe[V+1]);)if(xe=D[++oe].Yb[0],V=0,oe==16)return 16;var ye=D[oe+1].Yb;if(ae(k,xe[V+2])){var je=k,Me=0;if(ae(je,(Se=xe)[(Xe=V)+3]))if(ae(je,Se[Xe+6])){for(xe=0,Xe=2*(Me=ae(je,Se[Xe+8]))+(Se=ae(je,Se[Xe+9+Me])),Me=0,Se=cv[Xe];Se[xe];++xe)Me+=Me+ae(je,Se[xe]);Me+=3+(8<<Xe)}else ae(je,Se[Xe+7])?(Me=7+2*ae(je,165),Me+=ae(je,145)):Me=5+ae(je,159);else Me=ae(je,Se[Xe+4])?3+ae(je,Se[Xe+5]):2;xe=ye[2]}else Me=1,xe=ye[1];ye=he+dv[oe],0>(je=k).b&&ie(je);var Xe,Se=je.b,Be=(Xe=je.Ca>>1)-(je.I>>Se)>>31;--je.b,je.Ca+=Be,je.Ca|=1,je.I-=(Xe+1&Be)<<Se,ue[ye]=((Me^Be)-Be)*te[(0<oe)+0]}return 16}function Yr(k){var D=k.rb[k.sb-1];D.la=0,D.Na=0,a(k.zc,0,0,k.zc.length),k.ja=0}function $n(k,D,V,te,oe){oe=k[D+V+32*te]+(oe>>3),k[D+V+32*te]=-256&oe?0>oe?0:255:oe}function Oi(k,D,V,te,oe,ue){$n(k,D,0,V,te+oe),$n(k,D,1,V,te+ue),$n(k,D,2,V,te-ue),$n(k,D,3,V,te-oe)}function xn(k){return(20091*k>>16)+k}function eo(k,D,V,te){var oe,ue=0,he=i(16);for(oe=0;4>oe;++oe){var xe=k[D+0]+k[D+8],ye=k[D+0]-k[D+8],je=(35468*k[D+4]>>16)-xn(k[D+12]),Me=xn(k[D+4])+(35468*k[D+12]>>16);he[ue+0]=xe+Me,he[ue+1]=ye+je,he[ue+2]=ye-je,he[ue+3]=xe-Me,ue+=4,D++}for(oe=ue=0;4>oe;++oe)xe=(k=he[ue+0]+4)+he[ue+8],ye=k-he[ue+8],je=(35468*he[ue+4]>>16)-xn(he[ue+12]),$n(V,te,0,0,xe+(Me=xn(he[ue+4])+(35468*he[ue+12]>>16))),$n(V,te,1,0,ye+je),$n(V,te,2,0,ye-je),$n(V,te,3,0,xe-Me),ue++,te+=32}function Ii(k,D,V,te){var oe=k[D+0]+4,ue=35468*k[D+4]>>16,he=xn(k[D+4]),xe=35468*k[D+1]>>16;Oi(V,te,0,oe+he,k=xn(k[D+1]),xe),Oi(V,te,1,oe+ue,k,xe),Oi(V,te,2,oe-ue,k,xe),Oi(V,te,3,oe-he,k,xe)}function xc(k,D,V,te,oe){eo(k,D,V,te),oe&&eo(k,D+16,V,te+4)}function cl(k,D,V,te){uh(k,D+0,V,te,1),uh(k,D+32,V,te+128,1)}function gc(k,D,V,te){var oe;for(k=k[D+0]+4,oe=0;4>oe;++oe)for(D=0;4>D;++D)$n(V,te,D,oe,k)}function sf(k,D,V,te){k[D+0]&&Un(k,D+0,V,te),k[D+16]&&Un(k,D+16,V,te+4),k[D+32]&&Un(k,D+32,V,te+128),k[D+48]&&Un(k,D+48,V,te+128+4)}function Mn(k,D,V,te){var oe,ue=i(16);for(oe=0;4>oe;++oe){var he=k[D+0+oe]+k[D+12+oe],xe=k[D+4+oe]+k[D+8+oe],ye=k[D+4+oe]-k[D+8+oe],je=k[D+0+oe]-k[D+12+oe];ue[0+oe]=he+xe,ue[8+oe]=he-xe,ue[4+oe]=je+ye,ue[12+oe]=je-ye}for(oe=0;4>oe;++oe)he=(k=ue[0+4*oe]+3)+ue[3+4*oe],xe=ue[1+4*oe]+ue[2+4*oe],ye=ue[1+4*oe]-ue[2+4*oe],je=k-ue[3+4*oe],V[te+0]=he+xe>>3,V[te+16]=je+ye>>3,V[te+32]=he-xe>>3,V[te+48]=je-ye>>3,te+=64}function rd(k,D,V){var te,oe=D-32,ue=to,he=255-k[oe-1];for(te=0;te<V;++te){var xe,ye=ue,je=he+k[D-1];for(xe=0;xe<V;++xe)k[D+xe]=ye[je+k[oe+xe]];D+=32}}function af(k,D){rd(k,D,4)}function _m(k,D){rd(k,D,8)}function w0(k,D){rd(k,D,16)}function j0(k,D){var V;for(V=0;16>V;++V)s(k,D+32*V,k,D-32,16)}function of(k,D){var V;for(V=16;0<V;--V)a(k,D,k[D-1],16),D+=32}function nd(k,D,V){var te;for(te=0;16>te;++te)a(D,V+32*te,k,16)}function Fl(k,D){var V,te=16;for(V=0;16>V;++V)te+=k[D-1+32*V]+k[D+V-32];nd(te>>5,k,D)}function vc(k,D){var V,te=8;for(V=0;16>V;++V)te+=k[D-1+32*V];nd(te>>4,k,D)}function mo(k,D){var V,te=8;for(V=0;16>V;++V)te+=k[D+V-32];nd(te>>4,k,D)}function dl(k,D){nd(128,k,D)}function Hr(k,D,V){return k+2*D+V+2>>2}function Zu(k,D){var V,te=D-32;for(te=new Uint8Array([Hr(k[te-1],k[te+0],k[te+1]),Hr(k[te+0],k[te+1],k[te+2]),Hr(k[te+1],k[te+2],k[te+3]),Hr(k[te+2],k[te+3],k[te+4])]),V=0;4>V;++V)s(k,D+32*V,te,0,te.length)}function yc(k,D){var V=k[D-1],te=k[D-1+32],oe=k[D-1+64],ue=k[D-1+96];be(k,D+0,16843009*Hr(k[D-1-32],V,te)),be(k,D+32,16843009*Hr(V,te,oe)),be(k,D+64,16843009*Hr(te,oe,ue)),be(k,D+96,16843009*Hr(oe,ue,ue))}function ev(k,D){var V,te=4;for(V=0;4>V;++V)te+=k[D+V-32]+k[D-1+32*V];for(te>>=3,V=0;4>V;++V)a(k,D+32*V,te,4)}function N0(k,D){var V=k[D-1+0],te=k[D-1+32],oe=k[D-1+64],ue=k[D-1-32],he=k[D+0-32],xe=k[D+1-32],ye=k[D+2-32],je=k[D+3-32];k[D+0+96]=Hr(te,oe,k[D-1+96]),k[D+1+96]=k[D+0+64]=Hr(V,te,oe),k[D+2+96]=k[D+1+64]=k[D+0+32]=Hr(ue,V,te),k[D+3+96]=k[D+2+64]=k[D+1+32]=k[D+0+0]=Hr(he,ue,V),k[D+3+64]=k[D+2+32]=k[D+1+0]=Hr(xe,he,ue),k[D+3+32]=k[D+2+0]=Hr(ye,xe,he),k[D+3+0]=Hr(je,ye,xe)}function Uo(k,D){var V=k[D+1-32],te=k[D+2-32],oe=k[D+3-32],ue=k[D+4-32],he=k[D+5-32],xe=k[D+6-32],ye=k[D+7-32];k[D+0+0]=Hr(k[D+0-32],V,te),k[D+1+0]=k[D+0+32]=Hr(V,te,oe),k[D+2+0]=k[D+1+32]=k[D+0+64]=Hr(te,oe,ue),k[D+3+0]=k[D+2+32]=k[D+1+64]=k[D+0+96]=Hr(oe,ue,he),k[D+3+32]=k[D+2+64]=k[D+1+96]=Hr(ue,he,xe),k[D+3+64]=k[D+2+96]=Hr(he,xe,ye),k[D+3+96]=Hr(xe,ye,ye)}function sd(k,D){var V=k[D-1+0],te=k[D-1+32],oe=k[D-1+64],ue=k[D-1-32],he=k[D+0-32],xe=k[D+1-32],ye=k[D+2-32],je=k[D+3-32];k[D+0+0]=k[D+1+64]=ue+he+1>>1,k[D+1+0]=k[D+2+64]=he+xe+1>>1,k[D+2+0]=k[D+3+64]=xe+ye+1>>1,k[D+3+0]=ye+je+1>>1,k[D+0+96]=Hr(oe,te,V),k[D+0+64]=Hr(te,V,ue),k[D+0+32]=k[D+1+96]=Hr(V,ue,he),k[D+1+32]=k[D+2+96]=Hr(ue,he,xe),k[D+2+32]=k[D+3+96]=Hr(he,xe,ye),k[D+3+32]=Hr(xe,ye,je)}function S0(k,D){var V=k[D+0-32],te=k[D+1-32],oe=k[D+2-32],ue=k[D+3-32],he=k[D+4-32],xe=k[D+5-32],ye=k[D+6-32],je=k[D+7-32];k[D+0+0]=V+te+1>>1,k[D+1+0]=k[D+0+64]=te+oe+1>>1,k[D+2+0]=k[D+1+64]=oe+ue+1>>1,k[D+3+0]=k[D+2+64]=ue+he+1>>1,k[D+0+32]=Hr(V,te,oe),k[D+1+32]=k[D+0+96]=Hr(te,oe,ue),k[D+2+32]=k[D+1+96]=Hr(oe,ue,he),k[D+3+32]=k[D+2+96]=Hr(ue,he,xe),k[D+3+64]=Hr(he,xe,ye),k[D+3+96]=Hr(xe,ye,je)}function lf(k,D){var V=k[D-1+0],te=k[D-1+32],oe=k[D-1+64],ue=k[D-1+96];k[D+0+0]=V+te+1>>1,k[D+2+0]=k[D+0+32]=te+oe+1>>1,k[D+2+32]=k[D+0+64]=oe+ue+1>>1,k[D+1+0]=Hr(V,te,oe),k[D+3+0]=k[D+1+32]=Hr(te,oe,ue),k[D+3+32]=k[D+1+64]=Hr(oe,ue,ue),k[D+3+64]=k[D+2+64]=k[D+0+96]=k[D+1+96]=k[D+2+96]=k[D+3+96]=ue}function Ju(k,D){var V=k[D-1+0],te=k[D-1+32],oe=k[D-1+64],ue=k[D-1+96],he=k[D-1-32],xe=k[D+0-32],ye=k[D+1-32],je=k[D+2-32];k[D+0+0]=k[D+2+32]=V+he+1>>1,k[D+0+32]=k[D+2+64]=te+V+1>>1,k[D+0+64]=k[D+2+96]=oe+te+1>>1,k[D+0+96]=ue+oe+1>>1,k[D+3+0]=Hr(xe,ye,je),k[D+2+0]=Hr(he,xe,ye),k[D+1+0]=k[D+3+32]=Hr(V,he,xe),k[D+1+32]=k[D+3+64]=Hr(te,V,he),k[D+1+64]=k[D+3+96]=Hr(oe,te,V),k[D+1+96]=Hr(ue,oe,te)}function Cm(k,D){var V;for(V=0;8>V;++V)s(k,D+32*V,k,D-32,8)}function Bl(k,D){var V;for(V=0;8>V;++V)a(k,D,k[D-1],8),D+=32}function bc(k,D,V){var te;for(te=0;8>te;++te)a(D,V+32*te,k,8)}function Ul(k,D){var V,te=8;for(V=0;8>V;++V)te+=k[D+V-32]+k[D-1+32*V];bc(te>>4,k,D)}function cf(k,D){var V,te=4;for(V=0;8>V;++V)te+=k[D+V-32];bc(te>>3,k,D)}function km(k,D){var V,te=4;for(V=0;8>V;++V)te+=k[D-1+32*V];bc(te>>3,k,D)}function Am(k,D){bc(128,k,D)}function ad(k,D,V){var te=k[D-V],oe=k[D+0],ue=3*(oe-te)+Cc[1020+k[D-2*V]-k[D+V]],he=gf[112+(ue+4>>3)];k[D-V]=to[255+te+gf[112+(ue+3>>3)]],k[D+0]=to[255+oe-he]}function wc(k,D,V,te){var oe=k[D+0],ue=k[D+V];return gl[255+k[D-2*V]-k[D-V]]>te||gl[255+ue-oe]>te}function Qu(k,D,V,te){return 4*gl[255+k[D-V]-k[D+0]]+gl[255+k[D-2*V]-k[D+V]]<=te}function eh(k,D,V,te,oe){var ue=k[D-3*V],he=k[D-2*V],xe=k[D-V],ye=k[D+0],je=k[D+V],Me=k[D+2*V],Xe=k[D+3*V];return 4*gl[255+xe-ye]+gl[255+he-je]>te?0:gl[255+k[D-4*V]-ue]<=oe&&gl[255+ue-he]<=oe&&gl[255+he-xe]<=oe&&gl[255+Xe-Me]<=oe&&gl[255+Me-je]<=oe&&gl[255+je-ye]<=oe}function ul(k,D,V,te){var oe=2*te+1;for(te=0;16>te;++te)Qu(k,D+te,V,oe)&&ad(k,D+te,V)}function id(k,D,V,te){var oe=2*te+1;for(te=0;16>te;++te)Qu(k,D+te*V,1,oe)&&ad(k,D+te*V,1)}function th(k,D,V,te){var oe;for(oe=3;0<oe;--oe)ul(k,D+=4*V,V,te)}function Em(k,D,V,te){var oe;for(oe=3;0<oe;--oe)id(k,D+=4,V,te)}function hl(k,D,V,te,oe,ue,he,xe){for(ue=2*ue+1;0<oe--;){if(eh(k,D,V,ue,he))if(wc(k,D,V,xe))ad(k,D,V);else{var ye=k,je=D,Me=V,Xe=ye[je-2*Me],Se=ye[je-Me],Be=ye[je+0],Ge=ye[je+Me],ut=ye[je+2*Me],Qe=27*(dt=Cc[1020+3*(Be-Se)+Cc[1020+Xe-Ge]])+63>>7,ct=18*dt+63>>7,dt=9*dt+63>>7;ye[je-3*Me]=to[255+ye[je-3*Me]+dt],ye[je-2*Me]=to[255+Xe+ct],ye[je-Me]=to[255+Se+Qe],ye[je+0]=to[255+Be-Qe],ye[je+Me]=to[255+Ge-ct],ye[je+2*Me]=to[255+ut-dt]}D+=te}}function fl(k,D,V,te,oe,ue,he,xe){for(ue=2*ue+1;0<oe--;){if(eh(k,D,V,ue,he))if(wc(k,D,V,xe))ad(k,D,V);else{var ye=k,je=D,Me=V,Xe=ye[je-Me],Se=ye[je+0],Be=ye[je+Me],Ge=gf[112+(4+(ut=3*(Se-Xe))>>3)],ut=gf[112+(ut+3>>3)],Qe=Ge+1>>1;ye[je-2*Me]=to[255+ye[je-2*Me]+Qe],ye[je-Me]=to[255+Xe+ut],ye[je+0]=to[255+Se-Ge],ye[je+Me]=to[255+Be-Qe]}D+=te}}function Pm(k,D,V,te,oe,ue){hl(k,D,V,1,16,te,oe,ue)}function $i(k,D,V,te,oe,ue){hl(k,D,1,V,16,te,oe,ue)}function ml(k,D,V,te,oe,ue){var he;for(he=3;0<he;--he)fl(k,D+=4*V,V,1,16,te,oe,ue)}function df(k,D,V,te,oe,ue){var he;for(he=3;0<he;--he)fl(k,D+=4,1,V,16,te,oe,ue)}function B(k,D,V,te,oe,ue,he,xe){hl(k,D,oe,1,8,ue,he,xe),hl(V,te,oe,1,8,ue,he,xe)}function le(k,D,V,te,oe,ue,he,xe){hl(k,D,1,oe,8,ue,he,xe),hl(V,te,1,oe,8,ue,he,xe)}function _e(k,D,V,te,oe,ue,he,xe){fl(k,D+4*oe,oe,1,8,ue,he,xe),fl(V,te+4*oe,oe,1,8,ue,he,xe)}function De(k,D,V,te,oe,ue,he,xe){fl(k,D+4,1,oe,8,ue,he,xe),fl(V,te+4,1,oe,8,ue,he,xe)}function We(){this.ba=new Rr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new _t,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function mt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function St(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function mr(){this.ua=0,this.Wa=new Ye,this.vb=new Ye,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new R}function Cr(){this.xb=this.a=0,this.l=new Sn,this.ca=new Rr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Z,this.Pb=0,this.wd=new Z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new mr,this.ab=0,this.gc=o(4,St),this.Oc=0}function Jr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Sn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Qr(k,D,V,te,oe,ue,he){for(k=k==null?0:k[D+0],D=0;D<he;++D)oe[ue+D]=k+V[te+D]&255,k=oe[ue+D]}function Bn(k,D,V,te,oe,ue,he){var xe;if(k==null)Qr(null,null,V,te,oe,ue,he);else for(xe=0;xe<he;++xe)oe[ue+xe]=k[D+xe]+V[te+xe]&255}function Ys(k,D,V,te,oe,ue,he){if(k==null)Qr(null,null,V,te,oe,ue,he);else{var xe,ye=k[D+0],je=ye,Me=ye;for(xe=0;xe<he;++xe)je=Me+(ye=k[D+xe])-je,Me=V[te+xe]+(-256&je?0>je?0:255:je)&255,je=ye,oe[ue+xe]=Me}}function Pa(k,D,V,te){var oe=D.width,ue=D.o;if(e(k!=null&&D!=null),0>V||0>=te||V+te>ue)return null;if(!k.Cc){if(k.ga==null){var he;if(k.ga=new Jr,(he=k.ga==null)||(he=D.width*D.o,e(k.Gb.length==0),k.Gb=i(he),k.Uc=0,k.Gb==null?he=0:(k.mb=k.Gb,k.nb=k.Uc,k.rc=null,he=1),he=!he),!he){he=k.ga;var xe=k.Fa,ye=k.P,je=k.qc,Me=k.mb,Xe=k.nb,Se=ye+1,Be=je-1,Ge=he.l;if(e(xe!=null&&Me!=null&&D!=null),Mi[0]=null,Mi[1]=Qr,Mi[2]=Bn,Mi[3]=Ys,he.ca=Me,he.tb=Xe,he.c=D.width,he.i=D.height,e(0<he.c&&0<he.i),1>=je)D=0;else if(he.$a=3&xe[ye+0],he.Z=xe[ye+0]>>2&3,he.Lc=xe[ye+0]>>4&3,ye=xe[ye+0]>>6&3,0>he.$a||1<he.$a||4<=he.Z||1<he.Lc||ye)D=0;else if(Ge.put=He,Ge.ac=wt,Ge.bc=jt,Ge.ma=he,Ge.width=D.width,Ge.height=D.height,Ge.Da=D.Da,Ge.v=D.v,Ge.va=D.va,Ge.j=D.j,Ge.o=D.o,he.$a)e:{e(he.$a==1),D=td();t:for(;;){if(D==null){D=0;break e}if(e(he!=null),he.mc=D,D.c=he.c,D.i=he.i,D.l=he.l,D.l.ma=he,D.l.width=he.c,D.l.height=he.i,D.a=0,ee(D.m,xe,Se,Be),!za(he.c,he.i,1,D,null)||(D.ab==1&&D.gc[0].hc==3&&Ji(D.s)?(he.ic=1,xe=D.c*D.i,D.Ta=null,D.Ua=0,D.V=i(xe),D.Ba=0,D.V==null?(D.a=1,D=0):D=1):(he.ic=0,D=Fo(D,he.c)),!D))break t;D=1;break e}he.mc=null,D=0}else D=Be>=he.c*he.i;he=!D}if(he)return null;k.ga.Lc!=1?k.Ga=0:te=ue-V}e(k.ga!=null),e(V+te<=ue);e:{if(D=(xe=k.ga).c,ue=xe.l.o,xe.$a==0){if(Se=k.rc,Be=k.Vc,Ge=k.Fa,ye=k.P+1+V*D,je=k.mb,Me=k.nb+V*D,e(ye<=k.P+k.qc),xe.Z!=0)for(e(Mi[xe.Z]!=null),he=0;he<te;++he)Mi[xe.Z](Se,Be,Ge,ye,je,Me,D),Se=je,Be=Me,Me+=D,ye+=D;else for(he=0;he<te;++he)s(je,Me,Ge,ye,D),Se=je,Be=Me,Me+=D,ye+=D;k.rc=Se,k.Vc=Be}else{if(e(xe.mc!=null),D=V+te,e((he=xe.mc)!=null),e(D<=he.i),he.C>=D)D=1;else if(xe.ic||pl(),xe.ic){xe=he.V,Se=he.Ba,Be=he.c;var ut=he.i,Qe=(Ge=1,ye=he.$/Be,je=he.$%Be,Me=he.m,Xe=he.s,he.$),ct=Be*ut,dt=Be*D,gt=Xe.wc,vt=Qe<dt?fs(Xe,je,ye):null;e(Qe<=ct),e(D<=ut),e(Ji(Xe));t:for(;;){for(;!Me.h&&Qe<dt;){if(je&gt||(vt=fs(Xe,je,ye)),e(vt!=null),ce(Me),256>(ut=pn(vt.G[0],vt.H[0],Me)))xe[Se+Qe]=ut,++Qe,++je>=Be&&(je=0,++ye<=D&&!(ye%16)&&xa(he,ye));else{if(!(280>ut)){Ge=0;break t}ut=on(ut-256,Me);var kr,ar=pn(vt.G[4],vt.H[4],Me);if(ce(Me),!(Qe>=(ar=En(Be,ar=on(ar,Me)))&&ct-Qe>=ut)){Ge=0;break t}for(kr=0;kr<ut;++kr)xe[Se+Qe+kr]=xe[Se+Qe+kr-ar];for(Qe+=ut,je+=ut;je>=Be;)je-=Be,++ye<=D&&!(ye%16)&&xa(he,ye);Qe<dt&&je&gt&&(vt=fs(Xe,je,ye))}e(Me.h==Q(Me))}xa(he,ye>D?D:ye);break t}!Ge||Me.h&&Qe<ct?(Ge=0,he.a=Me.h?5:3):he.$=Qe,D=Ge}else D=Qi(he,he.V,he.Ba,he.c,he.i,D,Ll);if(!D){te=0;break e}}V+te>=ue&&(k.Cc=1),te=1}if(!te)return null;if(k.Cc&&((te=k.ga)!=null&&(te.mc=null),k.ga=null,0<k.Ga))return alert("todo:WebPDequantizeLevels"),null}return k.nb+V*oe}function Ns(k,D,V,te,oe,ue){for(;0<oe--;){var he,xe=k,ye=D+(V?1:0),je=k,Me=D+(V?0:3);for(he=0;he<te;++he){var Xe=je[Me+4*he];Xe!=255&&(Xe*=32897,xe[ye+4*he+0]=xe[ye+4*he+0]*Xe>>23,xe[ye+4*he+1]=xe[ye+4*he+1]*Xe>>23,xe[ye+4*he+2]=xe[ye+4*he+2]*Xe>>23)}D+=ue}}function Wa(k,D,V,te,oe){for(;0<te--;){var ue;for(ue=0;ue<V;++ue){var he=k[D+2*ue+0],xe=15&(je=k[D+2*ue+1]),ye=4369*xe,je=(240&je|je>>4)*ye>>16;k[D+2*ue+0]=(240&he|he>>4)*ye>>16&240|(15&he|he<<4)*ye>>16>>4&15,k[D+2*ue+1]=240&je|xe}D+=oe}}function va(k,D,V,te,oe,ue,he,xe){var ye,je,Me=255;for(je=0;je<oe;++je){for(ye=0;ye<te;++ye){var Xe=k[D+ye];ue[he+4*ye]=Xe,Me&=Xe}D+=V,he+=xe}return Me!=255}function fi(k,D,V,te,oe){var ue;for(ue=0;ue<oe;++ue)V[te+ue]=k[D+ue]>>8}function pl(){fh=Ns,rv=Wa,Dm=va,nv=fi}function po(k,D,V){$[k]=function(te,oe,ue,he,xe,ye,je,Me,Xe,Se,Be,Ge,ut,Qe,ct,dt,gt){var vt,kr=gt-1>>1,ar=xe[ye+0]|je[Me+0]<<16,cn=Xe[Se+0]|Be[Ge+0]<<16;e(te!=null);var pr=3*ar+cn+131074>>2;for(D(te[oe+0],255&pr,pr>>16,ut,Qe),ue!=null&&(pr=3*cn+ar+131074>>2,D(ue[he+0],255&pr,pr>>16,ct,dt)),vt=1;vt<=kr;++vt){var _n=xe[ye+vt]|je[Me+vt]<<16,aa=Xe[Se+vt]|Be[Ge+vt]<<16,un=ar+_n+cn+aa+524296,ir=un+2*(_n+cn)>>3;pr=ir+ar>>1,ar=(un=un+2*(ar+aa)>>3)+_n>>1,D(te[oe+2*vt-1],255&pr,pr>>16,ut,Qe+(2*vt-1)*V),D(te[oe+2*vt-0],255&ar,ar>>16,ut,Qe+(2*vt-0)*V),ue!=null&&(pr=un+cn>>1,ar=ir+aa>>1,D(ue[he+2*vt-1],255&pr,pr>>16,ct,dt+(2*vt-1)*V),D(ue[he+2*vt+0],255&ar,ar>>16,ct,dt+(2*vt+0)*V)),ar=_n,cn=aa}1&gt||(pr=3*ar+cn+131074>>2,D(te[oe+gt-1],255&pr,pr>>16,ut,Qe+(gt-1)*V),ue!=null&&(pr=3*cn+ar+131074>>2,D(ue[he+gt-1],255&pr,pr>>16,ct,dt+(gt-1)*V)))}}function _0(){vo[E0]=W5,vo[lu]=cu,vo[Cb]=H5,vo[Mm]=wf,vo[Rm]=gh,vo[ms]=zm,vo[P0]=hv,vo[vf]=cu,vo[mh]=wf,vo[Lm]=gh,vo[Fm]=zm}function eu(k){return k&-16384?0>k?0:255:k>>du}function rh(k,D){return eu((19077*k>>8)+(26149*D>>8)-14234)}function tu(k,D,V){return eu((19077*k>>8)-(6419*D>>8)-(13320*V>>8)+8708)}function nh(k,D){return eu((19077*k>>8)+(33050*D>>8)-17685)}function ru(k,D,V,te,oe){te[oe+0]=rh(k,V),te[oe+1]=tu(k,D,V),te[oe+2]=nh(k,D)}function sh(k,D,V,te,oe){te[oe+0]=nh(k,D),te[oe+1]=tu(k,D,V),te[oe+2]=rh(k,V)}function Di(k,D,V,te,oe){var ue=tu(k,D,V);D=ue<<3&224|nh(k,D)>>3,te[oe+0]=248&rh(k,V)|ue>>5,te[oe+1]=D}function ah(k,D,V,te,oe){var ue=240&nh(k,D)|15;te[oe+0]=240&rh(k,V)|tu(k,D,V)>>4,te[oe+1]=ue}function ih(k,D,V,te,oe){te[oe+0]=255,ru(k,D,V,te,oe+1)}function Tm(k,D,V,te,oe){sh(k,D,V,te,oe),te[oe+3]=255}function Om(k,D,V,te,oe){ru(k,D,V,te,oe),te[oe+3]=255}function ra(k,D){return 0>k?0:k>D?D:k}function zl(k,D,V){$[k]=function(te,oe,ue,he,xe,ye,je,Me,Xe){for(var Se=Me+(-2&Xe)*V;Me!=Se;)D(te[oe+0],ue[he+0],xe[ye+0],je,Me),D(te[oe+1],ue[he+0],xe[ye+0],je,Me+V),oe+=2,++he,++ye,Me+=2*V;1&Xe&&D(te[oe+0],ue[he+0],xe[ye+0],je,Me)}}function jc(k,D,V){return V==0?k==0?D==0?6:5:D==0?4:0:V}function C0(k,D,V,te,oe){switch(k>>>30){case 3:uh(D,V,te,oe,0);break;case 2:na(D,V,te,oe);break;case 1:Un(D,V,te,oe)}}function zo(k,D){var V,te,oe=D.M,ue=D.Nb,he=k.oc,xe=k.pc+40,ye=k.oc,je=k.pc+584,Me=k.oc,Xe=k.pc+600;for(V=0;16>V;++V)he[xe+32*V-1]=129;for(V=0;8>V;++V)ye[je+32*V-1]=129,Me[Xe+32*V-1]=129;for(0<oe?he[xe-1-32]=ye[je-1-32]=Me[Xe-1-32]=129:(a(he,xe-32-1,127,21),a(ye,je-32-1,127,9),a(Me,Xe-32-1,127,9)),te=0;te<k.za;++te){var Se=D.ya[D.aa+te];if(0<te){for(V=-1;16>V;++V)s(he,xe+32*V-4,he,xe+32*V+12,4);for(V=-1;8>V;++V)s(ye,je+32*V-4,ye,je+32*V+4,4),s(Me,Xe+32*V-4,Me,Xe+32*V+4,4)}var Be=k.Gd,Ge=k.Hd+te,ut=Se.ad,Qe=Se.Hc;if(0<oe&&(s(he,xe-32,Be[Ge].y,0,16),s(ye,je-32,Be[Ge].f,0,8),s(Me,Xe-32,Be[Ge].ea,0,8)),Se.Za){var ct=he,dt=xe-32+16;for(0<oe&&(te>=k.za-1?a(ct,dt,Be[Ge].y[15],4):s(ct,dt,Be[Ge+1].y,0,4)),V=0;4>V;V++)ct[dt+128+V]=ct[dt+256+V]=ct[dt+384+V]=ct[dt+0+V];for(V=0;16>V;++V,Qe<<=2)ct=he,dt=xe+fv[V],vl[Se.Ob[V]](ct,dt),C0(Qe,ut,16*+V,ct,dt)}else if(ct=jc(te,oe,Se.Ob[0]),ro[ct](he,xe),Qe!=0)for(V=0;16>V;++V,Qe<<=2)C0(Qe,ut,16*+V,he,xe+fv[V]);for(V=Se.Gc,ct=jc(te,oe,Se.Dd),go[ct](ye,je),go[ct](Me,Xe),Qe=ut,ct=ye,dt=je,255&(Se=0|V)&&(170&Se?xo(Qe,256,ct,dt):ss(Qe,256,ct,dt)),Se=Me,Qe=Xe,255&(V>>=8)&&(170&V?xo(ut,320,Se,Qe):ss(ut,320,Se,Qe)),oe<k.Ub-1&&(s(Be[Ge].y,0,he,xe+480,16),s(Be[Ge].f,0,ye,je+224,8),s(Be[Ge].ea,0,Me,Xe+224,8)),V=8*ue*k.B,Be=k.sa,Ge=k.ta+16*te+16*ue*k.R,ut=k.qa,Se=k.ra+8*te+V,Qe=k.Ha,ct=k.Ia+8*te+V,V=0;16>V;++V)s(Be,Ge+V*k.R,he,xe+32*V,16);for(V=0;8>V;++V)s(ut,Se+V*k.B,ye,je+32*V,8),s(Qe,ct+V*k.B,Me,Xe+32*V,8)}}function nu(k,D,V,te,oe,ue,he,xe,ye){var je=[0],Me=[0],Xe=0,Se=ye!=null?ye.kd:0,Be=ye??new mt;if(k==null||12>V)return 7;Be.data=k,Be.w=D,Be.ha=V,D=[D],V=[V],Be.gb=[Be.gb];e:{var Ge=D,ut=V,Qe=Be.gb;if(e(k!=null),e(ut!=null),e(Qe!=null),Qe[0]=0,12<=ut[0]&&!r(k,Ge[0],"RIFF")){if(r(k,Ge[0]+8,"WEBP")){Qe=3;break e}var ct=Ee(k,Ge[0]+4);if(12>ct||4294967286<ct){Qe=3;break e}if(Se&&ct>ut[0]-8){Qe=7;break e}Qe[0]=ct,Ge[0]+=12,ut[0]-=12}Qe=0}if(Qe!=0)return Qe;for(ct=0<Be.gb[0],V=V[0];;){e:{var dt=k;ut=D,Qe=V;var gt=je,vt=Me,kr=Ge=[0];if((pr=Xe=[Xe])[0]=0,8>Qe[0])Qe=7;else{if(!r(dt,ut[0],"VP8X")){if(Ee(dt,ut[0]+4)!=10){Qe=3;break e}if(18>Qe[0]){Qe=7;break e}var ar=Ee(dt,ut[0]+8),cn=1+Ie(dt,ut[0]+12);if(2147483648<=cn*(dt=1+Ie(dt,ut[0]+15))){Qe=3;break e}kr!=null&&(kr[0]=ar),gt!=null&&(gt[0]=cn),vt!=null&&(vt[0]=dt),ut[0]+=18,Qe[0]-=18,pr[0]=1}Qe=0}}if(Xe=Xe[0],Ge=Ge[0],Qe!=0)return Qe;if(ut=!!(2&Ge),!ct&&Xe)return 3;if(ue!=null&&(ue[0]=!!(16&Ge)),he!=null&&(he[0]=ut),xe!=null&&(xe[0]=0),he=je[0],Ge=Me[0],Xe&&ut&&ye==null){Qe=0;break}if(4>V){Qe=7;break}if(ct&&Xe||!ct&&!Xe&&!r(k,D[0],"ALPH")){V=[V],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{ar=k,Qe=D,ct=V;var pr=Be.gb;gt=Be.na,vt=Be.P,kr=Be.Sa,cn=22,e(ar!=null),e(ct!=null),dt=Qe[0];var _n=ct[0];for(e(gt!=null),e(kr!=null),gt[0]=null,vt[0]=null,kr[0]=0;;){if(Qe[0]=dt,ct[0]=_n,8>_n){Qe=7;break e}var aa=Ee(ar,dt+4);if(4294967286<aa){Qe=3;break e}var un=8+aa+1&-2;if(cn+=un,0<pr&&cn>pr){Qe=3;break e}if(!r(ar,dt,"VP8 ")||!r(ar,dt,"VP8L")){Qe=0;break e}if(_n[0]<un){Qe=7;break e}r(ar,dt,"ALPH")||(gt[0]=ar,vt[0]=dt+8,kr[0]=aa),dt+=un,_n-=un}}if(V=V[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],Qe!=0)break}V=[V],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(pr=k,Qe=D,ct=V,gt=Be.gb[0],vt=Be.Ja,kr=Be.xa,ar=Qe[0],dt=!r(pr,ar,"VP8 "),cn=!r(pr,ar,"VP8L"),e(pr!=null),e(ct!=null),e(vt!=null),e(kr!=null),8>ct[0])Qe=7;else{if(dt||cn){if(pr=Ee(pr,ar+4),12<=gt&&pr>gt-12){Qe=3;break e}if(Se&&pr>ct[0]-8){Qe=7;break e}vt[0]=pr,Qe[0]+=8,ct[0]-=8,kr[0]=cn}else kr[0]=5<=ct[0]&&pr[ar+0]==47&&!(pr[ar+4]>>5),vt[0]=ct[0];Qe=0}if(V=V[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],D=D[0],Qe!=0)break;if(4294967286<Be.Ja)return 3;if(xe==null||ut||(xe[0]=Be.xa?2:1),he=[he],Ge=[Ge],Be.xa){if(5>V){Qe=7;break}xe=he,Se=Ge,ut=ue,k==null||5>V?k=0:5<=V&&k[D+0]==47&&!(k[D+4]>>5)?(ct=[0],pr=[0],gt=[0],ee(vt=new Z,k,D,V),fr(vt,ct,pr,gt)?(xe!=null&&(xe[0]=ct[0]),Se!=null&&(Se[0]=pr[0]),ut!=null&&(ut[0]=gt[0]),k=1):k=0):k=0}else{if(10>V){Qe=7;break}xe=Ge,k==null||10>V||!Ot(k,D+3,V-3)?k=0:(Se=k[D+0]|k[D+1]<<8|k[D+2]<<16,ut=16383&(k[D+7]<<8|k[D+6]),k=16383&(k[D+9]<<8|k[D+8]),1&Se||3<(Se>>1&7)||!(Se>>4&1)||Se>>5>=Be.Ja||!ut||!k?k=0:(he&&(he[0]=ut),xe&&(xe[0]=k),k=1))}if(!k||(he=he[0],Ge=Ge[0],Xe&&(je[0]!=he||Me[0]!=Ge)))return 3;ye!=null&&(ye[0]=Be,ye.offset=D-ye.w,e(4294967286>D-ye.w),e(ye.offset==ye.ha-V));break}return Qe==0||Qe==7&&Xe&&ye==null?(ue!=null&&(ue[0]|=Be.na!=null&&0<Be.na.length),te!=null&&(te[0]=he),oe!=null&&(oe[0]=Ge),0):Qe}function uf(k,D,V){var te=D.width,oe=D.height,ue=0,he=0,xe=te,ye=oe;if(D.Da=k!=null&&0<k.Da,D.Da&&(xe=k.cd,ye=k.bd,ue=k.v,he=k.j,11>V||(ue&=-2,he&=-2),0>ue||0>he||0>=xe||0>=ye||ue+xe>te||he+ye>oe))return 0;if(D.v=ue,D.j=he,D.va=ue+xe,D.o=he+ye,D.U=xe,D.T=ye,D.da=k!=null&&0<k.da,D.da){if(!xt(xe,ye,V=[k.ib],ue=[k.hb]))return 0;D.ib=V[0],D.hb=ue[0]}return D.ob=k!=null&&k.ob,D.Kb=k==null||!k.Sd,D.da&&(D.ob=D.ib<3*te/4&&D.hb<3*oe/4,D.Kb=0),1}function hf(k){if(k==null)return 2;if(11>k.S){var D=k.f.RGBA;D.fb+=(k.height-1)*D.A,D.A=-D.A}else D=k.f.kb,k=k.height,D.O+=(k-1)*D.fa,D.fa=-D.fa,D.N+=(k-1>>1)*D.Ab,D.Ab=-D.Ab,D.W+=(k-1>>1)*D.Db,D.Db=-D.Db,D.F!=null&&(D.J+=(k-1)*D.lb,D.lb=-D.lb);return 0}function od(k,D,V,te){if(te==null||0>=k||0>=D)return 2;if(V!=null){if(V.Da){var oe=V.cd,ue=V.bd,he=-2&V.v,xe=-2&V.j;if(0>he||0>xe||0>=oe||0>=ue||he+oe>k||xe+ue>D)return 2;k=oe,D=ue}if(V.da){if(!xt(k,D,oe=[V.ib],ue=[V.hb]))return 2;k=oe[0],D=ue[0]}}te.width=k,te.height=D;e:{var ye=te.width,je=te.height;if(k=te.S,0>=ye||0>=je||!(k>=E0&&13>k))k=2;else{if(0>=te.Rd&&te.sd==null){he=ue=oe=D=0;var Me=(xe=ye*Vm[k])*je;if(11>k||(ue=(je+1)/2*(D=(ye+1)/2),k==12&&(he=(oe=ye)*je)),(je=i(Me+2*ue+he))==null){k=1;break e}te.sd=je,11>k?((ye=te.f.RGBA).eb=je,ye.fb=0,ye.A=xe,ye.size=Me):((ye=te.f.kb).y=je,ye.O=0,ye.fa=xe,ye.Fd=Me,ye.f=je,ye.N=0+Me,ye.Ab=D,ye.Cd=ue,ye.ea=je,ye.W=0+Me+ue,ye.Db=D,ye.Ed=ue,k==12&&(ye.F=je,ye.J=0+Me+2*ue),ye.Tc=he,ye.lb=oe)}if(D=1,oe=te.S,ue=te.width,he=te.height,oe>=E0&&13>oe)if(11>oe)k=te.f.RGBA,D&=(xe=Math.abs(k.A))*(he-1)+ue<=k.size,D&=xe>=ue*Vm[oe],D&=k.eb!=null;else{k=te.f.kb,xe=(ue+1)/2,Me=(he+1)/2,ye=Math.abs(k.fa),je=Math.abs(k.Ab);var Xe=Math.abs(k.Db),Se=Math.abs(k.lb),Be=Se*(he-1)+ue;D&=ye*(he-1)+ue<=k.Fd,D&=je*(Me-1)+xe<=k.Cd,D=(D&=Xe*(Me-1)+xe<=k.Ed)&ye>=ue&je>=xe&Xe>=xe,D&=k.y!=null,D&=k.f!=null,D&=k.ea!=null,oe==12&&(D&=Se>=ue,D&=Be<=k.Tc,D&=k.F!=null)}else D=0;k=D?0:2}}return k!=0||V!=null&&V.fd&&(k=hf(te)),k}var xl=64,Vo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wo=24,su=32,Nc=8,ld=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ke("Predictor0","PredictorAdd0"),$.Predictor0=function(){return 4278190080},$.Predictor1=function(k){return k},$.Predictor2=function(k,D,V){return D[V+0]},$.Predictor3=function(k,D,V){return D[V+1]},$.Predictor4=function(k,D,V){return D[V-1]},$.Predictor5=function(k,D,V){return Ve(Ve(k,D[V+1]),D[V+0])},$.Predictor6=function(k,D,V){return Ve(k,D[V-1])},$.Predictor7=function(k,D,V){return Ve(k,D[V+0])},$.Predictor8=function(k,D,V){return Ve(D[V-1],D[V+0])},$.Predictor9=function(k,D,V){return Ve(D[V+0],D[V+1])},$.Predictor10=function(k,D,V){return Ve(Ve(k,D[V-1]),Ve(D[V+0],D[V+1]))},$.Predictor11=function(k,D,V){var te=D[V+0];return 0>=Mt(te>>24&255,k>>24&255,(D=D[V-1])>>24&255)+Mt(te>>16&255,k>>16&255,D>>16&255)+Mt(te>>8&255,k>>8&255,D>>8&255)+Mt(255&te,255&k,255&D)?te:k},$.Predictor12=function(k,D,V){var te=D[V+0];return(Ke((k>>24&255)+(te>>24&255)-((D=D[V-1])>>24&255))<<24|Ke((k>>16&255)+(te>>16&255)-(D>>16&255))<<16|Ke((k>>8&255)+(te>>8&255)-(D>>8&255))<<8|Ke((255&k)+(255&te)-(255&D)))>>>0},$.Predictor13=function(k,D,V){var te=D[V-1];return(yt((k=Ve(k,D[V+0]))>>24&255,te>>24&255)<<24|yt(k>>16&255,te>>16&255)<<16|yt(k>>8&255,te>>8&255)<<8|yt(255&k,255&te))>>>0};var cd=$.PredictorAdd0;$.PredictorAdd1=Gt,ke("Predictor2","PredictorAdd2"),ke("Predictor3","PredictorAdd3"),ke("Predictor4","PredictorAdd4"),ke("Predictor5","PredictorAdd5"),ke("Predictor6","PredictorAdd6"),ke("Predictor7","PredictorAdd7"),ke("Predictor8","PredictorAdd8"),ke("Predictor9","PredictorAdd9"),ke("Predictor10","PredictorAdd10"),ke("Predictor11","PredictorAdd11"),ke("Predictor12","PredictorAdd12"),ke("Predictor13","PredictorAdd13");var Sc=$.PredictorAdd2;Nt("ColorIndexInverseTransform","MapARGB","32b",function(k){return k>>8&255},function(k){return k}),Nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(k){return k},function(k){return k>>8&255});var ya,oh=$.ColorIndexInverseTransform,_c=$.MapARGB,Vl=$.VP8LColorIndexInverseTransformAlpha,lh=$.MapAlpha,ch=$.VP8LPredictorsAdd=[];ch.length=16,($.VP8LPredictors=[]).length=16,($.VP8LPredictorsAdd_C=[]).length=16,($.VP8LPredictors_C=[]).length=16;var ff,mf,dd,au,iu,dh,ou,uh,na,xo,Un,ss,sa,Ta,Wl,Im,pf,ud,k0,xf,A0,tv,$m,hh,fh,rv,Dm,nv,sv=i(511),av=i(2041),iv=i(225),ov=i(767),lv=0,Cc=av,gf=iv,to=ov,gl=sv,E0=0,lu=1,Cb=2,Mm=3,Rm=4,ms=5,P0=6,vf=7,mh=8,Lm=9,Fm=10,Bm=[2,3,7],T0=[3,3,11],ph=[280,256,256,256,40],kb=[0,1,1,1,0],B5=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],U5=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ab=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],O0=8,yf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Um=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],xh=null,cv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],dv=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Eb=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Pb=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],z5=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],V5=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],uv=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ro=[],vl=[],go=[],kc=1,bf=2,Mi=[],vo=[];po("UpsampleRgbLinePair",ru,3),po("UpsampleBgrLinePair",sh,3),po("UpsampleRgbaLinePair",Om,4),po("UpsampleBgraLinePair",Tm,4),po("UpsampleArgbLinePair",ih,4),po("UpsampleRgba4444LinePair",ah,2),po("UpsampleRgb565LinePair",Di,2);var W5=$.UpsampleRgbLinePair,H5=$.UpsampleBgrLinePair,cu=$.UpsampleRgbaLinePair,wf=$.UpsampleBgraLinePair,gh=$.UpsampleArgbLinePair,zm=$.UpsampleRgba4444LinePair,hv=$.UpsampleRgb565LinePair,hd=16,Hl=1<<hd-1,Qn=-227,as=482,du=6,mi=0,yo=i(256),vh=i(256),jf=i(256),bo=i(256),I0=i(as-Qn),Tb=i(as-Qn);zl("YuvToRgbRow",ru,3),zl("YuvToBgrRow",sh,3),zl("YuvToRgbaRow",Om,4),zl("YuvToBgraRow",Tm,4),zl("YuvToArgbRow",ih,4),zl("YuvToRgba4444Row",ah,2),zl("YuvToRgb565Row",Di,2);var fv=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],yh=[0,2,8],Ob=[8,7,6,4,4,2,2,2,1,1,1,1],fd=1;this.WebPDecodeRGBA=function(k,D,V,te,oe){var ue=lu,he=new We,xe=new Rr;he.ba=xe,xe.S=ue,xe.width=[xe.width],xe.height=[xe.height];var ye=xe.width,je=xe.height,Me=new Jt;if(Me==null||k==null)var Xe=2;else e(Me!=null),Xe=nu(k,D,V,Me.width,Me.height,Me.Pd,Me.Qd,Me.format,null);if(Xe!=0?ye=0:(ye!=null&&(ye[0]=Me.width[0]),je!=null&&(je[0]=Me.height[0]),ye=1),ye){xe.width=xe.width[0],xe.height=xe.height[0],te!=null&&(te[0]=xe.width),oe!=null&&(oe[0]=xe.height);e:{if(te=new Sn,(oe=new mt).data=k,oe.w=D,oe.ha=V,oe.kd=1,D=[0],e(oe!=null),((k=nu(oe.data,oe.w,oe.ha,null,null,null,D,null,oe))==0||k==7)&&D[0]&&(k=4),(D=k)==0){if(e(he!=null),te.data=oe.data,te.w=oe.w+oe.offset,te.ha=oe.ha-oe.offset,te.put=He,te.ac=wt,te.bc=jt,te.ma=he,oe.xa){if((k=td())==null){he=1;break e}if((function(Se,Be){var Ge=[0],ut=[0],Qe=[0];t:for(;;){if(Se==null)return 0;if(Be==null)return Se.a=2,0;if(Se.l=Be,Se.a=0,ee(Se.m,Be.data,Be.w,Be.ha),!fr(Se.m,Ge,ut,Qe)){Se.a=3;break t}if(Se.xb=bf,Be.width=Ge[0],Be.height=ut[0],!za(Ge[0],ut[0],1,Se,null))break t;return 1}return e(Se.a!=0),0})(k,te)){if(te=(D=od(te.width,te.height,he.Oa,he.ba))==0){t:{te=k;r:for(;;){if(te==null){te=0;break t}if(e(te.s.yc!=null),e(te.s.Ya!=null),e(0<te.s.Wb),e((V=te.l)!=null),e((oe=V.ma)!=null),te.xb!=0){if(te.ca=oe.ba,te.tb=oe.tb,e(te.ca!=null),!uf(oe.Oa,V,Mm)){te.a=2;break r}if(!Fo(te,V.width)||V.da)break r;if((V.da||nt(te.ca.S))&&pl(),11>te.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),te.ca.f.kb.F!=null&&pl()),te.Pb&&0<te.s.ua&&te.s.vb.X==null&&!H(te.s.vb,te.s.Wa.Xa)){te.a=1;break r}te.xb=0}if(!Qi(te,te.V,te.Ba,te.c,te.i,V.o,hc))break r;oe.Dc=te.Ma,te=1;break t}e(te.a!=0),te=0}te=!te}te&&(D=k.a)}else D=k.a}else{if((k=new Sm)==null){he=1;break e}if(k.Fa=oe.na,k.P=oe.P,k.qc=oe.Sa,tr(k,te)){if((D=od(te.width,te.height,he.Oa,he.ba))==0){if(k.Aa=0,V=he.Oa,e((oe=k)!=null),V!=null){if(0<(ye=0>(ye=V.Md)?0:100<ye?255:255*ye/100)){for(je=Me=0;4>je;++je)12>(Xe=oe.pb[je]).lc&&(Xe.ia=ye*Ob[0>Xe.lc?0:Xe.lc]>>3),Me|=Xe.ia;Me&&(alert("todo:VP8InitRandom"),oe.ia=1)}oe.Ga=V.Id,100<oe.Ga?oe.Ga=100:0>oe.Ga&&(oe.Ga=0)}(function(Se,Be){if(Se==null)return 0;if(Be==null)return Oe(Se,2,"NULL VP8Io parameter in VP8Decode().");if(!Se.cb&&!tr(Se,Be))return 0;if(e(Se.cb),Be.ac==null||Be.ac(Be)){Be.ob&&(Se.L=0);var Ge=yh[Se.L];if(Se.L==2?(Se.yb=0,Se.zb=0):(Se.yb=Be.v-Ge>>4,Se.zb=Be.j-Ge>>4,0>Se.yb&&(Se.yb=0),0>Se.zb&&(Se.zb=0)),Se.Va=Be.o+15+Ge>>4,Se.Hb=Be.va+15+Ge>>4,Se.Hb>Se.za&&(Se.Hb=Se.za),Se.Va>Se.Ub&&(Se.Va=Se.Ub),0<Se.L){var ut=Se.ed;for(Ge=0;4>Ge;++Ge){var Qe;if(Se.Qa.Cb){var ct=Se.Qa.Lb[Ge];Se.Qa.Fb||(ct+=ut.Tb)}else ct=ut.Tb;for(Qe=0;1>=Qe;++Qe){var dt=Se.gd[Ge][Qe],gt=ct;if(ut.Pc&&(gt+=ut.vd[0],Qe&&(gt+=ut.od[0])),0<(gt=0>gt?0:63<gt?63:gt)){var vt=gt;0<ut.wb&&(vt=4<ut.wb?vt>>2:vt>>1)>9-ut.wb&&(vt=9-ut.wb),1>vt&&(vt=1),dt.dd=vt,dt.tc=2*gt+vt,dt.ld=40<=gt?2:15<=gt?1:0}else dt.tc=0;dt.La=Qe}}}Ge=0}else Oe(Se,6,"Frame setup failed"),Ge=Se.a;if(Ge=Ge==0){if(Ge){Se.$c=0,0<Se.Aa||(Se.Ic=fd);t:{Ge=Se.Ic,ut=4*(vt=Se.za);var kr=32*vt,ar=vt+1,cn=0<Se.L?vt*(0<Se.Aa?2:1):0,pr=(Se.Aa==2?2:1)*vt;if((dt=ut+832+(Qe=3*(16*Ge+yh[Se.L])/2*kr)+(ct=Se.Fa!=null&&0<Se.Fa.length?Se.Kc.c*Se.Kc.i:0))!=dt)Ge=0;else{if(dt>Se.Vb){if(Se.Vb=0,Se.Ec=i(dt),Se.Fc=0,Se.Ec==null){Ge=Oe(Se,1,"no memory during frame initialization.");break t}Se.Vb=dt}dt=Se.Ec,gt=Se.Fc,Se.Ac=dt,Se.Bc=gt,gt+=ut,Se.Gd=o(kr,Va),Se.Hd=0,Se.rb=o(ar+1,pc),Se.sb=1,Se.wa=cn?o(cn,hi):null,Se.Y=0,Se.D.Nb=0,Se.D.wa=Se.wa,Se.D.Y=Se.Y,0<Se.Aa&&(Se.D.Y+=vt),e(!0),Se.oc=dt,Se.pc=gt,gt+=832,Se.ya=o(pr,Qd),Se.aa=0,Se.D.ya=Se.ya,Se.D.aa=Se.aa,Se.Aa==2&&(Se.D.aa+=vt),Se.R=16*vt,Se.B=8*vt,vt=(kr=yh[Se.L])*Se.R,kr=kr/2*Se.B,Se.sa=dt,Se.ta=gt+vt,Se.qa=Se.sa,Se.ra=Se.ta+16*Ge*Se.R+kr,Se.Ha=Se.qa,Se.Ia=Se.ra+8*Ge*Se.B+kr,Se.$c=0,gt+=Qe,Se.mb=ct?dt:null,Se.nb=ct?gt:null,e(gt+ct<=Se.Fc+Se.Vb),Yr(Se),a(Se.Ac,Se.Bc,0,ut),Ge=1}}if(Ge){if(Be.ka=0,Be.y=Se.sa,Be.O=Se.ta,Be.f=Se.qa,Be.N=Se.ra,Be.ea=Se.Ha,Be.Vd=Se.Ia,Be.fa=Se.R,Be.Rc=Se.B,Be.F=null,Be.J=0,!lv){for(Ge=-255;255>=Ge;++Ge)sv[255+Ge]=0>Ge?-Ge:Ge;for(Ge=-1020;1020>=Ge;++Ge)av[1020+Ge]=-128>Ge?-128:127<Ge?127:Ge;for(Ge=-112;112>=Ge;++Ge)iv[112+Ge]=-16>Ge?-16:15<Ge?15:Ge;for(Ge=-255;510>=Ge;++Ge)ov[255+Ge]=0>Ge?0:255<Ge?255:Ge;lv=1}ou=Mn,uh=xc,xo=cl,Un=gc,ss=sf,na=Ii,sa=Pm,Ta=$i,Wl=B,Im=le,pf=ml,ud=df,k0=_e,xf=De,A0=ul,tv=id,$m=th,hh=Em,vl[0]=ev,vl[1]=af,vl[2]=Zu,vl[3]=yc,vl[4]=N0,vl[5]=sd,vl[6]=Uo,vl[7]=S0,vl[8]=Ju,vl[9]=lf,ro[0]=Fl,ro[1]=w0,ro[2]=j0,ro[3]=of,ro[4]=vc,ro[5]=mo,ro[6]=dl,go[0]=Ul,go[1]=_m,go[2]=Cm,go[3]=Bl,go[4]=km,go[5]=cf,go[6]=Am,Ge=1}else Ge=0}Ge&&(Ge=(function(_n,aa){for(_n.M=0;_n.M<_n.Va;++_n.M){var un,ir=_n.Jc[_n.M&_n.Xb],zt=_n.m,ba=_n;for(un=0;un<ba.za;++un){var Xr=zt,gn=ba,Ss=gn.Ac,ri=gn.Bc+4*un,Oa=gn.zc,Xs=gn.ya[gn.aa+un];if(gn.Qa.Bb?Xs.$b=ae(Xr,gn.Pa.jb[0])?2+ae(Xr,gn.Pa.jb[2]):ae(Xr,gn.Pa.jb[1]):Xs.$b=0,gn.kc&&(Xs.Ad=ae(Xr,gn.Bd)),Xs.Za=!ae(Xr,145)+0,Xs.Za){var Ha=Xs.Ob,ni=0;for(gn=0;4>gn;++gn){var Rs,Pn=Oa[0+gn];for(Rs=0;4>Rs;++Rs){Pn=z5[Ss[ri+Rs]][Pn];for(var zn=Eb[ae(Xr,Pn[0])];0<zn;)zn=Eb[2*zn+ae(Xr,Pn[zn])];Pn=-zn,Ss[ri+Rs]=Pn}s(Ha,ni,Ss,ri,4),ni+=4,Oa[0+gn]=Pn}}else Pn=ae(Xr,156)?ae(Xr,128)?1:3:ae(Xr,163)?2:0,Xs.Ob[0]=Pn,a(Ss,ri,Pn,4),a(Oa,0,Pn,4);Xs.Dd=ae(Xr,142)?ae(Xr,114)?ae(Xr,183)?1:3:2:0}if(ba.m.Ka)return Oe(_n,7,"Premature end-of-partition0 encountered.");for(;_n.ja<_n.za;++_n.ja){if(ba=ir,Xr=(zt=_n).rb[zt.sb-1],Ss=zt.rb[zt.sb+zt.ja],un=zt.ya[zt.aa+zt.ja],ri=zt.kc?un.Ad:0)Xr.la=Ss.la=0,un.Za||(Xr.Na=Ss.Na=0),un.Hc=0,un.Gc=0,un.ia=0;else{var Ls,Vn;if(Xr=Ss,Ss=ba,ri=zt.Pa.Xc,Oa=zt.ya[zt.aa+zt.ja],Xs=zt.pb[Oa.$b],gn=Oa.ad,Ha=0,ni=zt.rb[zt.sb-1],Pn=Rs=0,a(gn,Ha,0,384),Oa.Za)var ia=0,oa=ri[3];else{zn=i(16);var ps=Xr.Na+ni.Na;if(ps=xh(Ss,ri[1],ps,Xs.Eb,0,zn,0),Xr.Na=ni.Na=(0<ps)+0,1<ps)ou(zn,0,gn,Ha);else{var Ri=zn[0]+3>>3;for(zn=0;256>zn;zn+=16)gn[Ha+zn]=Ri}ia=1,oa=ri[0]}var is=15&Xr.la,xs=15&ni.la;for(zn=0;4>zn;++zn){var Ia=1&xs;for(Ri=Vn=0;4>Ri;++Ri)is=is>>1|(Ia=(ps=xh(Ss,oa,ps=Ia+(1&is),Xs.Sc,ia,gn,Ha))>ia)<<7,Vn=Vn<<2|(3<ps?3:1<ps?2:gn[Ha+0]!=0),Ha+=16;is>>=4,xs=xs>>1|Ia<<7,Rs=(Rs<<8|Vn)>>>0}for(oa=is,ia=xs>>4,Ls=0;4>Ls;Ls+=2){for(Vn=0,is=Xr.la>>4+Ls,xs=ni.la>>4+Ls,zn=0;2>zn;++zn){for(Ia=1&xs,Ri=0;2>Ri;++Ri)ps=Ia+(1&is),is=is>>1|(Ia=0<(ps=xh(Ss,ri[2],ps,Xs.Qc,0,gn,Ha)))<<3,Vn=Vn<<2|(3<ps?3:1<ps?2:gn[Ha+0]!=0),Ha+=16;is>>=2,xs=xs>>1|Ia<<5}Pn|=Vn<<4*Ls,oa|=is<<4<<Ls,ia|=(240&xs)<<Ls}Xr.la=oa,ni.la=ia,Oa.Hc=Rs,Oa.Gc=Pn,Oa.ia=43690&Pn?0:Xs.ia,ri=!(Rs|Pn)}if(0<zt.L&&(zt.wa[zt.Y+zt.ja]=zt.gd[un.$b][un.Za],zt.wa[zt.Y+zt.ja].La|=!ri),ba.Ka)return Oe(_n,7,"Premature end-of-file encountered.")}if(Yr(_n),zt=aa,ba=1,un=(ir=_n).D,Xr=0<ir.L&&ir.M>=ir.zb&&ir.M<=ir.Va,ir.Aa==0)t:{if(un.M=ir.M,un.uc=Xr,zo(ir,un),ba=1,un=(Vn=ir.D).Nb,Xr=(Pn=yh[ir.L])*ir.R,Ss=Pn/2*ir.B,zn=16*un*ir.R,Ri=8*un*ir.B,ri=ir.sa,Oa=ir.ta-Xr+zn,Xs=ir.qa,gn=ir.ra-Ss+Ri,Ha=ir.Ha,ni=ir.Ia-Ss+Ri,xs=(is=Vn.M)==0,Rs=is>=ir.Va-1,ir.Aa==2&&zo(ir,Vn),Vn.uc)for(Ia=(ps=ir).D.M,e(ps.D.uc),Vn=ps.yb;Vn<ps.Hb;++Vn){ia=Vn,oa=Ia;var pi=(wo=(Na=ps).D).Nb;Ls=Na.R;var wo=wo.wa[wo.Y+ia],wa=Na.sa,ja=Na.ta+16*pi*Ls+16*ia,Li=wo.dd,gs=wo.tc;if(gs!=0)if(e(3<=gs),Na.L==1)0<ia&&tv(wa,ja,Ls,gs+4),wo.La&&hh(wa,ja,Ls,gs),0<oa&&A0(wa,ja,Ls,gs+4),wo.La&&$m(wa,ja,Ls,gs);else{var Fi=Na.B,yl=Na.qa,ql=Na.ra+8*pi*Fi+8*ia,si=Na.Ha,Na=Na.Ia+8*pi*Fi+8*ia;pi=wo.ld,0<ia&&(Ta(wa,ja,Ls,gs+4,Li,pi),Im(yl,ql,si,Na,Fi,gs+4,Li,pi)),wo.La&&(ud(wa,ja,Ls,gs,Li,pi),xf(yl,ql,si,Na,Fi,gs,Li,pi)),0<oa&&(sa(wa,ja,Ls,gs+4,Li,pi),Wl(yl,ql,si,Na,Fi,gs+4,Li,pi)),wo.La&&(pf(wa,ja,Ls,gs,Li,pi),k0(yl,ql,si,Na,Fi,gs,Li,pi))}}if(ir.ia&&alert("todo:DitherRow"),zt.put!=null){if(Vn=16*is,is=16*(is+1),xs?(zt.y=ir.sa,zt.O=ir.ta+zn,zt.f=ir.qa,zt.N=ir.ra+Ri,zt.ea=ir.Ha,zt.W=ir.Ia+Ri):(Vn-=Pn,zt.y=ri,zt.O=Oa,zt.f=Xs,zt.N=gn,zt.ea=Ha,zt.W=ni),Rs||(is-=Pn),is>zt.o&&(is=zt.o),zt.F=null,zt.J=null,ir.Fa!=null&&0<ir.Fa.length&&Vn<is&&(zt.J=Pa(ir,zt,Vn,is-Vn),zt.F=ir.mb,zt.F==null&&zt.F.length==0)){ba=Oe(ir,3,"Could not decode alpha data.");break t}Vn<zt.j&&(Pn=zt.j-Vn,Vn=zt.j,e(!(1&Pn)),zt.O+=ir.R*Pn,zt.N+=ir.B*(Pn>>1),zt.W+=ir.B*(Pn>>1),zt.F!=null&&(zt.J+=zt.width*Pn)),Vn<is&&(zt.O+=zt.v,zt.N+=zt.v>>1,zt.W+=zt.v>>1,zt.F!=null&&(zt.J+=zt.v),zt.ka=Vn-zt.j,zt.U=zt.va-zt.v,zt.T=is-Vn,ba=zt.put(zt))}un+1!=ir.Ic||Rs||(s(ir.sa,ir.ta-Xr,ri,Oa+16*ir.R,Xr),s(ir.qa,ir.ra-Ss,Xs,gn+8*ir.B,Ss),s(ir.Ha,ir.Ia-Ss,Ha,ni+8*ir.B,Ss))}if(!ba)return Oe(_n,6,"Output aborted.")}return 1})(Se,Be)),Be.bc!=null&&Be.bc(Be),Ge&=1}return Ge?(Se.cb=0,Ge):0})(k,te)||(D=k.a)}}else D=k.a}D==0&&he.Oa!=null&&he.Oa.fd&&(D=hf(he.ba))}he=D}ue=he!=0?null:11>ue?xe.f.RGBA.eb:xe.f.kb.y}else ue=null;return ue};var Vm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d($,O){for(var P="",M=0;M<4;M++)P+=String.fromCharCode($[O++]);return P}function u($,O){return $[O+0]|$[O+1]<<8}function h($,O){return($[O+0]|$[O+1]<<8|$[O+2]<<16)>>>0}function f($,O){return($[O+0]|$[O+1]<<8|$[O+2]<<16|$[O+3]<<24)>>>0}new c;var m=[0],y=[0],g=[],v=new c,b=t,w=(function($,O){var P={},M=0,R=!1,W=0,Y=0;if(P.frames=[],!(function(z,Z){for(var X=0;X<4;X++)if(z[Z+X]!="RIFF".charCodeAt(X))return!0;return!1})($,O)){for(f($,O+=4),O+=8;O<$.length;){var K=d($,O),L=f($,O+=4);O+=4;var F=L+(1&L);switch(K){case"VP8 ":case"VP8L":P.frames[M]===void 0&&(P.frames[M]={}),(q=P.frames[M]).src_off=R?Y:O-8,q.src_size=W+L+8,M++,R&&(R=!1,W=0,Y=0);break;case"VP8X":(q=P.header={}).feature_flags=$[O];var ee=O+4;q.canvas_width=1+h($,ee),ee+=3,q.canvas_height=1+h($,ee),ee+=3;break;case"ALPH":R=!0,W=F+8,Y=O-8;break;case"ANIM":(q=P.header).bgcolor=f($,O),ee=O+4,q.loop_count=u($,ee),ee+=2;break;case"ANMF":var se,q;(q=P.frames[M]={}).offset_x=2*h($,O),O+=3,q.offset_y=2*h($,O),O+=3,q.width=1+h($,O),O+=3,q.height=1+h($,O),O+=3,q.duration=h($,O),O+=3,se=$[O++],q.dispose=1&se,q.blend=se>>1&1}K!="ANMF"&&(O+=F)}return P}})(b,0);w.response=b,w.rgbaoutput=!0,w.dataurl=!1;var N=w.header?w.header:null,_=w.frames?w.frames:null;if(N){N.loop_counter=N.loop_count,m=[N.canvas_height],y=[N.canvas_width];for(var C=0;C<_.length&&_[C].blend!=0;C++);}var E=_[0],A=v.WebPDecodeRGBA(b,E.src_off,E.src_size,y,m);E.rgba=A,E.imgwidth=y[0],E.imgheight=m[0];for(var I=0;I<y[0]*m[0]*4;I++)g[I]=A[I];return this.width=y,this.height=m,this.data=g,this}(function(t){var e,r,s,a,i,o,l,c,d,u=function(z){return z=z||{},this.isStrokeTransparent=z.isStrokeTransparent||!1,this.strokeOpacity=z.strokeOpacity||1,this.strokeStyle=z.strokeStyle||"#000000",this.fillStyle=z.fillStyle||"#000000",this.isFillTransparent=z.isFillTransparent||!1,this.fillOpacity=z.fillOpacity||1,this.font=z.font||"10px sans-serif",this.textBaseline=z.textBaseline||"alphabetic",this.textAlign=z.textAlign||"left",this.lineWidth=z.lineWidth||1,this.lineJoin=z.lineJoin||"miter",this.lineCap=z.lineCap||"butt",this.path=z.path||[],this.transform=z.transform!==void 0?z.transform.clone():new c,this.globalCompositeOperation=z.globalCompositeOperation||"normal",this.globalAlpha=z.globalAlpha||1,this.clip_path=z.clip_path||[],this.currentPoint=z.currentPoint||new o,this.miterLimit=z.miterLimit||10,this.lastPoint=z.lastPoint||new o,this.lineDashOffset=z.lineDashOffset||0,this.lineDash=z.lineDash||[],this.margin=z.margin||[0,0,0,0],this.prevPageLastElemOffset=z.prevPageLastElemOffset||0,this.ignoreClearRect=typeof z.ignoreClearRect!="boolean"||z.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(z){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Z=z;Object.defineProperty(this,"pdf",{get:function(){return Z}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(Ee){X=!!Ee}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(Ee){Q=!!Ee}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(Ee){isNaN(Ee)||(ne=Ee)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(Ee){isNaN(Ee)||(ce=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Ee){var H;typeof Ee=="number"?H=[Ee,Ee,Ee,Ee]:((H=new Array(4))[0]=Ee[0],H[1]=Ee.length>=2?Ee[1]:H[0],H[2]=Ee.length>=3?Ee[2]:H[0],H[3]=Ee.length>=4?Ee[3]:H[1]),d.margin=H}});var ie=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ie},set:function(Ee){ie=Ee}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(Ee){pe=Ee}});var ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ae},set:function(Ee){ae=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Ee){Ee instanceof u&&(d=Ee)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Ee){d.path=Ee}});var be=[];Object.defineProperty(this,"ctxStack",{get:function(){return be},set:function(Ee){be=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var H;H=f(Ee),this.ctx.fillStyle=H.style,this.ctx.isFillTransparent=H.a===0,this.ctx.fillOpacity=H.a,this.pdf.setFillColor(H.r,H.g,H.b,{a:H.a}),this.pdf.setTextColor(H.r,H.g,H.b,{a:H.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var H=f(Ee);this.ctx.strokeStyle=H.style,this.ctx.isStrokeTransparent=H.a===0,this.ctx.strokeOpacity=H.a,H.a===0?this.pdf.setDrawColor(255,255,255):(H.a,this.pdf.setDrawColor(H.r,H.g,H.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var we=null,Ie=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ie},set:function(Ee){we=null,Ie=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var H;if(this.ctx.font=Ee,(H=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var Le=H[1];H[2];var Ye=H[3],xt=H[4];H[5];var qe=H[6],ft=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xt)[2];xt=Math.floor(ft==="px"?parseFloat(xt)*this.pdf.internal.scaleFactor:ft==="em"?parseFloat(xt)*this.pdf.getFontSize():parseFloat(xt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xt);var ke=(function(Dt){var Nt,$r,Or=[],Ht=Dt.trim();if(Ht==="")return KC;if(Ht in Bz)return[Bz[Ht]];for(;Ht!=="";){switch($r=null,Nt=(Ht=zz(Ht)).charAt(0)){case'"':case"'":$r=HDe(Ht.substring(1),Nt);break;default:$r=qDe(Ht)}if($r===null||(Or.push($r[0]),(Ht=zz($r[1]))!==""&&Ht.charAt(0)!==","))return KC;Ht=Ht.replace(/^,/,"")}return Or})(qe);if(this.fontFaces){var lt=(function(Dt,Nt){if(we===null){var $r=(function(Or){var Ht=[];return Object.keys(Or).forEach(function(bt){Or[bt].forEach(function(an){var er=null;switch(an){case"bold":er={family:bt,weight:"bold"};break;case"italic":er={family:bt,style:"italic"};break;case"bolditalic":er={family:bt,weight:"bold",style:"italic"};break;case"":case"normal":er={family:bt}}er!==null&&(er.ref={name:bt,style:an},Ht.push(er))})}),Ht})(Dt.getFontList());we=(function(Or){for(var Ht={},bt=0;bt<Or.length;++bt){var an=GC(Or[bt]),er=an.family,$e=an.stretch,nt=an.style,sr=an.weight;Ht[er]=Ht[er]||{},Ht[er][$e]=Ht[er][$e]||{},Ht[er][$e][nt]=Ht[er][$e][nt]||{},Ht[er][$e][nt][sr]=an}return Ht})($r.concat(Nt))}return we})(this.pdf,this.fontFaces),Ve=ke.map(function(Dt){return{family:Dt,stretch:"normal",weight:Ye,style:Le}}),Ke=(function(Dt,Nt,$r){for(var Or=($r=$r||{}).defaultFontFamily||"times",Ht=Object.assign({},WDe,$r.genericFontFamilies||{}),bt=null,an=null,er=0;er<Nt.length;++er)if(Ht[(bt=GC(Nt[er])).family]&&(bt.family=Ht[bt.family]),Dt.hasOwnProperty(bt.family)){an=Dt[bt.family];break}if(!(an=an||Dt[Or]))throw new Error("Could not find a font-family for the rule '"+Uz(bt)+"' and default family '"+Or+"'.");if(an=(function($e,nt){if(nt[$e])return nt[$e];var sr=aP[$e],dr=sr<=aP.normal?-1:1,Rr=Fz(nt,Oee,sr,dr);if(!Rr)throw new Error("Could not find a matching font-stretch value for "+$e);return Rr})(bt.stretch,an),an=(function($e,nt){if(nt[$e])return nt[$e];for(var sr=Tee[$e],dr=0;dr<sr.length;++dr)if(nt[sr[dr]])return nt[sr[dr]];throw new Error("Could not find a matching font-style for "+$e)})(bt.style,an),!(an=(function($e,nt){if(nt[$e])return nt[$e];if($e===400&&nt[500])return nt[500];if($e===500&&nt[400])return nt[400];var sr=VDe[$e],dr=Fz(nt,Iee,sr,$e<400?-1:1);if(!dr)throw new Error("Could not find a matching font-weight for value "+$e);return dr})(bt.weight,an)))throw new Error("Failed to resolve a font for the rule '"+Uz(bt)+"'.");return an})(lt,Ve);this.pdf.setFont(Ke.ref.name,Ke.ref.style)}else{var yt="";(Ye==="bold"||parseInt(Ye,10)>=700||Le==="bold")&&(yt="bold"),Le==="italic"&&(yt+="italic"),yt.length===0&&(yt="normal");for(var Mt="",Gt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},qt=0;qt<ke.length;qt++){if(this.pdf.internal.getFont(ke[qt],yt,{noFallback:!0,disableWarning:!0})!==void 0){Mt=ke[qt];break}if(yt==="bolditalic"&&this.pdf.internal.getFont(ke[qt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Mt=ke[qt],yt="bold";else if(this.pdf.internal.getFont(ke[qt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Mt=ke[qt],yt="normal";break}}if(Mt===""){for(var At=0;At<ke.length;At++)if(Gt[ke[At]]){Mt=Gt[ke[At]];break}}Mt=Mt===""?"Times":Mt,this.pdf.setFont(Mt,yt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};h.prototype.setLineDash=function(z){this.lineDash=z},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){_.call(this,"fill",!1)},h.prototype.stroke=function(){_.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(z,Z){if(isNaN(z)||isNaN(Z))throw Os.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new o(z,Z));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(z,Z)},h.prototype.closePath=function(){var z=new o(0,0),Z=0;for(Z=this.path.length-1;Z!==-1;Z--)if(this.path[Z].type==="begin"&&ws(this.path[Z+1])==="object"&&typeof this.path[Z+1].x=="number"){z=new o(this.path[Z+1].x,this.path[Z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(z.x,z.y)},h.prototype.lineTo=function(z,Z){if(isNaN(z)||isNaN(Z))throw Os.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new o(z,Z));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},h.prototype.quadraticCurveTo=function(z,Z,X,Q){if(isNaN(X)||isNaN(Q)||isNaN(z)||isNaN(Z))throw Os.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new o(X,Q)),ce=this.ctx.transform.applyToPoint(new o(z,Z));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},h.prototype.bezierCurveTo=function(z,Z,X,Q,ne,ce){if(isNaN(ne)||isNaN(ce)||isNaN(z)||isNaN(Z)||isNaN(X)||isNaN(Q))throw Os.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ie=this.ctx.transform.applyToPoint(new o(ne,ce)),pe=this.ctx.transform.applyToPoint(new o(z,Z)),ae=this.ctx.transform.applyToPoint(new o(X,Q));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:ae.x,y2:ae.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},h.prototype.arc=function(z,Z,X,Q,ne,ce){if(isNaN(z)||isNaN(Z)||isNaN(X)||isNaN(Q)||isNaN(ne))throw Os.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var ie=this.ctx.transform.applyToPoint(new o(z,Z));z=ie.x,Z=ie.y;var pe=this.ctx.transform.applyToPoint(new o(0,X)),ae=this.ctx.transform.applyToPoint(new o(0,0));X=Math.sqrt(Math.pow(pe.x-ae.x,2)+Math.pow(pe.y-ae.y,2))}Math.abs(ne-Q)>=2*Math.PI&&(Q=0,ne=2*Math.PI),this.path.push({type:"arc",x:z,y:Z,radius:X,startAngle:Q,endAngle:ne,counterclockwise:ce})},h.prototype.arcTo=function(z,Z,X,Q,ne){throw new Error("arcTo not implemented.")},h.prototype.rect=function(z,Z,X,Q){if(isNaN(z)||isNaN(Z)||isNaN(X)||isNaN(Q))throw Os.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(z,Z),this.lineTo(z+X,Z),this.lineTo(z+X,Z+Q),this.lineTo(z,Z+Q),this.lineTo(z,Z),this.lineTo(z+X,Z),this.lineTo(z,Z)},h.prototype.fillRect=function(z,Z,X,Q){if(isNaN(z)||isNaN(Z)||isNaN(X)||isNaN(Q))throw Os.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(z,Z,X,Q),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},h.prototype.strokeRect=function(z,Z,X,Q){if(isNaN(z)||isNaN(Z)||isNaN(X)||isNaN(Q))throw Os.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(z,Z,X,Q),this.stroke())},h.prototype.clearRect=function(z,Z,X,Q){if(isNaN(z)||isNaN(Z)||isNaN(X)||isNaN(Q))throw Os.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(z,Z,X,Q))},h.prototype.save=function(z){z=typeof z!="boolean"||z;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(Z),z){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},h.prototype.restore=function(z){z=typeof z!="boolean"||z;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(Z),z&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(z){var Z,X,Q,ne;if(z.isCanvasGradient===!0&&(z=z.getColor()),!z)return{r:0,g:0,b:0,a:0,style:z};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(z))Z=0,X=0,Q=0,ne=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(z);if(ce!==null)Z=parseInt(ce[1]),X=parseInt(ce[2]),Q=parseInt(ce[3]),ne=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(z))!==null)Z=parseInt(ce[1]),X=parseInt(ce[2]),Q=parseInt(ce[3]),ne=parseFloat(ce[4]);else{if(ne=1,typeof z=="string"&&z.charAt(0)!=="#"){var ie=new See(z);z=ie.ok?ie.toHex():"#000000"}z.length===4?(Z=z.substring(1,2),Z+=Z,X=z.substring(2,3),X+=X,Q=z.substring(3,4),Q+=Q):(Z=z.substring(1,3),X=z.substring(3,5),Q=z.substring(5,7)),Z=parseInt(Z,16),X=parseInt(X,16),Q=parseInt(Q,16)}}return{r:Z,g:X,b:Q,a:ne,style:z}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(z,Z,X,Q){if(isNaN(Z)||isNaN(X)||typeof z!="string")throw Os.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!m.call(this)){var ne=F(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;M.call(this,{text:z,x:Z,y:X,scale:ce,angle:ne,align:this.textAlign,maxWidth:Q})}},h.prototype.strokeText=function(z,Z,X,Q){if(isNaN(Z)||isNaN(X)||typeof z!="string")throw Os.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){Q=isNaN(Q)?void 0:Q;var ne=F(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;M.call(this,{text:z,x:Z,y:X,scale:ce,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:Q})}},h.prototype.measureText=function(z){if(typeof z!="string")throw Os.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Z=this.pdf,X=this.pdf.internal.scaleFactor,Q=Z.internal.getFontSize(),ne=Z.getStringUnitWidth(z)*Q/Z.internal.scaleFactor;return new function(ce){var ie=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this}({width:ne*=Math.round(96*X/72*1e4)/1e4})},h.prototype.scale=function(z,Z){if(isNaN(z)||isNaN(Z))throw Os.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new c(z,0,0,Z,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},h.prototype.rotate=function(z){if(isNaN(z))throw Os.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Z=new c(Math.cos(z),Math.sin(z),-Math.sin(z),Math.cos(z),0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.translate=function(z,Z){if(isNaN(z)||isNaN(Z))throw Os.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new c(1,0,0,1,z,Z);this.ctx.transform=this.ctx.transform.multiply(X)},h.prototype.transform=function(z,Z,X,Q,ne,ce){if(isNaN(z)||isNaN(Z)||isNaN(X)||isNaN(Q)||isNaN(ne)||isNaN(ce))throw Os.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ie=new c(z,Z,X,Q,ne,ce);this.ctx.transform=this.ctx.transform.multiply(ie)},h.prototype.setTransform=function(z,Z,X,Q,ne,ce){z=isNaN(z)?1:z,Z=isNaN(Z)?0:Z,X=isNaN(X)?0:X,Q=isNaN(Q)?1:Q,ne=isNaN(ne)?0:ne,ce=isNaN(ce)?0:ce,this.ctx.transform=new c(z,Z,X,Q,ne,ce)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(z,Z,X,Q,ne,ce,ie,pe,ae){var be=this.pdf.getImageProperties(z),we=1,Ie=1,Ee=1,H=1;Q!==void 0&&pe!==void 0&&(Ee=pe/Q,H=ae/ne,we=be.width/Q*pe/Q,Ie=be.height/ne*ae/ne),ce===void 0&&(ce=Z,ie=X,Z=0,X=0),Q!==void 0&&pe===void 0&&(pe=Q,ae=ne),Q===void 0&&pe===void 0&&(pe=be.width,ae=be.height);for(var Le,Ye=this.ctx.transform.decompose(),xt=F(Ye.rotate.shx),qe=new c,ft=(qe=(qe=(qe=qe.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale)).applyToRectangle(new l(ce-Z*Ee,ie-X*H,Q*we,ne*Ie)),ke=v.call(this,ft),lt=[],Ve=0;Ve<ke.length;Ve+=1)lt.indexOf(ke[Ve])===-1&&lt.push(ke[Ve]);if(N(lt),this.autoPaging)for(var Ke=lt[0],yt=lt[lt.length-1],Mt=Ke;Mt<yt+1;Mt++){this.pdf.setPage(Mt);var Gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qt=Mt===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nt=Mt===1?0:At+(Mt-2)*Dt;if(this.ctx.clip_path.length!==0){var $r=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Le,this.posX+this.margin[3],-Nt+qt+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=$r}var Or=JSON.parse(JSON.stringify(ft));Or=w([Or],this.posX+this.margin[3],-Nt+qt+this.ctx.prevPageLastElemOffset)[0];var Ht=(Mt>Ke||Mt<yt)&&g.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gt,Dt,null).clip().discardPath()),this.pdf.addImage(z,"JPEG",Or.x,Or.y,Or.w,Or.h,null,null,xt),Ht&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(z,"JPEG",ft.x,ft.y,ft.w,ft.h,null,null,xt)};var v=function(z,Z,X){var Q=[];Z=Z||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(z.type){default:case"mt":case"lt":Q.push(Math.floor((z.y+ne)/X)+1);break;case"arc":Q.push(Math.floor((z.y+ne-z.radius)/X)+1),Q.push(Math.floor((z.y+ne+z.radius)/X)+1);break;case"qct":var ce=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x,z.y);Q.push(Math.floor((ce.y+ne)/X)+1),Q.push(Math.floor((ce.y+ce.h+ne)/X)+1);break;case"bct":var ie=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x2,z.y2,z.x,z.y);Q.push(Math.floor((ie.y+ne)/X)+1),Q.push(Math.floor((ie.y+ie.h+ne)/X)+1);break;case"rect":Q.push(Math.floor((z.y+ne)/X)+1),Q.push(Math.floor((z.y+z.h+ne)/X)+1)}for(var pe=0;pe<Q.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<Q[pe];)b.call(this);return Q},b=function(){var z=this.fillStyle,Z=this.strokeStyle,X=this.font,Q=this.lineCap,ne=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=z,this.strokeStyle=Z,this.font=X,this.lineCap=Q,this.lineWidth=ne,this.lineJoin=ce},w=function(z,Z,X){for(var Q=0;Q<z.length;Q++)switch(z[Q].type){case"bct":z[Q].x2+=Z,z[Q].y2+=X;case"qct":z[Q].x1+=Z,z[Q].y1+=X;default:z[Q].x+=Z,z[Q].y+=X}return z},N=function(z){return z.sort(function(Z,X){return Z-X})},_=function(z,Z){for(var X,Q,ne=this.fillStyle,ce=this.strokeStyle,ie=this.lineCap,pe=this.lineWidth,ae=Math.abs(pe*this.ctx.transform.scaleX),be=this.lineJoin,we=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),Ee=[],H=0;H<Ie.length;H++)if(Ie[H].x!==void 0)for(var Le=v.call(this,Ie[H]),Ye=0;Ye<Le.length;Ye+=1)Ee.indexOf(Le[Ye])===-1&&Ee.push(Le[Ye]);for(var xt=0;xt<Ee.length;xt++)for(;this.pdf.internal.getNumberOfPages()<Ee[xt];)b.call(this);if(N(Ee),this.autoPaging)for(var qe=Ee[0],ft=Ee[Ee.length-1],ke=qe;ke<ft+1;ke++){this.pdf.setPage(ke),this.fillStyle=ne,this.strokeStyle=ce,this.lineCap=ie,this.lineWidth=ae,this.lineJoin=be;var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=ke===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Mt=ke===1?0:Ke+(ke-2)*yt;if(this.ctx.clip_path.length!==0){var Gt=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(X,this.posX+this.margin[3],-Mt+Ve+this.ctx.prevPageLastElemOffset),C.call(this,z,!0),this.path=Gt}if(Q=JSON.parse(JSON.stringify(we)),this.path=w(Q,this.posX+this.margin[3],-Mt+Ve+this.ctx.prevPageLastElemOffset),Z===!1||ke===0){var qt=(ke>qe||ke<ft)&&g.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,yt,null).clip().discardPath()),C.call(this,z,Z),qt&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=ae,C.call(this,z,Z),this.lineWidth=pe;this.path=we},C=function(z,Z){if((z!=="stroke"||Z||!y.call(this))&&(z==="stroke"||Z||!m.call(this))){for(var X,Q,ne=[],ce=this.path,ie=0;ie<ce.length;ie++){var pe=ce[ie];switch(pe.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:pe,deltas:[],abs:[]});break;case"lt":var ae=ne.length;if(ce[ie-1]&&!isNaN(ce[ie-1].x)&&(X=[pe.x-ce[ie-1].x,pe.y-ce[ie-1].y],ae>0)){for(;ae>=0;ae--)if(ne[ae-1].close!==!0&&ne[ae-1].begin!==!0){ne[ae-1].deltas.push(X),ne[ae-1].abs.push(pe);break}}break;case"bct":X=[pe.x1-ce[ie-1].x,pe.y1-ce[ie-1].y,pe.x2-ce[ie-1].x,pe.y2-ce[ie-1].y,pe.x-ce[ie-1].x,pe.y-ce[ie-1].y],ne[ne.length-1].deltas.push(X);break;case"qct":var be=ce[ie-1].x+2/3*(pe.x1-ce[ie-1].x),we=ce[ie-1].y+2/3*(pe.y1-ce[ie-1].y),Ie=pe.x+2/3*(pe.x1-pe.x),Ee=pe.y+2/3*(pe.y1-pe.y),H=pe.x,Le=pe.y;X=[be-ce[ie-1].x,we-ce[ie-1].y,Ie-ce[ie-1].x,Ee-ce[ie-1].y,H-ce[ie-1].x,Le-ce[ie-1].y],ne[ne.length-1].deltas.push(X);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(pe)}}Q=Z?null:z==="stroke"?"stroke":"fill";for(var Ye=!1,xt=0;xt<ne.length;xt++)if(ne[xt].arc)for(var qe=ne[xt].abs,ft=0;ft<qe.length;ft++){var ke=qe[ft];ke.type==="arc"?I.call(this,ke.x,ke.y,ke.radius,ke.startAngle,ke.endAngle,ke.counterclockwise,void 0,Z,!Ye):R.call(this,ke.x,ke.y),Ye=!0}else if(ne[xt].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(ne[xt].begin!==!0){var lt=ne[xt].start.x,Ve=ne[xt].start.y;W.call(this,ne[xt].deltas,lt,Ve),Ye=!0}Q&&$.call(this,Q),Z&&O.call(this)}},E=function(z){var Z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=Z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return z-X;case"top":return z+Z-X;case"hanging":return z+Z-2*X;case"middle":return z+Z/2-X;default:return z}},A=function(z){return z+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var z=function(){};return z.colorStops=[],z.addColorStop=function(Z,X){this.colorStops.push([Z,X])},z.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},z.isCanvasGradient=!0,z},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(z,Z,X,Q,ne,ce,ie,pe,ae){for(var be=K.call(this,X,Q,ne,ce),we=0;we<be.length;we++){var Ie=be[we];we===0&&(ae?P.call(this,Ie.x1+z,Ie.y1+Z):R.call(this,Ie.x1+z,Ie.y1+Z)),Y.call(this,z,Z,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}pe?O.call(this):$.call(this,ie)},$=function(z){switch(z){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(z,Z){this.pdf.internal.out(r(z)+" "+s(Z)+" m")},M=function(z){var Z;switch(z.align){case"right":case"end":Z="right";break;case"center":Z="center";break;default:Z="left"}var X=this.pdf.getTextDimensions(z.text),Q=E.call(this,z.y),ne=A.call(this,Q)-X.h,ce=this.ctx.transform.applyToPoint(new o(z.x,Q)),ie=this.ctx.transform.decompose(),pe=new c;pe=(pe=(pe=pe.multiply(ie.translate)).multiply(ie.skew)).multiply(ie.scale);for(var ae,be,we,Ie=this.ctx.transform.applyToRectangle(new l(z.x,Q,X.w,X.h)),Ee=pe.applyToRectangle(new l(z.x,ne,X.w,X.h)),H=v.call(this,Ee),Le=[],Ye=0;Ye<H.length;Ye+=1)Le.indexOf(H[Ye])===-1&&Le.push(H[Ye]);if(N(Le),this.autoPaging)for(var xt=Le[0],qe=Le[Le.length-1],ft=xt;ft<qe+1;ft++){this.pdf.setPage(ft);var ke=ft===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[2],Ke=Ve-this.margin[0],yt=this.pdf.internal.pageSize.width-this.margin[1],Mt=yt-this.margin[3],Gt=ft===1?0:lt+(ft-2)*Ke;if(this.ctx.clip_path.length!==0){var qt=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ae,this.posX+this.margin[3],-1*Gt+ke),C.call(this,"fill",!0),this.path=qt}var At=w([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-Gt+ke+this.ctx.prevPageLastElemOffset)[0];z.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*z.scale),we=this.lineWidth,this.lineWidth=we*z.scale);var Dt=this.autoPaging!=="text";if(Dt||At.y+At.h<=Ve){if(Dt||At.y>=ke&&At.x<=yt){var Nt=Dt?z.text:this.pdf.splitTextToSize(z.text,z.maxWidth||yt-At.x)[0],$r=w([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-Gt+ke+this.ctx.prevPageLastElemOffset)[0],Or=Dt&&(ft>xt||ft<qe)&&g.call(this);Or&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,Ke,null).clip().discardPath()),this.pdf.text(Nt,$r.x,$r.y,{angle:z.angle,align:Z,renderingMode:z.renderingMode}),Or&&this.pdf.restoreGraphicsState()}}else At.y<Ve&&(this.ctx.prevPageLastElemOffset+=Ve-At.y);z.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=we)}else z.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*z.scale),we=this.lineWidth,this.lineWidth=we*z.scale),this.pdf.text(z.text,ce.x+this.posX,ce.y+this.posY,{angle:z.angle,align:Z,renderingMode:z.renderingMode,maxWidth:z.maxWidth}),z.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=we)},R=function(z,Z,X,Q){X=X||0,Q=Q||0,this.pdf.internal.out(r(z+X)+" "+s(Z+Q)+" l")},W=function(z,Z,X){return this.pdf.lines(z,Z,X,null,null)},Y=function(z,Z,X,Q,ne,ce,ie,pe){this.pdf.internal.out([e(a(X+z)),e(i(Q+Z)),e(a(ne+z)),e(i(ce+Z)),e(a(ie+z)),e(i(pe+Z)),"c"].join(" "))},K=function(z,Z,X,Q){for(var ne=2*Math.PI,ce=Math.PI/2;Z>X;)Z-=ne;var ie=Math.abs(X-Z);ie<ne&&Q&&(ie=ne-ie);for(var pe=[],ae=Q?-1:1,be=Z;ie>1e-5;){var we=be+ae*Math.min(ie,ce);pe.push(L.call(this,z,be,we)),ie-=Math.abs(we-be),be=we}return pe},L=function(z,Z,X){var Q=(X-Z)/2,ne=z*Math.cos(Q),ce=z*Math.sin(Q),ie=ne,pe=-ce,ae=ie*ie+pe*pe,be=ae+ie*ne+pe*ce,we=4/3*(Math.sqrt(2*ae*be)-be)/(ie*ce-pe*ne),Ie=ie-we*pe,Ee=pe+we*ie,H=Ie,Le=-Ee,Ye=Q+Z,xt=Math.cos(Ye),qe=Math.sin(Ye);return{x1:z*Math.cos(Z),y1:z*Math.sin(Z),x2:Ie*xt-Ee*qe,y2:Ie*qe+Ee*xt,x3:H*xt-Le*qe,y3:H*qe+Le*xt,x4:z*Math.cos(X),y4:z*Math.sin(X)}},F=function(z){return 180*z/Math.PI},ee=function(z,Z,X,Q,ne,ce){var ie=z+.5*(X-z),pe=Z+.5*(Q-Z),ae=ne+.5*(X-ne),be=ce+.5*(Q-ce),we=Math.min(z,ne,ie,ae),Ie=Math.max(z,ne,ie,ae),Ee=Math.min(Z,ce,pe,be),H=Math.max(Z,ce,pe,be);return new l(we,Ee,Ie-we,H-Ee)},se=function(z,Z,X,Q,ne,ce,ie,pe){var ae,be,we,Ie,Ee,H,Le,Ye,xt,qe,ft,ke,lt,Ve,Ke=X-z,yt=Q-Z,Mt=ne-X,Gt=ce-Q,qt=ie-ne,At=pe-ce;for(be=0;be<41;be++)xt=(Le=(we=z+(ae=be/40)*Ke)+ae*((Ee=X+ae*Mt)-we))+ae*(Ee+ae*(ne+ae*qt-Ee)-Le),qe=(Ye=(Ie=Z+ae*yt)+ae*((H=Q+ae*Gt)-Ie))+ae*(H+ae*(ce+ae*At-H)-Ye),be==0?(ft=xt,ke=qe,lt=xt,Ve=qe):(ft=Math.min(ft,xt),ke=Math.min(ke,qe),lt=Math.max(lt,xt),Ve=Math.max(Ve,qe));return new l(Math.round(ft),Math.round(ke),Math.round(lt-ft),Math.round(Ve-ke))},q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z,Z,X=(z=this.ctx.lineDash,Z=this.ctx.lineDashOffset,JSON.stringify({lineDash:z,lineDashOffset:Z}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(wr.API),(function(t){var e=function(o){var l,c,d,u,h,f,m,y,g,v;for(c=[],d=0,u=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;u>d;d+=4)(h=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(f=(h=((h=((h=((h=(h-(v=h%85))/85)-(g=h%85))/85)-(y=h%85))/85)-(m=h%85))/85)%85,c.push(f+33,m+33,y+33,g+33,v+33)):c.push(122);return(function(b,w){for(var N=w;N>0;N--)b.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,d,u,h,f=String,m="length",y=255,g="charCodeAt",v="slice",b="replace";for(o[v](-2),o=o[v](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),d=[],u=0,h=(o+=l="uuuuu"[v](o[m]%5||5))[m];h>u;u+=5)c=52200625*(o[g](u)-33)+614125*(o[g](u+1)-33)+7225*(o[g](u+2)-33)+85*(o[g](u+3)-33)+(o[g](u+4)-33),d.push(y&c>>24,y&c>>16,y&c>>8,y&c);return(function(w,N){for(var _=N;_>0;_--)w.pop()})(d,l[m]),f.fromCharCode.apply(f,d)},s=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=JE(l)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};t.processDataByFilters=function(o,l){var c=0,d=o||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=s(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}})(wr.API),(function(t){t.loadFile=function(e,r,s){return(function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,d,u){var h=new XMLHttpRequest,f=0,m=function(y){var g=y.length,v=[],b=String.fromCharCode;for(f=0;f<g;f+=1)v.push(b(255&y.charCodeAt(f)));return v.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(m(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return m(h.responseText)})(a,i,o)}catch{}return l})(e,r,s)},t.loadImageFile=t.loadFile})(wr.API),(function(t){function e(){return(sn.html2canvas?Promise.resolve(sn.html2canvas):Dx(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(sn.DOMPurify?Promise.resolve(sn.DOMPurify):Dx(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var s=function(l){var c=ws(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var d=document.createElement(l);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},i=function l(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(l(h,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),d);return(u=u.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(d){switch(s(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(d){return this.set({src:a("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var y=u[m],g=y.src.find(function(v){return v.format==="truetype"});g&&d.addFont(g.url,y.ref.name,y.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,d.context2d.save(!0),c(this.prop.container,f)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(s(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(s(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(l=l||wr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,u){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,u){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(u,h){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return d.updateProgress(null,u),f}).then(u,h).then(function(f){return d.updateProgress(1),f})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),c&&(c=c.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),f=d.call(h,l,c);return o.convert(f,u.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,wr.getPageSize=function(l,c,d){if(ws(l)==="object"){var u=l;l=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var h,f=(""+d).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var y,g=0,v=0;if(m.hasOwnProperty(f))g=m[f][1]/h,v=m[f][0]/h;else try{g=d[1],v=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",v>g&&(y=v,v=g,g=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>v&&(y=v,v=g,g=y)}return{width:v,height:g,unit:c,k:h,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(GC):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}})(wr.API),wr.API.addJS=function(t){return Wz=t,this.internal.events.subscribe("postPutResources",function(){J2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(J2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Vz=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Wz+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){J2!==void 0&&Vz!==void 0&&this.internal.out("/Names <</JavaScript "+J2+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=s.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var h=r.internal.newObject();u.push(h);var f=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(s,a,i){var o={title:a,options:i,children:[]};return s==null&&(s=this.root),s.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(s){s.id=r.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},r.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},r.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<s.children.length;i++){var o=s.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(s)),i>0&&this.line("/Prev "+this.makeRef(s.children[i-1])),i<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<s.children.length;d++)this.renderItems(s.children[d])},r.outline.line=function(s){this.ctx.val+=s+`\r
`},r.outline.makeRef=function(s){return s.id+" 0 R"},r.outline.makeString=function(s){return"("+r.internal.pdfEscape(s)+")"},r.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(s,a){for(var i=0;i<a.children.length;i++)s.count++,this.count_r(s,a.children[i]);return s.count}}])})(wr.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,s,a,i,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(h){for(var f,m=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,g={width:0,height:0,numcomponents:1},v=4;v<y;v+=2){if(v+=m,e.indexOf(h.charCodeAt(v+1))!==-1){f=256*h.charCodeAt(v+5)+h.charCodeAt(v+6),g={width:256*h.charCodeAt(v+7)+h.charCodeAt(v+8),height:f,numcomponents:h.charCodeAt(v+9)};break}m=256*h.charCodeAt(v+2)+h.charCodeAt(v+3)}return g})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:s,alias:a}}return u}})(wr.API),wr.API.processPNG=function(t,e,r,s){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,i=EDe(t,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,d=i.palette,u=i.depth;a=d&&c===1?(function(I){for(var $=I.width,O=I.height,P=I.data,M=I.palette,R=I.depth,W=!1,Y=[],K=[],L=void 0,F=!1,ee=0,se=0;se<M.length;se++){var q=KU(M[se],4),z=q[0],Z=q[1],X=q[2],Q=q[3];Y.push(z,Z,X),Q!=null&&(Q===0?(ee++,K.length<1&&K.push(se)):Q<255&&(F=!0))}if(F||ee>1){W=!0,K=void 0;var ne=$*O;L=new Uint8Array(ne);for(var ce=new DataView(P.buffer),ie=0;ie<ne;ie++){var pe=YC(ce,ie,R),ae=KU(M[pe],4)[3];L[ie]=ae}}else ee===0&&(K=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:W?8:void 0,colorBytes:P,alphaBytes:L,needSMask:W,palette:Y,mask:K}})(i):c===2||c===4?(function(I){for(var $=I.data,O=I.width,P=I.height,M=I.channels,R=I.depth,W=M===2?"DeviceGray":"DeviceRGB",Y=M-1,K=O*P,L=Y,F=K*L,ee=1*K,se=Math.ceil(F*R/8),q=Math.ceil(ee*R/8),z=new Uint8Array(se),Z=new Uint8Array(q),X=new DataView($.buffer),Q=new DataView(z.buffer),ne=new DataView(Z.buffer),ce=!1,ie=0;ie<K;ie++){for(var pe=ie*M,ae=0;ae<L;ae++)Qz(Q,YC(X,pe+ae,R),ie*L+ae,R);var be=YC(X,pe+L,R);be<(1<<R)-1&&(ce=!0),Qz(ne,be,1*ie,R)}return{colorSpace:W,colorsPerPixel:Y,sMaskBitsPerComponent:ce?R:void 0,colorBytes:z,alphaBytes:Z,needSMask:ce}})(i):(function(I){var $=I.data,O=I.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:O,colorsPerPixel:O==="DeviceGray"?1:3,colorBytes:$ instanceof Uint16Array?(function(P){for(var M=P.length,R=new Uint8Array(2*M),W=new DataView(R.buffer,R.byteOffset,R.byteLength),Y=0;Y<M;Y++)W.setUint16(2*Y,P[Y],!1);return R})($):$,needSMask:!1}})(i);var h,f,m,y=a,g=y.colorSpace,v=y.colorsPerPixel,b=y.sMaskBitsPerComponent,w=y.colorBytes,N=y.alphaBytes,_=y.needSMask,C=y.palette,E=y.mask,A=null;return s!==wr.API.image_compression.NONE&&typeof JE=="function"?(A=(function(I){var $;switch(I){case wr.API.image_compression.FAST:$=11;break;case wr.API.image_compression.MEDIUM:$=13;break;case wr.API.image_compression.SLOW:$=14;break;default:$=12}return $})(s),h=this.decode.FLATE_DECODE,f="/Predictor ".concat(A," /Colors ").concat(v," /BitsPerComponent ").concat(u," /Columns ").concat(o),t=Kz(w,Math.ceil(o*v*u/8),v,u,s),_&&(m=Kz(N,Math.ceil(o*b/8),1,b,s))):(h=void 0,f=void 0,t=w,_&&(m=N)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:r,data:t,index:e,filter:h,decodeParameters:f,transparency:E,palette:C,sMask:m,predictor:A,width:o,height:l,bitsPerComponent:u,sMaskBitsPerComponent:b,colorSpace:g}}},(function(t){t.processGIF89A=function(e,r,s,a){var i=new XDe(e),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new XC(100).encode(d,100);return t.processJPEG.call(this,u,r,s,a)},t.processGIF87A=t.processGIF89A})(wr.API),jd.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:s,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},jd.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Os.log("bit decode error:"+r)}},jd.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},jd.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+2*a*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},jd.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*s;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},jd.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,d=i>>15?255:0,u=s*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=t}},jd.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/e*255|0,u=a*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=t}},jd.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=s,this.data[o+3]=255}this.pos+=this.width%4}},jd.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=s,this.data[l+3]=o}},jd.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,s,a){var i=new jd(e,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new XC(100).encode(c,100);return t.processJPEG.call(this,d,r,s,a)}})(wr.API),tV.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,s,a){var i=new tV(e),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new XC(100).encode(c,100);return t.processJPEG.call(this,d,r,s,a)}})(wr.API),wr.API.processRGBA=function(t,e,r){for(var s=t.data,a=s.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var u=s[d],h=s[d+1],f=s[d+2],m=s[d+3];i[l++]=u,i[l++]=h,i[l++]=f,o[c++]=m}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},wr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ux=wr.API,Q2=ux.getCharWidthsArray=function(t,e){var r,s,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=e.doKerning!==!1,f=0,m=t.length,y=0,g=l[0]||c,v=[];for(r=0;r<m;r++)s=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+o*(1e3/i)||0)/1e3):(f=h&&ws(d[s])==="object"&&!isNaN(parseInt(d[s][y],10))?d[s][y]/u:0,v.push((l[s]||g)/c+f)),y=s;return v},Hz=ux.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return ux.processArabic&&(t=ux.processArabic(t)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(t,r,a)/r:Q2.apply(this,arguments).reduce(function(i,o){return i+o},0)},qz=function(t,e,r,s){for(var a=[],i=0,o=t.length,l=0;i!==o&&l+e[i]<r;)l+=e[i],i++;a.push(t.slice(0,i));var c=i;for(l=0;i!==o;)l+e[i]>s&&(a.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},Gz=function(t,e,r){r||(r={});var s,a,i,o,l,c,d,u=[],h=[u],f=r.textIndent||0,m=0,y=0,g=t.split(" "),v=Q2.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),w=[];g.map(function(_){(_=_.split(/\s*\n/)).length>1?w=w.concat(_.map(function(C,E){return(E&&C.length?`
`:"")+C})):w.push(_[0])}),g=w,c=Hz.apply(this,[b,r])}for(i=0,o=g.length;i<o;i++){var N=0;if(s=g[i],c&&s[0]==`
`&&(s=s.substr(1),N=1),f+m+(y=(a=Q2.apply(this,[s,r])).reduce(function(_,C){return _+C},0))>e||N){if(y>e){for(l=qz.apply(this,[s,a,e-(f+m),e]),u.push(l.shift()),u=[l.pop()];l.length;)h.push([l.shift()]);y=a.slice(s.length-(u[0]?u[0].length:0)).reduce(function(_,C){return _+C},0)}else u=[s];h.push(u),f=y+c,m=v}else u.push(s),f+=m+y,m=v}return d=c?function(_,C){return(C?b:"")+_.join(" ")}:function(_){return _.join(" ")},h.map(d)},ux.splitTextToSize=function(t,e,r){var s,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),f="Unicode";return h.metadata[f]?{widths:h.metadata[f].widths||{0:1},kerning:h.metadata[f].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);s=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=s.length;l<c;l++)d=d.concat(Gz.apply(this,[s[l],o,i]));return d},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",s={},a={},i=0;i<16;i++)s[r[i]]=e[i],a[e[i]]=r[i];var o=function(f){return"0x"+parseInt(f,10).toString(16)},l=t.__fontmetrics__.compress=function(f){var m,y,g,v,b=["{"];for(var w in f){if(m=f[w],isNaN(parseInt(w,10))?y="'"+w+"'":(w=parseInt(w,10),y=(y=o(w).slice(2)).slice(0,-1)+a[y.slice(-1)]),typeof m=="number")m<0?(g=o(m).slice(3),v="-"):(g=o(m).slice(2),v=""),g=v+g.slice(0,-1)+a[g.slice(-1)];else{if(ws(m)!=="object")throw new Error("Don't know what to do with value type "+ws(m)+".");g=l(m)}b.push(y+g)}return b.push("}"),b.join("")},c=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,y,g,v,b={},w=1,N=b,_=[],C="",E="",A=f.length-1,I=1;I<A;I+=1)(v=f[I])=="'"?m?(g=m.join(""),m=void 0):m=[]:m?m.push(v):v=="{"?(_.push([N,g]),N={},g=void 0):v=="}"?((y=_.pop())[0][y[1]]=N,g=void 0,N=y[0]):v=="-"?w=-1:g===void 0?s.hasOwnProperty(v)?(C+=s[v],g=parseInt(C,16)*w,w=1,C=""):C+=v:s.hasOwnProperty(v)?(E+=s[v],N[g]=parseInt(E,16)*w,w=1,g=void 0,E=""):E+=v;return b},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var m=f.font,y=h.Unicode[m.postScriptName];y&&(m.metadata.Unicode={},m.metadata.Unicode.widths=y.widths,m.metadata.Unicode.kerning=y.kerning);var g=u.Unicode[m.postScriptName];g&&(m.metadata.Unicode.encoding=g,m.encoding=g.codePages[0])}])})(wr.API),(function(t){var e=function(r){for(var s=r.length,a=new Uint8Array(s),i=0;i<s;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var s=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Sw(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,s)}}])})(wr),wr.API.addSvgAsImage=function(t,e,r,s,a,i,o,l){if(isNaN(e)||isNaN(r))throw Os.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Os.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=a;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(sn.canvg?Promise.resolve(sn.canvg):Dx(()=>import("./index.es-CLJxDamq.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load canvg: "+f))}).then(function(f){return f.default?f.default:f}).then(function(f){return f.fromString(d,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(u)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),e,r,s,a,o,l)})},wr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(e,r);return this},wr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var s,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,h=0;function f(y,g){var v,b=!1;for(v=0;v<y.length;v+=1)y[v]===g&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=l.length;for(h=0;h<m;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(ws(t)==="object"){for(a in t)if(i=t[a],f(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&f(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(d=0;d<i.length;d+=1)if(s=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(s=!1);s===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,g=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?g.push("/"+y+" /"+r[y].value):g.push("/"+y+" "+r[y].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(s)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(wr.API),(function(t){var e=t.API,r=e.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,f=i.length;h<f;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},s=function(i){var o,l,c,d,u,h,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,f=(l=Object.keys(i).sort(function(m,y){return m-y})).length;h<f;h++)o=l[h],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,f=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",y=0;y<f.length;y++)m+=String.fromCharCode(f[y]);var g=d();u({data:m,addLength1:!0,objectId:g}),c("endobj");var v=d();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var b=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+gx(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var w=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+gx(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+gx(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,f="",m=0;m<h.length;m++)f+=String.fromCharCode(h[m]);var y=d();u({data:f,addLength1:!0,objectId:y}),c("endobj");var g=d();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var v=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+gx(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+gx(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,d=i.y,u=i.options||{},h=i.mutex||{},f=h.pdfEscape,m=h.activeFontKey,y=h.fonts,g=m,v="",b=0,w="",N=y[g].encoding;if(y[g].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:h};for(w=l,g=m,Array.isArray(l)&&(w=l[0]),b=0;b<w.length;b+=1)y[g].metadata.hasOwnProperty("cmap")&&(o=y[g].metadata.cmap.unicode.codeMap[w[b].charCodeAt(0)]),o||w[b].charCodeAt(0)<256&&y[g].metadata.hasOwnProperty("Unicode")?v+=w[b]:v+="";var _="";return parseInt(g.slice(1))<14||N==="WinAnsiEncoding"?_=f(v,g).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(_=r(v,y[g])),h.isHex=!0,{text:_,x:c,y:d,options:u,mutex:h}};e.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])})(wr),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,s){return e.call(this),this.internal.vFS[r]=s,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(wr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(s){var a,i,o,l,c,d,u,h=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,N=0;this.__bidiEngine__={};var _=function(P){var M=P.charCodeAt(),R=M>>8,W=g[R];return W!==void 0?h[256*W+(255&M)]:R===252||R===253?"AL":b.test(R)?"L":R===8?"R":"N"},C=function(P){for(var M,R=0;R<P.length;R++){if((M=_(P.charAt(R)))==="L")return!1;if(M==="R")return!0}return!1},E=function(P,M,R,W){var Y,K,L,F,ee=M[W];switch(ee){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(ee="AN");break;case"AL":w=!0,ee="R";break;case"WS":case"BN":ee="N";break;case"CS":W<1||W+1>=M.length||(Y=R[W-1])!=="EN"&&Y!=="AN"||(K=M[W+1])!=="EN"&&K!=="AN"?ee="N":w&&(K="AN"),ee=K===Y?K:"N";break;case"ES":ee=(Y=W>0?R[W-1]:"B")==="EN"&&W+1<M.length&&M[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&R[W-1]==="EN"){ee="EN";break}if(w){ee="N";break}for(L=W+1,F=M.length;L<F&&M[L]==="ET";)L++;ee=L<F&&M[L]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(F=M.length,L=W+1;L<F&&M[L]==="NSM";)L++;if(L<F){var se=P[W],q=se>=1425&&se<=2303||se===64286;if(Y=M[L],q&&(Y==="R"||Y==="AL")){ee="R";break}}}ee=W<1||(Y=M[W-1])==="B"?"N":R[W-1];break;case"B":w=!1,a=!0,ee=N;break;case"S":i=!0,ee="N"}return ee},A=function(P,M,R){var W=P.split("");return R&&I(W,R,{hiLevel:N}),W.reverse(),M&&M.reverse(),W.join("")},I=function(P,M,R){var W,Y,K,L,F,ee=-1,se=P.length,q=0,z=[],Z=N?m:f,X=[];for(w=!1,a=!1,i=!1,Y=0;Y<se;Y++)X[Y]=_(P[Y]);for(K=0;K<se;K++){if(F=q,z[K]=E(P,X,z,K),W=240&(q=Z[F][y[z[K]]]),q&=15,M[K]=L=Z[q][5],W>0)if(W===16){for(Y=ee;Y<K;Y++)M[Y]=1;ee=-1}else ee=-1;if(Z[q][6])ee===-1&&(ee=K);else if(ee>-1){for(Y=ee;Y<K;Y++)M[Y]=L;ee=-1}X[K]==="B"&&(M[K]=0),R.hiLevel|=L}i&&(function(Q,ne,ce){for(var ie=0;ie<ce;ie++)if(Q[ie]==="S"){ne[ie]=N;for(var pe=ie-1;pe>=0&&Q[pe]==="WS";pe--)ne[pe]=N}})(X,M,se)},$=function(P,M,R,W,Y){if(!(Y.hiLevel<P)){if(P===1&&N===1&&!a)return M.reverse(),void(R&&R.reverse());for(var K,L,F,ee,se=M.length,q=0;q<se;){if(W[q]>=P){for(F=q+1;F<se&&W[F]>=P;)F++;for(ee=q,L=F-1;ee<L;ee++,L--)K=M[ee],M[ee]=M[L],M[L]=K,R&&(K=R[ee],R[ee]=R[L],R[L]=K);q=F}q++}}},O=function(P,M,R){var W=P.split(""),Y={hiLevel:N};return R||(R=[]),I(W,R,Y),(function(K,L,F){if(F.hiLevel!==0&&u)for(var ee,se=0;se<K.length;se++)L[se]===1&&(ee=v.indexOf(K[se]))>=0&&(K[se]=v[ee+1])})(W,R,Y),$(2,W,M,R,Y),$(1,W,M,R,Y),W.join("")};return this.__bidiEngine__.doBidiReorder=function(P,M,R){if((function(Y,K){if(K)for(var L=0;L<Y.length;L++)K[L]=L;l===void 0&&(l=C(Y)),d===void 0&&(d=C(Y))})(P,M),o||!c||d)if(o&&c&&l^d)N=l?1:0,P=A(P,M,R);else if(!o&&c&&d)N=l?1:0,P=O(P,M,R),P=A(P,M);else if(!o||l||c||d){if(o&&!c&&l^d)P=A(P,M),l?(N=0,P=O(P,M,R)):(N=1,P=O(P,M,R),P=A(P,M));else if(o&&l&&!c&&d)N=1,P=O(P,M,R),P=A(P,M);else if(!o&&!c&&l^d){var W=u;l?(N=1,P=O(P,M,R),N=0,u=!1,P=O(P,M,R),u=W):(N=0,P=O(P,M,R),P=A(P,M),N=1,u=!1,P=O(P,M,R),u=W,P=A(P,M))}}else N=0,P=O(P,M,R);else N=l?1:0,P=O(P,M,R);return P},this.__bidiEngine__.setOptions=function(P){P&&(o=P.isInputVisual,c=P.isOutputVisual,l=P.isInputRtl,d=P.isOutputRtl,u=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(s){var a=s.text;s.x,s.y;var i=s.options||{};s.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);s.text=o}else s.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(wr),wr.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new dm(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new uMe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new ZDe(this.contents),this.head=new QDe(this),this.name=new sMe(this),this.cmap=new Dee(this),this.toUnicode={},this.hhea=new eMe(this),this.maxp=new aMe(this),this.hmtx=new iMe(this),this.post=new rMe(this),this.os2=new tMe(this),this.loca=new dMe(this),this.glyf=new oMe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,s,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],d.push(Math.round(e*this.scaleFactor));return d}.call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,s){var a,i,o,l;for(o=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var s;return r==null&&(r=!1),s=r?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},t})();var Zd,dm=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,s;for(s=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)s[r]=String.fromCharCode(this.readByte());return s.join("")},t.prototype.writeString=function(e){var r,s,a;for(a=[],r=0,s=e.length;0<=s?r<s:r>s;r=0<=s?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,s,a,i,o,l,c;return e=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*s+4294967296*a+16777216*i+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,s;return r=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,s;for(r=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)r.push(this.readByte());return r},t.prototype.write=function(e){var r,s,a,i;for(i=[],s=0,a=e.length;s<a;s++)r=e[s],i.push(this.writeByte(r));return i},t})(),ZDe=(function(){var t;function e(r){var s,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)s={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(r){var s,a,i,o,l,c,d,u,h,f,m,y,g;for(g in m=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(m)/c),o=Math.floor(h/c),u=16*m-h,(a=new dm).writeInt(this.scalarType),a.writeShort(m),a.writeShort(h),a.writeShort(o),a.writeShort(u),i=16*m,d=a.pos+i,l=null,y=[],r)for(f=r[g],a.writeString(g),a.writeInt(t(f)),a.writeInt(d),a.writeInt(f.length),y=y.concat(f),g==="head"&&(l=d),d+=f.length;d%4;)y.push(0),d++;return a.write(y),s=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(s),a.data},t=function(r){var s,a,i,o;for(r=Mee.call(r);r.length%4;)r.push(0);for(i=new dm(r),a=0,s=0,o=r.length;s<o;s=s+=4)a+=i.readUInt32();return 4294967295&a},e})(),JDe={}.hasOwnProperty,Xu=function(t,e){for(var r in e)JDe.call(e,r)&&(t[r]=e[r]);function s(){this.constructor=t}return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};Zd=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var QDe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xu(t,Zd),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new dm).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),rV=(function(){function t(e,r){var s,a,i,o,l,c,d,u,h,f,m,y,g,v,b,w,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),f=m/2,e.pos+=6,i=(function(){var _,C;for(C=[],c=_=0;0<=f?_<f:_>f;c=0<=f?++_:--_)C.push(e.readUInt16());return C})(),e.pos+=2,g=(function(){var _,C;for(C=[],c=_=0;0<=f?_<f:_>f;c=0<=f?++_:--_)C.push(e.readUInt16());return C})(),d=(function(){var _,C;for(C=[],c=_=0;0<=f?_<f:_>f;c=0<=f?++_:--_)C.push(e.readUInt16());return C})(),u=(function(){var _,C;for(C=[],c=_=0;0<=f?_<f:_>f;c=0<=f?++_:--_)C.push(e.readUInt16());return C})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var _,C;for(C=[],c=_=0;0<=a?_<a:_>a;c=0<=a?++_:--_)C.push(e.readUInt16());return C})(),c=b=0,N=i.length;b<N;c=++b)for(v=i[c],s=w=y=g[c];y<=v?w<=v:w>=v;s=y<=v?++w:--w)u[c]===0?o=s+d[c]:(o=l[u[c]/2+(s-y)-(f-c)]||0)!==0&&(o+=d[c]),this.codeMap[s]=65535&o}e.pos=h}return t.encode=function(e,r){var s,a,i,o,l,c,d,u,h,f,m,y,g,v,b,w,N,_,C,E,A,I,$,O,P,M,R,W,Y,K,L,F,ee,se,q,z,Z,X,Q,ne,ce,ie,pe,ae,be,we;switch(W=new dm,o=Object.keys(e).sort(function(Ie,Ee){return Ie-Ee}),r){case"macroman":for(g=0,v=(function(){var Ie=[];for(y=0;y<256;++y)Ie.push(0);return Ie})(),w={0:0},i={},Y=0,ee=o.length;Y<ee;Y++)w[pe=e[a=o[Y]]]==null&&(w[pe]=++g),i[a]={old:e[a],new:w[e[a]]},v[a]=w[e[a]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(v),{charMap:i,subtable:W.data,maxGlyphID:g+1};case"unicode":for(M=[],h=[],N=0,w={},s={},b=d=null,K=0,se=o.length;K<se;K++)w[C=e[a=o[K]]]==null&&(w[C]=++N),s[a]={old:C,new:w[C]},l=w[C]-a,b!=null&&l===d||(b&&h.push(b),M.push(a),d=l),b=a;for(b&&h.push(b),h.push(65535),M.push(65535),O=2*($=M.length),I=2*Math.pow(Math.log($)/Math.LN2,2),f=Math.log(I/2)/Math.LN2,A=2*$-I,c=[],E=[],m=[],y=L=0,q=M.length;L<q;y=++L){if(P=M[y],u=h[y],P===65535){c.push(0),E.push(0);break}if(P-(R=s[P].new)>=32768)for(c.push(0),E.push(2*(m.length+$-y)),a=F=P;P<=u?F<=u:F>=u;a=P<=u?++F:--F)m.push(s[a].new);else c.push(R-P),E.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*$+2*m.length),W.writeUInt16(0),W.writeUInt16(O),W.writeUInt16(I),W.writeUInt16(f),W.writeUInt16(A),ce=0,z=h.length;ce<z;ce++)a=h[ce],W.writeUInt16(a);for(W.writeUInt16(0),ie=0,Z=M.length;ie<Z;ie++)a=M[ie],W.writeUInt16(a);for(ae=0,X=c.length;ae<X;ae++)l=c[ae],W.writeUInt16(l);for(be=0,Q=E.length;be<Q;be++)_=E[be],W.writeUInt16(_);for(we=0,ne=m.length;we<ne;we++)g=m[we],W.writeUInt16(g);return{charMap:s,subtable:W.data,maxGlyphID:N+1}}},t})(),Dee=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xu(t,Zd),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,s,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)r=new rV(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var s,a;return r==null&&(r="macroman"),s=rV.encode(e,r),(a=new dm).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},t})(),eMe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xu(t,Zd),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),tMe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xu(t,Zd),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,s;for(s=[],r=0;r<10;++r)s.push(e.readByte());return s})(),this.charRange=(function(){var r,s;for(s=[],r=0;r<4;++r)s.push(e.readInt());return s})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(e.readInt());return s})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),rMe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xu(t,Zd),t.prototype.tag="post",t.prototype.parse=function(e){var r,s,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(s=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return s=e.readUInt16(),this.offsets=e.read(s);case 262144:return this.map=function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(e.readUInt32());return c}.call(this)}},t})(),nMe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},sMe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xu(t,Zd),t.prototype.tag="name",t.prototype.parse=function(e){var r,s,a,i,o,l,c,d,u,h,f;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),s=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)s.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},i=u=0,h=s.length;u<h;i=++u)a=s[i],e.pos=a.offset,d=e.readString(a.length),o=new nMe(d,a),c[f=a.nameID]==null&&(c[f]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),aMe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xu(t,Zd),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),iMe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xu(t,Zd),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,s,a,i,o,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,u;for(u=[],r=d=0;0<=a?d<a:d>a;r=0<=a?++d:--d)u.push(e.readInt16());return u})(),this.widths=function(){var d,u,h,f;for(f=[],d=0,u=(h=this.metrics).length;d<u;d++)i=h[d],f.push(i.advance);return f}.call(this),s=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(s));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),Mee=[].slice,oMe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xu(t,Zd),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,s,a,i,o,l,c,d,u,h;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,s=i.indexOf(e),(a=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+s,o=(l=new dm(r.read(a))).readShort(),d=l.readShort(),h=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[e]=o===-1?new cMe(l,d,h,c,u):new lMe(l,o,d,h,c,u),this.cache[e]))},t.prototype.encode=function(e,r,s){var a,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)a=e[r[l]],i.push(o.length),a&&(o=o.concat(a.encode(s)));return i.push(o.length),{table:o,offsets:i}},t})(),lMe=(function(){function t(e,r,s,a,i,o){this.raw=e,this.numberOfContours=r,this.xMin=s,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),cMe=(function(){function t(e,r,s,a,i){var o,l;for(this.raw=e,this.xMin=r,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,s;for(r=new dm(Mee.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),dMe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xu(t,Zd),t.prototype.tag="loca",t.prototype.parse=function(e){var r,s;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=2)i.push(2*e.readUInt16());return i}.call(this):function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=4)i.push(e.readUInt32());return i}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var s=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<s.length;++o)if(s[o]=a,i<r.length&&r[i]==o){++i,s[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var d=new Array(4*s.length),u=0;u<s.length;++u)d[4*u+3]=255&s[u],d[4*u+2]=(65280&s[u])>>8,d[4*u+1]=(16711680&s[u])>>16,d[4*u]=(4278190080&s[u])>>24;return d},t})(),uMe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,s,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)s=i[r],e[r]=a[s];return e},t.prototype.glyphsFor=function(e){var r,s,a,i,o,l,c;for(a={},o=0,l=e.length;o<l;o++)a[i=e[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(s=a[i])!=null&&s.compound&&r.push.apply(r,s.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))s=c[i],a[i]=s;return a},t.prototype.encode=function(e,r){var s,a,i,o,l,c,d,u,h,f,m,y,g,v,b;for(a in s=Dee.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),m={0:0},b=s.charMap)m[(c=b[a]).old]=c.new;for(y in f=s.maxGlyphID,o)y in m||(m[y]=f++);return u=(function(w){var N,_;for(N in _={},w)_[w[N]]=N;return _})(m),h=Object.keys(u).sort(function(w,N){return w-N}),g=(function(){var w,N,_;for(_=[],w=0,N=h.length;w<N;w++)l=h[w],_.push(u[l]);return _})(),i=this.font.glyf.encode(o,g,m),d=this.font.loca.encode(i.offsets,g),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},t})();wr.API.PDFObject=(function(){var t;function e(){}return t=function(r,s){return(Array(s+1).join("0")+r).slice(-s)},e.convert=function(r){var s,a,i,o;if(Array.isArray(r))return"["+(function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)s=r[l],d.push(e.convert(s));return d})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+r},e})();function hMe(t){const e=fMe(t),r=S.forwardRef((s,a)=>{const{children:i,...o}=s,l=S.Children.toArray(i),c=l.find(pMe);if(c){const d=c.props.children,u=l.map(h=>h===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:h);return n.jsx(e,{...o,ref:a,children:S.isValidElement(d)?S.cloneElement(d,void 0,u):null})}return n.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function fMe(t){const e=S.forwardRef((r,s)=>{const{children:a,...i}=r;if(S.isValidElement(a)){const o=gMe(a),l=xMe(i,a.props);return a.type!==S.Fragment&&(l.ref=s?Hu(s,o):o),S.cloneElement(a,l)}return S.Children.count(a)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mMe=Symbol("radix.slottable");function pMe(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mMe}function xMe(t,e){const r={...e};for(const s in e){const a=t[s],i=e[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function gMe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var P5="Popover",[Ree]=Mo(P5,[Dg]),fb=Dg(),[vMe,jm]=Ree(P5),Lee=t=>{const{__scopePopover:e,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=t,l=fb(e),c=S.useRef(null),[d,u]=S.useState(!1),[h,f]=uc({prop:s,defaultProp:a??!1,onChange:i,caller:P5});return n.jsx(LP,{...l,children:n.jsx(vMe,{scope:e,contentId:oc(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:S.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:d,onCustomAnchorAdd:S.useCallback(()=>u(!0),[]),onCustomAnchorRemove:S.useCallback(()=>u(!1),[]),modal:o,children:r})})};Lee.displayName=P5;var Fee="PopoverAnchor",yMe=S.forwardRef((t,e)=>{const{__scopePopover:r,...s}=t,a=jm(Fee,r),i=fb(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return S.useEffect(()=>(o(),()=>l()),[o,l]),n.jsx(NN,{...i,...s,ref:e})});yMe.displayName=Fee;var Bee="PopoverTrigger",Uee=S.forwardRef((t,e)=>{const{__scopePopover:r,...s}=t,a=jm(Bee,r),i=fb(r),o=Zr(e,a.triggerRef),l=n.jsx(Tr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":qee(a.open),...s,ref:o,onClick:Vt(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx(NN,{asChild:!0,...i,children:l})});Uee.displayName=Bee;var jO="PopoverPortal",[bMe,wMe]=Ree(jO,{forceMount:void 0}),zee=t=>{const{__scopePopover:e,forceMount:r,children:s,container:a}=t,i=jm(jO,e);return n.jsx(bMe,{scope:e,forceMount:r,children:n.jsx(fo,{present:r||i.open,children:n.jsx(Vy,{asChild:!0,container:a,children:s})})})};zee.displayName=jO;var Cg="PopoverContent",Vee=S.forwardRef((t,e)=>{const r=wMe(Cg,t.__scopePopover),{forceMount:s=r.forceMount,...a}=t,i=jm(Cg,t.__scopePopover);return n.jsx(fo,{present:s||i.open,children:i.modal?n.jsx(NMe,{...a,ref:e}):n.jsx(SMe,{...a,ref:e})})});Vee.displayName=Cg;var jMe=hMe("PopoverContent.RemoveScroll"),NMe=S.forwardRef((t,e)=>{const r=jm(Cg,t.__scopePopover),s=S.useRef(null),a=Zr(e,s),i=S.useRef(!1);return S.useEffect(()=>{const o=s.current;if(o)return _N(o)},[]),n.jsx(Hy,{as:jMe,allowPinchZoom:!0,children:n.jsx(Wee,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Vt(t.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Vt(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Vt(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),SMe=S.forwardRef((t,e)=>{const r=jm(Cg,t.__scopePopover),s=S.useRef(!1),a=S.useRef(!1);return n.jsx(Wee,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(s.current||r.triggerRef.current?.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Wee=S.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=t,f=jm(Cg,r),m=fb(r);return gN(),n.jsx(Uy,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(By,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:n.jsx(FP,{"data-state":qee(f.open),role:"dialog",id:f.contentId,...m,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Hee="PopoverClose",_Me=S.forwardRef((t,e)=>{const{__scopePopover:r,...s}=t,a=jm(Hee,r);return n.jsx(Tr.button,{type:"button",...s,ref:e,onClick:Vt(t.onClick,()=>a.onOpenChange(!1))})});_Me.displayName=Hee;var CMe="PopoverArrow",kMe=S.forwardRef((t,e)=>{const{__scopePopover:r,...s}=t,a=fb(r);return n.jsx(BP,{...a,...s,ref:e})});kMe.displayName=CMe;function qee(t){return t?"open":"closed"}var AMe=Lee,EMe=Uee,PMe=zee,TMe=Vee;function iP({...t}){return n.jsx(AMe,{"data-slot":"popover",...t})}function oP({...t}){return n.jsx(EMe,{"data-slot":"popover-trigger",...t})}function lP({className:t,align:e="center",sideOffset:r=4,...s}){return n.jsx(PMe,{children:n.jsx(TMe,{"data-slot":"popover-content",align:e,sideOffset:r,className:nr("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...s})})}class OMe{static async findOrCreateCustomer(e,r,s,a){try{const{data:i,error:o}=await Pr.from("customers").select("id").eq("email",s).maybeSingle();if(i)return i.id;const l=r.trim().split(/\s+/),c=l[0]||"",d=l.slice(1).join(" ")||"",{data:u,error:h}=await Pr.from("customers").insert({first_name:c,last_name:d,email:s,phone:a,status:"active"}).select("id").single();if(h)throw h;if(!u)throw new Error("Failed to create customer");return u.id}catch(i){throw console.error("Error finding/creating customer:",i),i}}static async createAdminBooking(e){try{const{data:r,error:s}=await Pr.from("venues").select("id").eq("id",e.venue_id).single();if(s||!r)throw new Error("Venue not found");const a=await this.findOrCreateCustomer("",e.customer_name,e.customer_email,e.customer_phone),{data:i,error:o}=await Pr.rpc("check_game_availability",{p_game_id:e.game_id,p_booking_date:e.booking_date,p_start_time:e.start_time,p_end_time:e.end_time,p_exclude_booking_id:null});if(o)throw o;if(!i)throw new Error("Selected time slot is not available");const l=`BK-${Math.floor(1e4+Math.random()*9e4)}`,{data:c,error:d}=await Pr.from("bookings").insert({venue_id:e.venue_id,confirmation_code:l,customer_id:a,game_id:e.game_id,booking_date:e.booking_date,booking_time:e.start_time,end_time:e.end_time,players:e.adults+e.children,status:"confirmed",total_amount:e.total_amount,deposit_amount:e.deposit_amount||0,payment_status:e.payment_status||"pending",payment_method:e.payment_method,notes:e.notes||null,customer_notes:e.customer_notes||null,source:"admin",metadata:{adults:e.adults,children:e.children}}).select().single();if(d)throw d;return c}catch(r){throw console.error("Error creating admin booking:",r),r}}static async checkSlotAvailability(e,r,s,a){try{const{data:i,error:o}=await Pr.rpc("check_game_availability",{p_game_id:e,p_booking_date:r,p_start_time:s,p_end_time:a,p_exclude_booking_id:null});return o?(console.error("Error checking availability:",o),!1):i===!0}catch(i){return console.error("Exception checking availability:",i),!1}}}const IMe=t=>({id:t.confirmation_code||t.id,customer:t.customer_name||"Unknown",email:t.customer_email||"",phone:t.customer_phone||"",game:t.game_name||"Unknown Game",gameId:t.game_id,date:t.booking_date||"",time:t.booking_time||"",groupSize:t.players||0,adults:t.players||0,children:0,amount:Number(t.total_amount)||0,status:t.status||"pending",paymentMethod:t.payment_method||"Credit Card",notes:t.notes||"",assignedStaffId:t.metadata?.assigned_staff_id,checkInTime:t.metadata?.check_in_time,checkOutTime:t.metadata?.check_out_time,venueId:t.venue_id,venueName:t.venue_name||"Unknown Venue"}),$Me={"Mystery Manor":"#8b5cf6","Space Odyssey":"#3b82f6","Zombie Outbreak":"#ef4444","Treasure Hunt":"#f59e0b","Prison Break":"#10b981"},DMe=(t,e)=>{if(!t)return t;const[r,s]=t.split(":").map(Number);if(Number.isNaN(r)||Number.isNaN(s))return t;const a=new Date;a.setHours(r,s,0,0),a.setMinutes(a.getMinutes()+e);const i=a.getHours().toString().padStart(2,"0"),o=a.getMinutes().toString().padStart(2,"0");return`${i}:${o}`},MMe=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number.isFinite(t)?t:0);function RMe(){const{theme:t}=fn(),e=t==="dark",[r,s]=S.useState(void 0),{bookings:a,updateBooking:i,cancelBooking:o,refreshBookings:l}=M8e(r),{games:c}=rO(),{venues:d}=nO(),{currentUser:u}=il(),h=S.useMemo(()=>(c||[]).map(Ae=>({id:Ae.id,name:Ae.name,venueId:Ae.venue_id,duration:Ae.duration??60,price:Number(Ae.price)||0,childPrice:Number(Ae.child_price??Ae.price)||Number(Ae.price)||0,color:$Me[Ae.name]||"#6b7280"})),[c]),f=e?"border-[#2a2a2a]":"border-gray-200",m=e?"bg-[#161616]":"bg-white",[y,g]=S.useState("month"),[v,b]=S.useState(!1),[w,N]=S.useState(!1),[_,C]=S.useState(!1),[E,A]=S.useState(!1),[I,$]=S.useState(!1),[O,P]=S.useState(!1),[M,R]=S.useState(!1),[W,Y]=S.useState(!1),[K,L]=S.useState(null),[F,ee]=S.useState(new Date),[se,q]=S.useState(new Date(new Date().getFullYear(),new Date().getMonth(),1)),[z,Z]=S.useState(!1),[X,Q]=S.useState("csv"),[ne,ce]=S.useState("all"),[ie,pe]=S.useState(!1),ae=S.useMemo(()=>(a||[]).map(IMe),[a]),[be,we]=S.useState([]),[Ie,Ee]=S.useState("all"),[H,Le]=S.useState(void 0),[Ye,xt]=S.useState(void 0),[qe,ft]=S.useState(!1),[ke,lt]=S.useState(""),[Ve,Ke]=S.useState("all"),[yt,Mt]=S.useState("all-games"),Gt=Ae=>{L(Ae),A(!0)},qt=async()=>{try{if(!K)return;const Ae=(a||[]).find(wt=>wt.confirmation_code===K.id||wt.id===K.id);Ae&&await i(Ae.id,{status:K.status,metadata:{...Ae.metadata,assigned_staff_id:K.assignedStaffId||Ae.metadata?.assigned_staff_id}}),await l(),me.success("Changes saved")}catch(Ae){console.error("Failed to save booking changes:",Ae),me.error("Failed to save changes")}},At=Ae=>{L(Ae),$(!0)},Dt=Ae=>{ee(Ae),Y(!0)},Nt=Ae=>{const wt=Ae.toISOString().split("T")[0];return ae.filter(He=>He.date===wt)},$r=Ae=>new Date(Ae).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),Or=()=>{pe(!0);try{const Ae=dr;if(X==="csv"){const wt=["Booking ID","Customer","Email","Phone","Game","Date","Time","Group Size","Adults","Children","Amount","Status","Payment Method","Assigned Staff","Check In","Check Out","Notes"],He=Dr=>'"'+(Dr==null?"":String(Dr)).replace(/"/g,'""')+'"',jt=Ae.map(Dr=>[He(Dr.id),He(Dr.customer),He(Dr.email),He(Dr.phone),He(Dr.game),He($r(Dr.date)),He(Dr.time),He(Dr.groupSize),He(Dr.adults),He(Dr.children),He(Dr.amount),He(Dr.status),He(Dr.paymentMethod),He(Dr.assignedStaffId?be.find(fs=>fs.id===Dr.assignedStaffId)?.name||Dr.assignedStaffId:""),He(Dr.checkInTime||""),He(Dr.checkOutTime||""),He(Dr.notes||"")].join(",")),fr=[wt.join(","),...jt].join(`
`),on=new Blob([fr],{type:"text/csv;charset=utf-8;"}),En=URL.createObjectURL(on),pn=document.createElement("a");pn.href=En,pn.download=`bookings_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(pn),pn.click(),document.body.removeChild(pn),URL.revokeObjectURL(En)}else{const wt=new wr;let He=20;wt.setFontSize(16),wt.text("Bookings Export",14,He),He+=8,wt.setFontSize(11),wt.text(`Generated: ${new Date().toLocaleString()}`,14,He),He+=10,Ae.forEach(jt=>{const fr=`ID ${jt.id}  ${jt.customer}  ${jt.game}  ${$r(jt.date)} ${jt.time}  ${jt.groupSize} ppl  $${jt.amount}  ${jt.status}`;He>280&&(wt.addPage(),He=20),wt.text(fr,14,He),He+=7}),wt.save(`bookings_${new Date().toISOString().slice(0,10)}.pdf`)}me.success(`Bookings exported successfully as ${X.toUpperCase()}`)}catch(Ae){console.error(Ae),me.error("Failed to export bookings")}finally{pe(!1),Z(!1)}},Ht=Ae=>{L(Ae),P(!0)},bt=async(Ae,wt)=>{if(K)try{const He=(a||[]).find(jt=>jt.confirmation_code===K.id||jt.id===K.id);He&&await i(He.id,{booking_date:Ae,booking_time:wt}),P(!1),A(!1),L(null),me.success("Booking rescheduled")}catch(He){console.error("Failed to reschedule:",He),me.error("Failed to reschedule booking")}},an=Ae=>{L(Ae),R(!0)},er=async Ae=>{if(K)try{const wt=(a||[]).find(He=>He.confirmation_code===K.id||He.id===K.id);wt&&await o(wt.id,Ae,!1),R(!1),L(null),me.success("Booking cancelled")}catch(wt){console.error("Failed to cancel:",wt),me.error("Failed to cancel booking")}},$e=Ae=>{me.success("Confirmation email sent to "+Ae.email)},nt=()=>Ie==="all"?"All Time":Ie==="today"?"Today":Ie==="yesterday"?"Yesterday":Ie==="last7days"?"Last 7 Days":Ie==="last30days"?"Last 30 Days":Ie==="thisWeek"?"This Week":Ie==="lastWeek"?"Last Week":Ie==="thisMonth"?"This Month":Ie==="lastMonth"?"Last Month":Ie==="thisQuarter"?"This Quarter":Ie==="thisYear"?"This Year":Ie==="custom"&&H&&Ye?`${H.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${Ye.toLocaleDateString("en-US",{month:"short",day:"numeric"})}`:"Select Date Range",sr=Ae=>{if(Ie==="all")return!0;const wt=new Date(Ae),He=new Date;if(He.setHours(0,0,0,0),Ie==="today"){const jt=He.toISOString().split("T")[0];return Ae===jt}if(Ie==="yesterday"){const jt=new Date(He);return jt.setDate(jt.getDate()-1),Ae===jt.toISOString().split("T")[0]}if(Ie==="last7days"){const jt=new Date(He);return jt.setDate(jt.getDate()-7),wt>=jt&&wt<=He}if(Ie==="last30days"){const jt=new Date(He);return jt.setDate(jt.getDate()-30),wt>=jt&&wt<=He}if(Ie==="thisWeek"){const jt=new Date(He);jt.setDate(He.getDate()-He.getDay());const fr=new Date(jt);return fr.setDate(jt.getDate()+6),wt>=jt&&wt<=fr}if(Ie==="lastWeek"){const jt=new Date(He);jt.setDate(He.getDate()-He.getDay()-7);const fr=new Date(jt);return fr.setDate(jt.getDate()+6),wt>=jt&&wt<=fr}if(Ie==="thisMonth")return wt.getMonth()===He.getMonth()&&wt.getFullYear()===He.getFullYear();if(Ie==="lastMonth"){const jt=new Date(He.getFullYear(),He.getMonth()-1,1);return wt.getMonth()===jt.getMonth()&&wt.getFullYear()===jt.getFullYear()}if(Ie==="thisQuarter"){const jt=Math.floor(He.getMonth()/3);return Math.floor(wt.getMonth()/3)===jt&&wt.getFullYear()===He.getFullYear()}if(Ie==="thisYear")return wt.getFullYear()===He.getFullYear();if(Ie==="custom"&&H&&Ye){const jt=new Date(H);jt.setHours(0,0,0,0);const fr=new Date(Ye);return fr.setHours(23,59,59,999),wt>=jt&&wt<=fr}return!0},dr=ae.filter(Ae=>{const wt=ke===""||Ae.customer.toLowerCase().includes(ke.toLowerCase())||Ae.email.toLowerCase().includes(ke.toLowerCase())||Ae.id.toLowerCase().includes(ke.toLowerCase()),He=Ve==="all"||Ae.status===Ve,jt=yt==="all-games"||Ae.game===yt,fr=sr(Ae.date);return wt&&He&&jt&&fr}),Rr=async(Ae,wt)=>{try{const He=(a||[]).find(jt=>jt.confirmation_code===Ae||jt.id===Ae);He&&await i(He.id,{metadata:{...He.metadata,assigned_staff_id:wt}}),me.success("Staff assigned")}catch(He){console.error("Failed to assign staff:",He),me.error("Failed to assign staff")}},Jt=async(Ae,wt)=>{try{const He=(a||[]).find(jt=>jt.confirmation_code===Ae||jt.id===Ae);He&&await i(He.id,{status:wt}),me.success("Status updated")}catch(He){console.error("Failed to update status:",He),me.error("Failed to update status")}},_t=async Ae=>{try{const wt=new Date().toISOString(),He=(a||[]).find(jt=>jt.confirmation_code===Ae||jt.id===Ae);He&&await i(He.id,{status:"confirmed",metadata:{...He.metadata,check_in_time:wt}}),me.success("Checked in")}catch(wt){console.error("Failed to check in:",wt),me.error("Failed to check in")}},Lr=async Ae=>{try{const wt=new Date().toISOString(),He=(a||[]).find(jt=>jt.confirmation_code===Ae||jt.id===Ae);He&&await i(He.id,{status:"completed",metadata:{...He.metadata,check_out_time:wt}}),me.success("Checked out")}catch(wt){console.error("Failed to check out:",wt),me.error("Failed to check out")}},Ze=async Ae=>{if(!v)try{b(!0),await OMe.createAdminBooking({venue_id:Ae.venueId,game_id:Ae.gameId,customer_name:`${Ae.firstName} ${Ae.lastName}`.trim(),customer_email:Ae.email,customer_phone:Ae.phone,booking_date:Ae.date,start_time:Ae.time,end_time:Ae.endTime,adults:Ae.adults,children:Ae.children,total_amount:Ae.totalAmount,payment_method:Ae.paymentMethod,payment_status:Ae.paymentStatus,deposit_amount:Ae.depositAmount,notes:Ae.notes?.trim()?Ae.notes:void 0,customer_notes:Ae.customerNotes?.trim()?Ae.customerNotes:void 0}),me.success("Booking created successfully"),await l(),g("month")}catch(wt){throw console.error("Failed to create booking:",wt),me.error(wt?.message||"Failed to create booking"),wt}finally{b(!1)}};return n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsx(ui,{title:"Bookings",description:"Manage and track all your bookings",sticky:!0,action:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(J,{variant:"outline",size:"icon",onClick:async()=>{N(!0);try{await l(),me.success("Bookings refreshed successfully")}catch{me.error("Failed to refresh bookings")}finally{N(!1)}},disabled:w,className:"h-11 w-11",children:n.jsx(Rd,{className:`w-4 h-4 ${w?"animate-spin":""}`})}),n.jsxs(J,{className:"bg-blue-600 dark:bg-[#4f46e5] hover:bg-blue-700 dark:hover:bg-[#4338ca] w-full sm:w-auto h-11",onClick:()=>C(!0),children:[n.jsx(An,{className:"w-5 h-5 sm:w-4 sm:h-4 sm:mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Add New Booking"})]})]})}),n.jsx(ve,{className:`${m} border ${f} shadow-sm`,children:n.jsx(Te,{className:"p-4 sm:p-6",children:n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ba,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 ${e?"text-[#737373]":"text-gray-400"}`}),n.jsx(ge,{placeholder:"Search by customer name, email, or booking ID...",className:"pl-10 h-11",value:ke,onChange:Ae=>lt(Ae.target.value)})]}),n.jsxs("div",{className:"flex gap-2 sm:gap-3 flex-wrap",children:[n.jsxs(iP,{open:qe,onOpenChange:ft,children:[n.jsx(oP,{asChild:!0,children:n.jsxs(J,{variant:"outline",className:"h-11 flex-1 sm:flex-initial sm:min-w-[200px] justify-start",children:[n.jsx(Nn,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"truncate",children:nt()})]})}),n.jsx(lP,{className:"w-auto p-0",align:"start",children:n.jsxs("div",{className:"flex flex-col sm:flex-row",children:[n.jsx("div",{className:"border-b sm:border-b-0 sm:border-r border-gray-200 dark:border-[#2a2a2a] p-3",children:n.jsxs("div",{className:"space-y-1 min-w-[180px]",children:[n.jsx("p",{className:"text-xs text-gray-500 dark:text-[#737373] px-2 py-1",children:"Quick Select"}),n.jsx(J,{variant:Ie==="all"?"secondary":"ghost",className:"w-full justify-start h-9 text-sm",onClick:()=>{Ee("all"),ft(!1)},children:"All Time"}),n.jsx(J,{variant:Ie==="today"?"secondary":"ghost",className:"w-full justify-start h-9 text-sm",onClick:()=>{Ee("today"),ft(!1)},children:"Today"}),n.jsx(J,{variant:Ie==="yesterday"?"secondary":"ghost",className:"w-full justify-start h-9 text-sm",onClick:()=>{Ee("yesterday"),ft(!1)},children:"Yesterday"}),n.jsx(J,{variant:Ie==="last7days"?"secondary":"ghost",className:"w-full justify-start h-9 text-sm",onClick:()=>{Ee("last7days"),ft(!1)},children:"Last 7 Days"}),n.jsx(J,{variant:Ie==="last30days"?"secondary":"ghost",className:"w-full justify-start h-9 text-sm",onClick:()=>{Ee("last30days"),ft(!1)},children:"Last 30 Days"}),n.jsx(tt,{className:"my-2"}),n.jsx("p",{className:"text-xs text-gray-500 px-2 py-1",children:"By Period"}),n.jsx(J,{variant:Ie==="thisWeek"?"secondary":"ghost",className:"w-full justify-start h-9 text-sm",onClick:()=>{Ee("thisWeek"),ft(!1)},children:"This Week"}),n.jsx(J,{variant:Ie==="lastWeek"?"secondary":"ghost",className:"w-full justify-start h-9 text-sm",onClick:()=>{Ee("lastWeek"),ft(!1)},children:"Last Week"}),n.jsx(J,{variant:Ie==="thisMonth"?"secondary":"ghost",className:"w-full justify-start h-9 text-sm",onClick:()=>{Ee("thisMonth"),ft(!1)},children:"This Month"}),n.jsx(J,{variant:Ie==="lastMonth"?"secondary":"ghost",className:"w-full justify-start h-9 text-sm",onClick:()=>{Ee("lastMonth"),ft(!1)},children:"Last Month"}),n.jsx(J,{variant:Ie==="thisQuarter"?"secondary":"ghost",className:"w-full justify-start h-9 text-sm",onClick:()=>{Ee("thisQuarter"),ft(!1)},children:"This Quarter"}),n.jsx(J,{variant:Ie==="thisYear"?"secondary":"ghost",className:"w-full justify-start h-9 text-sm",onClick:()=>{Ee("thisYear"),ft(!1)},children:"This Year"})]})}),n.jsxs("div",{className:"p-3",children:[n.jsx("p",{className:"text-sm text-gray-900 mb-2 px-2",children:"Custom Range"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(re,{className:"text-xs text-gray-600 px-2",children:"Start Date"}),n.jsx(Uu,{mode:"single",selected:H,onSelect:Ae=>{Le(Ae),Ae&&Ye&&Ee("custom")},className:"rounded-md border-0"})]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsx(re,{className:"text-xs text-gray-600 px-2",children:"End Date"}),n.jsx(Uu,{mode:"single",selected:Ye,onSelect:Ae=>{xt(Ae),H&&Ae&&Ee("custom")},disabled:Ae=>H?Ae<H:!1,className:"rounded-md border-0"})]}),H&&Ye&&n.jsx(J,{className:"w-full bg-blue-600 dark:bg-[#4f46e5] hover:bg-blue-700 dark:hover:bg-[#4338ca]",onClick:()=>{Ee("custom"),ft(!1)},children:"Apply Range"})]})]})]})})]}),n.jsxs(Kt,{value:r||"all-venues",onValueChange:Ae=>{s(Ae==="all-venues"?void 0:Ae),g("month")},children:[n.jsx(Xt,{className:"flex-1 sm:w-40 sm:flex-initial h-11",children:n.jsx(Yt,{placeholder:"All Venues"})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"all-venues",children:"All Venues"}),(d||[]).map(Ae=>n.jsx(Ce,{value:Ae.id,children:Ae.name},Ae.id))]})]}),n.jsxs(Kt,{value:Ve,onValueChange:Ke,children:[n.jsx(Xt,{className:"flex-1 sm:w-40 sm:flex-initial h-11",children:n.jsx(Yt,{placeholder:"Status"})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"all",children:"All Status"}),n.jsx(Ce,{value:"confirmed",children:"Confirmed"}),n.jsx(Ce,{value:"pending",children:"Pending"}),n.jsx(Ce,{value:"cancelled",children:"Cancelled"}),n.jsx(Ce,{value:"no-show",children:"No Show"}),n.jsx(Ce,{value:"completed",children:"Completed"})]})]}),n.jsxs(Kt,{value:yt,onValueChange:Mt,children:[n.jsx(Xt,{className:"flex-1 sm:w-40 sm:flex-initial h-11",children:n.jsx(Yt,{placeholder:"Game"})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"all-games",children:"All Games"}),n.jsx(Ce,{value:"Mystery Manor",children:"Mystery Manor"}),n.jsx(Ce,{value:"Space Odyssey",children:"Space Odyssey"}),n.jsx(Ce,{value:"Zombie Outbreak",children:"Zombie Outbreak"}),n.jsx(Ce,{value:"Treasure Hunt",children:"Treasure Hunt"}),n.jsx(Ce,{value:"Prison Break",children:"Prison Break"})]})]}),n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"outline",size:"icon",className:"sm:hidden h-11 w-11 flex-shrink-0",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsx(Bd,{permissions:["bookings.export"],children:n.jsxs(Et,{onClick:()=>Z(!0),children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Export"]})}),n.jsxs(Et,{onClick:()=>{lt(""),Ke("all"),Mt("all-games"),Ee("all"),s(void 0),me.success("Filters cleared")},children:[n.jsx(Ld,{className:"w-4 h-4 mr-2"}),"Clear Filters"]})]})]}),n.jsx(Bd,{permissions:["bookings.export"],children:n.jsxs(J,{variant:"outline",onClick:()=>Z(!0),className:"hidden sm:flex h-11",children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Export"]})})]}),(ke||Ve!=="all"||yt!=="all-games"||Ie!=="all"||r)&&n.jsxs("div",{className:"flex items-center gap-2 text-xs flex-wrap",children:[n.jsx("span",{className:"text-gray-600 dark:text-[#737373]",children:"Active filters:"}),ke&&n.jsxs(ze,{variant:"secondary",className:"gap-1 bg-gray-100 dark:bg-[#1e1e1e] text-gray-700 dark:text-[#a3a3a3]",children:["Search: ",ke,n.jsx("button",{onClick:()=>lt(""),className:"ml-1 hover:text-red-600 dark:hover:text-red-500",children:""})]}),Ve!=="all"&&n.jsxs(ze,{variant:"secondary",className:"gap-1 bg-gray-100 dark:bg-[#1e1e1e] text-gray-700 dark:text-[#a3a3a3]",children:["Status: ",Ve,n.jsx("button",{onClick:()=>Ke("all"),className:"ml-1 hover:text-red-600 dark:hover:text-red-500",children:""})]}),yt!=="all-games"&&n.jsxs(ze,{variant:"secondary",className:"gap-1 bg-gray-100 dark:bg-[#1e1e1e] text-gray-700 dark:text-[#a3a3a3]",children:["Game: ",yt,n.jsx("button",{onClick:()=>Mt("all-games"),className:"ml-1 hover:text-red-600 dark:hover:text-red-500",children:""})]}),Ie!=="all"&&n.jsxs(ze,{variant:"secondary",className:"gap-1 bg-gray-100 dark:bg-[#1e1e1e] text-gray-700 dark:text-[#a3a3a3]",children:["Date: ",nt(),n.jsx("button",{onClick:()=>Ee("all"),className:"ml-1 hover:text-red-600 dark:hover:text-red-500",children:""})]}),r&&n.jsxs(ze,{variant:"secondary",className:"gap-1 bg-gray-100 dark:bg-[#1e1e1e] text-gray-700 dark:text-[#a3a3a3]",children:["Venue: ",d?.find(Ae=>Ae.id===r)?.name||"Selected",n.jsx("button",{onClick:()=>s(void 0),className:"ml-1 hover:text-red-600 dark:hover:text-red-500",children:""})]}),n.jsx("button",{onClick:()=>{lt(""),Ke("all"),Mt("all-games"),Ee("all"),s(void 0)},className:"text-[#4f46e5] dark:text-[#6366f1] hover:text-[#4338ca] dark:hover:text-[#818cf8] ml-auto",children:"Clear all"})]})]})})}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[n.jsx(ta,{value:y,onValueChange:Ae=>g(Ae),className:"w-full sm:w-auto",children:n.jsxs(pa,{className:"w-full sm:w-auto grid grid-cols-5 sm:flex",children:[n.jsxs(Ft,{value:"month",className:"gap-2 flex-1 sm:flex-initial",children:[n.jsx(Hc,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Month"})]}),n.jsxs(Ft,{value:"week",className:"gap-2 flex-1 sm:flex-initial",children:[n.jsx(_P,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Week"})]}),n.jsxs(Ft,{value:"day",className:"gap-2 flex-1 sm:flex-initial",children:[n.jsx(Qt,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Day"})]}),n.jsxs(Ft,{value:"schedule",className:"gap-2 flex-1 sm:flex-initial",children:[n.jsx(uW,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Schedule"})]}),n.jsxs(Ft,{value:"table",className:"gap-2 flex-1 sm:flex-initial",children:[n.jsx(CP,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Table"})]})]})}),n.jsxs(Kt,{value:r||"all",onValueChange:Ae=>{s(Ae==="all"?void 0:Ae),g("month")},children:[n.jsx(Xt,{className:"w-full sm:w-[200px]",children:n.jsx(Yt,{placeholder:"All Venues"})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"all",children:"All Venues"}),(d||[]).map(Ae=>n.jsx(Ce,{value:Ae.id,children:Ae.name},Ae.id))]})]})]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-[#737373]",children:[dr.length," ",dr.length!==ae.length&&`of ${ae.length}`," booking",dr.length!==1?"s":""]})]}),y==="month"&&n.jsx(LMe,{bookings:dr,onViewDetails:Gt,onShowAttendees:Dt,calendarMonth:se,setCalendarMonth:q,gamesData:h}),y==="week"&&n.jsx(FMe,{bookings:dr,onViewDetails:Gt,selectedDate:F||new Date,setSelectedDate:ee,gamesData:h}),y==="day"&&n.jsx(BMe,{bookings:dr,onViewDetails:Gt,selectedDate:F||new Date,setSelectedDate:ee,gamesData:h}),y==="schedule"&&n.jsx(UMe,{bookings:dr,onViewDetails:Gt,selectedDate:F||new Date,setSelectedDate:ee,gamesData:h}),y==="table"&&n.jsxs(ve,{className:"border-gray-200 dark:border-[#2a2a2a] shadow-sm",children:[n.jsx(st,{className:"p-4 sm:p-6",children:n.jsx(at,{children:"All Bookings"})}),n.jsxs(Te,{className:"p-0 sm:p-6 sm:pt-0",children:[n.jsx("div",{className:"block lg:hidden space-y-3 p-4",children:dr.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ba,{className:"w-12 h-12 mx-auto text-gray-300 dark:text-[#404040] mb-3"}),n.jsx("p",{className:"text-gray-500 dark:text-[#737373]",children:"No bookings found"}),n.jsx("p",{className:"text-sm text-gray-400 dark:text-[#525252] mt-1",children:"Try adjusting your filters"})]}):dr.map(Ae=>n.jsx(ve,{className:"border border-gray-200 dark:border-[#2a2a2a] shadow-sm hover:shadow-md dark:hover:shadow-[0_0_15px_rgba(79,70,229,0.1)] transition-all",children:n.jsx(Te,{className:"p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm text-gray-900 dark:text-white truncate",children:Ae.customer}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-[#737373]",children:Ae.id}),Ae.assignedStaffId&&n.jsxs("p",{className:"text-xs text-gray-600 dark:text-[#737373] mt-1",children:["Assigned: ",be.find(wt=>wt.id===Ae.assignedStaffId)?.name||Ae.assignedStaffId]})]}),n.jsx(ze,{variant:"secondary",className:`flex-shrink-0 text-xs border
                            ${Ae.status==="confirmed"?"bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-400 border-emerald-200 dark:border-emerald-500/30":""}
                            ${Ae.status==="pending"?"bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-400 border-amber-200 dark:border-amber-500/30":""}
                            ${Ae.status==="cancelled"?"bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-400 border-red-200 dark:border-red-500/30":""}
                            ${Ae.status==="no-show"?"bg-gray-100 dark:bg-gray-500/20 text-gray-700 dark:text-gray-400 border-gray-200 dark:border-gray-500/30":""}
                            ${Ae.status==="completed"?"bg-green-100 dark:bg-green-500/20 text-green-700 dark:text-green-400 border-green-200 dark:border-green-500/30":""}
                          `,children:Ae.status})]}),n.jsx(tt,{className:"dark:bg-[#2a2a2a]"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs sm:text-sm",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-gray-500 dark:text-[#737373] text-xs",children:"Game"}),n.jsx("p",{className:"text-gray-900 dark:text-white truncate",children:Ae.game})]}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-gray-500 dark:text-[#737373] text-xs",children:"Date & Time"}),n.jsx("p",{className:"text-gray-900 dark:text-white text-xs sm:text-sm",children:$r(Ae.date)}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-[#737373]",children:Ae.time})]}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-gray-500 dark:text-[#737373] text-xs",children:"Group Size"}),n.jsxs("p",{className:"text-gray-900 dark:text-white",children:[Ae.groupSize," people"]})]}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-gray-500 dark:text-[#737373] text-xs",children:"Amount"}),n.jsxs("p",{className:"text-gray-900 dark:text-white",children:["$",Ae.amount]})]})]}),n.jsx(tt,{className:"dark:bg-[#2a2a2a]"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(J,{variant:"outline",size:"sm",className:"flex-1 h-9",onClick:()=>Gt(Ae),children:[n.jsx(Ln,{className:"w-4 h-4 mr-1.5"}),n.jsx("span",{className:"text-xs sm:text-sm",children:"View"})]}),n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"outline",size:"sm",className:"h-9 w-9 p-0",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{onClick:()=>Ht(Ae),children:[n.jsx(Rd,{className:"w-4 h-4 mr-2"}),"Reschedule"]}),n.jsxs(Et,{onClick:()=>$e(Ae),children:[n.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Send Confirmation"]}),n.jsxs(Et,{onClick:()=>At(Ae),children:[n.jsx(Si,{className:"w-4 h-4 mr-2"}),"Process Refund"]}),n.jsx(tt,{}),n.jsxs(Et,{onClick:()=>_t(Ae.id),children:[n.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Check In"]}),n.jsxs(Et,{onClick:()=>Lr(Ae.id),children:[n.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Check Out"]}),n.jsx(tt,{}),Ae.status!=="cancelled"&&n.jsxs(Et,{className:"text-red-600 dark:text-red-500",onClick:()=>an(Ae),children:[n.jsx(us,{className:"w-4 h-4 mr-2"}),"Cancel Booking"]})]})]})]})]})})},Ae.id))}),n.jsx("div",{className:"hidden lg:block overflow-x-auto",children:dr.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ba,{className:"w-12 h-12 mx-auto text-gray-300 dark:text-[#404040] mb-3"}),n.jsx("p",{className:"text-gray-500 dark:text-[#737373]",children:"No bookings found"}),n.jsx("p",{className:"text-sm text-gray-400 dark:text-[#525252] mt-1",children:"Try adjusting your filters"})]}):n.jsxs(Vp,{children:[n.jsx(Wp,{children:n.jsxs(Ma,{className:"border-gray-200 dark:border-[#2a2a2a]",children:[n.jsx(Gr,{children:"Booking ID"}),n.jsx(Gr,{children:"Customer"}),n.jsx(Gr,{children:"Game"}),n.jsx(Gr,{children:"Date & Time"}),n.jsx(Gr,{children:"Group Size"}),n.jsx(Gr,{children:"Assigned Staff"}),n.jsx(Gr,{children:"Amount"}),n.jsx(Gr,{children:"Status"}),n.jsx(Gr,{className:"text-right",children:"Actions"})]})}),n.jsx(Hp,{children:dr.map(Ae=>n.jsxs(Ma,{className:"border-gray-200 dark:border-[#2a2a2a] hover:bg-gray-50 dark:hover:bg-[#1a1a1a]",children:[n.jsx($t,{className:"text-gray-900 dark:text-white",children:Ae.id}),n.jsx($t,{children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:Ae.customer}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-[#737373]",children:Ae.email})]})}),n.jsx($t,{className:"text-gray-900 dark:text-white",children:Ae.game}),n.jsx($t,{children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:$r(Ae.date)}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-[#737373]",children:Ae.time})]})}),n.jsxs($t,{className:"text-gray-900 dark:text-white",children:[Ae.groupSize," people"]}),n.jsx($t,{className:"text-gray-900 dark:text-white",children:Ae.assignedStaffId?be.find(wt=>wt.id===Ae.assignedStaffId)?.name||Ae.assignedStaffId:"-"}),n.jsxs($t,{className:"text-gray-900 dark:text-white",children:["$",Ae.amount]}),n.jsx($t,{children:n.jsx(ze,{variant:"secondary",className:`border
                          ${Ae.status==="confirmed"?"bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-400 border-emerald-200 dark:border-emerald-500/30":""}
                          ${Ae.status==="pending"?"bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-400 border-amber-200 dark:border-amber-500/30":""}
                          ${Ae.status==="cancelled"?"bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-400 border-red-200 dark:border-red-500/30":""}
                          ${Ae.status==="no-show"?"bg-gray-100 dark:bg-gray-500/20 text-gray-700 dark:text-gray-400 border-gray-200 dark:border-gray-500/30":""}
                          ${Ae.status==="completed"?"bg-green-100 dark:bg-green-500/20 text-green-700 dark:text-green-400 border-green-200 dark:border-green-500/30":""}
                        `,children:Ae.status})}),n.jsx($t,{className:"text-right",children:n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"icon",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{onClick:()=>Gt(Ae),children:[n.jsx(Ln,{className:"w-4 h-4 mr-2"}),"View Details"]}),n.jsxs(Et,{onClick:()=>$e(Ae),children:[n.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Send Confirmation"]}),n.jsxs(Et,{onClick:()=>Ht(Ae),children:[n.jsx(Rd,{className:"w-4 h-4 mr-2"}),"Reschedule"]}),Ae.status==="confirmed"&&n.jsxs(Et,{onClick:()=>At(Ae),children:[n.jsx(Rd,{className:"w-4 h-4 mr-2"}),"Process Refund"]}),n.jsxs(Et,{onClick:()=>_t(Ae.id),children:[n.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Check In"]}),n.jsxs(Et,{onClick:()=>Lr(Ae.id),children:[n.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Check Out"]}),n.jsxs(Et,{className:"text-[#4f46e5]",onClick:()=>{L(Ae),A(!0)},children:[n.jsx(Wr,{className:"w-4 h-4 mr-2"}),"Assign Staff"]}),n.jsxs(Et,{className:"text-red-600 dark:text-red-500",onClick:()=>an(Ae),children:[n.jsx(us,{className:"w-4 h-4 mr-2"}),"Cancel Booking"]})]})]})})]},Ae.id))})]})})]})]}),n.jsx(zMe,{open:_,onOpenChange:C,bookings:ae,gamesData:h,venues:d,onCreate:Ze,isSubmitting:v}),n.jsx(VMe,{open:E,onOpenChange:Ae=>{A(Ae),Ae||L(null)},booking:K,onRefund:At,onReschedule:Ht,staffList:be,onAssignStaff:Ae=>K&&Rr(K.id,Ae),onUpdateStatus:Ae=>K&&Jt(K.id,Ae),onCheckIn:()=>K&&_t(K.id),onCheckOut:()=>K&&Lr(K.id),onSendConfirmation:()=>K&&$e(K),onSave:qt}),n.jsx(WMe,{open:I,onOpenChange:$,booking:K}),n.jsx(GMe,{open:O,onOpenChange:Ae=>{P(Ae),Ae||L(null)},booking:K,bookings:ae,onConfirm:bt}),n.jsx(HMe,{open:W,onOpenChange:Y,date:F,bookings:F?Nt(F):[],gamesData:h}),n.jsx(KMe,{open:M,onOpenChange:Ae=>{R(Ae),Ae||L(null)},booking:K,onConfirm:er}),n.jsx(or,{open:z,onOpenChange:Z,children:n.jsxs(lr,{className:"max-lg:w-full max-lg:h-full max-lg:max-h-full max-lg:rounded-none overflow-y-auto max-h-[90vh]",children:[n.jsxs(Nr,{children:[n.jsx(cr,{children:"Export Bookings"}),n.jsx(xr,{children:"Download your booking data in your preferred format"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(re,{className:"text-sm text-gray-900 dark:text-white mb-2",children:"Export Format"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2",children:[n.jsxs("button",{onClick:()=>Q("csv"),className:`p-4 border-2 rounded-lg text-left transition-all ${X==="csv"?"border-[#4f46e5] dark:border-[#6366f1] bg-blue-50 dark:bg-[#4f46e5]/10":"border-gray-200 dark:border-[#2a2a2a] hover:border-gray-300 dark:hover:border-[#404040]"}`,children:[n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:"CSV File"}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-[#737373] mt-1",children:"Excel compatible spreadsheet"})]}),n.jsxs("button",{onClick:()=>Q("pdf"),className:`p-4 border-2 rounded-lg text-left transition-all ${X==="pdf"?"border-[#4f46e5] dark:border-[#6366f1] bg-blue-50 dark:bg-[#4f46e5]/10":"border-gray-200 dark:border-[#2a2a2a] hover:border-gray-300 dark:hover:border-[#404040]"}`,children:[n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:"PDF File"}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-[#737373] mt-1",children:"Printable document format"})]})]})]}),n.jsx(tt,{className:"dark:bg-[#2a2a2a]"}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"date-range",className:"text-sm text-gray-900 dark:text-white mb-2",children:"Date Range"}),n.jsxs(Kt,{value:ne,onValueChange:ce,children:[n.jsx(Xt,{className:"mt-2",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"all",children:"All Bookings"}),n.jsx(Ce,{value:"today",children:"Today"}),n.jsx(Ce,{value:"week",children:"This Week"}),n.jsx(Ce,{value:"month",children:"This Month"}),n.jsx(Ce,{value:"quarter",children:"This Quarter"}),n.jsx(Ce,{value:"year",children:"This Year"}),n.jsx(Ce,{value:"custom",children:"Custom Range"})]})]})]}),n.jsx("div",{className:"p-3 bg-blue-50 dark:bg-[#4f46e5]/10 border border-blue-200 dark:border-[#4f46e5]/30 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(hs,{className:"w-4 h-4 text-blue-600 dark:text-[#6366f1] mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-blue-900 dark:text-[#a5b4fc]",children:[ne==="all"?"All":ne==="today"?"Today's":ne==="quarter"?"This quarter's":ne==="year"?"This year's":"Selected"," bookings will be exported"]}),n.jsxs("p",{className:"text-xs text-blue-700 dark:text-[#818cf8] mt-1",children:["Estimated: ",dr.length," records"]})]})]})})]}),n.jsxs(wn,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[n.jsx(J,{variant:"outline",onClick:()=>Z(!1),disabled:ie,className:"w-full sm:w-auto h-11",children:"Cancel"}),n.jsx(J,{className:"bg-blue-600 dark:bg-[#4f46e5] hover:bg-blue-700 dark:hover:bg-[#4338ca] w-full sm:w-auto h-11",onClick:Or,disabled:ie,children:ie?n.jsxs(n.Fragment,{children:[n.jsx(Qt,{className:"w-4 h-4 mr-2 animate-spin"}),"Exporting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Export ",X.toUpperCase()]})})]})]})})]})}function LMe({bookings:t,onViewDetails:e,onShowAttendees:r,calendarMonth:s,setCalendarMonth:a,gamesData:i}){const o=g=>{const v=g.getFullYear(),b=g.getMonth(),w=new Date(v,b,1),_=new Date(v,b+1,0).getDate(),C=w.getDay();return{daysInMonth:_,startingDayOfWeek:C,year:v,month:b}},l=g=>{const{year:v,month:b}=o(s),w=`${v}-${String(b+1).padStart(2,"0")}-${String(g).padStart(2,"0")}`;return t.filter(N=>N.date===w)},{daysInMonth:c,startingDayOfWeek:d,year:u,month:h}=o(s),f=()=>{a(new Date(u,h-1,1))},m=()=>{a(new Date(u,h+1,1))},y=[];for(let g=0;g<d;g++)y.push(n.jsx("div",{className:"min-h-[80px] sm:min-h-[120px]"},`empty-${g}`));for(let g=1;g<=c;g++){const v=l(g),b=new Date().getDate()===g&&new Date().getMonth()===h&&new Date().getFullYear()===u;y.push(n.jsxs("div",{className:`min-h-[80px] sm:min-h-[120px] border border-gray-200 dark:border-[#2a2a2a] p-1 sm:p-2 bg-white dark:bg-[#161616] hover:bg-gray-50 dark:hover:bg-[#1a1a1a] transition-colors ${b?"ring-1 sm:ring-2 ring-[#4f46e5] dark:ring-[#6366f1]":""}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-1 sm:mb-2",children:[n.jsx("span",{className:`text-xs sm:text-sm ${b?"bg-blue-600 dark:bg-[#4f46e5] text-white rounded-full w-5 h-5 sm:w-6 sm:h-6 flex items-center justify-center text-xs":"text-gray-900 dark:text-white"}`,children:g}),v.length>0&&n.jsxs(J,{variant:"ghost",size:"sm",className:"h-5 sm:h-6 text-xs px-1 sm:px-2",onClick:()=>r(new Date(u,h,g)),children:[n.jsx(Wr,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 sm:mr-1"}),n.jsx("span",{className:"hidden sm:inline",children:v.reduce((w,N)=>w+N.groupSize,0)})]})]}),n.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[v.slice(0,2).map(w=>{const N=i.find(_=>_.name===w.game)?.color||"#6b7280";return n.jsxs("div",{className:"text-xs p-1 sm:p-1.5 rounded cursor-pointer hover:opacity-80 transition-opacity",style:{backgroundColor:N+"20",borderLeft:`2px sm:3px solid ${N}`},onClick:()=>e(w),children:[n.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1",children:[n.jsx(Qt,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 flex-shrink-0",style:{color:N}}),n.jsx("span",{className:"text-[10px] sm:text-xs truncate",style:{color:N},children:w.time})]}),n.jsx("p",{className:"text-gray-900 dark:text-white truncate mt-0.5 text-[10px] sm:text-xs hidden sm:block",children:w.game}),n.jsx("p",{className:"text-gray-600 dark:text-[#737373] text-[10px] truncate hidden sm:block",children:w.customer})]},w.id)}),v.length>2&&n.jsxs("button",{className:"text-[10px] sm:text-xs text-[#4f46e5] dark:text-[#6366f1] hover:text-[#4338ca] dark:hover:text-[#818cf8] w-full text-left pl-1 sm:pl-1.5",onClick:()=>r(new Date(u,h,g)),children:["+",v.length-2," more"]})]})]},g))}return n.jsxs(ve,{className:"border-gray-200 dark:border-[#2a2a2a] shadow-sm hover:shadow-md dark:hover:shadow-[0_0_20px_rgba(79,70,229,0.1)] transition-all",children:[n.jsx(st,{className:"p-4 sm:p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[n.jsxs(at,{className:"flex items-center gap-2 text-base sm:text-lg",children:[n.jsx(Hc,{className:"w-5 h-5 text-[#4f46e5] dark:text-[#6366f1] flex-shrink-0"}),n.jsx("span",{className:"truncate",children:new Date(u,h).toLocaleDateString("en-US",{month:"long",year:"numeric"})})]}),n.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[n.jsx(J,{variant:"outline",size:"sm",onClick:f,className:"h-9",children:n.jsx(qn,{className:"w-4 h-4"})}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>a(new Date),className:"flex-1 sm:flex-initial h-9",children:"Today"}),n.jsx(J,{variant:"outline",size:"sm",onClick:m,className:"h-9",children:n.jsx(Ds,{className:"w-4 h-4"})})]})]})}),n.jsxs(Te,{className:"p-2 sm:p-6",children:[n.jsxs("div",{className:"grid grid-cols-7 gap-0 overflow-x-auto",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(g=>n.jsxs("div",{className:"text-center text-xs sm:text-sm text-gray-600 dark:text-[#737373] p-1 sm:p-2 bg-gray-50 dark:bg-[#0a0a0a] border border-gray-200 dark:border-[#2a2a2a]",children:[n.jsx("span",{className:"hidden sm:inline",children:g}),n.jsx("span",{className:"sm:hidden",children:g.charAt(0)})]},g)),y]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-[#2a2a2a]",children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#737373] mb-2",children:"Games:"}),n.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:i.map(g=>n.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded flex-shrink-0",style:{backgroundColor:g.color}}),n.jsx("span",{className:"text-xs text-gray-700 dark:text-[#a3a3a3] truncate",children:g.name})]},g.id))})]})]})]})}function FMe({bookings:t,onViewDetails:e,selectedDate:r,setSelectedDate:s,gamesData:a}){const o=(h=>{const f=[],m=new Date(h);m.setDate(h.getDate()-h.getDay());for(let y=0;y<7;y++){const g=new Date(m);g.setDate(m.getDate()+y),f.push(g)}return f})(r),l=Array.from({length:14},(h,f)=>`${String(10+f).padStart(2,"0")}:00`),c=(h,f)=>{const m=h.toISOString().split("T")[0];return t.filter(y=>y.date!==m?!1:y.time.substring(0,5)===f)},d=()=>{const h=new Date(r);h.setDate(r.getDate()-7),s(h)},u=()=>{const h=new Date(r);h.setDate(r.getDate()+7),s(h)};return n.jsxs(ve,{className:"border-gray-200 dark:border-[#2a2a2a] shadow-sm hover:shadow-md dark:hover:shadow-[0_0_20px_rgba(79,70,229,0.1)] transition-all",children:[n.jsx(st,{className:"p-4 sm:p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx(_P,{className:"w-5 h-5 text-[#4f46e5] dark:text-[#6366f1]"}),"Week View"]}),n.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[n.jsx(J,{variant:"outline",size:"sm",onClick:d,className:"h-9",children:n.jsx(qn,{className:"w-4 h-4"})}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>s(new Date),className:"flex-1 sm:flex-initial h-9",children:"This Week"}),n.jsx(J,{variant:"outline",size:"sm",onClick:u,className:"h-9",children:n.jsx(Ds,{className:"w-4 h-4"})})]})]})}),n.jsx(Te,{className:"p-2 sm:p-6",children:n.jsx(Ps,{className:"w-full",children:n.jsxs("div",{className:"min-w-[800px]",children:[n.jsxs("div",{className:"grid grid-cols-8 gap-1 mb-2",children:[n.jsx("div",{className:"text-xs text-gray-600 dark:text-[#737373] p-2",children:"Time"}),o.map((h,f)=>{const m=h.toDateString()===new Date().toDateString();return n.jsxs("div",{className:`text-center p-2 rounded-t-lg ${m?"bg-blue-50 dark:bg-[#4f46e5]/10 border border-blue-200 dark:border-[#4f46e5]/30":"bg-gray-50 dark:bg-[#0a0a0a]"}`,children:[n.jsx("p",{className:"text-xs text-gray-600 dark:text-[#737373]",children:h.toLocaleDateString("en-US",{weekday:"short"})}),n.jsx("p",{className:`text-sm ${m?"text-[#4f46e5] dark:text-[#6366f1]":"text-gray-900 dark:text-white"}`,children:h.getDate()})]},f)})]}),n.jsx("div",{className:"space-y-1",children:l.map(h=>n.jsxs("div",{className:"grid grid-cols-8 gap-1",children:[n.jsx("div",{className:"text-xs text-gray-600 dark:text-[#737373] p-2 flex items-center",children:h}),o.map((f,m)=>{const y=c(f,h);return n.jsx("div",{className:"border border-gray-200 dark:border-[#2a2a2a] p-1 min-h-[60px] bg-white dark:bg-[#161616] hover:bg-gray-50 dark:hover:bg-[#1a1a1a] transition-colors",children:y.map(g=>{const v=a.find(b=>b.name===g.game)?.color||"#6b7280";return n.jsxs("div",{className:"text-xs p-1.5 rounded cursor-pointer hover:opacity-80 transition-opacity mb-1",style:{backgroundColor:v+"20",borderLeft:`3px solid ${v}`},onClick:()=>e(g),children:[n.jsx("p",{className:"text-gray-900 dark:text-white truncate",children:g.game}),n.jsx("p",{className:"text-gray-600 dark:text-[#737373] text-[10px] truncate",children:g.customer}),n.jsxs("p",{className:"text-gray-500 dark:text-[#525252] text-[10px]",children:[g.groupSize," people"]})]},g.id)})},m)})]},h))})]})})})]})}function BMe({bookings:t,onViewDetails:e,selectedDate:r,setSelectedDate:s,gamesData:a}){const i=Array.from({length:14},(u,h)=>`${String(10+h).padStart(2,"0")}:00`),o=u=>{const h=r.toISOString().split("T")[0];return t.filter(f=>f.date!==h?!1:f.time.substring(0,5)===u)},l=()=>{const u=new Date(r);u.setDate(r.getDate()-1),s(u)},c=()=>{const u=new Date(r);u.setDate(r.getDate()+1),s(u)},d=r.toDateString()===new Date().toDateString();return n.jsxs(ve,{className:"border-gray-200 dark:border-[#2a2a2a] shadow-sm hover:shadow-md dark:hover:shadow-[0_0_20px_rgba(79,70,229,0.1)] transition-all",children:[n.jsx(st,{className:"p-4 sm:p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:"w-5 h-5 text-[#4f46e5] dark:text-[#6366f1]"}),n.jsx("span",{children:r.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),d&&n.jsx(ze,{className:"bg-blue-600 dark:bg-[#4f46e5]",children:"Today"})]}),n.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[n.jsx(J,{variant:"outline",size:"sm",onClick:l,className:"h-9",children:n.jsx(qn,{className:"w-4 h-4"})}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>s(new Date),className:"flex-1 sm:flex-initial h-9",children:"Today"}),n.jsx(J,{variant:"outline",size:"sm",onClick:c,className:"h-9",children:n.jsx(Ds,{className:"w-4 h-4"})})]})]})}),n.jsx(Te,{className:"p-4 sm:p-6",children:n.jsx("div",{className:"space-y-2",children:i.map(u=>{const h=o(u);return n.jsxs("div",{className:"flex gap-3 border-b border-gray-100 dark:border-[#2a2a2a] pb-2",children:[n.jsx("div",{className:"w-20 flex-shrink-0 text-sm text-gray-600 dark:text-[#737373] pt-2",children:u}),n.jsx("div",{className:"flex-1 space-y-2",children:h.length===0?n.jsx("div",{className:"h-16 border border-dashed border-gray-200 dark:border-[#2a2a2a] rounded-lg flex items-center justify-center text-xs text-gray-400 dark:text-[#525252]",children:"No bookings"}):h.map(f=>{const m=a.find(y=>y.name===f.game)?.color||"#6b7280";return n.jsx(ve,{className:"cursor-pointer hover:shadow-md dark:hover:shadow-[0_0_15px_rgba(79,70,229,0.1)] transition-shadow border-l-4 dark:border-[#2a2a2a]",style:{borderLeftColor:m},onClick:()=>e(f),children:n.jsx(Te,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-gray-900 dark:text-white mb-1",children:f.game}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-[#737373]",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Wr,{className:"w-3 h-3"}),f.customer]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Wr,{className:"w-3 h-3"}),f.groupSize," people"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Si,{className:"w-3 h-3"}),"$",f.amount]})]})]}),n.jsx(ze,{variant:"secondary",className:`border
                                  ${f.status==="confirmed"?"bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-400 border-emerald-200 dark:border-emerald-500/30":""}
                                  ${f.status==="pending"?"bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-400 border-amber-200 dark:border-amber-500/30":""}
                                  ${f.status==="cancelled"?"bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-400 border-red-200 dark:border-red-500/30":""}
                                `,children:f.status})]})})},f.id)})})]},u)})})})]})}function UMe({bookings:t,onViewDetails:e,selectedDate:r,setSelectedDate:s,gamesData:a}){const i=Array.from({length:14},(u,h)=>`${String(10+h).padStart(2,"0")}:00`),o=(u,h)=>{const f=r.toISOString().split("T")[0];return t.filter(m=>m.date!==f||m.game!==u?!1:m.time.substring(0,5)===h)},l=()=>{const u=new Date(r);u.setDate(r.getDate()-1),s(u)},c=()=>{const u=new Date(r);u.setDate(r.getDate()+1),s(u)},d=r.toDateString()===new Date().toDateString();return n.jsxs(ve,{className:"border-gray-200 dark:border-[#2a2a2a] shadow-sm hover:shadow-md dark:hover:shadow-[0_0_20px_rgba(79,70,229,0.1)] transition-all",children:[n.jsxs(st,{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx(uW,{className:"w-5 h-5 text-[#4f46e5] dark:text-[#6366f1]"}),n.jsx("span",{children:"Schedule by Room"}),d&&n.jsx(ze,{className:"bg-blue-600 dark:bg-[#4f46e5]",children:"Today"})]}),n.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[n.jsx(J,{variant:"outline",size:"sm",onClick:l,className:"h-9",children:n.jsx(qn,{className:"w-4 h-4"})}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>s(new Date),className:"flex-1 sm:flex-initial h-9",children:"Today"}),n.jsx(J,{variant:"outline",size:"sm",onClick:c,className:"h-9",children:n.jsx(Ds,{className:"w-4 h-4"})})]})]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-[#737373] mt-2",children:r.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),n.jsx(Te,{className:"p-2 sm:p-6",children:n.jsx(Ps,{className:"w-full",children:n.jsxs("div",{className:"min-w-[900px]",children:[n.jsxs("div",{className:"grid gap-1 mb-2",style:{gridTemplateColumns:`100px repeat(${a.length}, 1fr)`},children:[n.jsx("div",{className:"text-xs text-gray-600 dark:text-[#737373] p-2",children:"Time"}),a.map(u=>n.jsxs("div",{className:"text-center p-2 rounded-t-lg",style:{backgroundColor:u.color+"20"},children:[n.jsx("div",{className:"w-3 h-3 rounded mx-auto mb-1",style:{backgroundColor:u.color}}),n.jsx("p",{className:"text-xs text-gray-900 dark:text-white",children:u.name})]},u.id))]}),n.jsx("div",{className:"space-y-1",children:i.map(u=>n.jsxs("div",{className:"grid gap-1",style:{gridTemplateColumns:`100px repeat(${a.length}, 1fr)`},children:[n.jsx("div",{className:"text-xs text-gray-600 dark:text-[#737373] p-2 flex items-center",children:u}),a.map(h=>{const f=o(h.name,u);return n.jsx("div",{className:"border border-gray-200 dark:border-[#2a2a2a] p-1 min-h-[60px] bg-white dark:bg-[#161616] hover:bg-gray-50 dark:hover:bg-[#1a1a1a] transition-colors",children:f.map(m=>n.jsxs("div",{className:"text-xs p-1.5 rounded cursor-pointer hover:opacity-80 transition-opacity mb-1",style:{backgroundColor:h.color+"20",borderLeft:`3px solid ${h.color}`},onClick:()=>e(m),children:[n.jsx("p",{className:"text-gray-900 dark:text-white truncate",children:m.customer}),n.jsxs("p",{className:"text-gray-600 dark:text-[#737373] text-[10px]",children:[m.groupSize," people"]}),n.jsx(ze,{variant:"secondary",className:`text-[10px] px-1 py-0 h-4 mt-1 border
                                ${m.status==="confirmed"?"bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-400 border-emerald-200 dark:border-emerald-500/30":""}
                                ${m.status==="pending"?"bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-400 border-amber-200 dark:border-amber-500/30":""}
                              `,children:m.status})]},m.id))},h.id)})]},u))})]})})})]})}function zMe({open:t,onOpenChange:e,onCreate:r,bookings:s,gamesData:a,venues:i,isSubmitting:o}){const[l,c]=S.useState(1),[d,u]=S.useState({firstName:"",lastName:"",email:"",phone:"",venueId:"",gameId:"",date:"",time:"",adults:2,children:0,notes:"",customerNotes:"",paymentMethod:"credit-card",paymentStatus:"pending",depositAmount:0}),h=A=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A),f=S.useMemo(()=>i.find(A=>A.id===d.venueId),[i,d.venueId]),m=S.useMemo(()=>a.find(A=>A.id===d.gameId),[a,d.gameId]),y=(A,I)=>!A||!I||!m||!d.venueId?!1:!s.some($=>{const O=$.date===A,P=$.time===I,M=$.gameId?$.gameId===m.id:$.game===m.name,R=$.venueId?$.venueId===d.venueId:!0;return O&&P&&M&&R&&$.status!=="cancelled"}),g=(A,I)=>{if(!A||!I)return!1;const[$,O]=I.split(":").map(Number),P=new Date(A);return P.setHours($||0,O||0,0,0),P.getTime()>=new Date().getTime()},v=()=>d.firstName.trim()?d.lastName.trim()?!d.email.trim()||!h(d.email.trim())?(me.error("Please enter a valid email address."),!1):!0:(me.error("Please enter the last name."),!1):(me.error("Please enter the first name."),!1),b=()=>d.venueId?d.gameId?d.date?d.time?(d.adults??0)<1?(me.error("Adults must be at least 1."),!1):(d.children??0)<0?(me.error("Children cannot be negative."),!1):g(d.date,d.time)?y(d.date,d.time)?!0:(me.error("This time slot is already booked. Choose another."),!1):(me.error("Selected date/time is in the past."),!1):(me.error("Please select a time."),!1):(me.error("Please select a date."),!1):(me.error("Please select a game."),!1):(me.error("Please select a venue."),!1),w=()=>{if(l===1){if(!v())return;c(2);return}if(l===2){if(!b())return;c(3);return}c(l+1)},N=async()=>{if(!(!v()||!b())&&r){try{const A={...d,totalAmount:C,endTime:E||d.time};await r(A),e(!1),c(1),u({firstName:"",lastName:"",email:"",phone:"",venueId:"",gameId:"",date:"",time:"",adults:2,children:0,notes:"",customerNotes:"",paymentMethod:"credit-card",paymentStatus:"pending",depositAmount:0})}catch{}return}},_=S.useMemo(()=>d.venueId?a.filter(A=>A.venueId===d.venueId):a,[a,d.venueId]),C=S.useMemo(()=>{const A=m?.price??30,I=m?.childPrice??Math.max((m?.price??30)*.7,0);return d.adults*A+d.children*I},[d.adults,d.children,m]),E=S.useMemo(()=>!m||!d.time?"":DMe(d.time,m.duration),[m,d.time]);return n.jsx(or,{open:t,onOpenChange:e,children:n.jsxs(lr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto max-lg:w-full max-lg:h-full max-lg:max-h-full max-lg:rounded-none",children:[n.jsxs(Nr,{children:[n.jsx(cr,{children:"Add New Booking"}),n.jsxs(xr,{children:["Create a new booking for a customer. Step ",l," of 3."]})]}),n.jsxs("div",{className:"space-y-6",children:[l===1&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center text-sm",children:"1"}),n.jsx("h3",{className:"text-sm sm:text-base text-gray-900",children:"Customer Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(re,{htmlFor:"firstName",className:"text-sm",children:"First Name *"}),n.jsx(ge,{id:"firstName",value:d.firstName,onChange:A=>u({...d,firstName:A.target.value}),placeholder:"Enter first name",className:"mt-1 h-11"})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"lastName",className:"text-sm",children:"Last Name *"}),n.jsx(ge,{id:"lastName",value:d.lastName,onChange:A=>u({...d,lastName:A.target.value}),placeholder:"Enter last name",className:"mt-1 h-11"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(re,{htmlFor:"email",className:"text-sm",children:"Email Address *"}),n.jsx(ge,{id:"email",type:"email",value:d.email,onChange:A=>u({...d,email:A.target.value}),placeholder:"customer@example.com",className:"mt-1 h-11"})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"phone",className:"text-sm",children:"Phone Number"}),n.jsx(ge,{id:"phone",type:"tel",value:d.phone,onChange:A=>u({...d,phone:A.target.value}),placeholder:"+1 (555) 000-0000",className:"mt-1 h-11"})]})]})]}),l===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center text-sm",children:"2"}),n.jsx("h3",{className:"text-sm sm:text-base text-gray-900",children:"Booking Details"})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"venue",className:"text-sm",children:"Select Venue *"}),n.jsxs(Kt,{value:d.venueId,onValueChange:A=>u(I=>({...I,venueId:A,gameId:"",time:""})),children:[n.jsx(Xt,{className:"mt-1 h-11",children:n.jsx(Yt,{placeholder:"Choose a venue"})}),n.jsx(Zt,{children:Array.isArray(i)&&i.length>0?i.map(A=>n.jsx(Ce,{value:A.id,children:A.name},A.id)):n.jsx(Ce,{value:"no-venues",disabled:!0,children:"No venues available"})})]})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"game",className:"text-sm",children:"Select Game *"}),n.jsxs(Kt,{value:d.gameId,onValueChange:A=>u(I=>({...I,gameId:A,time:""})),disabled:!d.venueId,children:[n.jsx(Xt,{className:"mt-1 h-11",children:n.jsx(Yt,{placeholder:d.venueId?"Choose a game":"Select a venue first"})}),n.jsx(Zt,{children:_.length>0?_.map(A=>n.jsx(Ce,{value:A.id,children:A.name},A.id)):n.jsx(Ce,{value:"no-games",disabled:!0,children:d.venueId?"No games available for this venue":"Select a venue to load games"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(re,{htmlFor:"date",className:"text-sm",children:"Date *"}),n.jsx(ge,{id:"date",type:"date",value:d.date,onChange:A=>u({...d,date:A.target.value}),className:"mt-1 h-11"})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"time",className:"text-sm",children:"Time *"}),n.jsxs(Kt,{value:d.time,onValueChange:A=>u({...d,time:A}),disabled:!d.date||!d.gameId,children:[n.jsx(Xt,{className:"mt-1 h-11",children:n.jsx(Yt,{placeholder:d.gameId?"Select time":"Select a game first"})}),n.jsx(Zt,{children:["10:00","12:00","14:00","16:00","18:00","20:00"].map(A=>{const I=d.date&&d.gameId?!y(d.date,A):!0,$=A==="10:00"?"10:00 AM":A==="12:00"?"12:00 PM":A==="14:00"?"2:00 PM":A==="16:00"?"4:00 PM":A==="18:00"?"6:00 PM":"8:00 PM";return n.jsxs(Ce,{value:A,disabled:I,children:[$,I&&d.date&&d.gameId?" (Unavailable)":""]},A)})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(re,{htmlFor:"adults",className:"text-sm",children:"Number of Adults *"}),n.jsx(ge,{id:"adults",type:"number",min:"1",value:d.adults,onChange:A=>u({...d,adults:parseInt(A.target.value)||0}),className:"mt-1 h-11"})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"children",className:"text-sm",children:"Number of Children"}),n.jsx(ge,{id:"children",type:"number",min:"0",value:d.children,onChange:A=>u({...d,children:parseInt(A.target.value)||0}),className:"mt-1 h-11"})]})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"notes",className:"text-sm",children:"Internal Notes (Admin Only)"}),n.jsx(mn,{id:"notes",value:d.notes,onChange:A=>u({...d,notes:A.target.value}),placeholder:"Internal notes for staff...",className:"mt-1",rows:2})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"customerNotes",className:"text-sm",children:"Customer Notes"}),n.jsx(mn,{id:"customerNotes",value:d.customerNotes,onChange:A=>u({...d,customerNotes:A.target.value}),placeholder:"Special requests from customer...",className:"mt-1",rows:2})]})]}),l===3&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center text-sm",children:"3"}),n.jsx("h3",{className:"text-sm sm:text-base text-gray-900",children:"Payment & Confirmation"})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h4",{className:"text-sm text-blue-900 mb-3",children:"Booking Summary"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Customer:"}),n.jsx("span",{className:"text-gray-900",children:d.firstName&&d.lastName?`${d.firstName} ${d.lastName}`:""})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Venue:"}),n.jsx("span",{className:"text-gray-900",children:f?.name||""})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Game:"}),n.jsx("span",{className:"text-gray-900",children:m?.name||""})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Date & Time:"}),n.jsxs("span",{className:"text-gray-900",children:[d.date||"",d.time?` at ${d.time}`:""]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Estimated End:"}),n.jsx("span",{className:"text-gray-900",children:E||""})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Group Size:"}),n.jsxs("span",{className:"text-gray-900",children:[d.adults," adults, ",d.children," children"]})]}),n.jsx(tt,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-900",children:"Total Amount:"}),n.jsx("span",{className:"text-gray-900",children:MMe(C)})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(re,{children:"Payment Method"}),n.jsxs(Kt,{value:d.paymentMethod,onValueChange:A=>u({...d,paymentMethod:A}),children:[n.jsx(Xt,{className:"mt-1 h-11",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"credit-card",children:"Credit Card"}),n.jsx(Ce,{value:"cash",children:"Cash"}),n.jsx(Ce,{value:"paypal",children:"PayPal"}),n.jsx(Ce,{value:"bank-transfer",children:"Bank Transfer"})]})]})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Payment Status"}),n.jsxs(Kt,{value:d.paymentStatus,onValueChange:A=>u({...d,paymentStatus:A}),children:[n.jsx(Xt,{className:"mt-1 h-11",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"pending",children:"Pending"}),n.jsx(Ce,{value:"paid",children:"Paid"}),n.jsx(Ce,{value:"partially_paid",children:"Partially Paid"}),n.jsx(Ce,{value:"refunded",children:"Refunded"})]})]})]})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"depositAmount",className:"text-sm",children:"Deposit Amount (Optional)"}),n.jsx(ge,{id:"depositAmount",type:"number",min:"0",step:"0.01",value:d.depositAmount,onChange:A=>u({...d,depositAmount:parseFloat(A.target.value)||0}),placeholder:"0.00",className:"mt-1 h-11"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave as 0 if no deposit is required"})]})]})]}),n.jsxs(wn,{className:"flex flex-col-reverse sm:flex-row items-stretch sm:items-center justify-between gap-2",children:[l>1&&n.jsx(J,{variant:"outline",onClick:()=>c(l-1),className:"w-full sm:w-auto h-11",children:"Back"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto sm:ml-auto",children:[n.jsx(J,{variant:"outline",onClick:()=>e(!1),className:"w-full sm:w-auto h-11 order-2 sm:order-1",disabled:o,children:"Cancel"}),l<3?n.jsx(J,{onClick:w,className:"bg-blue-600 hover:bg-blue-700 w-full sm:w-auto h-11 order-1 sm:order-2",disabled:o,children:"Next"}):n.jsx(J,{onClick:N,disabled:o,className:"bg-green-600 hover:bg-green-700 w-full sm:w-auto h-11 order-1 sm:order-2",children:o?n.jsxs("span",{className:"flex items-center justify-center gap-2",children:[n.jsx(Yp,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Confirm Booking"})]})]})]})})}function VMe({open:t,onOpenChange:e,booking:r,onRefund:s,onReschedule:a,staffList:i,onAssignStaff:o,onUpdateStatus:l,onCheckIn:c,onCheckOut:d,onSendConfirmation:u,onSave:h}){if(!r)return null;const f=g=>new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),[m,y]=S.useState(!1);return n.jsx(or,{open:t,onOpenChange:e,children:n.jsxs(lr,{className:"!w-screen !h-screen !max-w-none !max-h-none sm:!w-[90vw] sm:!h-[90vh] sm:!max-w-[1200px] sm:!max-h-[90vh] !rounded-none sm:!rounded-lg overflow-hidden p-0 flex flex-col",children:[n.jsxs(Nr,{className:"bg-white dark:bg-[#1e1e1e] border-b border-gray-200 dark:border-[#2a2a2a] p-4 sm:p-6 shrink-0",children:[n.jsx(cr,{children:"Booking Details"}),n.jsxs(xr,{children:["Complete information for booking ",r.id]})]}),n.jsxs("div",{className:"space-y-6 overflow-y-auto overflow-x-hidden px-4 sm:px-6 flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(ze,{variant:"secondary",className:`text-sm px-3 py-1 border
                ${r.status==="confirmed"?"bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-400 border-emerald-200 dark:border-emerald-500/30":""}
                ${r.status==="pending"?"bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-400 border-amber-200 dark:border-amber-500/30":""}
                ${r.status==="cancelled"?"bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-400 border-red-200 dark:border-red-500/30":""}
                ${r.status==="in-progress"?"bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-400 border-blue-200 dark:border-blue-500/30":""}
                ${r.status==="completed"?"bg-green-100 dark:bg-green-500/20 text-green-700 dark:text-green-400 border-green-200 dark:border-green-500/30":""}
              `,children:r.status.toUpperCase()}),n.jsxs("span",{className:"text-sm text-gray-500 dark:text-[#737373]",children:["ID: ",r.id]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 min-w-0",children:[n.jsxs("div",{children:[n.jsx(re,{className:"text-sm",children:"Assigned Staff"}),n.jsxs(Kt,{value:r.assignedStaffId||"",onValueChange:g=>o&&o(g),children:[n.jsx(Xt,{className:"mt-1 h-11 w-full",children:n.jsx(Yt,{placeholder:r.assignedStaffId?i?.find(g=>g.id===r.assignedStaffId)?.name||"Assigned":"Assign staff"})}),n.jsx(Zt,{children:Array.isArray(i)&&i.length>0?i.map(g=>n.jsx(Ce,{value:g.id,children:g.name},g.id)):n.jsx(Ce,{value:"no-staff",disabled:!0,children:"No staff available"})})]})]}),n.jsxs("div",{children:[n.jsx(re,{className:"text-sm",children:"Status"}),n.jsxs(Kt,{value:r.status,onValueChange:g=>l&&l(g),children:[n.jsx(Xt,{className:"mt-1 h-11 w-full",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"confirmed",children:"Confirmed"}),n.jsx(Ce,{value:"pending",children:"Pending"}),n.jsx(Ce,{value:"cancelled",children:"Cancelled"}),n.jsx(Ce,{value:"no-show",children:"No Show"}),n.jsx(Ce,{value:"completed",children:"Completed"})]})]})]}),(r.checkInTime||r.checkOutTime)&&n.jsx("div",{className:"sm:col-span-2 bg-gray-50 dark:bg-[#1a1a1a] rounded-lg p-3",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-600 dark:text-[#737373]",children:[r.checkInTime&&n.jsxs("span",{children:["Checked in: ",new Date(r.checkInTime).toLocaleString()]}),r.checkOutTime&&n.jsxs("span",{className:"ml-4",children:["Checked out: ",new Date(r.checkOutTime).toLocaleString()]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm text-gray-600 dark:text-[#737373] mb-3",children:"Customer Information"}),n.jsxs("div",{className:"bg-gray-50 dark:bg-[#1a1a1a] rounded-lg p-4 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wr,{className:"w-4 h-4 text-gray-400 dark:text-[#525252]"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:r.customer})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gn,{className:"w-4 h-4 text-gray-400 dark:text-[#525252]"}),n.jsx("span",{className:"text-gray-600 dark:text-[#737373]",children:r.email})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gs,{className:"w-4 h-4 text-gray-400 dark:text-[#525252]"}),n.jsx("span",{className:"text-gray-600 dark:text-[#737373]",children:r.phone})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm text-gray-600 dark:text-[#737373] mb-3",children:"Booking Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 min-w-0",children:[n.jsxs("div",{className:"bg-gray-50 dark:bg-[#1a1a1a] rounded-lg p-4",children:[n.jsx("p",{className:"text-xs text-gray-500 dark:text-[#737373] mb-2",children:"Venue"}),n.jsx("p",{className:"text-base text-gray-900 dark:text-white font-medium",children:r.venueName||"N/A"})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-[#1a1a1a] rounded-lg p-4",children:[n.jsx("p",{className:"text-xs text-gray-500 dark:text-[#737373] mb-2",children:"Game"}),n.jsx("p",{className:"text-base text-gray-900 dark:text-white font-medium",children:r.game})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-[#1a1a1a] rounded-lg p-4",children:[n.jsx("p",{className:"text-xs text-gray-500 dark:text-[#737373] mb-2",children:"Date & Time"}),n.jsx("p",{className:"text-base text-gray-900 dark:text-white font-medium",children:f(r.date)}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-[#737373] mt-1",children:r.time})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-[#1a1a1a] rounded-lg p-4",children:[n.jsx("p",{className:"text-xs text-gray-500 dark:text-[#737373] mb-2",children:"Group Size"}),n.jsxs("p",{className:"text-base text-gray-900 dark:text-white font-medium",children:[r.groupSize," people"]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-[#737373] mt-1",children:[r.adults," adults, ",r.children," children"]})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-[#1a1a1a] rounded-lg p-4 lg:col-span-2",children:[n.jsx("p",{className:"text-xs text-gray-500 dark:text-[#737373] mb-2",children:"Payment"}),n.jsxs("p",{className:"text-base text-gray-900 dark:text-white font-medium",children:["$",r.amount]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-[#737373] mt-1",children:r.paymentMethod})]})]})]}),r.notes&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm text-gray-600 dark:text-[#737373] mb-2",children:"Special Notes"}),n.jsx("div",{className:"bg-yellow-50 dark:bg-amber-500/10 border border-yellow-200 dark:border-amber-500/30 rounded-lg p-3",children:n.jsx("p",{className:"text-xs sm:text-sm text-gray-700 dark:text-[#a3a3a3]",children:r.notes})})]})]}),n.jsxs(wn,{className:"flex flex-col sm:flex-row gap-2",children:[n.jsx(J,{onClick:async()=>{if(h)try{y(!0),await h()}finally{y(!1)}},className:"w-full sm:w-auto h-11",disabled:m,children:m?n.jsxs(n.Fragment,{children:[n.jsx(Yp,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"}),n.jsx(J,{variant:"outline",onClick:()=>e(!1),className:"w-full sm:w-auto h-11",children:"Close"}),n.jsxs(J,{variant:"outline",className:"w-full sm:w-auto h-11",onClick:()=>u&&u(),children:[n.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Send Confirmation"]}),n.jsxs(J,{variant:"outline",className:"w-full sm:w-auto h-11",onClick:()=>a&&a(r),children:[n.jsx(Hc,{className:"w-4 h-4 mr-2"}),"Reschedule"]}),!r.checkInTime&&r.status!=="cancelled"&&n.jsxs(J,{onClick:()=>c&&c(),className:"bg-blue-600 hover:bg-blue-700 w-full sm:w-auto h-11",children:[n.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Check In"]}),r.checkInTime&&!r.checkOutTime&&n.jsxs(J,{onClick:()=>d&&d(),className:"bg-green-600 hover:bg-green-700 w-full sm:w-auto h-11",children:[n.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Check Out"]}),r.status==="confirmed"&&n.jsx(Bd,{permissions:["payments.refund"],children:n.jsxs(J,{variant:"outline",className:"text-orange-600 dark:text-orange-500 hover:text-orange-700 dark:hover:text-orange-400 w-full sm:w-auto h-11",onClick:()=>{e(!1),s(r)},children:[n.jsx(Rd,{className:"w-4 h-4 mr-2"}),"Process Refund"]})})]})]})})}function WMe({open:t,onOpenChange:e,booking:r}){const[s,a]=S.useState(r?.amount||0),[i,o]=S.useState(""),l=()=>{me.success(`Refund of $${s} processed successfully!`),e(!1)};return r?n.jsx(or,{open:t,onOpenChange:e,children:n.jsxs(lr,{className:"max-w-md max-lg:w-full max-lg:h-full max-lg:max-h-full max-lg:rounded-none overflow-y-auto max-h-[90vh]",children:[n.jsxs(Nr,{children:[n.jsxs(cr,{className:"flex items-center gap-2",children:[n.jsx(Rd,{className:"w-5 h-5 text-orange-600 dark:text-orange-500"}),"Process Refund"]}),n.jsxs(xr,{children:["Issue a refund for booking ",r.id]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-orange-50 dark:bg-orange-500/10 border border-orange-200 dark:border-orange-500/30 rounded-lg p-3 sm:p-4",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(us,{className:"w-5 h-5 text-orange-600 dark:text-orange-500 mt-0.5 flex-shrink-0"}),n.jsx("div",{children:n.jsx("p",{className:"text-xs sm:text-sm text-orange-900 dark:text-orange-400",children:"This action will refund the customer and update the booking status."})})]})}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"refund-amount",className:"text-sm",children:"Refund Amount"}),n.jsxs("div",{className:"relative mt-1",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-[#737373]",children:"$"}),n.jsx(ge,{id:"refund-amount",type:"number",min:"0",max:r.amount,step:"0.01",value:s,onChange:c=>a(parseFloat(c.target.value)),className:"pl-7 h-11"})]}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-[#737373] mt-1",children:["Original amount: $",r.amount]})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"refund-reason",className:"text-sm",children:"Refund Reason"}),n.jsx(mn,{id:"refund-reason",value:i,onChange:c=>o(c.target.value),placeholder:"Enter the reason for this refund...",className:"mt-1",rows:3})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-[#1a1a1a] rounded-lg p-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#737373]",children:"Customer:"}),n.jsx("span",{className:"text-xs sm:text-sm text-gray-900 dark:text-white truncate ml-2",children:r.customer})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#737373]",children:"Payment Method:"}),n.jsx("span",{className:"text-xs sm:text-sm text-gray-900 dark:text-white",children:r.paymentMethod})]})]})]}),n.jsxs(wn,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[n.jsx(J,{variant:"outline",onClick:()=>e(!1),className:"w-full sm:w-auto h-11",children:"Cancel"}),n.jsx(J,{onClick:l,className:"bg-orange-600 dark:bg-orange-600 hover:bg-orange-700 dark:hover:bg-orange-700 w-full sm:w-auto h-11",disabled:!s||s<=0,children:"Process Refund"})]})]})}):null}function HMe({open:t,onOpenChange:e,date:r,bookings:s,gamesData:a=[]}){if(!r)return null;const i=s.reduce((h,f)=>h+f.groupSize,0),o=s.reduce((h,f)=>h+f.amount,0),l=h=>{const f=h==null?"":String(h);return f.includes(",")||f.includes('"')||f.includes(`
`)?'"'+f.replace(/"/g,'""')+'"':f},c=h=>{const m=[["Booking ID","Customer","Email","Phone","Game","Date","Time","Group Size","Amount","Status"].join(",")];return h.forEach(y=>{m.push([l(y.id),l(y.customer),l(y.email),l(y.phone),l(y.game),l(y.date),l(y.time),l(y.groupSize),l(y.amount),l(y.status)].join(","))}),m.join(`
`)},d=(h,f)=>{const m=new Blob([h],{type:"text/csv;charset=utf-8;"}),y=URL.createObjectURL(m),g=document.createElement("a");g.href=y,g.download=f,g.click(),URL.revokeObjectURL(y)},u=()=>{const h=s||[];if(!h.length){me.info("No bookings to export for this day");return}const f=c(h),m=new Date,y=`${m.getFullYear()}-${String(m.getMonth()+1).padStart(2,"0")}-${String(m.getDate()).padStart(2,"0")}_${String(m.getHours()).padStart(2,"0")}${String(m.getMinutes()).padStart(2,"0")}`,g=`attendees_${r.toISOString().split("T")[0]}_${y}.csv`;d(f,g),me.success(`Exported ${h.length} records`)};return n.jsx(or,{open:t,onOpenChange:e,children:n.jsxs(lr,{className:"max-w-3xl max-h-[80vh] max-lg:w-full max-lg:h-full max-lg:max-h-full max-lg:rounded-none overflow-y-auto",children:[n.jsxs(Nr,{children:[n.jsxs(cr,{className:"flex items-center gap-2 text-base sm:text-lg",children:[n.jsx(Hc,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:r.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),n.jsx(xr,{className:"text-sm",children:"All bookings and attendees for this day"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4",children:[n.jsx(ve,{className:"border-blue-200 bg-blue-50",children:n.jsx(Te,{className:"p-2 sm:p-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-1 sm:gap-2",children:[n.jsx(Nn,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-600 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-[10px] sm:text-xs text-blue-600 truncate",children:"Bookings"}),n.jsx("p",{className:"text-lg sm:text-2xl text-blue-900",children:s.length})]})]})})}),n.jsx(ve,{className:"border-green-200 bg-green-50",children:n.jsx(Te,{className:"p-2 sm:p-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-1 sm:gap-2",children:[n.jsx(Wr,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-600 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-[10px] sm:text-xs text-green-600 truncate",children:"Attendees"}),n.jsx("p",{className:"text-lg sm:text-2xl text-green-900",children:i})]})]})})}),n.jsx(ve,{className:"border-purple-200 bg-purple-50",children:n.jsx(Te,{className:"p-2 sm:p-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-1 sm:gap-2",children:[n.jsx(Si,{className:"w-3 h-3 sm:w-4 sm:h-4 text-purple-600 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-[10px] sm:text-xs text-purple-600 truncate",children:"Revenue"}),n.jsxs("p",{className:"text-lg sm:text-2xl text-purple-900",children:["$",o]})]})]})})})]}),n.jsx(Ps,{className:"h-[300px] sm:h-[400px]",children:n.jsx("div",{className:"space-y-3 pr-4",children:s.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Nn,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"No bookings for this day"})]}):s.map(h=>{const f=a.find(m=>m.name===h.game)?.color||"#6b7280";return n.jsx(ve,{className:"border-gray-200",children:n.jsx(Te,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-1 h-12 rounded",style:{backgroundColor:f}}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-gray-900",children:h.game}),n.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[n.jsxs("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[n.jsx(Qt,{className:"w-3 h-3"}),h.time]}),n.jsxs("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[n.jsx(Wr,{className:"w-3 h-3"}),h.groupSize," people"]})]})]})]}),n.jsx(tt,{className:"my-2"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Customer"}),n.jsx("p",{className:"text-gray-900",children:h.customer}),n.jsx("p",{className:"text-xs text-gray-600",children:h.email})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Group Composition"}),n.jsxs("p",{className:"text-gray-900",children:[h.adults," Adults, ",h.children," Children"]})]})]})]}),n.jsxs("div",{className:"text-right ml-4",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Amount"}),n.jsxs("p",{className:"text-xl text-gray-900",children:["$",h.amount]}),n.jsx(ze,{variant:"secondary",className:`mt-2
                                ${h.status==="confirmed"?"bg-green-100 text-green-700":""}
                                ${h.status==="pending"?"bg-yellow-100 text-yellow-700":""}
                              `,children:h.status})]})]})})},h.id)})})})]}),n.jsxs(wn,{children:[n.jsx(J,{variant:"outline",onClick:()=>e(!1),children:"Close"}),n.jsxs(J,{className:"bg-blue-600 hover:bg-blue-700",onClick:u,children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Export List"]})]})]})})}function qMe(t){return new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function GMe({open:t,onOpenChange:e,booking:r,onConfirm:s,bookings:a=[]}){const[i,o]=S.useState(r?new Date(r.date):void 0),[l,c]=S.useState(r?.time||""),d=Array.from({length:14},(f,m)=>`${String(10+m).padStart(2,"0")}:00`);if(S.useEffect(()=>{r&&(o(new Date(r.date)),c(r.time))},[r]),!r)return null;const u=f=>f.toISOString().split("T")[0],h=f=>{if(!f)return[];const m=u(f);return d.map(y=>{const g=a.some(v=>v.date===m&&v.time===y&&v.status!=="cancelled"&&v.id!==r.id);return{time:y,available:!g}})};return n.jsx(or,{open:t,onOpenChange:e,children:n.jsxs(lr,{className:"max-w-md max-lg:w-full max-lg:h-full max-lg:max-h-full max-lg:rounded-none overflow-y-auto max-h-[90vh]",children:[n.jsxs(Nr,{children:[n.jsxs(cr,{className:"flex items-center gap-2",children:[n.jsx(Rd,{className:"w-5 h-5 text-blue-600 dark:text-[#4f46e5]"}),"Reschedule Booking"]}),n.jsxs(xr,{children:["Update the date and time for booking ",r.id]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(re,{className:"text-sm",children:"New Date"}),n.jsx("div",{className:"mt-2 border rounded-md p-2",children:n.jsx(Uu,{mode:"single",selected:i,onSelect:o,disabled:f=>f<new Date(new Date().setHours(0,0,0,0)),className:"rounded-md [&_.rdp-day_selected]:bg-blue-600 [&_.rdp-day_selected]:text-white"})})]}),n.jsxs("div",{children:[n.jsx(re,{className:"text-sm",children:"New Time"}),n.jsxs("div",{className:"mt-2",children:[i?n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-3",children:h(i).map(f=>n.jsxs("button",{onClick:()=>f.available&&c(f.time),disabled:!f.available,className:`
                        px-3 py-2 rounded-lg border-2 text-center transition-all
                        ${l===f.time?"bg-blue-600 text-white border-blue-600 shadow-md":f.available?"border-gray-200 hover:border-gray-300 hover:shadow-sm":"border-gray-100 cursor-not-allowed opacity-50"}
                      `,children:[n.jsx("div",{className:"text-sm",children:f.time}),n.jsx("div",{className:`text-xs mt-0.5 ${f.available?"text-green-600":"text-red-500"}`,children:f.available?"Available":"Unavailable"})]},f.time))}):n.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Select a date to view available time slots"}),n.jsx(ge,{type:"time",value:l,onChange:f=>c(f.target.value),className:"mt-3 h-11"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pick a slot or enter a custom time."})]})]}),n.jsx("div",{className:"bg-blue-50 dark:bg-[#4f46e5]/10 border border-blue-200 dark:border-[#4f46e5]/30 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[n.jsx(Hc,{className:"w-4 h-4 text-blue-600 dark:text-[#6366f1]"}),n.jsxs("span",{className:"text-blue-900 dark:text-[#a5b4fc]",children:["Current: ",qMe(r.date)," ",r.time]})]})})]}),n.jsxs(wn,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[n.jsx(J,{variant:"outline",onClick:()=>e(!1),className:"w-full sm:w-auto h-11",children:"Cancel"}),n.jsx(J,{onClick:()=>{i&&l&&s&&(s(u(i),l),e&&e(!1))},className:"bg-blue-600 dark:bg-[#4f46e5] hover:bg-blue-700 dark:hover:bg-[#4338ca] w-full sm:w-auto h-11",disabled:!i||!l,children:"Confirm Reschedule"})]})]})})}function KMe({open:t,onOpenChange:e,booking:r,onConfirm:s}){const[a,i]=S.useState("");return r?n.jsx(or,{open:t,onOpenChange:e,children:n.jsxs(lr,{className:"max-w-md max-lg:w-full max-lg:h-full max-lg:max-h-full max-lg:rounded-none overflow-y-auto max-h-[90vh]",children:[n.jsxs(Nr,{children:[n.jsxs(cr,{className:"flex items-center gap-2",children:[n.jsx(us,{className:"w-5 h-5 text-red-600 dark:text-red-500"}),"Cancel Booking"]}),n.jsxs(xr,{children:["This will mark booking ",r.id," as cancelled."]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/30 rounded-lg p-3",children:n.jsx("p",{className:"text-xs sm:text-sm text-red-900 dark:text-red-400",children:"Customers may need to be notified and any payments handled separately."})}),n.jsxs("div",{children:[n.jsx(re,{className:"text-sm",children:"Cancellation Reason (optional)"}),n.jsx(mn,{value:a,onChange:o=>i(o.target.value),className:"mt-2 h-24",placeholder:"e.g., Customer requested cancellation due to illness"})]})]}),n.jsxs(wn,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[n.jsx(J,{variant:"outline",onClick:()=>e(!1),className:"w-full sm:w-auto h-11",children:"Keep Booking"}),n.jsx(J,{onClick:()=>s&&s(a),className:"bg-red-600 dark:bg-red-500 hover:bg-red-700 dark:hover:bg-red-600 w-full sm:w-auto h-11",children:"Confirm Cancel"})]})]})}):null}const YMe=({message:t="Loading BookingTMS..."})=>{const{theme:e}=fn(),r=e==="dark";return n.jsxs("div",{className:`fixed inset-0 z-[5000] flex flex-col items-center justify-center px-6 transition-colors ${r?"bg-[#0a0a0a] text-white":"bg-white text-gray-900"}`,children:[n.jsx(bu.div,{className:"relative mb-10",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeOut"},children:n.jsx(_K,{size:80,animated:!0})}),n.jsx("div",{className:`w-64 h-1 mb-8 rounded-full overflow-hidden ${r?"bg-white/10":"bg-gray-200"}`,children:n.jsx(bu.div,{className:`${r?"bg-white":"bg-gray-900"} h-full`,animate:{width:["0%","65%","100%"]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"}})}),n.jsx(bu.p,{className:`text-sm ${r?"text-white/70":"text-gray-600"} text-center`,initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:t})]})},XMe=t=>{if(!t)return"Unknown";const e=t.toLowerCase();return e.includes("easy")?"Easy":e.includes("medium")?"Medium":e.includes("hard")?"Hard":e.includes("extreme")?"Extreme":t},ZMe=t=>{switch(t){case"Easy":return"bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-400 border-emerald-200 dark:border-emerald-500/30";case"Medium":return"bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-400 border-amber-200 dark:border-amber-500/30";case"Hard":case"Extreme":return"bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-400 border-red-200 dark:border-red-500/30";default:return"bg-gray-100 dark:bg-[#1e1e1e] text-gray-700 dark:text-[#737373] border-gray-200 dark:border-[#2a2a2a]"}};function JMe(){const{games:t,refreshGames:e}=rO(),{venues:r,refreshVenues:s}=nO(),[a,i]=S.useState(!1),o=async()=>{i(!0);try{await Promise.all([e(),s()]),me.success("Games refreshed successfully")}catch{me.error("Failed to refresh games")}finally{i(!1)}},l=S.useMemo(()=>{const u=t.length,h=t.filter(y=>y.status==="active").length,f=t.reduce((y,g)=>y+(g.max_players??0),0),m=t.reduce((y,g)=>y+Number(g.price??0),0);return{totalGames:u,activeGames:h,totalCapacity:f,averagePrice:u>0?Math.round(m/u):0}},[t]),c=u=>r.find(h=>h.id===u),d=u=>u?`${typeof window<"u"?window.location.origin:""}/embed?widgetId=farebook&widgetKey=${u}`:null;return n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsx(ui,{title:"Events / Rooms",description:"Games and experiences are now managed from within each venue so that embed keys stay in sync. Use this page to review everything that's live.",sticky:!0,action:n.jsxs(J,{variant:"outline",className:"h-11",onClick:o,disabled:a,children:[n.jsx(Rd,{className:`w-4 h-4 sm:mr-2 ${a?"animate-spin":""}`}),n.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})}),n.jsx(ve,{className:"border-dashed border-2",children:n.jsxs(Te,{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 p-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(rs,{className:"w-5 h-5 text-blue-600 dark:text-[#6366f1] mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 font-medium",children:"Create and edit games from the Venues page."}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Open any venue, create games there, and they'll appear here automatically with the correct embed key."})]})]}),n.jsx(J,{asChild:!0,variant:"outline",className:"sm:ml-auto",children:n.jsx("a",{href:"/venues",children:"Go to Venues"})})]})}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[n.jsx(ve,{className:"border-gray-200 dark:border-[#2a2a2a]",children:n.jsxs(Te,{className:"p-4 sm:p-6",children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#737373] mb-1",children:"Total Games"}),n.jsx("p",{className:"text-gray-900 dark:text-white text-lg",children:l.totalGames})]})}),n.jsx(ve,{className:"border-gray-200 dark:border-[#2a2a2a]",children:n.jsxs(Te,{className:"p-4 sm:p-6",children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#737373] mb-1",children:"Active Games"}),n.jsx("p",{className:"text-gray-900 dark:text-white text-lg",children:l.activeGames})]})}),n.jsx(ve,{className:"border-gray-200 dark:border-[#2a2a2a]",children:n.jsxs(Te,{className:"p-4 sm:p-6",children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#737373] mb-1",children:"Total Capacity"}),n.jsxs("p",{className:"text-gray-900 dark:text-white text-sm",children:[l.totalCapacity," players"]})]})}),n.jsx(ve,{className:"border-gray-200 dark:border-[#2a2a2a]",children:n.jsxs(Te,{className:"p-4 sm:p-6",children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#737373] mb-1",children:"Avg. Price"}),n.jsxs("p",{className:"text-gray-900 dark:text-white text-sm",children:["$",l.averagePrice,"/person"]})]})})]}),t.length===0?n.jsx(ve,{className:"border-gray-200 dark:border-[#2a2a2a]",children:n.jsx(Te,{className:"p-6 text-sm text-gray-600 dark:text-gray-400",children:"No games yet. Create games inside a venue and they will appear here automatically."})}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:t.map(u=>{const h=c(u.venue_id),f=XMe(u.difficulty),m=d(h?.embed_key),y=u.min_players??0,g=u.max_players??0,v=u.duration?`${u.duration} min`:"No duration set",b=typeof u.price=="number"?`$${u.price}`:"No price set",w=u.status==="active"?"bg-blue-100 dark:bg-[#4f46e5]/20 text-blue-700 dark:text-[#6366f1] border-blue-200 dark:border-[#4f46e5]/30":"bg-gray-100 dark:bg-[#1e1e1e] text-gray-700 dark:text-[#737373] border-gray-200 dark:border-[#2a2a2a]";return n.jsxs(ve,{className:"border-gray-200 dark:border-[#2a2a2a]",children:[n.jsxs(st,{className:"space-y-2",children:[n.jsx(at,{className:"text-base text-gray-900 dark:text-white truncate",children:u.name}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-[#a3a3a3] line-clamp-3",children:u.description||"No description provided."}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Venue: ",h?h.name:"Unassigned"]})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col gap-2 text-sm text-gray-600 dark:text-[#a3a3a3]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wr,{className:"w-4 h-4"}),n.jsxs("span",{children:[y," - ",g," players"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:"w-4 h-4"}),n.jsx("span",{children:v})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Si,{className:"w-4 h-4"}),n.jsx("span",{children:b})]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(ze,{variant:"secondary",className:`border ${ZMe(f)}`,children:f}),n.jsx(ze,{variant:"secondary",className:`border ${w}`,children:u.status})]}),m?n.jsxs(J,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>window.open(m,"_blank"),children:[n.jsx(al,{className:"w-4 h-4"}),"Open Venue Widget"]}):n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No embed key available for this venue yet."})]})]},u.id)})})]})}var T5="Checkbox",[QMe]=Mo(T5),[eRe,NO]=QMe(T5);function tRe(t){const{__scopeCheckbox:e,checked:r,children:s,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=t,[f,m]=uc({prop:r,defaultProp:a??!1,onChange:c,caller:T5}),[y,g]=S.useState(null),[v,b]=S.useState(null),w=S.useRef(!1),N=y?!!o||!!y.closest("form"):!0,_={checked:f,disabled:i,setChecked:m,control:y,setControl:g,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:w,required:d,defaultChecked:em(a)?!1:a,isFormControl:N,bubbleInput:v,setBubbleInput:b};return n.jsx(eRe,{scope:e,..._,children:rRe(h)?h(_):s})}var Gee="CheckboxTrigger",Kee=S.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...s},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:y}=NO(Gee,t),g=Zr(a,u),v=S.useRef(c);return S.useEffect(()=>{const b=i?.form;if(b){const w=()=>h(v.current);return b.addEventListener("reset",w),()=>b.removeEventListener("reset",w)}},[i,h]),n.jsx(Tr.button,{type:"button",role:"checkbox","aria-checked":em(c)?"mixed":c,"aria-required":d,"data-state":ete(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:g,onKeyDown:Vt(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Vt(r,b=>{h(w=>em(w)?!0:!w),y&&m&&(f.current=b.isPropagationStopped(),f.current||b.stopPropagation())})})});Kee.displayName=Gee;var Yee=S.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=t;return n.jsx(tRe,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:s,form:u,value:c,internal_do_not_use_render:({isFormControl:f})=>n.jsxs(n.Fragment,{children:[n.jsx(Kee,{...h,ref:e,__scopeCheckbox:r}),f&&n.jsx(Qee,{__scopeCheckbox:r})]})})});Yee.displayName=T5;var Xee="CheckboxIndicator",Zee=S.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:s,...a}=t,i=NO(Xee,r);return n.jsx(fo,{present:s||em(i.checked)||i.checked===!0,children:n.jsx(Tr.span,{"data-state":ete(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});Zee.displayName=Xee;var Jee="CheckboxBubbleInput",Qee=S.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:f,setBubbleInput:m}=NO(Jee,t),y=Zr(r,m),g=j5(i),v=jN(s);S.useEffect(()=>{const w=f;if(!w)return;const N=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(N,"checked").set,E=!a.current;if(g!==i&&C){const A=new Event("click",{bubbles:E});w.indeterminate=em(i),C.call(w,em(i)?!1:i),w.dispatchEvent(A)}},[f,g,i,a]);const b=S.useRef(em(i)?!1:i);return n.jsx(Tr.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:d,value:u,form:h,...e,tabIndex:-1,ref:y,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Qee.displayName=Jee;function rRe(t){return typeof t=="function"}function em(t){return t==="indeterminate"}function ete(t){return em(t)?"indeterminate":t?"checked":"unchecked"}function _u({className:t,...e}){return n.jsx(Yee,{"data-slot":"checkbox",className:nr("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:n.jsx(Zee,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:n.jsx(jn,{className:"size-3.5"})})})}function ew({title:t,value:e,change:r,trend:s,icon:a}){const{theme:i}=fn(),o=i==="dark",l=o?"bg-[#161616]":"bg-white",c=o?"border-[#1e1e1e]":"border-gray-200",d=o?"text-white":"text-gray-900",u=o?"text-[#a3a3a3]":"text-gray-600";return n.jsx("div",{className:`${l} ${c} border rounded-lg p-6 shadow-sm`,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${u}`,children:t}),n.jsx("p",{className:`text-3xl mt-2 ${d}`,children:e}),n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.jsx("span",{className:`text-sm ${s==="up"?"text-green-600 dark:text-green-500":"text-red-600 dark:text-red-500"}`,children:r}),n.jsx("span",{className:`text-sm ${u}`,children:"vs last month"})]})]}),n.jsx("div",{className:`p-3 rounded-lg ${o?"bg-[#1e1e1e]":"bg-gray-100"}`,children:a})]})})}function nRe(){const{theme:t}=fn(),e=t==="dark",r="#4f46e5";return n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(ew,{title:"Total Customers",value:"2,847",change:"+12.5%",trend:"up",icon:n.jsx(Wr,{className:"w-6 h-6",style:{color:r}})}),n.jsx(ew,{title:"Active Customers",value:"1,243",change:"+8.2%",trend:"up",icon:n.jsx(Ck,{className:"w-6 h-6",style:{color:r}})}),n.jsx(ew,{title:"Avg. Lifetime Value",value:"$487",change:"+15.3%",trend:"up",icon:n.jsx(Si,{className:"w-6 h-6",style:{color:r}})}),n.jsx(ew,{title:"Growth Rate",value:"23.4%",change:"+5.1%",trend:"up",icon:n.jsx(Is,{className:"w-6 h-6",style:{color:r}})})]})}function SO(){const[t,e]=S.useState([]),[r,s]=S.useState(!0),[a,i]=S.useState(null),o=async()=>{try{s(!0),i(null);const{data:v,error:b}=await Pr.from("customers").select("*").order("created_at",{ascending:!1});if(b)throw b;e(v||[])}catch(v){console.error("Error fetching customers:",v),i(v.message),me.error("Failed to load customers")}finally{s(!1)}},l=async v=>{try{const{data:{user:b}}=await Pr.auth.getUser();if(!b)throw new Error("User not authenticated");const{data:w,error:N}=await Pr.from("customers").insert([{...v,created_by:b.id}]).select().single();if(N)throw N;return me.success("Customer created successfully!"),await o(),w}catch(b){throw console.error("Error creating customer:",b),me.error(b.message||"Failed to create customer"),b}},c=async(v,b)=>{try{const{data:w,error:N}=await Pr.from("customers").update(b).eq("id",v).select().single();if(N)throw N;return me.success("Customer updated successfully!"),await o(),w}catch(w){throw console.error("Error updating customer:",w),me.error(w.message||"Failed to update customer"),w}},d=async v=>{try{const{error:b}=await Pr.from("customers").delete().eq("id",v);if(b)throw b;me.success("Customer deleted successfully!"),await o()}catch(b){throw console.error("Error deleting customer:",b),me.error(b.message||"Failed to delete customer"),b}},u=async v=>{try{const{data:b,error:w}=await Pr.from("customers").select("*").eq("id",v).single();if(w)throw w;return b}catch(b){throw console.error("Error fetching customer:",b),me.error("Failed to load customer details"),b}},h=async v=>{try{const{data:b,error:w}=await Pr.rpc("search_customers",{p_search_term:v});if(w)throw w;return b||[]}catch(b){return console.error("Error searching customers:",b),[]}},f=async v=>{try{const{data:b,error:w}=await Pr.rpc("get_customer_history",{p_customer_id:v});if(w)throw w;return b||[]}catch(b){return console.error("Error fetching customer history:",b),[]}},m=async v=>{try{const{data:b,error:w}=await Pr.rpc("get_customer_with_insights",{p_customer_id:v});if(w)throw w;return b||null}catch(b){return console.error("Error fetching customer insights:",b),me.error("Failed to load customer insights"),null}},y=async v=>{try{const{data:b,error:w}=await Pr.rpc("get_customer_games",{p_customer_id:v});if(w)throw w;return b||[]}catch(b){return console.error("Error fetching customer games:",b),[]}},g=async v=>{try{const{data:b,error:w}=await Pr.rpc("get_customer_venues",{p_customer_id:v});if(w)throw w;return b||[]}catch(b){return console.error("Error fetching customer venues:",b),[]}};return S.useEffect(()=>{o();const v=Pr.channel("customers-changes").on("postgres_changes",{event:"*",schema:"public",table:"customers"},b=>{console.log("Customer changed:",b),o()}).subscribe();return()=>{v.unsubscribe()}},[]),{customers:t,loading:r,error:a,createCustomer:l,updateCustomer:c,deleteCustomer:d,getCustomerById:u,searchCustomers:h,getCustomerHistory:f,getCustomerInsights:m,getCustomerGames:y,getCustomerVenues:g,refreshCustomers:o}}function sRe(t,e=[]){let r=[];function s(i,o){const l=S.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const d=h=>{const{scope:f,children:m,...y}=h,g=f?.[t]?.[c]||l,v=S.useMemo(()=>y,Object.values(y));return n.jsx(g.Provider,{value:v,children:m})};d.displayName=i+"Provider";function u(h,f){const m=f?.[t]?.[c]||l,y=S.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>S.createContext(o));return function(l){const c=l?.[t]||i;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[s,aRe(a,...e)]}function aRe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const s=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var iRe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tte=iRe.reduce((t,e)=>{const r=Pg(`Primitive.${e}`),s=S.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),_O="Progress",CO=100,[oRe]=sRe(_O),[lRe,cRe]=oRe(_O),rte=S.forwardRef((t,e)=>{const{__scopeProgress:r,value:s=null,max:a,getValueLabel:i=dRe,...o}=t;(a||a===0)&&!nV(a)&&console.error(uRe(`${a}`,"Progress"));const l=nV(a)?a:CO;s!==null&&!sV(s,l)&&console.error(hRe(`${s}`,"Progress"));const c=sV(s,l)?s:null,d=lN(c)?i(c,l):void 0;return n.jsx(lRe,{scope:r,value:c,max:l,children:n.jsx(tte.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":lN(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":ate(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});rte.displayName=_O;var nte="ProgressIndicator",ste=S.forwardRef((t,e)=>{const{__scopeProgress:r,...s}=t,a=cRe(nte,r);return n.jsx(tte.div,{"data-state":ate(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:e})});ste.displayName=nte;function dRe(t,e){return`${Math.round(t/e*100)}%`}function ate(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function lN(t){return typeof t=="number"}function nV(t){return lN(t)&&!isNaN(t)&&t>0}function sV(t,e){return lN(t)&&!isNaN(t)&&t<=e&&t>=0}function uRe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${CO}\`.`}function hRe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${CO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var fRe=rte,mRe=ste;function $h({className:t,value:e,...r}){return n.jsx(fRe,{"data-slot":"progress",className:nr("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...r,children:n.jsx(mRe,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function pRe({name:t,count:e,percentage:r,color:s,icon:a,description:i}){const{theme:o}=fn(),l=o==="dark",c=l?"bg-[#161616]":"bg-white",d=l?"border-[#1e1e1e]":"border-gray-200",u=l?"text-white":"text-gray-900",h=l?"text-[#a3a3a3]":"text-gray-600";return n.jsxs("div",{className:`${c} ${d} border rounded-lg p-6`,children:[n.jsx("div",{className:"flex items-start justify-between mb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:`${s}20`},children:a}),n.jsxs("div",{children:[n.jsx("h3",{className:u,children:t}),n.jsx("p",{className:`text-sm ${h}`,children:i})]})]})}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:`text-2xl ${u}`,children:e}),n.jsxs(ze,{className:`${s.replace("#","bg-")} text-white`,children:[r,"%"]})]}),n.jsx($h,{value:r,className:"h-2"})]})]})}function xRe(){const{theme:t}=fn(),e=t==="dark",{customers:r,loading:s}=SO(),[a,i]=S.useState([]);S.useEffect(()=>{r.length>0&&o()},[r]);const o=()=>{const h=r.length,f=r.filter(C=>C.metadata?.lifecycle_stage==="new").length,m=r.filter(C=>C.metadata?.lifecycle_stage==="active").length,y=r.filter(C=>C.metadata?.lifecycle_stage==="at-risk").length,g=r.filter(C=>C.metadata?.lifecycle_stage==="churned").length,v=r.filter(C=>C.metadata?.spending_tier==="vip").length,b=r.filter(C=>C.metadata?.spending_tier==="high").length;r.filter(C=>C.metadata?.frequency_tier==="frequent").length,r.filter(C=>C.metadata?.frequency_tier==="regular").length;const w=r.filter(C=>C.total_bookings>0).length,N=r.filter(C=>C.total_bookings>0).length,_=[{name:"New Customers",count:f,percentage:h>0?Math.round(f/h*100):0,color:"#10b981",icon:n.jsx(ma,{className:"w-5 h-5",style:{color:"#10b981"}}),description:"Recently joined, less than 30 days"},{name:"Active Customers",count:m,percentage:h>0?Math.round(m/h*100):0,color:"#3b82f6",icon:n.jsx(Wr,{className:"w-5 h-5",style:{color:"#3b82f6"}}),description:"Booked within last 30 days"},{name:"At-Risk Customers",count:y,percentage:h>0?Math.round(y/h*100):0,color:"#f59e0b",icon:n.jsx(Qt,{className:"w-5 h-5",style:{color:"#f59e0b"}}),description:"No bookings in 30-90 days"},{name:"Churned Customers",count:g,percentage:h>0?Math.round(g/h*100):0,color:"#6b7280",icon:n.jsx(bW,{className:"w-5 h-5",style:{color:"#6b7280"}}),description:"No bookings in 90+ days"},{name:"VIP Customers",count:v,percentage:h>0?Math.round(v/h*100):0,color:"#9333ea",icon:n.jsx(T1,{className:"w-5 h-5",style:{color:"#9333ea"}}),description:"$1,000+ lifetime value"},{name:"High Spenders",count:b,percentage:h>0?Math.round(b/h*100):0,color:"#8b5cf6",icon:n.jsx(Is,{className:"w-5 h-5",style:{color:"#8b5cf6"}}),description:"$500-$999 lifetime value"},{name:"Game Players",count:w,percentage:h>0?Math.round(w/h*100):0,color:"#ec4899",icon:n.jsx(I1,{className:"w-5 h-5",style:{color:"#ec4899"}}),description:"Customers who have played games"},{name:"Venue Visitors",count:N,percentage:h>0?Math.round(N/h*100):0,color:"#14b8a6",icon:n.jsx(ic,{className:"w-5 h-5",style:{color:"#14b8a6"}}),description:"Customers who have visited venues"}];i(_)},l=e?"bg-[#161616]":"bg-white",c=e?"border-[#1e1e1e]":"border-gray-200",d=e?"text-white":"text-gray-900",u=e?"text-[#a3a3a3]":"text-gray-600";return s?n.jsx("div",{className:`${l} ${c} border rounded-lg p-12 text-center`,children:n.jsx("p",{className:u,children:"Loading segments..."})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:`${l} ${c} border rounded-lg p-6`,children:[n.jsx("h3",{className:`text-lg ${d} mb-2`,children:"About Customer Segments"}),n.jsx("p",{className:`${u}`,children:"Customer segments help you target marketing campaigns and understand customer behavior. Segments are automatically updated based on booking history, spending patterns, games played, and venues visited."}),n.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[n.jsxs(ze,{className:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",children:[r.length," Total Customers"]}),n.jsx(ze,{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:"Real-time Data"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(h=>n.jsx(pRe,{...h},h.name))}),n.jsxs("div",{className:`${l} ${c} border rounded-lg p-6`,children:[n.jsx("h3",{className:`text-lg ${d} mb-4`,children:"Segment Actions"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.find(h=>h.name==="VIP Customers")&&n.jsxs("button",{className:"px-4 py-3 text-left rounded-lg border transition-colors hover:bg-opacity-80",style:{backgroundColor:e?"#1e1e1e":"#f9fafb",borderColor:e?"#2a2a2a":"#e5e7eb"},children:[n.jsx("p",{className:d,children:"Email VIP Customers"}),n.jsxs("p",{className:`text-sm ${u}`,children:["Send exclusive offers to ",a.find(h=>h.name==="VIP Customers")?.count||0," VIPs"]})]}),a.find(h=>h.name==="Churned Customers")&&n.jsxs("button",{className:"px-4 py-3 text-left rounded-lg border transition-colors hover:bg-opacity-80",style:{backgroundColor:e?"#1e1e1e":"#f9fafb",borderColor:e?"#2a2a2a":"#e5e7eb"},children:[n.jsx("p",{className:d,children:"Re-engage Churned"}),n.jsxs("p",{className:`text-sm ${u}`,children:["Win back ",a.find(h=>h.name==="Churned Customers")?.count||0," churned customers"]})]}),a.find(h=>h.name==="New Customers")&&n.jsxs("button",{className:"px-4 py-3 text-left rounded-lg border transition-colors hover:bg-opacity-80",style:{backgroundColor:e?"#1e1e1e":"#f9fafb",borderColor:e?"#2a2a2a":"#e5e7eb"},children:[n.jsx("p",{className:d,children:"Welcome New Customers"}),n.jsxs("p",{className:`text-sm ${u}`,children:["Send onboarding to ",a.find(h=>h.name==="New Customers")?.count||0," new customers"]})]}),a.find(h=>h.name==="At-Risk Customers")&&n.jsxs("button",{className:"px-4 py-3 text-left rounded-lg border transition-colors hover:bg-opacity-80",style:{backgroundColor:e?"#1e1e1e":"#f9fafb",borderColor:e?"#2a2a2a":"#e5e7eb"},children:[n.jsx("p",{className:d,children:"Prevent Churn"}),n.jsxs("p",{className:`text-sm ${u}`,children:["Re-engage ",a.find(h=>h.name==="At-Risk Customers")?.count||0," at-risk customers"]})]})]})]})]})}function gRe({open:t,onClose:e,onSave:r,editCustomer:s}){const{theme:a}=fn(),i=a==="dark",[o,l]=S.useState({firstName:s?.firstName||"",lastName:s?.lastName||"",email:s?.email||"",phone:s?.phone||"",segment:s?.segment||"Regular",communicationPreference:s?.communicationPreference||"Email",notes:s?.notes||""}),c=h=>{h.preventDefault(),r(o),e()},d=i?"bg-[#1e1e1e]":"bg-white",u=i?"text-white":"text-gray-900";return n.jsx(or,{open:t,onOpenChange:e,children:n.jsxs(lr,{className:`${d} ${u} max-w-2xl`,children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:u,children:s?"Edit Customer":"Add New Customer"}),n.jsx(xr,{className:i?"text-[#737373]":"text-gray-600",children:s?"Update customer information and preferences.":"Add a new customer to your database with their contact details and preferences."})]}),n.jsxs("form",{onSubmit:c,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:i?"text-[#a3a3a3]":"text-gray-700",children:"First Name *"}),n.jsx(ge,{required:!0,value:o.firstName,onChange:h=>l({...o,firstName:h.target.value}),className:`h-12 ${i?"bg-[#0a0a0a] border-[#1e1e1e] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 text-gray-900 placeholder:text-gray-500"}`,placeholder:"John"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:i?"text-[#a3a3a3]":"text-gray-700",children:"Last Name *"}),n.jsx(ge,{required:!0,value:o.lastName,onChange:h=>l({...o,lastName:h.target.value}),className:`h-12 ${i?"bg-[#0a0a0a] border-[#1e1e1e] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 text-gray-900 placeholder:text-gray-500"}`,placeholder:"Doe"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:i?"text-[#a3a3a3]":"text-gray-700",children:"Email Address *"}),n.jsx(ge,{required:!0,type:"email",value:o.email,onChange:h=>l({...o,email:h.target.value}),className:`h-12 ${i?"bg-[#0a0a0a] border-[#1e1e1e] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 text-gray-900 placeholder:text-gray-500"}`,placeholder:"john@example.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:i?"text-[#a3a3a3]":"text-gray-700",children:"Phone Number"}),n.jsx(ge,{type:"tel",value:o.phone,onChange:h=>l({...o,phone:h.target.value}),className:`h-12 ${i?"bg-[#0a0a0a] border-[#1e1e1e] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 text-gray-900 placeholder:text-gray-500"}`,placeholder:"(555) 123-4567"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:i?"text-[#a3a3a3]":"text-gray-700",children:"Customer Segment"}),n.jsxs(Kt,{value:o.segment,onValueChange:h=>l({...o,segment:h}),children:[n.jsx(Xt,{className:`h-12 ${i?"bg-[#0a0a0a] border-[#1e1e1e] text-white":"bg-gray-100 border-gray-300 text-gray-900"}`,children:n.jsx(Yt,{})}),n.jsxs(Zt,{className:i?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white border-gray-200",children:[n.jsx(Ce,{value:"VIP",children:"VIP"}),n.jsx(Ce,{value:"Regular",children:"Regular"}),n.jsx(Ce,{value:"New",children:"New"}),n.jsx(Ce,{value:"Inactive",children:"Inactive"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:i?"text-[#a3a3a3]":"text-gray-700",children:"Communication Preference"}),n.jsxs(Kt,{value:o.communicationPreference,onValueChange:h=>l({...o,communicationPreference:h}),children:[n.jsx(Xt,{className:`h-12 ${i?"bg-[#0a0a0a] border-[#1e1e1e] text-white":"bg-gray-100 border-gray-300 text-gray-900"}`,children:n.jsx(Yt,{})}),n.jsxs(Zt,{className:i?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white border-gray-200",children:[n.jsx(Ce,{value:"Email",children:"Email"}),n.jsx(Ce,{value:"SMS",children:"SMS"}),n.jsx(Ce,{value:"Both",children:"Both"}),n.jsx(Ce,{value:"None",children:"None"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:i?"text-[#a3a3a3]":"text-gray-700",children:"Notes"}),n.jsx(mn,{value:o.notes,onChange:h=>l({...o,notes:h.target.value}),className:`${i?"bg-[#0a0a0a] border-[#1e1e1e] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 text-gray-900 placeholder:text-gray-500"}`,placeholder:"Additional notes about this customer...",rows:3})]}),n.jsxs(wn,{children:[n.jsx(J,{type:"button",variant:"outline",onClick:e,className:i?"border-[#1e1e1e] text-[#a3a3a3] hover:bg-[#1a1a1a] hover:text-white":"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx(J,{type:"submit",style:{backgroundColor:"#4f46e5"},className:"text-white hover:opacity-90",children:s?"Update Customer":"Add Customer"})]})]})]})})}function vRe({open:t,onClose:e,customer:r}){const{theme:s}=fn(),a=s==="dark",{getCustomerInsights:i,getCustomerGames:o,getCustomerVenues:l,getCustomerHistory:c}=SO(),[d,u]=S.useState(null),[h,f]=S.useState([]),[m,y]=S.useState([]),[g,v]=S.useState([]),[b,w]=S.useState(!1);S.useEffect(()=>{t&&r?.id&&N()},[t,r?.id]);const N=async()=>{if(r?.id){w(!0);try{const[P,M,R,W]=await Promise.all([i(r.id),o(r.id),l(r.id),c(r.id)]);u(P),f(M),y(R),v(W)}catch(P){console.error("Error loading customer data:",P)}finally{w(!1)}}};if(!r)return null;const _=a?"bg-[#1e1e1e]":"bg-white",C=a?"bg-[#161616]":"bg-white",E=a?"border-[#1e1e1e]":"border-gray-200",A=a?"text-white":"text-gray-900",I=a?"text-[#a3a3a3]":"text-gray-600",$=P=>{switch(P?.toLowerCase()){case"vip":return"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400";case"high":return"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400";case"frequent":case"regular":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"new":case"active":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"at-risk":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"churned":case"inactive":return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}},O=P=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(P);return n.jsx(or,{open:t,onOpenChange:e,children:n.jsxs(lr,{className:`${_} ${A} max-w-4xl max-h-[90vh] overflow-y-auto`,children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:A,children:"Customer Profile"}),n.jsx(xr,{className:a?"text-[#737373]":"text-gray-600",children:"View detailed customer information, booking history, and engagement metrics."})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:`${C} ${E} border rounded-lg p-6`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:`text-2xl ${A}`,children:[r.firstName," ",r.lastName]}),n.jsxs("p",{className:`${I} mt-1`,children:["Customer ID: ",r.id]})]}),n.jsx(ze,{className:$(r.segment),children:r.segment})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${a?"bg-[#1e1e1e]":"bg-gray-100"}`,children:n.jsx(Gn,{className:`w-4 h-4 ${I}`})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${I}`,children:"Email"}),n.jsx("p",{className:`text-sm ${A}`,children:r.email})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${a?"bg-[#1e1e1e]":"bg-gray-100"}`,children:n.jsx(Gs,{className:`w-4 h-4 ${I}`})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${I}`,children:"Phone"}),n.jsx("p",{className:`text-sm ${A}`,children:r.phone})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${a?"bg-[#1e1e1e]":"bg-gray-100"}`,children:n.jsx(Nn,{className:`w-4 h-4 ${I}`})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${I}`,children:"Last Booking"}),n.jsx("p",{className:`text-sm ${A}`,children:r.lastBooking})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${a?"bg-[#1e1e1e]":"bg-gray-100"}`,children:n.jsx(Qt,{className:`w-4 h-4 ${I}`})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${I}`,children:"Member Since"}),n.jsx("p",{className:`text-sm ${A}`,children:"Jan 2023"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx("div",{className:`${C} ${E} border rounded-lg p-4`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${I}`,children:"Total Bookings"}),n.jsx("p",{className:`text-2xl mt-1 ${A}`,children:r.totalBookings})]}),n.jsx("div",{className:`p-3 rounded-lg ${a?"bg-[#1e1e1e]":"bg-blue-50"}`,children:n.jsx(Tae,{className:"w-6 h-6 text-blue-600 dark:text-blue-500"})})]})}),n.jsx("div",{className:`${C} ${E} border rounded-lg p-4`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${I}`,children:"Lifetime Value"}),n.jsxs("p",{className:`text-2xl mt-1 ${A}`,children:["$",r.totalSpent]})]}),n.jsx("div",{className:`p-3 rounded-lg ${a?"bg-[#1e1e1e]":"bg-green-50"}`,children:n.jsx(Si,{className:"w-6 h-6 text-green-600 dark:text-green-500"})})]})}),n.jsx("div",{className:`${C} ${E} border rounded-lg p-4`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${I}`,children:"Avg. Booking Value"}),n.jsx("p",{className:`text-2xl mt-1 ${A}`,children:"$142"})]}),n.jsx("div",{className:`p-3 rounded-lg ${a?"bg-[#1e1e1e]":"bg-purple-50"}`,children:n.jsx(Is,{className:"w-6 h-6 text-purple-600 dark:text-purple-500"})})]})})]}),n.jsxs(ta,{defaultValue:"bookings",className:"w-full",children:[n.jsxs(pa,{className:`${a?"bg-[#161616]":"bg-gray-100"}`,children:[n.jsx(Ft,{value:"bookings",children:"Booking History"}),n.jsxs(Ft,{value:"games",children:["Games Played (",h.length,")"]}),n.jsxs(Ft,{value:"venues",children:["Venues Visited (",m.length,")"]}),n.jsx(Ft,{value:"notes",children:"Notes"})]}),n.jsx(Bt,{value:"bookings",className:"space-y-3 mt-4",children:b?n.jsx("div",{className:`${C} ${E} border rounded-lg p-8 text-center`,children:n.jsx("p",{className:I,children:"Loading booking history..."})}):g.length===0?n.jsx("div",{className:`${C} ${E} border rounded-lg p-8 text-center`,children:n.jsx("p",{className:I,children:"No bookings found"})}):g.map(P=>n.jsx("div",{className:`${C} ${E} border rounded-lg p-4`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("p",{className:A,children:P.game_name}),n.jsx(ze,{className:$(P.status),children:P.status})]}),n.jsxs("p",{className:`text-sm ${I} mt-1`,children:[P.venue_name,"  ",new Date(P.booking_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),n.jsx("p",{className:`text-lg ${A}`,children:O(P.total_amount)})]})},P.booking_id))}),n.jsx(Bt,{value:"games",className:"space-y-3 mt-4",children:b?n.jsx("div",{className:`${C} ${E} border rounded-lg p-8 text-center`,children:n.jsx("p",{className:I,children:"Loading games..."})}):h.length===0?n.jsx("div",{className:`${C} ${E} border rounded-lg p-8 text-center`,children:n.jsx("p",{className:I,children:"No games played yet"})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(P=>n.jsx("div",{className:`${C} ${E} border rounded-lg p-4`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`p-3 rounded-lg ${a?"bg-[#1e1e1e]":"bg-blue-50"}`,children:n.jsx(I1,{className:"w-6 h-6 text-blue-600 dark:text-blue-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:`${A} font-medium`,children:P.game_name}),n.jsxs("div",{className:"mt-2 space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:I,children:"Times Played:"}),n.jsx("span",{className:A,children:P.booking_count})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:I,children:"Total Spent:"}),n.jsx("span",{className:A,children:O(P.total_spent)})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:I,children:"Last Played:"}),n.jsx("span",{className:A,children:new Date(P.last_played).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})]})]})},P.game_id))})}),n.jsx(Bt,{value:"venues",className:"space-y-3 mt-4",children:b?n.jsx("div",{className:`${C} ${E} border rounded-lg p-8 text-center`,children:n.jsx("p",{className:I,children:"Loading venues..."})}):m.length===0?n.jsx("div",{className:`${C} ${E} border rounded-lg p-8 text-center`,children:n.jsx("p",{className:I,children:"No venues visited yet"})}):m.map(P=>n.jsx("div",{className:`${C} ${E} border rounded-lg p-4`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`p-3 rounded-lg ${a?"bg-[#1e1e1e]":"bg-purple-50"}`,children:n.jsx(ic,{className:"w-6 h-6 text-purple-600 dark:text-purple-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:`${A} font-medium`,children:P.venue_name}),n.jsxs("div",{className:"mt-2 space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:I,children:"Visits:"}),n.jsx("span",{className:A,children:P.visit_count})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:I,children:"Total Spent:"}),n.jsx("span",{className:A,children:O(P.total_spent)})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:I,children:"Last Visit:"}),n.jsx("span",{className:A,children:new Date(P.last_visit).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})]})]})},P.venue_id))}),n.jsx(Bt,{value:"notes",className:"mt-4",children:n.jsx("div",{className:`${C} ${E} border rounded-lg p-4`,children:n.jsx("p",{className:I,children:r.notes||"No notes available for this customer."})})})]})]})]})})}function yRe(){const{theme:t}=fn(),{hasPermission:e}=il(),r=t==="dark",{customers:s,loading:a,refreshCustomers:i,createCustomer:o,updateCustomer:l}=SO(),[c,d]=S.useState(!1),u=async()=>{d(!0),await i(),setTimeout(()=>d(!1),500)},h=e("customers.edit");e("customers.export");const[f,m]=S.useState(""),[y,g]=S.useState("all"),[v,b]=S.useState(!1),[w,N]=S.useState(!1),[_,C]=S.useState(null),[E,A]=S.useState(new Set),[I,$]=S.useState(!1),O=s.map(ae=>({id:ae.id,firstName:ae.first_name,lastName:ae.last_name,email:ae.email,phone:ae.phone,totalBookings:ae.total_bookings,totalSpent:ae.total_spent,lastBooking:ae.updated_at?new Date(ae.updated_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Never",segment:ae.metadata?.lifecycle_stage||"new",status:ae.status==="active"?"Active":"Inactive",communicationPreference:"Email",notes:ae.notes,favoriteGame:ae.metadata?.favorite_game_name||null,preferredVenue:ae.metadata?.preferred_venue_name||null})),[P,M]=S.useState(!1),[R,W]=S.useState("csv"),[Y,K]=S.useState(!1),L=r?"bg-[#161616]":"bg-white",F=r?"border-[#1e1e1e]":"border-gray-200",ee=r?"text-white":"text-gray-900",se=r?"text-[#a3a3a3]":"text-gray-600",q=ae=>{switch(ae?.toLowerCase()){case"new":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"active":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"at-risk":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"churned":return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400";case"vip":return"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400";case"high":return"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400";case"frequent":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"regular":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"occasional":return"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400";case"one-time":return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400";case"inactive":return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}},z=ae=>ae==="Active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400",Z=O.filter(ae=>{const be=ae.firstName.toLowerCase().includes(f.toLowerCase())||ae.lastName.toLowerCase().includes(f.toLowerCase())||ae.email.toLowerCase().includes(f.toLowerCase()),we=y==="all"||ae.segment===y;return be&&we}),X=()=>{if(I)A(new Set),$(!1);else{const ae=new Set(Z.map(be=>be.id));A(ae),$(!0)}},Q=ae=>{const be=new Set(E);be.has(ae)?(be.delete(ae),$(!1)):(be.add(ae),be.size===Z.length&&$(!0)),A(be)},ne=ae=>{C(ae),N(!0)},ce=ae=>{C(ae),b(!0)},ie=async ae=>{try{_?await l(_.id,{first_name:ae.firstName,last_name:ae.lastName,email:ae.email,phone:ae.phone,notes:ae.notes,status:ae.status?.toLowerCase()||"active"}):await o({first_name:ae.firstName,last_name:ae.lastName,email:ae.email,phone:ae.phone,country:"United States",status:"active",metadata:{},notes:ae.notes||""}),C(null),await i()}catch(be){console.error("Error saving customer:",be)}},pe=async()=>{try{K(!0);const ae=f.trim().toLowerCase(),be=O.filter(we=>{const Ie=ae===""||`${we.firstName} ${we.lastName}`.toLowerCase().includes(ae)||(we.email||"").toLowerCase().includes(ae),Ee=y==="all"||we.segment===y||y==="Active"&&we.status==="Active"||y==="Inactive"&&we.status==="Inactive";return Ie&&Ee});if(!be.length){alert("No customers to export based on current filters");return}if(R==="csv"){const we=["Customer ID","First Name","Last Name","Email","Phone","Segment","Status","Total Bookings","Total Spent","Last Booking"],Ie=qe=>'"'+(qe==null?"":String(qe)).replace(/"/g,'""')+'"',Ee=be.map(qe=>[Ie(qe.id),Ie(qe.firstName),Ie(qe.lastName),Ie(qe.email),Ie(qe.phone),Ie(qe.segment),Ie(qe.status),Ie(qe.totalBookings),Ie(qe.totalSpent),Ie(qe.lastBooking)].join(",")),H=[we.join(","),...Ee].join(`
`),Le=new Blob([H],{type:"text/csv;charset=utf-8;"}),Ye=URL.createObjectURL(Le),xt=document.createElement("a");xt.href=Ye,xt.download=`customers_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(xt),xt.click(),document.body.removeChild(xt),URL.revokeObjectURL(Ye)}else{const we=new wr;let Ie=14;we.setFontSize(16),we.text("Customers Export",14,Ie),Ie+=8,we.setFontSize(10),we.text(`Generated: ${new Date().toLocaleString()}`,14,Ie),Ie+=8;const Ee=6,H=14,Le=we.internal.pageSize.getHeight();be.forEach((Ye,xt)=>{[`#${xt+1}  ${Ye.firstName} ${Ye.lastName} (${Ye.id})`,`Email: ${Ye.email}  Phone: ${Ye.phone||"N/A"}`,`Segment: ${Ye.segment}  Status: ${Ye.status}`,`Bookings: ${Ye.totalBookings}  Total Spent: $${(Ye.totalSpent??0).toLocaleString()}`,`Last Booking: ${Ye.lastBooking}`].forEach(ft=>{Ie+Ee>Le-10&&(we.addPage(),Ie=14),we.text(ft,H,Ie),Ie+=Ee}),Ie+Ee>Le-10&&(we.addPage(),Ie=14),we.text("".repeat(40),H,Ie),Ie+=Ee}),we.save(`customers_${new Date().toISOString().slice(0,10)}.pdf`)}}catch(ae){console.error(ae),alert("Failed to export customers")}finally{K(!1),M(!1)}};return n.jsxs(n.Fragment,{children:[n.jsx(ui,{title:"Customers / Guests",description:"Manage customer database, profiles, and segments",sticky:!0,action:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(J,{variant:"outline",className:"h-11",onClick:u,disabled:c,children:[n.jsx(Rd,{className:`w-4 h-4 sm:mr-2 ${c?"animate-spin":""}`}),n.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),n.jsxs(J,{className:"bg-blue-600 dark:bg-[#4f46e5] hover:bg-blue-700 dark:hover:bg-[#4338ca] h-11",onClick:()=>b(!0),children:[n.jsx(am,{className:"w-4 h-4 sm:mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Add Customer"})]})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(nRe,{}),n.jsxs(ta,{defaultValue:"database",className:"w-full",children:[n.jsxs(pa,{className:`${r?"bg-[#161616]":"bg-gray-100"}`,children:[n.jsx(Ft,{value:"database",children:"Customer Database"}),n.jsx(Ft,{value:"segments",children:"Segments & Marketing"})]}),n.jsx(Bt,{value:"database",className:"space-y-6 mt-6",children:n.jsxs("div",{className:`${L} ${F} border rounded-lg`,children:[n.jsx("div",{className:"p-4 border-b",style:{borderColor:r?"#1e1e1e":"#e5e7eb"},children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ba,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${se}`}),n.jsx(ge,{placeholder:"Search customers by name or email...",value:f,onChange:ae=>m(ae.target.value),className:`pl-10 h-12 ${r?"bg-[#0a0a0a] border-[#1e1e1e] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 text-gray-900 placeholder:text-gray-500"}`})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsxs(J,{variant:"outline",className:`h-12 ${r?"border-[#1e1e1e] bg-[#0a0a0a] text-[#a3a3a3] hover:bg-[#1a1a1a] hover:text-white":"border-gray-300 bg-white hover:bg-gray-50"}`,children:[n.jsx(Ld,{className:"w-4 h-4 mr-2"}),"Filter"]})}),n.jsxs(As,{className:r?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white",children:[n.jsx(Et,{onClick:()=>g("all"),children:"All Customers"}),n.jsx(Et,{onClick:()=>g("VIP"),children:"VIP Only"}),n.jsx(Et,{onClick:()=>g("Regular"),children:"Regular Only"}),n.jsx(Et,{onClick:()=>g("New"),children:"New Only"}),n.jsx(Et,{onClick:()=>g("Inactive"),children:"Inactive Only"})]})]}),n.jsx(Bd,{permissions:["customers.export"],children:n.jsxs(J,{variant:"outline",onClick:()=>M(!0),className:`h-12 ${r?"border-[#1e1e1e] bg-[#0a0a0a] text-[#a3a3a3] hover:bg-[#1a1a1a] hover:text-white":"border-gray-300 bg-white hover:bg-gray-50"}`,children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Export"]})}),n.jsx(Bd,{permissions:["customers.create"],children:n.jsxs(J,{onClick:()=>{C(null),b(!0)},style:{backgroundColor:"#4f46e5"},className:"h-12 text-white hover:opacity-90",children:[n.jsx(am,{className:"w-4 h-4 mr-2"}),"Add Customer"]})})]})]})}),E.size>0&&n.jsx("div",{className:`${L} ${F} border rounded-lg p-4 mb-4`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("p",{className:ee,children:[n.jsx("span",{className:"font-semibold",children:E.size})," customer",E.size!==1?"s":""," selected"]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>{A(new Set),$(!1)},className:r?"text-[#a3a3a3] hover:text-white":"",children:"Clear selection"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>{me.info(`Exporting ${E.size} customers...`)},className:r?"border-[#2a2a2a] text-[#a3a3a3]":"",children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Export Selected"]})})]})}),a?n.jsx("div",{className:`${L} ${F} border rounded-lg p-12 text-center`,children:n.jsx("p",{className:se,children:"Loading customers..."})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Vp,{children:[n.jsx(Wp,{children:n.jsxs(Ma,{className:r?"border-[#1e1e1e] hover:bg-transparent":"hover:bg-transparent",children:[n.jsx(Gr,{className:`${ee} w-12`,children:n.jsx(_u,{checked:I,onCheckedChange:X,"aria-label":"Select all customers"})}),n.jsx(Gr,{className:ee,children:"Customer"}),n.jsx(Gr,{className:ee,children:"Contact"}),n.jsx(Gr,{className:ee,children:"Bookings"}),n.jsx(Gr,{className:ee,children:"Lifetime Value"}),n.jsx(Gr,{className:ee,children:"Last Booking"}),n.jsx(Gr,{className:ee,children:"Segment"}),n.jsx(Gr,{className:ee,children:"Status"}),n.jsx(Gr,{className:ee,children:"Actions"})]})}),n.jsx(Hp,{children:Z.map(ae=>n.jsxs(Ma,{className:`${r?"border-[#1e1e1e] hover:bg-[#1a1a1a]":"hover:bg-gray-50"}`,children:[n.jsx($t,{children:n.jsx(_u,{checked:E.has(ae.id),onCheckedChange:()=>Q(ae.id),"aria-label":`Select ${ae.firstName} ${ae.lastName}`})}),n.jsx($t,{children:n.jsxs("div",{children:[n.jsxs("p",{className:ee,children:[ae.firstName," ",ae.lastName]}),n.jsx("p",{className:`text-sm ${se}`,children:ae.id})]})}),n.jsx($t,{children:n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${ee}`,children:ae.email}),n.jsx("p",{className:`text-sm ${se}`,children:ae.phone})]})}),n.jsx($t,{className:ee,children:ae.totalBookings}),n.jsxs($t,{className:ee,children:["$",ae.totalSpent.toLocaleString()]}),n.jsx($t,{className:se,children:ae.lastBooking}),n.jsx($t,{children:n.jsx(ze,{className:q(ae.segment),children:ae.segment})}),n.jsx($t,{children:n.jsx(ze,{className:z(ae.status),children:ae.status})}),n.jsx($t,{children:n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"sm",className:r?"hover:bg-[#1a1a1a]":"hover:bg-gray-100",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{className:r?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white",children:[n.jsxs(Et,{onClick:()=>ne(ae),children:[n.jsx(Ln,{className:"w-4 h-4 mr-2"}),"View Profile"]}),h&&n.jsxs(Et,{onClick:()=>ce(ae),children:[n.jsx($p,{className:"w-4 h-4 mr-2"}),"Edit Customer"]})]})]})})]},ae.id))})]})}),!a&&Z.length===0&&n.jsx("div",{className:"p-8 text-center",children:n.jsx("p",{className:se,children:"No customers found matching your search."})})]})}),n.jsx(Bt,{value:"segments",className:"mt-6",children:n.jsx(xRe,{})})]})]}),n.jsx(or,{open:P,onOpenChange:M,children:n.jsxs(lr,{className:r?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white border-gray-200",children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:ee,children:"Export Customers"}),n.jsx(xr,{className:se,children:"Choose a format and export the currently filtered customers."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:se,children:"Format"}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsx(J,{variant:R==="csv"?"default":"outline",onClick:()=>W("csv"),className:r?R==="csv"?"":"border-[#2a2a2a] text-[#a3a3a3]":"",children:"CSV"}),n.jsx(J,{variant:R==="pdf"?"default":"outline",onClick:()=>W("pdf"),className:r?R==="pdf"?"":"border-[#2a2a2a] text-[#a3a3a3]":"",children:"PDF"})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(J,{variant:"ghost",onClick:()=>M(!1),className:r?"text-[#a3a3a3] hover:text-white hover:bg-[#161616]":"",disabled:Y,children:"Cancel"}),n.jsx(J,{onClick:pe,disabled:Y,children:Y?"Exporting":"Export"})]})]})]})}),n.jsx(gRe,{open:v,onClose:()=>{b(!1),C(null)},onSave:ie,editCustomer:_}),n.jsx(vRe,{open:w,onClose:()=>{N(!1),C(null)},customer:_})]})}function aV({className:t}){return n.jsx("svg",{viewBox:"0 0 24 24",className:t,fill:"currentColor",children:n.jsx("path",{d:"M12.007,2.5c-4.687,0-8.5,3.813-8.5,8.5s3.813,8.5,8.5,8.5s8.5-3.813,8.5-8.5S16.694,2.5,12.007,2.5z M13.007,14.962 V9.038l4.962,2.962L13.007,14.962z"})})}function bRe(){const{theme:t}=fn(),e=t==="dark",r=e?"bg-[#161616]":"bg-white",s=e?"border-[#2a2a2a]":"border-gray-200",a=e?"text-white":"text-gray-900",i=e?"text-[#a3a3a3]":"text-gray-600",o=e?"bg-[#1e1e1e]":"bg-gray-50",[l,c]=S.useState(!1),[d,u]=S.useState(!1),[h,f]=S.useState(!0),[m,y]=S.useState(!1),g=()=>{me.success("Campaign settings saved successfully!")},v=()=>{y(!0),setTimeout(()=>{c(!0),y(!1),me.success("Google Ads connected successfully!")},1500)},b=()=>{c(!1),me.success("Google Ads disconnected")},w=()=>{y(!0),setTimeout(()=>{u(!0),y(!1),me.success("Facebook Ads connected successfully!")},1500)},N=()=>{u(!1),me.success("Facebook Ads disconnected")};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:`mb-2 ${a}`,children:"Ad Campaigns"}),n.jsx("p",{className:i,children:"Track and manage your advertising campaigns and analytics"})]}),n.jsxs(ta,{defaultValue:"overview",className:"space-y-6",children:[n.jsxs(pa,{className:`${e?"bg-[#161616] border border-[#2a2a2a]":""} w-full justify-start overflow-x-auto flex-wrap h-auto`,children:[n.jsxs(Ft,{value:"overview",className:"gap-2",children:[n.jsx(Ru,{className:"w-4 h-4"}),"Overview"]}),n.jsxs(Ft,{value:"platforms",className:"gap-2",children:[n.jsx(gW,{className:"w-4 h-4"}),"Ad Platforms"]}),n.jsxs(Ft,{value:"analytics",className:"gap-2",children:[n.jsx(ese,{className:"w-4 h-4"}),"Analytics"]})]}),n.jsxs(Bt,{value:"overview",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Total Spend"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"$4,567"}),n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.jsx(Is,{className:`w-4 h-4 ${e?"text-emerald-400":"text-green-600"}`}),n.jsx("span",{className:`text-sm ${e?"text-emerald-400":"text-green-600"}`,children:"+12.5%"})]})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(Si,{className:`w-6 h-6 ${e?"text-[#6366f1]":"text-blue-600"}`})})]})})}),n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Impressions"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"124.5K"}),n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.jsx(Is,{className:`w-4 h-4 ${e?"text-emerald-400":"text-green-600"}`}),n.jsx("span",{className:`text-sm ${e?"text-emerald-400":"text-green-600"}`,children:"+8.2%"})]})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-purple-500/20":"bg-purple-100"}`,children:n.jsx(Ln,{className:`w-6 h-6 ${e?"text-purple-400":"text-purple-600"}`})})]})})}),n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Clicks"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"3,241"}),n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.jsx(kP,{className:`w-4 h-4 ${e?"text-red-400":"text-red-600"}`}),n.jsx("span",{className:`text-sm ${e?"text-red-400":"text-red-600"}`,children:"-3.1%"})]})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-emerald-500/20":"bg-green-100"}`,children:n.jsx(yW,{className:`w-6 h-6 ${e?"text-emerald-400":"text-green-600"}`})})]})})}),n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Conversions"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"187"}),n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.jsx(Is,{className:`w-4 h-4 ${e?"text-emerald-400":"text-green-600"}`}),n.jsx("span",{className:`text-sm ${e?"text-emerald-400":"text-green-600"}`,children:"+15.3%"})]})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-amber-500/20":"bg-yellow-100"}`,children:n.jsx(Gf,{className:`w-6 h-6 ${e?"text-amber-400":"text-yellow-600"}`})})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ve,{className:`${r} border ${s} shadow-sm`,children:[n.jsxs(st,{children:[n.jsx(at,{className:a,children:"Platform Performance"}),n.jsx("p",{className:`text-sm ${i}`,children:"Last 30 days"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg ${o}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(aV,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"Google Ads"}),n.jsx("p",{className:`text-xs ${i}`,children:"$2,340 spend"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:`text-sm ${a}`,children:"89 conversions"}),n.jsx("p",{className:`text-xs ${e?"text-emerald-400":"text-green-600"}`,children:"+18% ROI"})]})]}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg ${o}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(Iw,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"Facebook Ads"}),n.jsx("p",{className:`text-xs ${i}`,children:"$1,567 spend"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:`text-sm ${a}`,children:"62 conversions"}),n.jsx("p",{className:`text-xs ${e?"text-emerald-400":"text-green-600"}`,children:"+14% ROI"})]})]}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg ${o}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e?"bg-purple-500/20":"bg-purple-100"}`,children:n.jsx(ku,{className:`w-5 h-5 ${e?"text-purple-400":"text-purple-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"Other Platforms"}),n.jsx("p",{className:`text-xs ${i}`,children:"$660 spend"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:`text-sm ${a}`,children:"36 conversions"}),n.jsx("p",{className:`text-xs ${e?"text-emerald-400":"text-green-600"}`,children:"+12% ROI"})]})]})]})]}),n.jsxs(ve,{className:`${r} border ${s} shadow-sm`,children:[n.jsxs(st,{children:[n.jsx(at,{className:a,children:"Conversion Funnel"}),n.jsx("p",{className:`text-sm ${i}`,children:"Customer journey metrics"})]}),n.jsxs(Te,{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:`text-sm ${i}`,children:"Visitors"}),n.jsx("span",{className:`text-sm ${a}`,children:"12,456"})]}),n.jsx("div",{className:`w-full rounded-full h-2 ${e?"bg-[#2a2a2a]":"bg-gray-200"}`,children:n.jsx("div",{className:`h-2 rounded-full ${e?"bg-[#4f46e5]":"bg-blue-600"}`,style:{width:"100%"}})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:`text-sm ${i}`,children:"Add to Cart"}),n.jsx("span",{className:`text-sm ${a}`,children:"1,247"})]}),n.jsx("div",{className:`w-full rounded-full h-2 ${e?"bg-[#2a2a2a]":"bg-gray-200"}`,children:n.jsx("div",{className:`h-2 rounded-full ${e?"bg-[#4f46e5]":"bg-blue-600"}`,style:{width:"75%"}})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:`text-sm ${i}`,children:"Checkout"}),n.jsx("span",{className:`text-sm ${a}`,children:"623"})]}),n.jsx("div",{className:`w-full rounded-full h-2 ${e?"bg-[#2a2a2a]":"bg-gray-200"}`,children:n.jsx("div",{className:`h-2 rounded-full ${e?"bg-[#4f46e5]":"bg-blue-600"}`,style:{width:"50%"}})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:`text-sm ${i}`,children:"Purchase"}),n.jsx("span",{className:`text-sm ${a}`,children:"187"})]}),n.jsx("div",{className:`w-full rounded-full h-2 ${e?"bg-[#2a2a2a]":"bg-gray-200"}`,children:n.jsx("div",{className:`h-2 rounded-full ${e?"bg-emerald-500":"bg-green-600"}`,style:{width:"25%"}})})]}),n.jsx(tt,{className:"my-4"}),n.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${e?"bg-emerald-500/10":"bg-green-50"}`,children:[n.jsx("span",{className:`text-sm ${e?"text-emerald-400":"text-green-900"}`,children:"Conversion Rate"}),n.jsx("span",{className:`text-lg ${e?"text-emerald-400":"text-green-900"}`,children:"1.50%"})]})]})]})]})]}),n.jsxs(Bt,{value:"platforms",className:"space-y-6",children:[n.jsxs(ve,{className:`${r} border ${s} shadow-sm`,children:[n.jsx(st,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(aV,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`})}),n.jsxs("div",{children:[n.jsx(at,{className:a,children:"Google Ads"}),n.jsx("p",{className:`text-sm ${i}`,children:"Manage Google advertising campaigns"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l&&n.jsxs(ze,{variant:"secondary",className:e?"bg-emerald-500/20 text-emerald-400":"bg-green-100 text-green-700",children:[n.jsx(Tt,{className:"w-3 h-3 mr-1"}),"Connected"]}),l?n.jsxs(J,{variant:"outline",size:"sm",className:e?"text-red-400 hover:text-red-300 hover:bg-red-500/10":"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:b,children:[n.jsx(ds,{className:"w-4 h-4 mr-2"}),"Disconnect"]}):n.jsx(J,{size:"sm",style:{backgroundColor:e?"#4f46e5":void 0},className:e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",onClick:v,disabled:m,children:m?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Connecting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Connect Account"]})})]})]})}),n.jsxs(Te,{className:"space-y-4",children:[!l&&n.jsx("div",{className:`p-4 border rounded-lg mb-4 ${e?"bg-[#4f46e5]/10 border-[#4f46e5]/30":"bg-blue-50 border-blue-200"}`,children:n.jsx("p",{className:`text-sm ${e?"text-[#a3a3a3]":"text-gray-700"}`,children:"You can manually enter your Google Ads details below, or connect your account automatically using the button above."})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"googleAdsId",className:i,children:"Google Ads Customer ID"}),n.jsx(ge,{id:"googleAdsId",placeholder:"123-456-7890",defaultValue:l?"123-456-7890":""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"googleConversionId",className:i,children:"Conversion ID"}),n.jsx(ge,{id:"googleConversionId",placeholder:"AW-XXXXXXXXX",defaultValue:l?"AW-987654321":""})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"googleConversionLabel",className:i,children:"Conversion Label"}),n.jsx(ge,{id:"googleConversionLabel",placeholder:"Conversion label",defaultValue:l?"abc123def456":""})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(J,{variant:"outline",children:"Test Connection"}),n.jsx(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",onClick:g,children:"Save Changes"})]})]})]}),n.jsxs(ve,{className:`${r} border ${s} shadow-sm`,children:[n.jsx(st,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(Iw,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`})}),n.jsxs("div",{children:[n.jsx(at,{className:a,children:"Facebook Ads / Meta Pixel"}),n.jsx("p",{className:`text-sm ${i}`,children:"Track Facebook and Instagram campaigns"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[d&&n.jsxs(ze,{variant:"secondary",className:e?"bg-emerald-500/20 text-emerald-400":"bg-green-100 text-green-700",children:[n.jsx(Tt,{className:"w-3 h-3 mr-1"}),"Connected"]}),d?n.jsxs(J,{variant:"outline",size:"sm",className:e?"text-red-400 hover:text-red-300 hover:bg-red-500/10":"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:N,children:[n.jsx(ds,{className:"w-4 h-4 mr-2"}),"Disconnect"]}):n.jsx(J,{size:"sm",style:{backgroundColor:e?"#4f46e5":void 0},className:e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",onClick:w,disabled:m,children:m?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Connecting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Connect Account"]})})]})]})}),n.jsxs(Te,{className:"space-y-4",children:[!d&&n.jsx("div",{className:`p-4 border rounded-lg mb-4 ${e?"bg-[#4f46e5]/10 border-[#4f46e5]/30":"bg-blue-50 border-blue-200"}`,children:n.jsx("p",{className:`text-sm ${e?"text-[#a3a3a3]":"text-gray-700"}`,children:"You can manually enter your Facebook Ads details below, or connect your account automatically using the button above."})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"facebookPixelId",className:i,children:"Facebook Pixel ID"}),n.jsx(ge,{id:"facebookPixelId",placeholder:"123456789012345",defaultValue:d?"123456789012345":""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"facebookAccessToken",className:i,children:"Access Token"}),n.jsx(ge,{id:"facebookAccessToken",type:"password",placeholder:"Access token",defaultValue:d?"":""})]})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(J,{variant:"outline",children:"Test Connection"}),n.jsx(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",onClick:g,children:"Save Changes"})]})]})]}),n.jsxs(ve,{className:`${r} border ${s} shadow-sm`,children:[n.jsx(st,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e?"bg-purple-500/20":"bg-purple-100"}`,children:n.jsx(ku,{className:`w-5 h-5 ${e?"text-purple-400":"text-purple-600"}`})}),n.jsxs("div",{children:[n.jsx(at,{className:a,children:"Other Advertising Platforms"}),n.jsx("p",{className:`text-sm ${i}`,children:"Additional marketing platforms"})]})]})}),n.jsx(Te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:`p-4 border rounded-lg ${s}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:`text-sm ${a}`,children:"TikTok Ads"}),n.jsx(ze,{variant:"secondary",className:e?"bg-[#2a2a2a] text-[#a3a3a3]":"bg-gray-100 text-gray-700",children:"Not Connected"})]}),n.jsx(J,{variant:"outline",size:"sm",className:"w-full",children:"Connect"})]}),n.jsxs("div",{className:`p-4 border rounded-lg ${s}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:`text-sm ${a}`,children:"LinkedIn Ads"}),n.jsx(ze,{variant:"secondary",className:e?"bg-[#2a2a2a] text-[#a3a3a3]":"bg-gray-100 text-gray-700",children:"Not Connected"})]}),n.jsx(J,{variant:"outline",size:"sm",className:"w-full",children:"Connect"})]}),n.jsxs("div",{className:`p-4 border rounded-lg ${s}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:`text-sm ${a}`,children:"Twitter Ads"}),n.jsx(ze,{variant:"secondary",className:e?"bg-[#2a2a2a] text-[#a3a3a3]":"bg-gray-100 text-gray-700",children:"Not Connected"})]}),n.jsx(J,{variant:"outline",size:"sm",className:"w-full",children:"Connect"})]}),n.jsxs("div",{className:`p-4 border rounded-lg ${s}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:`text-sm ${a}`,children:"Snapchat Ads"}),n.jsx(ze,{variant:"secondary",className:e?"bg-[#2a2a2a] text-[#a3a3a3]":"bg-gray-100 text-gray-700",children:"Not Connected"})]}),n.jsx(J,{variant:"outline",size:"sm",className:"w-full",children:"Connect"})]})]})})]})]}),n.jsx(Bt,{value:"analytics",className:"space-y-6",children:n.jsxs(ve,{className:`${r} border ${s} shadow-sm`,children:[n.jsx(st,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e?"bg-orange-500/20":"bg-orange-100"}`,children:n.jsx(Ru,{className:`w-5 h-5 ${e?"text-orange-400":"text-orange-600"}`})}),n.jsxs("div",{children:[n.jsx(at,{className:a,children:"Google Analytics 4"}),n.jsx("p",{className:`text-sm ${i}`,children:"Track website traffic and user behavior"})]})]}),n.jsxs(ze,{variant:"secondary",className:e?"bg-emerald-500/20 text-emerald-400":"bg-green-100 text-green-700",children:[n.jsx(Tt,{className:"w-3 h-3 mr-1"}),"Connected"]})]})}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"gaPropertyId",className:i,children:"GA4 Measurement ID"}),n.jsx(ge,{id:"gaPropertyId",placeholder:"G-XXXXXXXXXX",defaultValue:"G-ABC123XYZ"}),n.jsx("p",{className:`text-xs ${e?"text-[#737373]":"text-gray-600"}`,children:"Found in Admin  Data Streams"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"gaStreamId",className:i,children:"Data Stream ID"}),n.jsx(ge,{id:"gaStreamId",placeholder:"1234567890",defaultValue:"1234567890"})]})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(J,{variant:"outline",children:"Test Connection"}),n.jsx(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",onClick:g,children:"Save Changes"})]})]})]})})]})]})}var O5="Switch",[wRe]=Mo(O5),[jRe,NRe]=wRe(O5),ite=S.forwardRef((t,e)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=t,[f,m]=S.useState(null),y=Zr(e,N=>m(N)),g=S.useRef(!1),v=f?u||!!f.closest("form"):!0,[b,w]=uc({prop:a,defaultProp:i??!1,onChange:d,caller:O5});return n.jsxs(jRe,{scope:r,checked:b,disabled:l,children:[n.jsx(Tr.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":dte(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:y,onClick:Vt(t.onClick,N=>{w(_=>!_),v&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})}),v&&n.jsx(cte,{control:f,bubbles:!g.current,name:s,value:c,checked:b,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});ite.displayName=O5;var ote="SwitchThumb",lte=S.forwardRef((t,e)=>{const{__scopeSwitch:r,...s}=t,a=NRe(ote,r);return n.jsx(Tr.span,{"data-state":dte(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e})});lte.displayName=ote;var SRe="SwitchBubbleInput",cte=S.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:s=!0,...a},i)=>{const o=S.useRef(null),l=Zr(o,i),c=j5(r),d=jN(e);return S.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&m){const y=new Event("click",{bubbles:s});m.call(u,r),u.dispatchEvent(y)}},[c,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});cte.displayName=SRe;function dte(t){return t?"checked":"unchecked"}var _Re=ite,CRe=lte;function Wt({className:t,...e}){return n.jsx(_Re,{"data-slot":"switch",className:nr("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:n.jsx(CRe,{"data-slot":"switch-thumb",className:nr("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function kRe(){const{theme:t}=fn(),e=t==="dark",r=e?"bg-[#161616]":"bg-white",s=e?"border-[#2a2a2a]":"border-gray-200",a=e?"text-white":"text-gray-900",i=e?"text-[#a3a3a3]":"text-gray-600",o=e?"bg-[#1e1e1e]":"bg-gray-50",l=e?"bg-[#2a2a2a]":"bg-gray-100",[c,d]=S.useState(!1),[u,h]=S.useState(!1),[f,m]=S.useState(!1),[y,g]=S.useState(!1),v=w=>{navigator.clipboard.writeText(w),me.success("Code copied to clipboard!")},b=()=>{me.success("Settings saved successfully!")};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:`mb-2 ${a}`,children:"Marketing"}),n.jsx("p",{className:i,children:"Manage promotions, gift cards, reviews, emails, and affiliates"})]}),n.jsxs(ta,{defaultValue:"promotions",className:"space-y-6",children:[n.jsxs(pa,{className:`w-full justify-start overflow-x-auto flex-wrap h-auto ${e?"bg-[#161616] border border-[#2a2a2a]":""}`,children:[n.jsxs(Ft,{value:"promotions",className:"gap-2",children:[n.jsx(h1,{className:"w-4 h-4"}),"Promotions"]}),n.jsxs(Ft,{value:"gift-cards",className:"gap-2",children:[n.jsx(Oo,{className:"w-4 h-4"}),"Gift Cards"]}),n.jsxs(Ft,{value:"reviews",className:"gap-2",children:[n.jsx(yn,{className:"w-4 h-4"}),"Review Management"]}),n.jsxs(Ft,{value:"email",className:"gap-2",children:[n.jsx(Gn,{className:"w-4 h-4"}),"Email Campaigns"]}),n.jsxs(Ft,{value:"affiliate",className:"gap-2",children:[n.jsx(am,{className:"w-4 h-4"}),"Affiliate Program"]})]}),n.jsxs(Bt,{value:"promotions",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Active Promos"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"12"}),n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.jsx(Is,{className:`w-4 h-4 ${e?"text-emerald-400":"text-green-600"}`}),n.jsx("span",{className:`text-sm ${e?"text-emerald-400":"text-green-600"}`,children:"+3 this month"})]})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(h1,{className:`w-6 h-6 ${e?"text-[#6366f1]":"text-blue-600"}`})})]})})}),n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Total Redemptions"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"1,234"}),n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.jsx(Is,{className:`w-4 h-4 ${e?"text-emerald-400":"text-green-600"}`}),n.jsx("span",{className:`text-sm ${e?"text-emerald-400":"text-green-600"}`,children:"+18%"})]})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-emerald-500/20":"bg-green-100"}`,children:n.jsx(h1,{className:`w-6 h-6 ${e?"text-emerald-400":"text-green-600"}`})})]})})}),n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Revenue Impact"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"$8,450"}),n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.jsx(Is,{className:`w-4 h-4 ${e?"text-emerald-400":"text-green-600"}`}),n.jsx("span",{className:`text-sm ${e?"text-emerald-400":"text-green-600"}`,children:"+25%"})]})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-purple-500/20":"bg-purple-100"}`,children:n.jsx(Si,{className:`w-6 h-6 ${e?"text-purple-400":"text-purple-600"}`})})]})})}),n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Avg Discount"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"15%"}),n.jsx("div",{className:"flex items-center gap-1 mt-2",children:n.jsx("span",{className:`text-sm ${i}`,children:"Across all promos"})})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-orange-500/20":"bg-orange-100"}`,children:n.jsx(Ru,{className:`w-6 h-6 ${e?"text-orange-400":"text-orange-600"}`})})]})})})]}),n.jsxs(ve,{className:`${r} border ${s} shadow-sm`,children:[n.jsx(st,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(at,{className:a,children:"Coupon Codes & Promotions"}),n.jsx("p",{className:`text-sm mt-1 ${i}`,children:"Create and manage discount codes"})]}),n.jsxs(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",onClick:()=>d(!0),children:[n.jsx(An,{className:"w-4 h-4 mr-2"}),"Create Promotion"]})]})}),n.jsx(Te,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ba,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${e?"text-[#737373]":"text-gray-400"}`}),n.jsx(ge,{placeholder:"Search promotions...",className:"pl-10"})]}),n.jsxs(J,{variant:"outline",className:"w-full sm:w-auto",children:[n.jsx(Ld,{className:"w-4 h-4 mr-2"}),"Filter"]})]}),n.jsx("div",{className:`border rounded-lg overflow-x-auto ${s}`,children:n.jsxs(Vp,{children:[n.jsx(Wp,{children:n.jsxs(Ma,{children:[n.jsx(Gr,{children:"Code"}),n.jsx(Gr,{children:"Type"}),n.jsx(Gr,{children:"Discount"}),n.jsx(Gr,{children:"Usage"}),n.jsx(Gr,{children:"Valid Until"}),n.jsx(Gr,{children:"Status"}),n.jsx(Gr,{className:"w-[50px]"})]})}),n.jsxs(Hp,{children:[n.jsxs(Ma,{children:[n.jsx($t,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("code",{className:`text-sm px-2 py-1 rounded ${l} ${a}`,children:"SUMMER25"}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>v("SUMMER25"),className:"h-6 w-6 p-0",children:n.jsx(Vs,{className:"w-3 h-3"})})]})}),n.jsx($t,{children:n.jsx(ze,{variant:"secondary",className:e?"bg-[#4f46e5]/20 text-[#6366f1]":"bg-blue-100 text-blue-700",children:"Percentage"})}),n.jsx($t,{className:a,children:"25% off"}),n.jsx($t,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:a,children:"45"}),n.jsx("span",{className:i,children:" / 100"})]})}),n.jsx($t,{className:`text-sm ${i}`,children:"Dec 31, 2025"}),n.jsx($t,{children:n.jsx(ze,{className:e?"bg-emerald-500/20 text-emerald-400":"bg-green-100 text-green-700",children:"Active"})}),n.jsx($t,{children:n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{children:[n.jsx(Jm,{className:"w-4 h-4 mr-2"}),"Edit"]}),n.jsxs(Et,{children:[n.jsx(n7,{className:"w-4 h-4 mr-2"}),"Pause"]}),n.jsxs(Et,{children:[n.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Duplicate"]}),n.jsxs(Et,{className:"text-red-600",children:[n.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]}),n.jsxs(Ma,{children:[n.jsx($t,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("code",{className:`text-sm px-2 py-1 rounded ${l} ${a}`,children:"FIRSTTIME10"}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>v("FIRSTTIME10"),className:"h-6 w-6 p-0",children:n.jsx(Vs,{className:"w-3 h-3"})})]})}),n.jsx($t,{children:n.jsx(ze,{variant:"secondary",className:e?"bg-emerald-500/20 text-emerald-400":"bg-green-100 text-green-700",children:"Fixed Amount"})}),n.jsx($t,{className:a,children:"$10 off"}),n.jsx($t,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:a,children:"12"}),n.jsx("span",{className:i,children:" / 50"})]})}),n.jsx($t,{className:`text-sm ${i}`,children:"Jan 15, 2026"}),n.jsx($t,{children:n.jsx(ze,{className:e?"bg-emerald-500/20 text-emerald-400":"bg-green-100 text-green-700",children:"Active"})}),n.jsx($t,{children:n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{children:[n.jsx(Jm,{className:"w-4 h-4 mr-2"}),"Edit"]}),n.jsxs(Et,{children:[n.jsx(n7,{className:"w-4 h-4 mr-2"}),"Pause"]}),n.jsxs(Et,{children:[n.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Duplicate"]}),n.jsxs(Et,{className:"text-red-600",children:[n.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]}),n.jsxs(Ma,{children:[n.jsx($t,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("code",{className:`text-sm px-2 py-1 rounded ${l} ${a}`,children:"BLACKFRIDAY"}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>v("BLACKFRIDAY"),className:"h-6 w-6 p-0",children:n.jsx(Vs,{className:"w-3 h-3"})})]})}),n.jsx($t,{children:n.jsx(ze,{variant:"secondary",className:e?"bg-[#4f46e5]/20 text-[#6366f1]":"bg-blue-100 text-blue-700",children:"Percentage"})}),n.jsx($t,{className:a,children:"50% off"}),n.jsx($t,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:a,children:"200"}),n.jsx("span",{className:i,children:" / 200"})]})}),n.jsx($t,{className:`text-sm ${i}`,children:"Nov 30, 2025"}),n.jsx($t,{children:n.jsx(ze,{className:e?"bg-[#2a2a2a] text-[#a3a3a3]":"bg-gray-100 text-gray-700",children:"Paused"})}),n.jsx($t,{children:n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{children:[n.jsx(Jm,{className:"w-4 h-4 mr-2"}),"Edit"]}),n.jsxs(Et,{children:[n.jsx(Au,{className:"w-4 h-4 mr-2"}),"Activate"]}),n.jsxs(Et,{children:[n.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Duplicate"]}),n.jsxs(Et,{className:"text-red-600",children:[n.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]})]})]})})]})})]})]}),n.jsxs(Bt,{value:"gift-cards",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Total Sold"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"487"}),n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.jsx(Is,{className:`w-4 h-4 ${e?"text-emerald-400":"text-green-600"}`}),n.jsx("span",{className:`text-sm ${e?"text-emerald-400":"text-green-600"}`,children:"+12%"})]})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-pink-500/20":"bg-pink-100"}`,children:n.jsx(Oo,{className:`w-6 h-6 ${e?"text-pink-400":"text-pink-600"}`})})]})})}),n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Active Balance"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"$12,340"}),n.jsx("div",{className:"flex items-center gap-1 mt-2",children:n.jsx("span",{className:`text-sm ${i}`,children:"Outstanding"})})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-emerald-500/20":"bg-green-100"}`,children:n.jsx(Si,{className:`w-6 h-6 ${e?"text-emerald-400":"text-green-600"}`})})]})})}),n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Redeemed"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"$8,920"}),n.jsx("div",{className:"flex items-center gap-1 mt-2",children:n.jsx("span",{className:`text-sm ${i}`,children:"This month"})})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(Tt,{className:`w-6 h-6 ${e?"text-[#6366f1]":"text-blue-600"}`})})]})})}),n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Redemption Rate"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"68%"}),n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.jsx(Is,{className:`w-4 h-4 ${e?"text-emerald-400":"text-green-600"}`}),n.jsx("span",{className:`text-sm ${e?"text-emerald-400":"text-green-600"}`,children:"+5%"})]})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-purple-500/20":"bg-purple-100"}`,children:n.jsx(Ru,{className:`w-6 h-6 ${e?"text-purple-400":"text-purple-600"}`})})]})})})]}),n.jsxs(ve,{className:`${r} border ${s} shadow-sm`,children:[n.jsx(st,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(at,{className:a,children:"Gift Cards"}),n.jsx("p",{className:`text-sm mt-1 ${i}`,children:"Create and manage gift cards"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs(J,{variant:"outline",className:"w-full sm:w-auto",onClick:()=>me.success("Bulk import dialog would open here"),children:[n.jsx(Qo,{className:"w-4 h-4 mr-2"}),"Bulk Generate"]}),n.jsxs(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:`${e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700"} w-full sm:w-auto`,onClick:()=>h(!0),children:[n.jsx(An,{className:"w-4 h-4 mr-2"}),"Create Gift Card"]})]})]})}),n.jsx(Te,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ba,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${e?"text-[#737373]":"text-gray-400"}`}),n.jsx(ge,{placeholder:"Search gift cards...",className:"pl-10"})]}),n.jsxs(J,{variant:"outline",className:"w-full sm:w-auto",children:[n.jsx(Ld,{className:"w-4 h-4 mr-2"}),"Filter"]})]}),n.jsx("div",{className:`border rounded-lg overflow-x-auto ${s}`,children:n.jsxs(Vp,{children:[n.jsx(Wp,{children:n.jsxs(Ma,{children:[n.jsx(Gr,{children:"Code"}),n.jsx(Gr,{children:"Amount"}),n.jsx(Gr,{children:"Balance"}),n.jsx(Gr,{children:"Recipient"}),n.jsx(Gr,{children:"Status"}),n.jsx(Gr,{children:"Expiry"}),n.jsx(Gr,{className:"w-[50px]"})]})}),n.jsxs(Hp,{children:[n.jsxs(Ma,{children:[n.jsx($t,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("code",{className:`text-sm px-2 py-1 rounded ${l} ${a}`,children:"GC-ABC123XYZ"}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>v("GC-ABC123XYZ"),className:"h-6 w-6 p-0",children:n.jsx(Vs,{className:"w-3 h-3"})})]})}),n.jsx($t,{className:a,children:"$100.00"}),n.jsx($t,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:a,children:"$75.00"}),n.jsx(ze,{variant:"secondary",className:`text-xs ${e?"bg-orange-500/20 text-orange-400":"bg-orange-100 text-orange-700"}`,children:"75%"})]})}),n.jsx($t,{className:`text-sm ${i}`,children:"john.doe@example.com"}),n.jsx($t,{children:n.jsx(ze,{className:e?"bg-emerald-500/20 text-emerald-400":"bg-green-100 text-green-700",children:"Active"})}),n.jsx($t,{className:`text-sm ${i}`,children:"Dec 31, 2025"}),n.jsx($t,{children:n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{children:[n.jsx(Ln,{className:"w-4 h-4 mr-2"}),"View Details"]}),n.jsxs(Et,{children:[n.jsx(vu,{className:"w-4 h-4 mr-2"}),"Resend Email"]}),n.jsxs(Et,{className:"text-red-600",children:[n.jsx(ds,{className:"w-4 h-4 mr-2"}),"Deactivate"]})]})]})})]}),n.jsxs(Ma,{children:[n.jsx($t,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("code",{className:`text-sm px-2 py-1 rounded ${l} ${a}`,children:"GC-DEF456UVW"}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>v("GC-DEF456UVW"),className:"h-6 w-6 p-0",children:n.jsx(Vs,{className:"w-3 h-3"})})]})}),n.jsx($t,{className:a,children:"$50.00"}),n.jsx($t,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:a,children:"$50.00"}),n.jsx(ze,{variant:"secondary",className:`text-xs ${e?"bg-emerald-500/20 text-emerald-400":"bg-green-100 text-green-700"}`,children:"100%"})]})}),n.jsx($t,{className:`text-sm ${i}`,children:"sarah.smith@example.com"}),n.jsx($t,{children:n.jsx(ze,{className:e?"bg-emerald-500/20 text-emerald-400":"bg-green-100 text-green-700",children:"Active"})}),n.jsx($t,{className:`text-sm ${i}`,children:"Mar 15, 2026"}),n.jsx($t,{children:n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{children:[n.jsx(Ln,{className:"w-4 h-4 mr-2"}),"View Details"]}),n.jsxs(Et,{children:[n.jsx(vu,{className:"w-4 h-4 mr-2"}),"Resend Email"]}),n.jsxs(Et,{className:"text-red-600",children:[n.jsx(ds,{className:"w-4 h-4 mr-2"}),"Deactivate"]})]})]})})]}),n.jsxs(Ma,{children:[n.jsx($t,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("code",{className:`text-sm px-2 py-1 rounded ${l} ${a}`,children:"GC-GHI789RST"}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>v("GC-GHI789RST"),className:"h-6 w-6 p-0",children:n.jsx(Vs,{className:"w-3 h-3"})})]})}),n.jsx($t,{className:a,children:"$25.00"}),n.jsx($t,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`line-through ${e?"text-[#737373]":"text-gray-400"}`,children:"$25.00"}),n.jsx(ze,{variant:"secondary",className:`text-xs ${e?"bg-[#2a2a2a] text-[#a3a3a3]":"bg-gray-100 text-gray-700"}`,children:"0%"})]})}),n.jsx($t,{className:`text-sm ${i}`,children:"mike.jones@example.com"}),n.jsx($t,{children:n.jsx(ze,{className:e?"bg-[#2a2a2a] text-[#a3a3a3]":"bg-gray-100 text-gray-700",children:"Redeemed"})}),n.jsx($t,{className:`text-sm ${i}`,children:"Jun 30, 2025"}),n.jsx($t,{children:n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{children:[n.jsx(Ln,{className:"w-4 h-4 mr-2"}),"View Details"]}),n.jsxs(Et,{children:[n.jsx(vu,{className:"w-4 h-4 mr-2"}),"Resend Email"]})]})]})})]})]})]})})]})})]})]}),n.jsxs(Bt,{value:"reviews",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Average Rating"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:`text-2xl ${a}`,children:"4.8"}),n.jsx("div",{className:"flex",children:[1,2,3,4,5].map(w=>n.jsx(yn,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},w))})]}),n.jsx("p",{className:`text-sm mt-2 ${i}`,children:"1,234 reviews"})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-yellow-500/20":"bg-yellow-100"}`,children:n.jsx(yn,{className:`w-6 h-6 ${e?"text-yellow-400":"text-yellow-600"}`})})]})})}),n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"New Reviews"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"47"}),n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.jsx(Is,{className:`w-4 h-4 ${e?"text-emerald-400":"text-green-600"}`}),n.jsx("span",{className:`text-sm ${e?"text-emerald-400":"text-green-600"}`,children:"+22% this month"})]})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(ei,{className:`w-6 h-6 ${e?"text-[#6366f1]":"text-blue-600"}`})})]})})}),n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Response Rate"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"92%"}),n.jsx("div",{className:"flex items-center gap-1 mt-2",children:n.jsx("span",{className:`text-sm ${i}`,children:"Within 24 hours"})})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-emerald-500/20":"bg-green-100"}`,children:n.jsx(Wi,{className:`w-6 h-6 ${e?"text-emerald-400":"text-green-600"}`})})]})})}),n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Positive Reviews"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"89%"}),n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.jsx(D4,{className:`w-4 h-4 ${e?"text-emerald-400":"text-green-600"}`}),n.jsx("span",{className:`text-sm ${e?"text-emerald-400":"text-green-600"}`,children:"4-5 stars"})]})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-purple-500/20":"bg-purple-100"}`,children:n.jsx(D4,{className:`w-6 h-6 ${e?"text-purple-400":"text-purple-600"}`})})]})})})]}),n.jsxs(ve,{className:`${r} border ${s} shadow-sm`,children:[n.jsx(st,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(at,{className:a,children:"Customer Reviews"}),n.jsx("p",{className:`text-sm mt-1 ${i}`,children:"Monitor and respond to customer feedback"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs(J,{variant:"outline",className:"w-full sm:w-auto",children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Export"]}),n.jsxs(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:`${e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700"} w-full sm:w-auto`,onClick:()=>me.success("Review request sent!"),children:[n.jsx(vu,{className:"w-4 h-4 mr-2"}),"Request Reviews"]})]})]})}),n.jsx(Te,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:`flex flex-wrap gap-2 border-b pb-3 ${s}`,children:[n.jsx(J,{variant:"ghost",size:"sm",className:`rounded-none border-b-2 ${e?"text-[#6366f1] border-[#4f46e5]":"text-blue-600 border-blue-600"}`,children:"All (1,234)"}),n.jsx(J,{variant:"ghost",size:"sm",children:"Pending Response (12)"}),n.jsx(J,{variant:"ghost",size:"sm",children:"5 Stars (876)"}),n.jsx(J,{variant:"ghost",size:"sm",children:"1-3 Stars (45)"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:`p-4 border rounded-lg hover:shadow-md transition-shadow ${s}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx("span",{className:`text-sm ${e?"text-[#6366f1]":"text-blue-600"}`,children:"JD"})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"John Doe"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("div",{className:"flex",children:[1,2,3,4,5].map(w=>n.jsx(yn,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"},w))}),n.jsx("span",{className:`text-xs ${i}`,children:"2 days ago"})]})]})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(ze,{variant:"secondary",className:`text-xs ${e?"bg-[#4f46e5]/20 text-[#6366f1]":"bg-blue-100 text-blue-700"}`,children:"Google"}),n.jsx(ze,{variant:"secondary",className:`text-xs ${e?"bg-emerald-500/20 text-emerald-400":"bg-green-100 text-green-700"}`,children:"Verified"})]})]}),n.jsx("p",{className:`text-sm mb-3 ${e?"text-[#d4d4d4]":"text-gray-700"}`,children:"Amazing experience! The Mystery Manor room was so immersive and challenging. Our game master was fantastic and very helpful. Highly recommend!"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(J,{size:"sm",variant:"outline",children:[n.jsx(ei,{className:"w-3 h-3 mr-2"}),"Reply"]}),n.jsxs(J,{size:"sm",variant:"ghost",children:[n.jsx(D4,{className:"w-3 h-3 mr-2"}),"Mark Helpful"]}),n.jsxs(J,{size:"sm",variant:"ghost",children:[n.jsx(al,{className:"w-3 h-3 mr-2"}),"View on Google"]})]})]}),n.jsxs("div",{className:`p-4 border rounded-lg hover:shadow-md transition-shadow ${s}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e?"bg-purple-500/20":"bg-purple-100"}`,children:n.jsx("span",{className:`text-sm ${e?"text-purple-400":"text-purple-600"}`,children:"SS"})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"Sarah Smith"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsxs("div",{className:"flex",children:[[1,2,3,4].map(w=>n.jsx(yn,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"},w)),n.jsx(yn,{className:`w-3 h-3 ${e?"text-[#525252]":"text-gray-300"}`})]}),n.jsx("span",{className:`text-xs ${i}`,children:"1 week ago"})]})]})]}),n.jsx("div",{className:"flex gap-1",children:n.jsx(ze,{variant:"secondary",className:`text-xs ${e?"bg-purple-500/20 text-purple-400":"bg-purple-100 text-purple-700"}`,children:"Facebook"})})]}),n.jsx("p",{className:`text-sm mb-3 ${e?"text-[#d4d4d4]":"text-gray-700"}`,children:"Great escape room! Had a lot of fun with friends. The only downside was we had to wait 15 minutes past our booking time to start."}),n.jsx("div",{className:`p-3 mb-3 rounded border-l-4 ${e?"bg-[#4f46e5]/10 border-[#4f46e5]":"bg-blue-50 border-blue-600"}`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(ei,{className:`w-4 h-4 mt-0.5 flex-shrink-0 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs mb-1 ${i}`,children:"Your Response:"}),n.jsx("p",{className:`text-sm ${a}`,children:"Thank you for the feedback, Sarah! We apologize for the delay. We've addressed this with our team to ensure better timing. Hope to see you again!"}),n.jsx("p",{className:`text-xs mt-1 ${e?"text-[#737373]":"text-gray-500"}`,children:"Responded 5 days ago"})]})]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(J,{size:"sm",variant:"outline",disabled:!0,children:[n.jsx(Wi,{className:"w-3 h-3 mr-2"}),"Responded"]}),n.jsxs(J,{size:"sm",variant:"ghost",children:[n.jsx(al,{className:"w-3 h-3 mr-2"}),"View on Facebook"]})]})]}),n.jsxs("div",{className:`p-4 border rounded-lg hover:shadow-md transition-shadow ${e?"border-red-500/30 bg-red-500/10":"border-red-200 bg-red-50"}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e?"bg-red-500/20":"bg-red-100"}`,children:n.jsx("span",{className:`text-sm ${e?"text-red-400":"text-red-600"}`,children:"MJ"})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"Mike Johnson"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsxs("div",{className:"flex",children:[[1,2].map(w=>n.jsx(yn,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"},w)),[1,2,3].map(w=>n.jsx(yn,{className:`w-3 h-3 ${e?"text-[#525252]":"text-gray-300"}`},w))]}),n.jsx("span",{className:`text-xs ${i}`,children:"3 days ago"})]})]})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(ze,{variant:"secondary",className:`text-xs ${e?"bg-[#4f46e5]/20 text-[#6366f1]":"bg-blue-100 text-blue-700"}`,children:"Yelp"}),n.jsx(ze,{variant:"secondary",className:`text-xs ${e?"bg-red-500/20 text-red-400":"bg-red-100 text-red-700"}`,children:"Needs Response"})]})]}),n.jsx("p",{className:`text-sm mb-3 ${e?"text-[#d4d4d4]":"text-gray-700"}`,children:"Disappointed with our experience. Some of the puzzles were broken and the room wasn't very clean. Expected better for the price."}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(J,{size:"sm",style:{backgroundColor:e?"#4f46e5":void 0},className:e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",children:[n.jsx(ei,{className:"w-3 h-3 mr-2"}),"Respond Now"]}),n.jsxs(J,{size:"sm",variant:"ghost",children:[n.jsx(al,{className:"w-3 h-3 mr-2"}),"View on Yelp"]})]})]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(ve,{className:`${r} border ${s} shadow-sm`,children:[n.jsx(st,{children:n.jsx(at,{className:a,children:"Connected Review Platforms"})}),n.jsxs(Te,{className:"space-y-3",children:[n.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg ${s}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(yn,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"Google Reviews"}),n.jsx("p",{className:`text-xs ${i}`,children:"876 reviews"})]})]}),n.jsx(ze,{className:e?"bg-emerald-500/20 text-emerald-400":"bg-green-100 text-green-700",children:"Connected"})]}),n.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg ${s}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(Iw,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"Facebook Reviews"}),n.jsx("p",{className:`text-xs ${i}`,children:"234 reviews"})]})]}),n.jsx(ze,{className:e?"bg-emerald-500/20 text-emerald-400":"bg-green-100 text-green-700",children:"Connected"})]}),n.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg ${s}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e?"bg-red-500/20":"bg-red-100"}`,children:n.jsx(yn,{className:`w-5 h-5 ${e?"text-red-400":"text-red-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"Yelp"}),n.jsx("p",{className:`text-xs ${i}`,children:"124 reviews"})]})]}),n.jsx(ze,{className:e?"bg-emerald-500/20 text-emerald-400":"bg-green-100 text-green-700",children:"Connected"})]}),n.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg ${s}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e?"bg-emerald-500/20":"bg-green-100"}`,children:n.jsx(yn,{className:`w-5 h-5 ${e?"text-emerald-400":"text-green-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"TripAdvisor"}),n.jsx("p",{className:`text-xs ${i}`,children:"Not connected"})]})]}),n.jsx(J,{size:"sm",variant:"outline",children:"Connect"})]})]})]}),n.jsxs(ve,{className:`${r} border ${s} shadow-sm`,children:[n.jsx(st,{children:n.jsx(at,{className:a,children:"Rating Distribution"})}),n.jsx(Te,{className:"space-y-3",children:[5,4,3,2,1].map(w=>{const N=w===5?72:w===4?17:w===3?8:w===2?2:1;return n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-1 w-16",children:[n.jsx("span",{className:`text-sm ${a}`,children:w}),n.jsx(yn,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"})]}),n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:`w-full rounded-full h-2 ${e?"bg-[#2a2a2a]":"bg-gray-200"}`,children:n.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${N}%`}})})}),n.jsxs("span",{className:`text-sm w-12 text-right ${i}`,children:[N,"%"]})]},w)})})]})]})]}),n.jsxs(Bt,{value:"email",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Total Sent"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"45.2K"}),n.jsx("div",{className:"flex items-center gap-1 mt-2",children:n.jsx("span",{className:`text-sm ${i}`,children:"This month"})})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(Gn,{className:`w-6 h-6 ${e?"text-[#6366f1]":"text-blue-600"}`})})]})})}),n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Open Rate"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"34.5%"}),n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.jsx(Is,{className:`w-4 h-4 ${e?"text-emerald-400":"text-green-600"}`}),n.jsx("span",{className:`text-sm ${e?"text-emerald-400":"text-green-600"}`,children:"+4.2%"})]})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-emerald-500/20":"bg-green-100"}`,children:n.jsx(Ln,{className:`w-6 h-6 ${e?"text-emerald-400":"text-green-600"}`})})]})})}),n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Click Rate"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"12.8%"}),n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.jsx(Is,{className:`w-4 h-4 ${e?"text-emerald-400":"text-green-600"}`}),n.jsx("span",{className:`text-sm ${e?"text-emerald-400":"text-green-600"}`,children:"+2.1%"})]})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-purple-500/20":"bg-purple-100"}`,children:n.jsx(yW,{className:`w-6 h-6 ${e?"text-purple-400":"text-purple-600"}`})})]})})}),n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Conversions"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"234"}),n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.jsx(Is,{className:`w-4 h-4 ${e?"text-emerald-400":"text-green-600"}`}),n.jsx("span",{className:`text-sm ${e?"text-emerald-400":"text-green-600"}`,children:"+15%"})]})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-orange-500/20":"bg-orange-100"}`,children:n.jsx(Gf,{className:`w-6 h-6 ${e?"text-orange-400":"text-orange-600"}`})})]})})})]}),n.jsxs(ve,{className:`${r} border ${s} shadow-sm`,children:[n.jsx(st,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(at,{className:a,children:"Email Campaigns"}),n.jsx("p",{className:`text-sm mt-1 ${i}`,children:"Create and send email marketing campaigns"})]}),n.jsxs(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:`${e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700"} w-full sm:w-auto`,onClick:()=>m(!0),children:[n.jsx(An,{className:"w-4 h-4 mr-2"}),"Create Campaign"]})]})}),n.jsx(Te,{children:n.jsx("div",{className:"space-y-3",children:n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`p-4 border rounded-lg hover:shadow-md transition-shadow ${s}`,children:n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:`text-sm ${a}`,children:"Summer Special - 25% Off Weekend Bookings"}),n.jsx(ze,{className:e?"bg-emerald-500/20 text-emerald-400":"bg-green-100 text-green-700",children:"Sent"})]}),n.jsx("p",{className:`text-xs mb-2 ${i}`,children:"Sent to 12,450 subscribers on Nov 15, 2025"}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${i}`,children:"Delivered"}),n.jsx("p",{className:`text-sm ${a}`,children:"12,234"})]}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${i}`,children:"Opened"}),n.jsx("p",{className:`text-sm ${a}`,children:"4,123 (33.7%)"})]}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${i}`,children:"Clicked"}),n.jsx("p",{className:`text-sm ${a}`,children:"1,567 (12.8%)"})]}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${i}`,children:"Conversions"}),n.jsx("p",{className:`text-sm ${e?"text-emerald-400":"text-green-600"}`,children:"89 bookings"})]})]})]}),n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{children:[n.jsx(Ln,{className:"w-4 h-4 mr-2"}),"View Report"]}),n.jsxs(Et,{children:[n.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Duplicate"]}),n.jsxs(Et,{children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Export Data"]})]})]})]})}),n.jsx("div",{className:`p-4 border rounded-lg ${e?"border-[#4f46e5]/30 bg-[#4f46e5]/10":"border-blue-200 bg-blue-50"}`,children:n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:`text-sm ${a}`,children:"Black Friday Mega Sale - 50% Off All Rooms"}),n.jsx(ze,{className:e?"bg-[#4f46e5]/20 text-[#6366f1]":"bg-blue-100 text-blue-700",children:"Scheduled"})]}),n.jsx("p",{className:`text-xs mb-2 ${i}`,children:"Scheduled for Nov 24, 2025 at 9:00 AM"}),n.jsx("p",{className:`text-xs ${i}`,children:"Target audience: 15,234 subscribers"})]}),n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{children:[n.jsx(Jm,{className:"w-4 h-4 mr-2"}),"Edit"]}),n.jsxs(Et,{children:[n.jsx(vu,{className:"w-4 h-4 mr-2"}),"Send Test"]}),n.jsxs(Et,{className:"text-red-600",children:[n.jsx(ds,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})}),n.jsx("div",{className:`p-4 border rounded-lg hover:shadow-md transition-shadow ${s}`,children:n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:`text-sm ${a}`,children:"Weekly Newsletter - New Mystery Manor Update"}),n.jsx(ze,{className:e?"bg-emerald-500/20 text-emerald-400":"bg-green-100 text-green-700",children:"Sent"})]}),n.jsx("p",{className:`text-xs mb-2 ${i}`,children:"Sent to 13,120 subscribers on Nov 8, 2025"}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${i}`,children:"Delivered"}),n.jsx("p",{className:`text-sm ${a}`,children:"12,987"})]}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${i}`,children:"Opened"}),n.jsx("p",{className:`text-sm ${a}`,children:"4,567 (35.2%)"})]}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${i}`,children:"Clicked"}),n.jsx("p",{className:`text-sm ${a}`,children:"1,789 (13.8%)"})]}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${i}`,children:"Conversions"}),n.jsx("p",{className:`text-sm ${e?"text-emerald-400":"text-green-600"}`,children:"67 bookings"})]})]})]}),n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{children:[n.jsx(Ln,{className:"w-4 h-4 mr-2"}),"View Report"]}),n.jsxs(Et,{children:[n.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Duplicate"]}),n.jsxs(Et,{children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Export Data"]})]})]})]})})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(ve,{className:`${r} border ${s} shadow-sm`,children:[n.jsxs(st,{children:[n.jsx(at,{className:a,children:"Email Templates"}),n.jsx("p",{className:`text-sm ${i}`,children:"Pre-built email templates"})]}),n.jsx(Te,{className:"space-y-3",children:["Welcome Email","Booking Confirmation","Post-Visit Survey","Win-Back Campaign"].map(w=>n.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg ${s}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Gn,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsx("span",{className:`text-sm ${a}`,children:w})]}),n.jsx(J,{size:"sm",variant:"outline",children:"Use Template"})]},w))})]}),n.jsxs(ve,{className:`${r} border ${s} shadow-sm`,children:[n.jsxs(st,{children:[n.jsx(at,{className:a,children:"Automated Workflows"}),n.jsx("p",{className:`text-sm ${i}`,children:"Set up email automation"})]}),n.jsxs(Te,{className:"space-y-3",children:[n.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg ${s}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${e?"bg-emerald-500/20":"bg-green-100"}`,children:n.jsx(Wi,{className:`w-4 h-4 ${e?"text-emerald-400":"text-green-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"Welcome Series"}),n.jsx("p",{className:`text-xs ${i}`,children:"3 emails  Active"})]})]}),n.jsx(Wt,{checked:!0})]}),n.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg ${s}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${e?"bg-emerald-500/20":"bg-green-100"}`,children:n.jsx(Wi,{className:`w-4 h-4 ${e?"text-emerald-400":"text-green-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"Post-Booking"}),n.jsx("p",{className:`text-xs ${i}`,children:"2 emails  Active"})]})]}),n.jsx(Wt,{checked:!0})]}),n.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg ${s}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${e?"bg-[#2a2a2a]":"bg-gray-100"}`,children:n.jsx(Qt,{className:`w-4 h-4 ${e?"text-[#a3a3a3]":"text-gray-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"Cart Abandonment"}),n.jsx("p",{className:`text-xs ${i}`,children:"1 email  Inactive"})]})]}),n.jsx(Wt,{checked:!1})]})]})]})]})]}),n.jsxs(Bt,{value:"affiliate",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Active Affiliates"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"34"}),n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.jsx(Is,{className:`w-4 h-4 ${e?"text-emerald-400":"text-green-600"}`}),n.jsx("span",{className:`text-sm ${e?"text-emerald-400":"text-green-600"}`,children:"+8 this month"})]})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(am,{className:`w-6 h-6 ${e?"text-[#6366f1]":"text-blue-600"}`})})]})})}),n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Total Referrals"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"234"}),n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.jsx(Is,{className:`w-4 h-4 ${e?"text-emerald-400":"text-green-600"}`}),n.jsx("span",{className:`text-sm ${e?"text-emerald-400":"text-green-600"}`,children:"+18%"})]})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-emerald-500/20":"bg-green-100"}`,children:n.jsx(Wr,{className:`w-6 h-6 ${e?"text-emerald-400":"text-green-600"}`})})]})})}),n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Revenue Generated"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"$15,670"}),n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.jsx(Is,{className:`w-4 h-4 ${e?"text-emerald-400":"text-green-600"}`}),n.jsx("span",{className:`text-sm ${e?"text-emerald-400":"text-green-600"}`,children:"+22%"})]})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-purple-500/20":"bg-purple-100"}`,children:n.jsx(Si,{className:`w-6 h-6 ${e?"text-purple-400":"text-purple-600"}`})})]})})}),n.jsx(ve,{className:`${r} border ${s} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm mb-1 ${i}`,children:"Commissions Paid"}),n.jsx("h3",{className:`text-2xl ${a}`,children:"$2,350"}),n.jsx("div",{className:"flex items-center gap-1 mt-2",children:n.jsx("span",{className:`text-sm ${i}`,children:"15% avg commission"})})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${e?"bg-orange-500/20":"bg-orange-100"}`,children:n.jsx(fa,{className:`w-6 h-6 ${e?"text-orange-400":"text-orange-600"}`})})]})})})]}),n.jsxs(ve,{className:`${r} border ${s} shadow-sm`,children:[n.jsxs(st,{children:[n.jsx(at,{className:a,children:"Affiliate Program Settings"}),n.jsx("p",{className:`text-sm ${i}`,children:"Configure your affiliate program"})]}),n.jsxs(Te,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"commission-rate",children:"Default Commission Rate"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ge,{id:"commission-rate",type:"number",defaultValue:"15",className:"flex-1"}),n.jsx("span",{className:`flex items-center px-3 border rounded-md ${s} ${o} ${i}`,children:"%"})]}),n.jsx("p",{className:`text-xs ${i}`,children:"Percentage of booking value paid to affiliates"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"cookie-duration",children:"Cookie Duration"}),n.jsxs(Kt,{defaultValue:"30",children:[n.jsx(Xt,{id:"cookie-duration",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"7",children:"7 days"}),n.jsx(Ce,{value:"14",children:"14 days"}),n.jsx(Ce,{value:"30",children:"30 days"}),n.jsx(Ce,{value:"60",children:"60 days"}),n.jsx(Ce,{value:"90",children:"90 days"})]})]}),n.jsx("p",{className:`text-xs ${i}`,children:"How long to track referrals"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"min-payout",children:"Minimum Payout"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("span",{className:`flex items-center px-3 border rounded-md ${s} ${o} ${i}`,children:"$"}),n.jsx(ge,{id:"min-payout",type:"number",defaultValue:"50",className:"flex-1"})]}),n.jsx("p",{className:`text-xs ${i}`,children:"Minimum earnings before payout"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"payout-schedule",children:"Payout Schedule"}),n.jsxs(Kt,{defaultValue:"monthly",children:[n.jsx(Xt,{id:"payout-schedule",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"weekly",children:"Weekly"}),n.jsx(Ce,{value:"biweekly",children:"Bi-weekly"}),n.jsx(Ce,{value:"monthly",children:"Monthly"})]})]}),n.jsx("p",{className:`text-xs ${i}`,children:"How often to process payouts"})]})]}),n.jsx("div",{className:`flex items-center justify-between p-4 border rounded-lg ${e?"bg-[#4f46e5]/10 border-[#4f46e5]/30":"bg-blue-50 border-blue-200"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wt,{checked:!0}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"Auto-approve Affiliates"}),n.jsx("p",{className:`text-xs ${i}`,children:"Automatically approve new affiliate applications"})]})]})}),n.jsx(tt,{}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[n.jsx(J,{variant:"outline",className:"w-full sm:w-auto",children:"Reset to Defaults"}),n.jsxs(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:`${e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700"} w-full sm:w-auto`,onClick:b,children:[n.jsx(ki,{className:"w-4 h-4 mr-2"}),"Save Settings"]})]})]})]}),n.jsxs(ve,{className:`${r} border ${s} shadow-sm`,children:[n.jsx(st,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(at,{className:a,children:"Affiliate Partners"}),n.jsx("p",{className:`text-sm mt-1 ${i}`,children:"Manage your affiliate relationships"})]}),n.jsxs(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:`${e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700"} w-full sm:w-auto`,onClick:()=>g(!0),children:[n.jsx(An,{className:"w-4 h-4 mr-2"}),"Add Affiliate"]})]})}),n.jsx(Te,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ba,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${e?"text-[#737373]":"text-gray-400"}`}),n.jsx(ge,{placeholder:"Search affiliates...",className:"pl-10"})]}),n.jsxs(J,{variant:"outline",className:"w-full sm:w-auto",children:[n.jsx(Ld,{className:"w-4 h-4 mr-2"}),"Filter"]})]}),n.jsx("div",{className:`border rounded-lg overflow-x-auto ${s}`,children:n.jsxs(Vp,{children:[n.jsx(Wp,{children:n.jsxs(Ma,{children:[n.jsx(Gr,{children:"Affiliate"}),n.jsx(Gr,{children:"Referrals"}),n.jsx(Gr,{children:"Revenue"}),n.jsx(Gr,{children:"Commission"}),n.jsx(Gr,{children:"Status"}),n.jsx(Gr,{className:"w-[50px]"})]})}),n.jsxs(Hp,{children:[n.jsxs(Ma,{children:[n.jsx($t,{children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-900",children:"Sarah's Blog"}),n.jsx("p",{className:"text-xs text-gray-600",children:"sarah@escapeblog.com"})]})}),n.jsx($t,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-gray-900",children:"89"}),n.jsx("span",{className:"text-gray-600",children:" bookings"})]})}),n.jsx($t,{className:"text-sm text-gray-900",children:"$6,720"}),n.jsx($t,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-green-600",children:"$1,008"}),n.jsx("span",{className:"text-gray-600",children:" (15%)"})]})}),n.jsx($t,{children:n.jsx(ze,{className:"bg-green-100 text-green-700",children:"Active"})}),n.jsx($t,{children:n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{children:[n.jsx(Ln,{className:"w-4 h-4 mr-2"}),"View Details"]}),n.jsxs(Et,{children:[n.jsx(Jm,{className:"w-4 h-4 mr-2"}),"Edit Commission"]}),n.jsxs(Et,{children:[n.jsx(Si,{className:"w-4 h-4 mr-2"}),"Process Payout"]}),n.jsxs(Et,{className:"text-red-600",children:[n.jsx(ds,{className:"w-4 h-4 mr-2"}),"Deactivate"]})]})]})})]}),n.jsxs(Ma,{children:[n.jsx($t,{children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-900",children:"Adventure Seekers"}),n.jsx("p",{className:"text-xs text-gray-600",children:"team@adventureseekers.com"})]})}),n.jsx($t,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-gray-900",children:"67"}),n.jsx("span",{className:"text-gray-600",children:" bookings"})]})}),n.jsx($t,{className:"text-sm text-gray-900",children:"$5,140"}),n.jsx($t,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-green-600",children:"$771"}),n.jsx("span",{className:"text-gray-600",children:" (15%)"})]})}),n.jsx($t,{children:n.jsx(ze,{className:"bg-green-100 text-green-700",children:"Active"})}),n.jsx($t,{children:n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{children:[n.jsx(Ln,{className:"w-4 h-4 mr-2"}),"View Details"]}),n.jsxs(Et,{children:[n.jsx(Jm,{className:"w-4 h-4 mr-2"}),"Edit Commission"]}),n.jsxs(Et,{children:[n.jsx(Si,{className:"w-4 h-4 mr-2"}),"Process Payout"]}),n.jsxs(Et,{className:"text-red-600",children:[n.jsx(ds,{className:"w-4 h-4 mr-2"}),"Deactivate"]})]})]})})]}),n.jsxs(Ma,{children:[n.jsx($t,{children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-900",children:"Local Events Guide"}),n.jsx("p",{className:"text-xs text-gray-600",children:"info@localevents.com"})]})}),n.jsx($t,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-gray-900",children:"45"}),n.jsx("span",{className:"text-gray-600",children:" bookings"})]})}),n.jsx($t,{className:"text-sm text-gray-900",children:"$3,450"}),n.jsx($t,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-green-600",children:"$517"}),n.jsx("span",{className:"text-gray-600",children:" (15%)"})]})}),n.jsx($t,{children:n.jsx(ze,{className:"bg-green-100 text-green-700",children:"Active"})}),n.jsx($t,{children:n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{children:[n.jsx(Ln,{className:"w-4 h-4 mr-2"}),"View Details"]}),n.jsxs(Et,{children:[n.jsx(Jm,{className:"w-4 h-4 mr-2"}),"Edit Commission"]}),n.jsxs(Et,{children:[n.jsx(Si,{className:"w-4 h-4 mr-2"}),"Process Payout"]}),n.jsxs(Et,{className:"text-red-600",children:[n.jsx(ds,{className:"w-4 h-4 mr-2"}),"Deactivate"]})]})]})})]})]})]})})]})})]})]})]}),n.jsx(or,{open:c,onOpenChange:d,children:n.jsxs(lr,{className:"max-w-2xl",children:[n.jsxs(Nr,{children:[n.jsx(cr,{children:"Create New Promotion"}),n.jsx(xr,{children:"Set up a new discount code or promotional campaign"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"promo-code",children:"Promotion Code"}),n.jsx(ge,{id:"promo-code",placeholder:"e.g., SUMMER25"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"promo-type",children:"Discount Type"}),n.jsxs(Kt,{defaultValue:"percentage",children:[n.jsx(Xt,{id:"promo-type",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"percentage",children:"Percentage"}),n.jsx(Ce,{value:"fixed",children:"Fixed Amount"}),n.jsx(Ce,{value:"free-shipping",children:"Free Shipping"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"discount-value",children:"Discount Value"}),n.jsx(ge,{id:"discount-value",type:"number",placeholder:"25"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"usage-limit",children:"Usage Limit"}),n.jsx(ge,{id:"usage-limit",type:"number",placeholder:"100"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"valid-from",children:"Valid From"}),n.jsx(ge,{id:"valid-from",type:"date"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"valid-until",children:"Valid Until"}),n.jsx(ge,{id:"valid-until",type:"date"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"description",children:"Description (Optional)"}),n.jsx(mn,{id:"description",placeholder:"Summer sale - 25% off all weekend bookings"})]})]}),n.jsxs(wn,{children:[n.jsx(J,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),n.jsx(J,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>{d(!1),me.success("Promotion created successfully!")},children:"Create Promotion"})]})]})}),n.jsx(or,{open:u,onOpenChange:h,children:n.jsxs(lr,{className:"max-w-2xl",children:[n.jsxs(Nr,{children:[n.jsx(cr,{children:"Create Gift Card"}),n.jsx(xr,{children:"Generate a new gift card for your customers"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"gc-amount",children:"Gift Card Amount"}),n.jsxs(Kt,{defaultValue:"50",children:[n.jsx(Xt,{id:"gc-amount",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"25",children:"$25"}),n.jsx(Ce,{value:"50",children:"$50"}),n.jsx(Ce,{value:"100",children:"$100"}),n.jsx(Ce,{value:"150",children:"$150"}),n.jsx(Ce,{value:"custom",children:"Custom Amount"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"gc-expiry",children:"Expiry Date"}),n.jsx(ge,{id:"gc-expiry",type:"date"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"recipient-email",children:"Recipient Email"}),n.jsx(ge,{id:"recipient-email",type:"email",placeholder:"customer@example.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"recipient-name",children:"Recipient Name (Optional)"}),n.jsx(ge,{id:"recipient-name",placeholder:"John Doe"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"gc-message",children:"Personal Message (Optional)"}),n.jsx(mn,{id:"gc-message",placeholder:"Happy Birthday! Enjoy an escape room adventure on us!"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wt,{id:"send-immediately"}),n.jsx(re,{htmlFor:"send-immediately",className:"cursor-pointer",children:"Send gift card email immediately"})]})]}),n.jsxs(wn,{children:[n.jsx(J,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),n.jsx(J,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>{h(!1),me.success("Gift card created successfully!")},children:"Create Gift Card"})]})]})}),n.jsx(or,{open:f,onOpenChange:m,children:n.jsxs(lr,{className:"max-w-3xl",children:[n.jsxs(Nr,{children:[n.jsx(cr,{children:"Create Email Campaign"}),n.jsx(xr,{children:"Design and schedule a new email marketing campaign"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"campaign-name",children:"Campaign Name"}),n.jsx(ge,{id:"campaign-name",placeholder:"e.g., Holiday Special 2025"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"subject-line",children:"Email Subject Line"}),n.jsx(ge,{id:"subject-line",placeholder:"Don't miss out!  Special holiday offer inside"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"from-name",children:"From Name"}),n.jsx(ge,{id:"from-name",defaultValue:"BookingTMS"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"email-template",children:"Email Template"}),n.jsxs(Kt,{defaultValue:"promotional",children:[n.jsx(Xt,{id:"email-template",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"promotional",children:"Promotional"}),n.jsx(Ce,{value:"newsletter",children:"Newsletter"}),n.jsx(Ce,{value:"announcement",children:"Announcement"}),n.jsx(Ce,{value:"custom",children:"Custom Design"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"target-audience",children:"Target Audience"}),n.jsxs(Kt,{defaultValue:"all",children:[n.jsx(Xt,{id:"target-audience",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"all",children:"All Subscribers"}),n.jsx(Ce,{value:"active",children:"Active Customers"}),n.jsx(Ce,{value:"inactive",children:"Inactive Customers"}),n.jsx(Ce,{value:"new",children:"New Subscribers"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"schedule-type",children:"Send Time"}),n.jsxs(Kt,{defaultValue:"immediately",children:[n.jsx(Xt,{id:"schedule-type",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"immediately",children:"Send Immediately"}),n.jsx(Ce,{value:"schedule",children:"Schedule for Later"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"schedule-date",children:"Schedule Date & Time"}),n.jsx(ge,{id:"schedule-date",type:"datetime-local"})]})]})]}),n.jsxs(wn,{children:[n.jsx(J,{variant:"outline",onClick:()=>m(!1),children:"Save as Draft"}),n.jsx(J,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>{m(!1),me.success("Email campaign created successfully!")},children:"Create Campaign"})]})]})}),n.jsx(or,{open:y,onOpenChange:g,children:n.jsxs(lr,{className:"max-w-2xl",children:[n.jsxs(Nr,{children:[n.jsx(cr,{children:"Add New Affiliate"}),n.jsx(xr,{children:"Register a new affiliate partner"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"affiliate-name",children:"Affiliate Name"}),n.jsx(ge,{id:"affiliate-name",placeholder:"Business or Person Name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"affiliate-email",children:"Email Address"}),n.jsx(ge,{id:"affiliate-email",type:"email",placeholder:"partner@example.com"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"commission-rate-custom",children:"Commission Rate (%)"}),n.jsx(ge,{id:"commission-rate-custom",type:"number",defaultValue:"15"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"affiliate-code",children:"Custom Referral Code"}),n.jsx(ge,{id:"affiliate-code",placeholder:"Auto-generated if empty"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"affiliate-website",children:"Website (Optional)"}),n.jsx(ge,{id:"affiliate-website",type:"url",placeholder:"https://example.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"affiliate-notes",children:"Notes (Optional)"}),n.jsx(mn,{id:"affiliate-notes",placeholder:"Additional information about this affiliate..."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wt,{id:"auto-approve-affiliate",defaultChecked:!0}),n.jsx(re,{htmlFor:"auto-approve-affiliate",className:"cursor-pointer",children:"Activate immediately"})]})]}),n.jsxs(wn,{children:[n.jsx(J,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),n.jsx(J,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>{g(!1),me.success("Affiliate added successfully!")},children:"Add Affiliate"})]})]})})]})}const ARe=[{id:"1",name:"Mystery Mansion",description:"Solve the haunted mansion mystery",difficulty:"Medium",duration:"60 min",minPlayers:2,maxPlayers:8,price:29},{id:"2",name:"Prison Break",description:"Escape before time runs out",difficulty:"Hard",duration:"75 min",minPlayers:4,maxPlayers:10,price:35},{id:"3",name:"Lost Temple",description:"Discover ancient treasures",difficulty:"Easy",duration:"45 min",minPlayers:2,maxPlayers:6,price:25},{id:"4",name:"Zombie Outbreak",description:"Survive the apocalypse",difficulty:"Hard",duration:"60 min",minPlayers:4,maxPlayers:8,price:32}],ERe=["10:00 AM","11:30 AM","1:00 PM","2:30 PM","4:00 PM","5:30 PM","7:00 PM","8:30 PM"],PRe=[{text:"Show me available rooms",icon:""},{text:"Book for tonight",icon:""},{text:"What are the prices?",icon:""},{text:"Help me choose",icon:""}];function iV({chatColor:t,chatPosition:e,chatGreeting:r,isOpen:s,onToggle:a,apiKey:i,provider:o="openai",model:l,onOpenHistory:c,onOpenSettings:d}){const{theme:u}=fn(),h=u==="dark",f=h?"text-white":"text-gray-900",m=h?"text-[#a3a3a3]":"text-gray-600",y=h?"bg-[#161616]":"bg-white",g=h?"border-[#2a2a2a]":"border-gray-200",[v,b]=S.useState(null),[w,N]=S.useState([{id:"1",type:"bot",text:r,timestamp:new Date},{id:"2",type:"bot",text:"I can help you book an escape room experience! Let me show you our available games:",component:"game-selector",timestamp:new Date}]),[_,C]=S.useState(""),[E,A]=S.useState(null),[I,$]=S.useState(void 0),[O,P]=S.useState(null),[M,R]=S.useState(2),[W,Y]=S.useState(!1),[K,L]=S.useState(!0),F=S.useRef(null),ee=()=>{F.current?.scrollIntoView({behavior:"smooth"})};S.useEffect(()=>{ee()},[w]),S.useEffect(()=>{try{const we=localStorage.getItem("assistantConfig");we&&b(JSON.parse(we))}catch{}const be=we=>{if(we.key==="assistantConfig")try{b(we.newValue?JSON.parse(we.newValue):null)}catch{}};return window.addEventListener("storage",be),()=>window.removeEventListener("storage",be)},[]),S.useEffect(()=>{v&&(w.length===2&&N(be=>{const we=[...be];return we[0]={...we[0],text:v.personality?.greeting||r},we}),v.behavior?.autoSuggest===!1&&L(!1))},[v]),S.useEffect(()=>{if(w.length>2){const be=JSON.parse(localStorage.getItem("chatConversations")||"[]"),Ie=[{id:Date.now().toString(),title:w[2]?.text?.substring(0,50)||"New Conversation",messages:w,timestamp:new Date},...be].slice(0,20);localStorage.setItem("chatConversations",JSON.stringify(Ie))}},[w]);const se=(be,we,Ie)=>{Y(!0),setTimeout(()=>{N(Ee=>[...Ee,{id:Date.now().toString(),type:"bot",text:be,component:we,data:Ie,timestamp:new Date}]),Y(!1)},1e3)},q=be=>{N(we=>[...we,{id:Date.now().toString(),type:"user",text:be,timestamp:new Date}]),L(!1)},z=be=>{C(be),pe(be)},Z=be=>{A(be),q(`I'd like to book ${be.name}`),se(`Great choice! ${be.name} is a ${be.difficulty.toLowerCase()} level room that takes ${be.duration}. Let's pick a date:`,"date-picker")},X=be=>{be&&($(be),q(`I'd like to book for ${On(be,"MMMM dd, yyyy")}`),se(`Perfect! Here are the available time slots for ${On(be,"MMMM dd")}:`,"time-slots"))},Q=be=>{P(be),q(`${be} works for me`),se(`Excellent! How many people will be joining you? (${E?.minPlayers}-${E?.maxPlayers} players)`,"participant-count")},ne=be=>{R(be),q(`${be} people`),se("Perfect! Here's your booking summary:","checkout-summary")},ce=()=>{q("Proceed to checkout"),se(" Awesome! Redirecting you to checkout to complete your booking..."),setTimeout(()=>{se('Your booking details have been saved. You can continue this conversation anytime, or start a new booking by typing "book another room".')},2e3)},ie=async be=>{if(!i||!i.trim())return"I'd love to help you book an escape room! Let me show you our available games:";try{const Ie=(()=>{const qe=v?.personality?.tone||"friendly",ft=v?.personality?.style||"balanced",ke=v?.knowledge?.businessHours,lt=v?.knowledge?.specialInstructions,Ve=v?.knowledge?.customFAQs||[],Ke=v?.behavior?.showPrices!==!1,yt=v?.behavior?.escalateToHuman?"Yes":"No",Mt=v?.behavior?.collectFeedback?"Yes":"No",Gt=`Available games:
1. Mystery Mansion - Medium difficulty, 60 min, 2-8 players${Ke?", $29/person":""}
2. Prison Break - Hard difficulty, 75 min, 4-10 players${Ke?", $35/person":""}
3. Lost Temple - Easy difficulty, 45 min, 2-6 players${Ke?", $25/person":""}
4. Zombie Outbreak - Hard difficulty, 60 min, 4-8 players${Ke?", $32/person":""}`,qt="Available time slots: 10:00 AM, 11:30 AM, 1:00 PM, 2:30 PM, 4:00 PM, 5:30 PM, 7:00 PM, 8:30 PM",At=Ve.length?`Additional FAQs:
${Ve.map(Or=>`Q: ${Or.question}
A: ${Or.answer}`).join(`
`)}`:"",Dt=Ke?"Include pricing details when relevant.":"Avoid quoting exact prices; if asked, say pricing is shown during checkout.",Nt=yt==="Yes"?"If the user seems stuck or requests a human, offer to escalate to a human agent.":"",$r=Mt==="Yes"?"At the end of the booking or conversation, politely ask for feedback or a quick rating.":"";return["You are a helpful booking assistant for BookingTMS escape rooms.","Your goal is to help customers book escape room experiences.",`Respond with a ${qe} tone and ${ft} style.`,ke?`Business hours: ${ke}`:void 0,lt?`Special instructions: ${lt}`:void 0,Gt,qt,"Guide the customer through: 1) selecting a game, 2) picking a date, 3) choosing a time slot, 4) number of participants, 5) completing checkout.",Dt,Nt||void 0,$r||void 0,At||void 0,"Keep responses user-friendly. When appropriate, suggest showing available games or booking options."].filter(Or=>!!Or).join(`

`)})(),{projectId:Ee,publicAnonKey:H}=await Dx(async()=>{const{projectId:qe,publicAnonKey:ft}=await Promise.resolve().then(()=>fVe);return{projectId:qe,publicAnonKey:ft}},void 0),Le=l||"gpt-4o-mini",Ye=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-84a71643/chat`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${H}`},body:JSON.stringify({apiKey:i,messages:[{role:"system",content:Ie},{role:"user",content:be}],model:Le,temperature:.7,maxTokens:200,provider:o})});if(!Ye.ok){const qe=await Ye.json().catch(()=>({}));throw console.error("OpenAI API error:",Ye.status,qe),new Error(`API error: ${Ye.status}`)}return(await Ye.json()).choices[0]?.message?.content||"I can help you book an escape room! Would you like to see our available games?"}catch(we){return console.error(`${o.toUpperCase()} API error:`,we),"I'd love to help you book an escape room! Let me show you our available games:"}},pe=async be=>{const we=be||_;if(!we.trim())return;const Ie=we;q(Ie),C(""),Y(!0);const Ee=await ie(Ie);Y(!1);const H=Ee.toLowerCase(),Le=Ie.toLowerCase();Le.includes("book")||Le.includes("room")||Le.includes("game")||H.includes("games")||H.includes("available")||Le.includes("price")||Le.includes("cost")||Le.includes("time")||Le.includes("when")?se(Ee,"game-selector"):N(Ye=>[...Ye,{id:Date.now().toString(),type:"bot",text:Ee,timestamp:new Date}])},ae=be=>{switch(be.component){case"game-selector":return n.jsx("div",{className:"space-y-2 mt-3",children:ARe.map(Le=>n.jsx("button",{onClick:()=>Z(Le),className:`w-full p-3 rounded-lg border text-left transition-all ${h?"bg-[#1e1e1e] border-[#2a2a2a] hover:border-[#4f46e5]":"bg-white border-gray-200 hover:border-blue-400 hover:shadow-md"}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h4",{className:`text-sm ${f}`,children:Le.name}),n.jsx(ze,{variant:"secondary",className:`text-xs ${Le.difficulty==="Easy"?h?"bg-emerald-500/20 text-emerald-400":"bg-green-100 text-green-700":Le.difficulty==="Medium"?h?"bg-yellow-500/20 text-yellow-400":"bg-yellow-100 text-yellow-700":h?"bg-red-500/20 text-red-400":"bg-red-100 text-red-700"}`,children:Le.difficulty})]}),n.jsx("p",{className:`text-xs ${m} mb-2`,children:Le.description}),n.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[n.jsxs("span",{className:`flex items-center gap-1 ${m}`,children:[n.jsx(Qt,{className:"w-3 h-3"}),Le.duration]}),n.jsxs("span",{className:`flex items-center gap-1 ${m}`,children:[n.jsx(Wr,{className:"w-3 h-3"}),Le.minPlayers,"-",Le.maxPlayers]}),v?.behavior?.showPrices!==!1&&n.jsxs("span",{className:`font-semibold ${h?"text-[#6366f1]":"text-blue-600"}`,children:["$",Le.price,"/person"]})]})]}),n.jsx(Ds,{className:`w-5 h-5 flex-shrink-0 ${m}`})]})},Le.id))});case"date-picker":return n.jsx("div",{className:`mt-3 p-4 rounded-lg border ${h?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white border-gray-200"}`,children:n.jsx(Uu,{mode:"single",selected:I,onSelect:X,disabled:Le=>Le<new Date||Le<new Date(new Date().setHours(0,0,0,0)),className:`${h?"[&_.rdp-day_button]:text-white [&_.rdp-day_button:hover]:bg-[#4f46e5]":""}`})});case"time-slots":return n.jsx("div",{className:"grid grid-cols-2 gap-2 mt-3",children:ERe.map(Le=>n.jsxs("button",{onClick:()=>Q(Le),className:`p-3 rounded-lg border text-center transition-all ${h?"bg-[#1e1e1e] border-[#2a2a2a] hover:border-[#4f46e5] hover:bg-[#4f46e5]/20":"bg-white border-gray-200 hover:border-blue-400 hover:bg-blue-50"}`,children:[n.jsx(Qt,{className:`w-4 h-4 mx-auto mb-1 ${m}`}),n.jsx("span",{className:`text-sm ${f}`,children:Le})]},Le))});case"participant-count":const we=E?.minPlayers||2,Ie=E?.maxPlayers||8,Ee=Array.from({length:Ie-we+1},(Le,Ye)=>we+Ye);return n.jsx("div",{className:"grid grid-cols-4 gap-2 mt-3",children:Ee.map(Le=>n.jsxs("button",{onClick:()=>ne(Le),className:`p-3 rounded-lg border text-center transition-all ${h?"bg-[#1e1e1e] border-[#2a2a2a] hover:border-[#4f46e5] hover:bg-[#4f46e5]/20":"bg-white border-gray-200 hover:border-blue-400 hover:bg-blue-50"}`,children:[n.jsx(Wr,{className:`w-4 h-4 mx-auto mb-1 ${m}`}),n.jsx("span",{className:`text-sm ${f}`,children:Le})]},Le))});case"checkout-summary":const H=(E?.price||0)*M;return n.jsx("div",{className:`mt-3 p-4 rounded-lg border ${h?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white border-gray-200"}`,children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${h?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(Nn,{className:`w-5 h-5 ${h?"text-[#6366f1]":"text-blue-600"}`})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:`text-sm mb-1 ${f}`,children:E?.name}),n.jsxs("div",{className:`text-xs space-y-1 ${m}`,children:[n.jsxs("p",{children:[" ",I?On(I,"EEEE, MMMM dd, yyyy"):"Date not selected"]}),n.jsxs("p",{children:[" ",O||"Time not selected"]}),n.jsxs("p",{children:[" ",M," ",M===1?"person":"people"]})]})]})]}),n.jsx("div",{className:`border-t pt-3 ${g}`,children:v?.behavior?.showPrices!==!1&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:m,children:"Price per person:"}),n.jsxs("span",{className:f,children:["$",E?.price]})]}),n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("span",{className:m,children:"Participants:"}),n.jsxs("span",{className:f,children:["",M]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:f,children:"Total:"}),n.jsxs("span",{className:`text-lg ${f}`,children:["$",H]})]})]})}),n.jsxs(J,{onClick:ce,className:"w-full h-11",style:{backgroundColor:t},children:[n.jsx(Ua,{className:"w-4 h-4 mr-2"}),"Proceed to Checkout"]})]})});default:return null}};return s?n.jsxs("div",{className:`w-[380px] rounded-2xl shadow-2xl overflow-hidden border ${h?"bg-[#161616] border-[#2a2a2a]":"bg-white border-gray-200"}`,children:[n.jsxs("div",{className:"p-4 text-white flex items-center justify-between",style:{backgroundColor:t},children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center relative",children:[n.jsx(d1,{className:"w-5 h-5 text-white"}),n.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-400 rounded-full border-2 border-white"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"text-sm",children:"Booking Assistant"}),n.jsx(ma,{className:"w-3 h-3"})]}),n.jsx("p",{className:"text-xs opacity-90",children:"AI-Powered  Online"})]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[c&&n.jsx("button",{onClick:c,className:"hover:bg-white/20 p-1.5 rounded transition-colors",title:"Chat History",children:n.jsx(fW,{className:"w-4 h-4"})}),d&&n.jsx("button",{onClick:d,className:"hover:bg-white/20 p-1.5 rounded transition-colors",title:"Settings",children:n.jsx(sm,{className:"w-4 h-4"})}),n.jsx("button",{onClick:a,className:"hover:bg-white/20 p-1.5 rounded transition-colors",children:n.jsx(Nae,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:`h-[480px] p-4 space-y-4 overflow-y-auto ${h?"bg-[#0a0a0a]":"bg-gray-50"}`,children:[w.map(be=>n.jsx("div",{children:be.type==="bot"?n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:t},children:n.jsx(d1,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{className:"flex-1 max-w-[85%]",children:[be.text&&n.jsx("div",{className:`rounded-2xl rounded-tl-sm p-3 shadow-sm ${y} border ${g}`,children:n.jsx("p",{className:`text-sm ${f}`,children:be.text})}),be.component&&ae(be)]})]}):n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx("div",{className:"rounded-2xl rounded-tr-sm p-3 shadow-sm max-w-[75%]",style:{backgroundColor:t},children:n.jsx("p",{className:"text-sm text-white",children:be.text})}),n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${h?"bg-[#2a2a2a]":"bg-gray-200"}`,children:n.jsx(ca,{className:`w-4 h-4 ${m}`})})]})},be.id)),W&&n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:t},children:n.jsx(d1,{className:"w-4 h-4 text-white"})}),n.jsx("div",{className:`rounded-2xl rounded-tl-sm p-3 shadow-sm ${y} border ${g}`,children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),n.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),n.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),K&&w.length===2&&n.jsxs("div",{className:"space-y-2 pt-2",children:[n.jsxs("div",{className:`flex items-center gap-2 px-1 ${m}`,children:[n.jsx(hae,{className:"w-3 h-3"}),n.jsx("span",{className:"text-xs",children:"Quick suggestions:"})]}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:PRe.map((be,we)=>n.jsxs("button",{onClick:()=>z(be.text),className:`p-2 rounded-lg border text-left text-xs transition-all ${h?"bg-[#1e1e1e] border-[#2a2a2a] hover:border-[#4f46e5] hover:bg-[#4f46e5]/10":"bg-white border-gray-200 hover:border-blue-400 hover:bg-blue-50"}`,children:[n.jsx("span",{className:"mr-1",children:be.icon}),n.jsx("span",{className:f,children:be.text})]},we))})]}),n.jsx("div",{ref:F})]}),n.jsxs("div",{className:`p-3 border-t ${h?"border-[#2a2a2a] bg-[#161616]":"border-gray-200 bg-white"}`,children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ge,{placeholder:"Type your message...",className:`flex-1 text-sm h-10 ${h?"bg-[#0a0a0a] border-[#2a2a2a]":"bg-gray-50 border-gray-200"}`,value:_,onChange:be=>C(be.target.value),onKeyPress:be=>be.key==="Enter"&&pe()}),n.jsx(J,{size:"icon",style:{backgroundColor:t},onClick:()=>pe(),className:"h-10 w-10 flex-shrink-0",disabled:!_.trim(),children:n.jsx(vu,{className:"w-4 h-4 text-white"})})]}),n.jsx("p",{className:`text-xs mt-2 text-center ${m}`,children:"Powered by BookingTMS AI"})]})]}):n.jsxs("button",{onClick:a,className:"w-14 h-14 rounded-full shadow-2xl flex items-center justify-center relative hover:scale-105 transition-transform",style:{backgroundColor:t},children:[n.jsx(ei,{className:"w-6 h-6 text-white"}),n.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-xs text-white",children:"1"})]})}function TRe({isOpen:t,onClose:e}){const{theme:r}=fn(),s=r==="dark",a=s?"text-white":"text-gray-900",i=s?"text-[#a3a3a3]":"text-gray-600",o=s?"bg-[#161616]":"bg-white",l=s?"border-[#2a2a2a]":"border-gray-200",[c,d]=S.useState([]),[u,h]=S.useState(null),[f,m]=S.useState(""),[y,g]=S.useState("all");S.useEffect(()=>{t&&v()},[t]);const v=()=>{const C=localStorage.getItem("chatConversations");if(C){const A=JSON.parse(C).map(I=>({...I,timestamp:new Date(I.timestamp),messages:I.messages.map($=>({...$,timestamp:$.timestamp?new Date($.timestamp):void 0}))}));d(A)}},b=C=>{const E=c.filter(A=>A.id!==C);d(E),localStorage.setItem("chatConversations",JSON.stringify(E)),u?.id===C&&h(null)},w=()=>{confirm("Are you sure you want to delete all chat history?")&&(d([]),h(null),localStorage.removeItem("chatConversations"))},N=C=>{const E=C.messages.map(O=>`[${O.type.toUpperCase()}]: ${O.text||"(Interactive component)"}`).join(`

`),A=new Blob([E],{type:"text/plain"}),I=URL.createObjectURL(A),$=document.createElement("a");$.href=I,$.download=`chat-${On(C.timestamp,"yyyy-MM-dd-HHmm")}.txt`,$.click(),URL.revokeObjectURL(I)},_=c.filter(C=>{if(f){const E=f.toLowerCase(),A=C.title.toLowerCase().includes(E),I=C.messages.some($=>$.text?.toLowerCase().includes(E));if(!A&&!I)return!1}if(y!=="all"){const E=new Date,A=new Date(C.timestamp),I=Math.floor((E.getTime()-A.getTime())/(1e3*60*60*24));if(y==="today"&&I>0||y==="week"&&I>7||y==="month"&&I>30)return!1}return!0}).sort((C,E)=>new Date(E.timestamp).getTime()-new Date(C.timestamp).getTime());return n.jsx(or,{open:t,onOpenChange:e,children:n.jsxs(lr,{className:`max-w-4xl h-[600px] ${o} ${a} border ${l}`,children:[n.jsxs(Nr,{children:[n.jsxs(cr,{className:`flex items-center gap-2 ${a}`,children:[n.jsx(fW,{className:"w-5 h-5"}),"Chat History"]}),n.jsx(xr,{className:i,children:"View and manage your past conversations"})]}),n.jsxs("div",{className:"flex gap-4 h-[480px]",children:[n.jsxs("div",{className:`w-1/3 border-r ${l} flex flex-col`,children:[n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ba,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 ${i}`}),n.jsx(ge,{placeholder:"Search conversations...",value:f,onChange:C=>m(C.target.value),className:`pl-9 h-10 ${s?"bg-[#0a0a0a] border-[#2a2a2a]":"bg-gray-100 border-gray-300"}`})]}),n.jsx("div",{className:"flex gap-1",children:["all","today","week","month"].map(C=>n.jsx(J,{variant:y===C?"default":"outline",size:"sm",onClick:()=>g(C),className:`text-xs ${y===C&&s?"bg-[#4f46e5]":y===C?"bg-blue-600":""}`,children:C.charAt(0).toUpperCase()+C.slice(1)},C))})]}),n.jsx(Ps,{className:"flex-1",children:n.jsx("div",{className:"space-y-2 pr-4",children:_.length===0?n.jsxs("div",{className:`text-center py-8 ${i}`,children:[n.jsx(ei,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No conversations found"})]}):_.map(C=>n.jsxs("button",{onClick:()=>h(C),className:`w-full p-3 rounded-lg border text-left transition-all ${u?.id===C.id?s?"bg-[#4f46e5]/20 border-[#4f46e5]":"bg-blue-50 border-blue-400":s?"bg-[#1e1e1e] border-[#2a2a2a] hover:border-[#4f46e5]":"bg-white border-gray-200 hover:border-blue-400"}`,children:[n.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[n.jsx("h4",{className:`text-sm truncate ${a}`,children:C.title}),n.jsx(ze,{variant:"secondary",className:"text-xs shrink-0",children:C.messages.length})]}),n.jsx("p",{className:`text-xs ${i}`,children:On(new Date(C.timestamp),"MMM dd, yyyy HH:mm")})]},C.id))})}),c.length>0&&n.jsx("div",{className:"pt-3 border-t mt-3",children:n.jsxs(J,{variant:"outline",size:"sm",onClick:w,className:"w-full text-red-600 hover:text-red-700 hover:bg-red-50",children:[n.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Clear All History"]})})]}),n.jsx("div",{className:"flex-1 flex flex-col",children:u?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`pb-3 mb-3 border-b ${l} flex items-center justify-between`,children:[n.jsxs("div",{children:[n.jsx("h3",{className:`text-sm ${a}`,children:u.title}),n.jsx("p",{className:`text-xs ${i}`,children:On(new Date(u.timestamp),"MMMM dd, yyyy  HH:mm")})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>N(u),children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Export"]}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>b(u.id),className:"text-red-600 hover:text-red-700",children:n.jsx(Dn,{className:"w-4 h-4"})})]})]}),n.jsx(Ps,{className:"flex-1",children:n.jsx("div",{className:"space-y-3 pr-4",children:u.messages.map(C=>n.jsx("div",{className:`flex ${C.type==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[80%] p-3 rounded-lg ${C.type==="bot"?s?"bg-[#1e1e1e] border border-[#2a2a2a]":"bg-white border border-gray-200":s?"bg-[#4f46e5] text-white":"bg-blue-600 text-white"}`,children:[n.jsx("p",{className:"text-sm",children:C.text||"(Interactive component)"}),C.timestamp&&n.jsx("p",{className:`text-xs mt-1 ${C.type==="bot"?i:"text-white/70"}`,children:On(new Date(C.timestamp),"HH:mm")})]})},C.id))})})]}):n.jsx("div",{className:`flex-1 flex items-center justify-center ${i}`,children:n.jsxs("div",{className:"text-center",children:[n.jsx(ei,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{className:"text-sm",children:"Select a conversation to view details"})]})})})]})]})})}const oV={personality:{tone:"friendly",style:"balanced",greeting:"Hi! I'm here to help you book an amazing escape room experience. What can I do for you today?",signOff:"Thanks for chatting! I'm here anytime you need help."},knowledge:{customFAQs:[{id:"1",question:"What should I bring?",answer:"Just bring yourself and your team! We provide everything you need. Comfortable clothing is recommended."},{id:"2",question:"Can we take photos?",answer:"Yes! Photos are encouraged. We have a photo area at the end where you can capture your victory moment."}],businessHours:"Monday-Friday: 10am-10pm, Saturday-Sunday: 9am-11pm",specialInstructions:"Always mention our satisfaction guarantee and offer alternative dates if fully booked."},behavior:{autoSuggest:!0,showPrices:!0,collectFeedback:!0,escalateToHuman:!0}};function ORe({isOpen:t,onClose:e}){const{theme:r}=fn(),s=r==="dark",a=s?"text-white":"text-gray-900",i=s?"text-[#a3a3a3]":"text-gray-600",o=s?"bg-[#161616]":"bg-white",l=s?"bg-[#1e1e1e]":"bg-gray-50",c=s?"border-[#2a2a2a]":"border-gray-200",[d,u]=S.useState(oV),[h,f]=S.useState(!1);S.useEffect(()=>{t&&m()},[t]);const m=()=>{const E=localStorage.getItem("assistantConfig");E&&u(JSON.parse(E)),f(!1)},y=()=>{localStorage.setItem("assistantConfig",JSON.stringify(d)),me.success("Assistant configuration saved!"),f(!1)},g=()=>{confirm("Reset all settings to defaults?")&&(u(oV),f(!0))},v=(E,A)=>{u({...d,personality:{...d.personality,[E]:A}}),f(!0)},b=(E,A)=>{u({...d,knowledge:{...d.knowledge,[E]:A}}),f(!0)},w=(E,A)=>{u({...d,behavior:{...d.behavior,[E]:A}}),f(!0)},N=()=>{const E={id:Date.now().toString(),question:"",answer:""};u({...d,knowledge:{...d.knowledge,customFAQs:[...d.knowledge.customFAQs,E]}}),f(!0)},_=(E,A,I)=>{u({...d,knowledge:{...d.knowledge,customFAQs:d.knowledge.customFAQs.map($=>$.id===E?{...$,[A]:I}:$)}}),f(!0)},C=E=>{u({...d,knowledge:{...d.knowledge,customFAQs:d.knowledge.customFAQs.filter(A=>A.id!==E)}}),f(!0)};return n.jsx(or,{open:t,onOpenChange:e,children:n.jsxs(lr,{className:`max-w-3xl max-h-[90vh] overflow-hidden flex flex-col ${o} ${a} border ${c}`,children:[n.jsxs(Nr,{children:[n.jsxs(cr,{className:`flex items-center gap-2 ${a}`,children:[n.jsx(sm,{className:"w-5 h-5"}),"Configure & Train Assistant"]}),n.jsx(xr,{className:i,children:"Customize your AI assistant's personality, knowledge, and behavior"})]}),n.jsxs(ta,{defaultValue:"personality",className:"flex-1 flex flex-col overflow-hidden",children:[n.jsxs(pa,{className:`w-full ${s?"bg-[#0a0a0a]":"bg-gray-100"}`,children:[n.jsxs(Ft,{value:"personality",className:"flex-1",children:[n.jsx(ei,{className:"w-4 h-4 mr-2"}),"Personality"]}),n.jsxs(Ft,{value:"knowledge",className:"flex-1",children:[n.jsx(jk,{className:"w-4 h-4 mr-2"}),"Knowledge Base"]}),n.jsxs(Ft,{value:"behavior",className:"flex-1",children:[n.jsx(Gd,{className:"w-4 h-4 mr-2"}),"Behavior"]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto mt-4",children:[n.jsx(Bt,{value:"personality",className:"space-y-4 mt-0",children:n.jsxs(ve,{className:`${l} border ${c}`,children:[n.jsxs(st,{children:[n.jsx(at,{className:`text-sm ${a}`,children:"Tone & Style"}),n.jsx(Lt,{className:i,children:"Define how your assistant communicates"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:a,children:"Tone"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:["professional","friendly","casual"].map(E=>n.jsx(J,{variant:d.personality.tone===E?"default":"outline",onClick:()=>v("tone",E),className:`${d.personality.tone===E&&s?"bg-[#4f46e5]":d.personality.tone===E?"bg-blue-600":""}`,children:E.charAt(0).toUpperCase()+E.slice(1)},E))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:a,children:"Response Style"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:["concise","balanced","detailed"].map(E=>n.jsx(J,{variant:d.personality.style===E?"default":"outline",onClick:()=>v("style",E),className:`${d.personality.style===E&&s?"bg-[#4f46e5]":d.personality.style===E?"bg-blue-600":""}`,children:E.charAt(0).toUpperCase()+E.slice(1)},E))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:a,children:"Custom Greeting"}),n.jsx(mn,{value:d.personality.greeting,onChange:E=>v("greeting",E.target.value),placeholder:"Enter custom greeting...",className:`${s?"bg-[#0a0a0a] border-[#2a2a2a]":"bg-gray-100 border-gray-300"}`,rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:a,children:"Sign-off Message"}),n.jsx(mn,{value:d.personality.signOff,onChange:E=>v("signOff",E.target.value),placeholder:"Enter sign-off message...",className:`${s?"bg-[#0a0a0a] border-[#2a2a2a]":"bg-gray-100 border-gray-300"}`,rows:2})]})]})]})}),n.jsxs(Bt,{value:"knowledge",className:"space-y-4 mt-0",children:[n.jsxs(ve,{className:`${l} border ${c}`,children:[n.jsxs(st,{children:[n.jsxs(at,{className:`text-sm flex items-center justify-between ${a}`,children:["Custom FAQs",n.jsxs(J,{size:"sm",onClick:N,children:[n.jsx(An,{className:"w-4 h-4 mr-2"}),"Add FAQ"]})]}),n.jsx(Lt,{className:i,children:"Train your assistant with custom Q&A pairs"})]}),n.jsxs(Te,{className:"space-y-3",children:[d.knowledge.customFAQs.map(E=>n.jsxs("div",{className:`p-3 rounded-lg border ${s?"bg-[#0a0a0a] border-[#2a2a2a]":"bg-white border-gray-200"}`,children:[n.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[n.jsx(ge,{placeholder:"Question",value:E.question,onChange:A=>_(E.id,"question",A.target.value),className:`flex-1 ${s?"bg-[#161616]":"bg-gray-50"}`}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>C(E.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:n.jsx(Dn,{className:"w-4 h-4"})})]}),n.jsx(mn,{placeholder:"Answer",value:E.answer,onChange:A=>_(E.id,"answer",A.target.value),className:`${s?"bg-[#161616]":"bg-gray-50"}`,rows:2})]},E.id)),d.knowledge.customFAQs.length===0&&n.jsxs("div",{className:`text-center py-8 ${i}`,children:[n.jsx(jk,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No FAQs added yet"})]})]})]}),n.jsxs(ve,{className:`${l} border ${c}`,children:[n.jsx(st,{children:n.jsx(at,{className:`text-sm ${a}`,children:"Business Information"})}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:a,children:"Business Hours"}),n.jsx(ge,{value:d.knowledge.businessHours,onChange:E=>b("businessHours",E.target.value),placeholder:"e.g., Mon-Fri: 10am-10pm",className:`${s?"bg-[#0a0a0a] border-[#2a2a2a]":"bg-gray-100 border-gray-300"}`})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:a,children:"Special Instructions"}),n.jsx(mn,{value:d.knowledge.specialInstructions,onChange:E=>b("specialInstructions",E.target.value),placeholder:"Additional guidelines for the assistant...",className:`${s?"bg-[#0a0a0a] border-[#2a2a2a]":"bg-gray-100 border-gray-300"}`,rows:4})]})]})]})]}),n.jsxs(Bt,{value:"behavior",className:"space-y-4 mt-0",children:[n.jsxs(ve,{className:`${l} border ${c}`,children:[n.jsxs(st,{children:[n.jsx(at,{className:`text-sm ${a}`,children:"Assistant Features"}),n.jsx(Lt,{className:i,children:"Control what your assistant can do"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"Auto-suggest Responses"}),n.jsx("p",{className:`text-xs ${i}`,children:"Show quick suggestion chips"})]}),n.jsx(Wt,{checked:d.behavior.autoSuggest,onCheckedChange:E=>w("autoSuggest",E)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"Show Prices"}),n.jsx("p",{className:`text-xs ${i}`,children:"Display pricing information"})]}),n.jsx(Wt,{checked:d.behavior.showPrices,onCheckedChange:E=>w("showPrices",E)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"Collect Feedback"}),n.jsx("p",{className:`text-xs ${i}`,children:"Ask for feedback after conversations"})]}),n.jsx(Wt,{checked:d.behavior.collectFeedback,onCheckedChange:E=>w("collectFeedback",E)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"Escalate to Human"}),n.jsx("p",{className:`text-xs ${i}`,children:"Offer live support option"})]}),n.jsx(Wt,{checked:d.behavior.escalateToHuman,onCheckedChange:E=>w("escalateToHuman",E)})]})]})]}),n.jsx("div",{className:`p-4 rounded-lg border ${s?"bg-[#4f46e5]/10 border-[#4f46e5]/30":"bg-blue-50 border-blue-200"}`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(u1,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${s?"text-[#6366f1]":"text-blue-600"}`}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${s?"text-[#e0e7ff]":"text-blue-900"}`,children:"Training in Progress"}),n.jsx("p",{className:`text-xs mt-1 ${s?"text-[#c7d2fe]":"text-blue-700"}`,children:"Your assistant learns from every conversation and improves over time based on your configurations."})]})]})})]})]})]}),n.jsxs("div",{className:`flex items-center justify-between pt-4 border-t ${c}`,children:[n.jsxs(J,{variant:"outline",onClick:g,children:[n.jsx(Xv,{className:"w-4 h-4 mr-2"}),"Reset to Defaults"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(J,{variant:"outline",onClick:e,children:"Cancel"}),n.jsxs(J,{onClick:y,disabled:!h,className:s?"bg-[#4f46e5]":"bg-blue-600",children:[n.jsx(ki,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})]})})}const ZC=[{id:"booking",name:"Booking Assistant",description:"Automates booking inquiries and helps customers schedule their escape room experiences",icon:Nn,color:"text-blue-600",bgColor:"bg-blue-100",status:"Active",conversations:342,successRate:94,avgResponseTime:"1.2s"},{id:"support",name:"Customer Support",description:"Handles customer questions, provides information, and resolves common issues 24/7",icon:ei,color:"text-green-600",bgColor:"bg-green-100",status:"Active",conversations:856,successRate:91,avgResponseTime:"0.8s"},{id:"calling",name:"Calling Agent",description:"Makes and receives phone calls for booking confirmations, reminders, and follow-ups",icon:Gs,color:"text-purple-600",bgColor:"bg-purple-100",status:"Inactive",conversations:0,successRate:0,avgResponseTime:"--"}];function IRe(){const{theme:t}=fn(),{isRole:e}=il(),r=t==="dark",s=e("beta-owner"),a=r?"text-white":"text-gray-900",i=r?"text-[#a3a3a3]":"text-gray-600",o=r?"border-[#2a2a2a]":"border-gray-200",l=r?"bg-[#161616]":"bg-white",c=r?"bg-[#1e1e1e]":"bg-gray-50",d=r?"hover:bg-[#1e1e1e]":"hover:bg-gray-50",[u,h]=S.useState(null),[f,m]=S.useState({booking:{enabled:!0,apiKey:localStorage.getItem("zai_api_key")||"",model:"glm-4.6",temperature:.7,maxTokens:500,systemPrompt:"You are a helpful booking assistant for BookingTMS escape rooms. Help customers book escape room experiences by showing them available games, dates, and times. Be friendly and guide them through the booking process step by step.",knowledgeBase:["Business hours: Mon-Sun 10AM-10PM","Location: 123 Main Street","Prices start at $25/person"]},support:{enabled:!0,apiKey:"sk-",model:"gpt-4",temperature:.5,maxTokens:500,systemPrompt:"You are a customer support specialist for BookingTMS escape rooms...",knowledgeBase:["Cancellation policy: 24 hours notice required","Age requirement: 10+ years old","Group size: 2-8 players"]},calling:{enabled:!1,apiKey:"",voiceId:"alloy",language:"en-US",systemPrompt:"You are making a booking confirmation call for BookingTMS...",knowledgeBase:[]}}),[y,g]=S.useState(!1),[v,b]=S.useState(!1),[w,N]=S.useState(""),[_,C]=S.useState(!1),[E,A]=S.useState(!0),[I,$]=S.useState("#4f46e5"),[O,P]=S.useState("right"),[M,R]=S.useState("Hi! How can I help you today?"),[W,Y]=S.useState(!1),[K,L]=S.useState(localStorage.getItem("zai_api_key")||""),[F,ee]=S.useState(localStorage.getItem("openai_api_key")||""),[se,q]=S.useState(localStorage.getItem("llm_provider")||"openai"),[z,Z]=S.useState(localStorage.getItem("llm_model")||"gpt-4o-mini"),[X,Q]=S.useState(!1),[ne,ce]=S.useState(!1),[ie,pe]=S.useState(!1),[ae,be]=S.useState(!1),we=ZC.find(Ke=>Ke.id===u),Ie=u?f[u]:null,Ee=Ke=>{m({...f,[Ke]:{...f[Ke],enabled:!f[Ke].enabled}}),me.success(`${ZC.find(yt=>yt.id===Ke)?.name} ${f[Ke].enabled?"deactivated":"activated"}`)},H=()=>{me.success("Configuration saved successfully"),g(!1)},Le=()=>{!u||!w.trim()||(m({...f,[u]:{...f[u],knowledgeBase:[...f[u].knowledgeBase,w.trim()]}}),N(""),me.success("Knowledge added to agent"))},Ye=Ke=>{if(!u)return;const yt=[...f[u].knowledgeBase];yt.splice(Ke,1),m({...f,[u]:{...f[u],knowledgeBase:yt}}),me.success("Knowledge removed")},xt=Ke=>{h(Ke),g(!0)},qe=Ke=>{h(Ke),b(!0)},ft=Ke=>{switch(Ke){case"Active":return n.jsxs(ze,{className:r?"bg-emerald-500/20 text-emerald-400 border-0":"bg-green-100 text-green-700 border-0",children:[n.jsx(Tt,{className:"w-3 h-3 mr-1"}),"Active"]});case"Inactive":return n.jsxs(ze,{className:r?"bg-[#2a2a2a] text-[#a3a3a3] border-0":"bg-gray-100 text-gray-700 border-0",children:[n.jsx(ds,{className:"w-3 h-3 mr-1"}),"Inactive"]});case"Training":return n.jsxs(ze,{className:r?"bg-yellow-500/20 text-yellow-400 border-0":"bg-yellow-100 text-yellow-700 border-0",children:[n.jsx(u1,{className:"w-3 h-3 mr-1"}),"Training"]});default:return null}},ke=()=>{const Ke=`<!-- BookingTMS AI Chat Widget -->
<script>
  (function(w,d,s,o,f,js,fjs){
    w['BookingTMS']=o;w[o]=w[o]||function(){(w[o].q=w[o].q||[]).push(arguments)};
    js=d.createElement(s),fjs=d.getElementsByTagName(s)[0];
    js.id=o;js.src=f;js.async=1;fjs.parentNode.insertBefore(js,fjs);
  }(window,document,'script','btms','https://cdn.bookingtms.com/widget.js'));
  btms('init', {
    apiKey: 'YOUR_API_KEY_HERE',
    color: '${I}',
    position: '${O}',
    greeting: '${M}'
  });
<\/script>`;navigator.clipboard.writeText(Ke),me.success("Embed code copied to clipboard")},lt=()=>{me.success("Chat widget added to your website successfully")},Ve=()=>{if(!F.trim()){me.error("Please enter a valid OpenAI API key");return}localStorage.setItem("openai_api_key",F),localStorage.setItem("llm_provider","openai"),localStorage.setItem("llm_model",z),m({...f,booking:{...f.booking,apiKey:F}}),Q(!1),me.success(`OpenAI API key and model (${z}) saved successfully`)};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(ui,{title:"AI Agents",description:"Manage your AI-powered automation agents",sticky:!0,action:n.jsxs(J,{style:{backgroundColor:r?"#4f46e5":void 0},className:r?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",children:[n.jsx(An,{className:"w-4 h-4 mr-2"}),"Create Custom Agent"]})}),!s&&n.jsxs(ve,{className:`${l} border-2 ${r?"border-[#4f46e5]/30 shadow-[0_0_30px_rgba(79,70,229,0.15)]":"border-blue-200 shadow-lg"}`,children:[n.jsx(st,{className:"p-6",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[n.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0",style:{background:r?"linear-gradient(135deg, #4f46e5 0%, #6366f1 100%)":"linear-gradient(135deg, #2563eb 0%, #3b82f6 100%)"},children:n.jsx(ma,{className:"w-7 h-7 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(at,{className:a,children:"Customer Assistant"}),n.jsxs(ze,{className:r?"bg-[#4f46e5]/20 text-[#6366f1] border-0":"bg-blue-600 text-white border-0",children:[n.jsx(ma,{className:"w-3 h-3 mr-1"}),"Featured"]})]}),n.jsx(Lt,{className:i,children:"AI-powered chat widget for your website  Handles bookings, questions & support"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wt,{checked:E,onCheckedChange:A}),n.jsx("span",{className:`text-sm ${i}`,children:E?"Active":"Inactive"})]})]})}),n.jsx(Te,{className:"p-6 pt-0",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:`text-sm mb-3 flex items-center gap-2 ${a}`,children:[n.jsx(sm,{className:"w-4 h-4"}),"Widget Customization"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{htmlFor:"chatColor",className:`flex items-center gap-2 ${a}`,children:[n.jsx(Ip,{className:"w-4 h-4"}),"Primary Color"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ge,{id:"chatColor",type:"color",value:I,onChange:Ke=>$(Ke.target.value),className:"w-20 h-11 cursor-pointer"}),n.jsx(ge,{value:I,onChange:Ke=>$(Ke.target.value),className:"flex-1 h-11",placeholder:"#4f46e5"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:a,children:"Widget Position"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(J,{variant:O==="right"?"default":"outline",style:{backgroundColor:O==="right"&&r?"#4f46e5":void 0},className:O==="right"&&!r?"bg-blue-600":"",onClick:()=>P("right"),children:"Bottom Right"}),n.jsx(J,{variant:O==="left"?"default":"outline",style:{backgroundColor:O==="left"&&r?"#4f46e5":void 0},className:O==="left"&&!r?"bg-blue-600":"",onClick:()=>P("left"),children:"Bottom Left"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"greeting",className:a,children:"Greeting Message"}),n.jsx(ge,{id:"greeting",value:M,onChange:Ke=>R(Ke.target.value),placeholder:"Hi! How can I help you today?",className:"h-11"})]})]})]}),n.jsx(tt,{className:o}),n.jsxs("div",{children:[n.jsxs("h3",{className:`text-sm mb-3 flex items-center gap-2 ${a}`,children:[n.jsx(u1,{className:"w-4 h-4"}),"AI Configuration"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:`p-4 rounded-lg border ${r?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-gray-50 border-gray-200"}`,children:[n.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[n.jsx(nm,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${i}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${a}`,children:"AI Provider Configuration"}),n.jsx("p",{className:`text-xs mt-1 ${i}`,children:F?" OpenAI configured":" Configure OpenAI"}),n.jsxs("p",{className:`text-xs mt-1 ${r?"text-[#6366f1]":"text-blue-600"}`,children:["Provider: OpenAI  Model: ",z]})]})]}),n.jsxs(J,{variant:"outline",className:"w-full h-11",onClick:()=>Q(!0),children:[n.jsx(nm,{className:"w-4 h-4 mr-2"}),F?"Update Configuration":"Configure OpenAI"]})]}),n.jsx("div",{className:`p-3 rounded-lg border ${r?"bg-[#4f46e5]/10 border-[#4f46e5]/30":"bg-blue-50 border-blue-200"}`,children:n.jsxs("p",{className:`text-xs ${r?"text-[#c7d2fe]":"text-blue-700"}`,children:[" ",n.jsx("strong",{children:"Get Started:"})," Create your API key at ",n.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:"OpenAI Platform"})]})})]})]}),n.jsx(tt,{className:o}),n.jsxs("div",{children:[n.jsxs("h3",{className:`text-sm mb-3 flex items-center gap-2 ${a}`,children:[n.jsx(ku,{className:"w-4 h-4"}),"Installation"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:`p-4 rounded-lg border ${r?"bg-[#4f46e5]/10 border-[#4f46e5]/30":"bg-blue-50 border-blue-200"}`,children:[n.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[n.jsx(us,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${r?"text-[#6366f1]":"text-blue-600"}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${r?"text-[#e0e7ff]":"text-blue-900"}`,children:"Automatic Installation"}),n.jsx("p",{className:`text-xs mt-1 ${r?"text-[#c7d2fe]":"text-blue-700"}`,children:"Add the chat widget to all pages of your BookingTMS website with one click"})]})]}),n.jsxs(J,{className:"w-full h-11",style:{backgroundColor:r?"#4f46e5":void 0},onClick:lt,children:[n.jsx(Gd,{className:"w-4 h-4 mr-2"}),"Add to My Website"]})]}),n.jsxs("div",{className:`p-4 rounded-lg border ${o} ${c}`,children:[n.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[n.jsx(r7,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${i}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${a}`,children:"Manual Installation"}),n.jsx("p",{className:`text-xs mt-1 ${i}`,children:"Get embed code to add the widget to any website"})]})]}),n.jsxs(J,{variant:"outline",className:"w-full h-11",onClick:()=>C(!0),children:[n.jsx(r7,{className:"w-4 h-4 mr-2"}),"Get Embed Code"]})]}),n.jsxs("div",{className:`p-4 rounded-lg border ${r?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white border-gray-200"}`,children:[n.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[n.jsx(al,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${i}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${a}`,children:"Test Widget"}),n.jsx("p",{className:`text-xs mt-1 ${i}`,children:"Test the chat widget in a full-page embed preview"})]})]}),n.jsxs(J,{variant:"outline",className:"w-full h-11",onClick:()=>ce(!0),children:[n.jsx(al,{className:"w-4 h-4 mr-2"}),"Test in Embed"]})]})]})]}),n.jsx(tt,{className:`lg:hidden ${o}`}),n.jsxs("div",{children:[n.jsx("h3",{className:`text-sm mb-3 ${a}`,children:"Included Features"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:`flex items-center gap-2 text-sm ${i}`,children:[n.jsx(Tt,{className:`w-4 h-4 flex-shrink-0 ${r?"text-emerald-400":"text-green-600"}`}),"Booking Assistance"]}),n.jsxs("div",{className:`flex items-center gap-2 text-sm ${i}`,children:[n.jsx(Tt,{className:`w-4 h-4 flex-shrink-0 ${r?"text-emerald-400":"text-green-600"}`}),"24/7 Support"]}),n.jsxs("div",{className:`flex items-center gap-2 text-sm ${i}`,children:[n.jsx(Tt,{className:`w-4 h-4 flex-shrink-0 ${r?"text-emerald-400":"text-green-600"}`}),"FAQ Answers"]}),n.jsxs("div",{className:`flex items-center gap-2 text-sm ${i}`,children:[n.jsx(Tt,{className:`w-4 h-4 flex-shrink-0 ${r?"text-emerald-400":"text-green-600"}`}),"Lead Capture"]})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h3",{className:`text-sm flex items-center gap-2 ${a}`,children:[n.jsx(Uc,{className:"w-4 h-4"}),"Live Preview"]}),n.jsxs(ze,{variant:"secondary",className:r?"bg-emerald-500/20 text-emerald-400":"bg-green-100 text-green-700",children:[n.jsx(Uc,{className:"w-3 h-3 mr-1"}),"Live"]})]}),n.jsxs("div",{className:`rounded-xl p-6 border-2 relative h-[600px] overflow-hidden ${r?"bg-[#0a0a0a] border-[#2a2a2a]":"bg-gray-100 border-gray-300"}`,children:[n.jsx("div",{className:`absolute inset-0 ${r?"bg-gradient-to-br from-[#0a0a0a] to-[#161616]":"bg-gradient-to-br from-gray-50 to-gray-100"}`,children:n.jsxs("div",{className:"p-4",children:[n.jsx("div",{className:`h-8 w-48 rounded mb-4 ${r?"bg-[#2a2a2a]":"bg-gray-300"}`}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:`h-4 w-full rounded ${r?"bg-[#2a2a2a]":"bg-gray-300"}`}),n.jsx("div",{className:`h-4 w-3/4 rounded ${r?"bg-[#2a2a2a]":"bg-gray-300"}`}),n.jsx("div",{className:`h-4 w-5/6 rounded ${r?"bg-[#2a2a2a]":"bg-gray-300"}`})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[n.jsx("div",{className:`h-24 rounded ${r?"bg-[#2a2a2a]":"bg-gray-300"}`}),n.jsx("div",{className:`h-24 rounded ${r?"bg-[#2a2a2a]":"bg-gray-300"}`})]})]})}),n.jsx("div",{className:`absolute bottom-6 ${O==="right"?"right-6":"left-6"} transition-all duration-300`,style:{zIndex:10},children:n.jsx(iV,{chatColor:I,chatPosition:O,chatGreeting:M,isOpen:W,onToggle:()=>Y(!W),apiKey:F,provider:"openai",model:z,onOpenHistory:()=>pe(!0),onOpenSettings:()=>be(!0)})})]}),n.jsxs("div",{className:`text-xs text-center space-y-1 ${i}`,children:[n.jsxs("p",{className:"flex items-center justify-center gap-2",children:[n.jsx(ma,{className:"w-3 h-3"}),n.jsx("span",{children:"Interactive AI-Powered Booking Experience"})]}),n.jsx("p",{children:'Click the chat bubble and try: "Book a room" or "Show me available games"'})]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(ve,{className:`${l} border ${o} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${i}`,children:"Total Conversations"}),n.jsx("p",{className:`text-2xl mt-1 ${a}`,children:"1,198"}),n.jsx("p",{className:`text-xs mt-1 ${r?"text-emerald-400":"text-green-600"}`,children:" 23% from last month"})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${r?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(ei,{className:`w-6 h-6 ${r?"text-[#6366f1]":"text-blue-600"}`})})]})})}),n.jsx(ve,{className:`${l} border ${o} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${i}`,children:"Success Rate"}),n.jsx("p",{className:`text-2xl mt-1 ${a}`,children:"92%"}),n.jsx("p",{className:`text-xs mt-1 ${r?"text-emerald-400":"text-green-600"}`,children:" 5% improvement"})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${r?"bg-emerald-500/20":"bg-green-100"}`,children:n.jsx(Is,{className:`w-6 h-6 ${r?"text-emerald-400":"text-green-600"}`})})]})})}),n.jsx(ve,{className:`${l} border ${o} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${i}`,children:"Avg Response Time"}),n.jsx("p",{className:`text-2xl mt-1 ${a}`,children:"1.0s"}),n.jsx("p",{className:`text-xs mt-1 ${r?"text-emerald-400":"text-green-600"}`,children:" 0.3s faster"})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${r?"bg-purple-500/20":"bg-purple-100"}`,children:n.jsx(Qt,{className:`w-6 h-6 ${r?"text-purple-400":"text-purple-600"}`})})]})})}),n.jsx(ve,{className:`${l} border ${o} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${i}`,children:"Active Agents"}),n.jsx("p",{className:`text-2xl mt-1 ${a}`,children:"2/3"}),n.jsx("p",{className:`text-xs mt-1 ${i}`,children:"1 agent inactive"})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${r?"bg-orange-500/20":"bg-orange-100"}`,children:n.jsx(d1,{className:`w-6 h-6 ${r?"text-orange-400":"text-orange-600"}`})})]})})})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(tt,{className:`flex-1 ${o}`}),n.jsx("h2",{className:`text-lg ${a}`,children:"Specialized AI Agents"}),n.jsx(tt,{className:`flex-1 ${o}`})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ZC.map(Ke=>{const yt=f[Ke.id],Mt=Ke.icon;return n.jsxs(ve,{className:`${l} border ${o} shadow-sm hover:shadow-md transition-shadow`,children:[n.jsxs(st,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center flex-shrink-0 ${r?Ke.id==="booking"?"bg-[#4f46e5]/20":Ke.id==="support"?"bg-emerald-500/20":"bg-purple-500/20":Ke.bgColor}`,children:n.jsx(Mt,{className:`w-7 h-7 ${r?Ke.id==="booking"?"text-[#6366f1]":Ke.id==="support"?"text-emerald-400":"text-purple-400":Ke.color}`})}),ft(Ke.status)]}),n.jsx(at,{className:a,children:Ke.name}),n.jsx(Lt,{className:`${i} line-clamp-2`,children:Ke.description})]}),n.jsxs(Te,{className:"space-y-4 p-6 pt-0",children:[n.jsxs("div",{className:`grid grid-cols-3 gap-3 p-4 rounded-lg ${c}`,children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:`text-lg ${a}`,children:Ke.conversations}),n.jsx("p",{className:`text-xs ${i}`,children:"Conversations"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:`text-lg ${a}`,children:[Ke.successRate,"%"]}),n.jsx("p",{className:`text-xs ${i}`,children:"Success Rate"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:`text-lg ${a}`,children:Ke.avgResponseTime}),n.jsx("p",{className:`text-xs ${i}`,children:"Avg Response"})]})]}),!s&&n.jsx("div",{className:`flex items-center justify-between p-3 border rounded-lg ${o}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wt,{checked:yt.enabled,onCheckedChange:()=>Ee(Ke.id)}),n.jsx("span",{className:`text-sm ${a}`,children:yt.enabled?"Agent Active":"Agent Inactive"})]})}),s&&n.jsxs("div",{className:`p-4 border rounded-lg ${o} ${c}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:`text-sm font-medium ${a}`,children:"Status"}),n.jsx(ze,{variant:yt.enabled?"default":"secondary",className:yt.enabled?"bg-green-100 text-green-700 dark:bg-green-500/20 dark:text-green-400":"",children:yt.enabled?"Active":"Inactive"})]}),n.jsx("p",{className:`text-xs ${i} mt-2`,children:"Contact support to modify agent settings"})]}),n.jsx(tt,{className:o}),!s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs(J,{variant:"outline",className:"w-full h-11",onClick:()=>xt(Ke.id),children:[n.jsx(sm,{className:"w-4 h-4 mr-2"}),"Configure"]}),n.jsxs(J,{variant:"outline",className:"w-full h-11",onClick:()=>qe(Ke.id),children:[n.jsx(u1,{className:"w-4 h-4 mr-2"}),"Train"]})]}),n.jsxs(J,{className:"w-full h-11",style:{backgroundColor:r?"#4f46e5":void 0},children:[n.jsx(Uc,{className:"w-4 h-4 mr-2"}),"View Analytics"]})]}),s&&n.jsxs(J,{variant:"outline",className:"w-full h-11",onClick:()=>me.info("Analytics available in Pro plan"),children:[n.jsx(Uc,{className:"w-4 h-4 mr-2"}),"View Analytics"]})]})]},Ke.id)})}),n.jsx(or,{open:y,onOpenChange:g,children:n.jsxs(lr,{className:`max-w-3xl max-h-[90vh] overflow-y-auto ${r?"bg-[#161616] border-[#2a2a2a]":""}`,children:[n.jsxs(Nr,{children:[n.jsxs(cr,{className:a,children:["Configure ",we?.name]}),n.jsx(xr,{className:i,children:"Set up API credentials and customize agent behavior"})]}),u&&Ie&&n.jsxs(ta,{defaultValue:"api",className:"w-full",children:[n.jsxs(pa,{className:"grid w-full grid-cols-3",children:[n.jsx(Ft,{value:"api",children:"API Setup"}),n.jsx(Ft,{value:"behavior",children:"Behavior"}),n.jsx(Ft,{value:"integration",children:"Integration"})]}),n.jsxs(Bt,{value:"api",className:"space-y-4 mt-4",children:[n.jsx("div",{className:`p-4 rounded-lg border ${r?"bg-[#4f46e5]/10 border-[#4f46e5]/30":"bg-blue-50 border-blue-200"}`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(us,{className:`w-5 h-5 mt-0.5 ${r?"text-[#6366f1]":"text-blue-600"}`}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${r?"text-[#e0e7ff]":"text-blue-900"}`,children:"API Key Required"}),n.jsx("p",{className:`text-xs mt-1 ${r?"text-[#c7d2fe]":"text-blue-700"}`,children:"You'll need an API key from OpenAI, Anthropic, or another AI provider to use this agent."})]})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"provider",className:a,children:"AI Provider"}),n.jsxs(Kt,{defaultValue:"openai",children:[n.jsx(Xt,{children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"openai",children:"OpenAI (GPT-4, GPT-3.5)"}),n.jsx(Ce,{value:"anthropic",children:"Anthropic (Claude)"}),n.jsx(Ce,{value:"google",children:"Google (Gemini)"}),n.jsx(Ce,{value:"custom",children:"Custom Endpoint"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"apiKey",className:a,children:"API Key"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ge,{id:"apiKey",type:"password",placeholder:"sk-...",defaultValue:Ie.apiKey}),n.jsx(J,{variant:"outline",size:"icon",children:n.jsx(Vs,{className:"w-4 h-4"})})]}),n.jsx("p",{className:`text-xs ${i}`,children:"Your API key is encrypted and stored securely"})]}),u!=="calling"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"model",className:a,children:"Model"}),n.jsxs(Kt,{defaultValue:Ie.model,children:[n.jsx(Xt,{children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"gpt-4",children:"GPT-4 (Most Capable)"}),n.jsx(Ce,{value:"gpt-4-turbo",children:"GPT-4 Turbo (Fast)"}),n.jsx(Ce,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo (Cost-effective)"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"temperature",className:a,children:"Temperature"}),n.jsx(ge,{id:"temperature",type:"number",step:"0.1",min:"0",max:"2",defaultValue:Ie.temperature}),n.jsx("p",{className:`text-xs ${i}`,children:"Controls creativity (0-2)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"maxTokens",className:a,children:"Max Tokens"}),n.jsx(ge,{id:"maxTokens",type:"number",defaultValue:Ie.maxTokens}),n.jsx("p",{className:`text-xs ${i}`,children:"Maximum response length"})]})]})]}),u==="calling"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"voiceId",className:a,children:"Voice"}),n.jsxs(Kt,{defaultValue:Ie.voiceId,children:[n.jsx(Xt,{children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"alloy",children:"Alloy (Professional, Neutral)"}),n.jsx(Ce,{value:"echo",children:"Echo (Warm, Friendly)"}),n.jsx(Ce,{value:"fable",children:"Fable (Clear, Expressive)"}),n.jsx(Ce,{value:"onyx",children:"Onyx (Deep, Authoritative)"}),n.jsx(Ce,{value:"nova",children:"Nova (Energetic, Bright)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"language",className:a,children:"Language"}),n.jsxs(Kt,{defaultValue:Ie.language,children:[n.jsx(Xt,{children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"en-US",children:"English (US)"}),n.jsx(Ce,{value:"en-GB",children:"English (UK)"}),n.jsx(Ce,{value:"es-ES",children:"Spanish"}),n.jsx(Ce,{value:"fr-FR",children:"French"}),n.jsx(Ce,{value:"de-DE",children:"German"})]})]})]})]})]})]}),n.jsxs(Bt,{value:"behavior",className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"systemPrompt",className:a,children:"System Prompt"}),n.jsx(mn,{id:"systemPrompt",rows:6,defaultValue:Ie.systemPrompt,placeholder:"Define how the AI agent should behave..."}),n.jsx("p",{className:`text-xs ${i}`,children:"This instruction guides the AI's behavior and personality"})]}),n.jsx(tt,{className:o}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(re,{className:a,children:"Knowledge Base"}),n.jsxs(ze,{variant:"secondary",className:i,children:[Ie.knowledgeBase.length," items"]})]}),n.jsx("div",{className:`p-4 rounded-lg space-y-2 ${c}`,children:Ie.knowledgeBase.map((Ke,yt)=>n.jsxs("div",{className:`flex items-start justify-between p-3 rounded border group ${o} ${d}`,children:[n.jsx("p",{className:`text-sm flex-1 ${a}`,children:Ke}),n.jsx(J,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>Ye(yt),children:n.jsx(ds,{className:"w-4 h-4"})})]},yt))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ge,{placeholder:"Add new knowledge item...",value:w,onChange:Ke=>N(Ke.target.value),onKeyPress:Ke=>Ke.key==="Enter"&&Le()}),n.jsxs(J,{onClick:Le,children:[n.jsx(An,{className:"w-4 h-4 mr-2"}),"Add"]})]})]})]}),n.jsxs(Bt,{value:"integration",className:"space-y-4 mt-4",children:[n.jsx("div",{className:`p-4 rounded-lg border ${r?"bg-[#4f46e5]/10 border-[#4f46e5]/30":"bg-blue-50 border-blue-200"}`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Xn,{className:`w-5 h-5 mt-0.5 ${r?"text-[#6366f1]":"text-blue-600"}`}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${r?"text-[#e0e7ff]":"text-blue-900"}`,children:"Integration Options"}),n.jsx("p",{className:`text-xs mt-1 ${r?"text-[#c7d2fe]":"text-blue-700"}`,children:"Connect this agent to your booking system, CRM, or other tools"})]})]})}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`p-4 rounded-lg border ${o}`,children:n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${r?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(Nn,{className:`w-5 h-5 ${r?"text-[#6366f1]":"text-blue-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"Booking System"}),n.jsx("p",{className:`text-xs ${i}`,children:"Create and manage bookings"})]})]}),n.jsx(Wt,{defaultChecked:!0})]})}),n.jsx("div",{className:`p-4 rounded-lg border ${o}`,children:n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${r?"bg-emerald-500/20":"bg-green-100"}`,children:n.jsx(Wr,{className:`w-5 h-5 ${r?"text-emerald-400":"text-green-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"CRM Integration"}),n.jsx("p",{className:`text-xs ${i}`,children:"Sync customer data"})]})]}),n.jsx(Wt,{})]})}),n.jsx("div",{className:`p-4 rounded-lg border ${o}`,children:n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${r?"bg-purple-500/20":"bg-purple-100"}`,children:n.jsx($Re,{className:`w-5 h-5 ${r?"text-purple-400":"text-purple-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"Email Notifications"}),n.jsx("p",{className:`text-xs ${i}`,children:"Send automated emails"})]})]}),n.jsx(Wt,{defaultChecked:!0})]})})]})]})]}),n.jsxs(wn,{className:"gap-2",children:[n.jsx(J,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),n.jsxs(J,{style:{backgroundColor:r?"#4f46e5":void 0},onClick:H,children:[n.jsx(ki,{className:"w-4 h-4 mr-2"}),"Save Configuration"]})]})]})}),n.jsx(or,{open:v,onOpenChange:b,children:n.jsxs(lr,{className:`max-w-2xl ${r?"bg-[#161616] border-[#2a2a2a]":""}`,children:[n.jsxs(Nr,{children:[n.jsxs(cr,{className:a,children:["Train ",we?.name]}),n.jsx(xr,{className:i,children:"Upload documents and data to improve agent knowledge"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center ${r?"border-[#2a2a2a] bg-[#0a0a0a]":"border-gray-300 bg-gray-50"}`,children:[n.jsx(Qo,{className:`w-12 h-12 mx-auto mb-3 ${i}`}),n.jsx("p",{className:`text-sm mb-2 ${a}`,children:"Upload Training Documents"}),n.jsx("p",{className:`text-xs mb-4 ${i}`,children:"PDF, DOCX, TXT files up to 10MB"}),n.jsxs(J,{variant:"outline",children:[n.jsx($s,{className:"w-4 h-4 mr-2"}),"Browse Files"]})]}),n.jsx(tt,{className:o}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(re,{className:a,children:"Recent Training Sessions"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:`p-3 rounded-lg border ${o} ${c}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx($s,{className:`w-4 h-4 ${i}`}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"FAQ Document.pdf"}),n.jsx("p",{className:`text-xs ${i}`,children:"Uploaded 2 days ago"})]})]}),n.jsx(ze,{className:r?"bg-emerald-500/20 text-emerald-400":"bg-green-100 text-green-700",children:"Trained"})]})}),n.jsx("div",{className:`p-3 rounded-lg border ${o} ${c}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx($s,{className:`w-4 h-4 ${i}`}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${a}`,children:"Booking Policies.docx"}),n.jsx("p",{className:`text-xs ${i}`,children:"Uploaded 1 week ago"})]})]}),n.jsx(ze,{className:r?"bg-emerald-500/20 text-emerald-400":"bg-green-100 text-green-700",children:"Trained"})]})})]})]})]}),n.jsx(wn,{children:n.jsx(J,{variant:"outline",onClick:()=>b(!1),children:"Close"})})]})}),n.jsx(or,{open:_,onOpenChange:C,children:n.jsxs(lr,{className:`max-w-2xl ${r?"bg-[#161616] border-[#2a2a2a]":""}`,children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:a,children:"Embed Code"}),n.jsx(xr,{className:i,children:"Copy and paste this code into your website's HTML"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:`p-4 rounded-lg border ${r?"bg-[#0a0a0a] border-[#2a2a2a]":"bg-gray-900 border-gray-700"}`,children:n.jsx("code",{className:"text-xs text-gray-100 block overflow-x-auto",children:`<!-- BookingTMS AI Chat Widget -->
<script>
  (function(w,d,s,o,f,js,fjs){
    w['BookingTMS']=o;w[o]=w[o]||function(){(w[o].q=w[o].q||[]).push(arguments)};
    js=d.createElement(s),fjs=d.getElementsByTagName(s)[0];
    js.id=o;js.src=f;js.async=1;fjs.parentNode.insertBefore(js,fjs);
  }(window,document,'script','btms','https://cdn.bookingtms.com/widget.js'));
  btms('init', {
    apiKey: 'YOUR_API_KEY_HERE',
    color: '${I}',
    position: '${O}',
    greeting: '${M}'
  });
<\/script>`})}),n.jsx("div",{className:`p-3 rounded-lg border ${r?"bg-yellow-500/10 border-yellow-500/30":"bg-yellow-50 border-yellow-200"}`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(us,{className:`w-4 h-4 mt-0.5 ${r?"text-yellow-400":"text-yellow-600"}`}),n.jsx("p",{className:`text-xs ${r?"text-yellow-300":"text-yellow-800"}`,children:"Replace YOUR_API_KEY_HERE with your actual API key from Settings  API Keys"})]})})]}),n.jsxs(wn,{className:"gap-2",children:[n.jsx(J,{variant:"outline",onClick:()=>C(!1),children:"Close"}),n.jsxs(J,{style:{backgroundColor:r?"#4f46e5":void 0},onClick:ke,children:[n.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Copy Code"]})]})]})}),n.jsx(or,{open:X,onOpenChange:Q,children:n.jsxs(lr,{className:`${l} border ${o} max-w-lg`,children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:a,children:"AI API Configuration"}),n.jsx(xr,{className:i,children:"Configure your OpenAI API key to enable intelligent responses for the booking assistant."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:`text-gray-700 ${r?"text-white":""}`,children:"AI Provider"}),n.jsx("div",{className:`h-11 px-3 rounded-lg border flex items-center ${r?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-gray-50 border-gray-200"}`,children:n.jsx("p",{className:a,children:"OpenAI"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:`text-gray-700 ${r?"text-white":""}`,children:"Model"}),n.jsxs(Kt,{value:z,onValueChange:Z,children:[n.jsx(Xt,{className:`h-11 ${r?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-gray-50 border-gray-200"}`,children:n.jsx(Yt,{})}),n.jsxs(Zt,{className:r?"bg-[#1e1e1e] border-[#2a2a2a]":"",children:[n.jsx(Ce,{value:"gpt-4o",children:"GPT-4o (Most capable, multimodal)"}),n.jsx(Ce,{value:"gpt-4o-mini",children:"GPT-4o Mini (Affordable & intelligent)"}),n.jsx(Ce,{value:"gpt-4-turbo",children:"GPT-4 Turbo (Previous generation)"}),n.jsx(Ce,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo (Fast & cost-effective)"}),n.jsx(Ce,{value:"o1-preview",children:"O1 Preview (Advanced reasoning)"}),n.jsx(Ce,{value:"o1-mini",children:"O1 Mini (Faster reasoning)"})]})]}),n.jsx("p",{className:`text-xs ${i}`,children:"Choose the AI model that best fits your needs and budget"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"apiKey",className:`text-gray-700 ${r?"text-white":""}`,children:"OpenAI API Key"}),n.jsx(ge,{id:"apiKey",type:"password",value:F,onChange:Ke=>ee(Ke.target.value),placeholder:"sk-...",className:`h-11 ${r?"bg-[#0a0a0a] border-[#2a2a2a] placeholder:text-gray-500":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]}),n.jsx("div",{className:`p-4 rounded-lg border ${r?"bg-[#4f46e5]/10 border-[#4f46e5]/30":"bg-blue-50 border-blue-200"}`,children:n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx(us,{className:`w-5 h-5 flex-shrink-0 ${r?"text-[#6366f1]":"text-blue-600"}`}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${r?"text-[#e0e7ff]":"text-blue-900"}`,children:"Getting Started"}),n.jsxs("p",{className:`text-xs mt-1 ${r?"text-[#c7d2fe]":"text-blue-700"}`,children:["1. Visit ",n.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:"OpenAI Platform"}),n.jsx("br",{}),"2. Generate an API key",n.jsx("br",{}),"3. Paste it above and click Save"]})]})]})}),n.jsx("div",{className:`p-3 rounded-lg border ${r?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-gray-50 border-gray-200"}`,children:n.jsxs("p",{className:`text-xs ${i}`,children:[n.jsx("strong",{children:"Provider:"})," OpenAI",n.jsx("br",{}),n.jsx("strong",{children:"Model:"})," ",z,n.jsx("br",{}),n.jsx("strong",{children:"Endpoint:"})," https://api.openai.com/v1/chat/completions"]})})]}),n.jsxs(wn,{children:[n.jsx(J,{variant:"outline",onClick:()=>Q(!1),children:"Cancel"}),n.jsxs(J,{style:{backgroundColor:r?"#4f46e5":void 0},className:r?"":"bg-blue-600 hover:bg-blue-700",onClick:Ve,children:[n.jsx(ki,{className:"w-4 h-4 mr-2"}),"Save API Key"]})]})]})}),n.jsx(or,{open:ne,onOpenChange:ce,children:n.jsxs(lr,{className:`${l} border ${o} max-w-6xl h-[90vh]`,children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:a,children:"Test Booking Assistant"}),n.jsx(xr,{className:i,children:"Full-page preview of the AI booking assistant widget. Test the complete booking flow."})]}),n.jsxs("div",{className:`flex-1 rounded-lg border ${r?"bg-[#0a0a0a] border-[#2a2a2a]":"bg-gray-100 border-gray-300"} overflow-hidden relative h-[calc(90vh-160px)]`,children:[n.jsx("div",{className:"absolute inset-0 p-6",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("div",{className:`h-12 w-64 rounded-lg mb-6 ${r?"bg-[#2a2a2a]":"bg-gray-300"}`}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:`h-6 w-full rounded ${r?"bg-[#2a2a2a]":"bg-gray-300"}`}),n.jsx("div",{className:`h-6 w-5/6 rounded ${r?"bg-[#2a2a2a]":"bg-gray-300"}`}),n.jsx("div",{className:`h-6 w-4/6 rounded ${r?"bg-[#2a2a2a]":"bg-gray-300"}`})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-8",children:[n.jsx("div",{className:`h-32 rounded-lg ${r?"bg-[#2a2a2a]":"bg-gray-300"}`}),n.jsx("div",{className:`h-32 rounded-lg ${r?"bg-[#2a2a2a]":"bg-gray-300"}`}),n.jsx("div",{className:`h-32 rounded-lg ${r?"bg-[#2a2a2a]":"bg-gray-300"}`})]})]})}),n.jsx("div",{className:`absolute bottom-6 ${O==="right"?"right-6":"left-6"}`,style:{zIndex:50},children:n.jsx(iV,{chatColor:I,chatPosition:O,chatGreeting:M,isOpen:!0,onToggle:()=>{},apiKey:F,provider:"openai",model:z})})]}),n.jsx(wn,{children:n.jsx(J,{variant:"outline",onClick:()=>ce(!1),children:"Close Preview"})})]})}),n.jsx(TRe,{isOpen:ie,onClose:()=>pe(!1)}),n.jsx(ORe,{isOpen:ae,onClose:()=>be(!1)})]})}function $Re(t){return n.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),n.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]})}function DRe(){const[t,e]=S.useState([]),[r,s]=S.useState(!0),[a,i]=S.useState(null),o=async()=>{try{s(!0),i(null);const{data:f,error:m}=await Pr.rpc("get_staff_with_email");if(m)throw m;e(f||[])}catch(f){console.error("Error fetching staff:",f),i(f.message),me.error("Failed to load staff members")}finally{s(!1)}},l=async(f,m)=>{try{const{data:{user:y}}=await Pr.auth.getUser();if(!y)throw new Error("User not authenticated");const{data:g,error:v}=await Pr.rpc("create_staff_member",{p_email:f.email,p_password:m,p_first_name:f.first_name,p_last_name:f.last_name,p_phone:f.phone,p_role:f.role,p_company:f.company||null,p_metadata:{department:f.department,permissions:f.permissions||[]}});if(v)throw v;return me.success("Staff member created successfully!"),await o(),g}catch(y){throw console.error("Error creating staff:",y),me.error(y.message||"Failed to create staff member"),y}},c=async(f,m)=>{try{const{metadata:y,email:g,...v}=m,b={...v};if(y){const{data:_}=await Pr.from("user_profiles").select("metadata").eq("id",f).single();b.metadata={..._?.metadata||{},...y}}const{data:w,error:N}=await Pr.from("user_profiles").update(b).eq("id",f).select().single();if(N)throw N;return me.success("Staff member updated successfully!"),await o(),w}catch(y){throw console.error("Error updating staff:",y),me.error(y.message||"Failed to update staff member"),y}},d=async f=>{try{const{error:m}=await Pr.from("user_profiles").update({status:"inactive"}).eq("id",f);if(m)throw m;me.success("Staff member deactivated successfully!"),await o()}catch(m){throw console.error("Error deleting staff:",m),me.error(m.message||"Failed to delete staff member"),m}},u=async(f,m)=>{try{const y=m==="active"?"inactive":"active",{error:g}=await Pr.from("user_profiles").update({status:y}).eq("id",f);if(g)throw g;me.success(`Staff member ${y==="active"?"activated":"deactivated"}`),await o()}catch(y){throw console.error("Error toggling staff status:",y),me.error(y.message||"Failed to update staff status"),y}},h=async f=>{try{const{data:m}=await Pr.from("user_profiles").select("metadata").eq("id",f).single(),y={...m?.metadata||{},lastLogin:new Date().toISOString()};await Pr.from("user_profiles").update({metadata:y}).eq("id",f)}catch(m){console.error("Error updating last login:",m)}};return S.useEffect(()=>{o()},[]),S.useEffect(()=>{const f=Pr.channel("user_profiles_changes").on("postgres_changes",{event:"*",schema:"public",table:"user_profiles"},m=>{console.log("Staff change detected:",m),o()}).subscribe();return()=>{Pr.removeChannel(f)}},[]),{staff:t,loading:r,error:a,fetchStaff:o,createStaff:l,updateStaff:c,deleteStaff:d,toggleStaffStatus:u,updateLastLogin:h,refreshStaff:o}}var MRe=Symbol("radix.slottable");function RRe(t){const e=({children:r})=>n.jsx(n.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=MRe,e}var ute="AlertDialog",[LRe]=Mo(ute,[mQ]),rf=mQ(),hte=t=>{const{__scopeAlertDialog:e,...r}=t,s=rf(e);return n.jsx(PQ,{...s,...r,modal:!0})};hte.displayName=ute;var FRe="AlertDialogTrigger",BRe=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,a=rf(r);return n.jsx(WOe,{...a,...s,ref:e})});BRe.displayName=FRe;var URe="AlertDialogPortal",fte=t=>{const{__scopeAlertDialog:e,...r}=t,s=rf(e);return n.jsx(TQ,{...s,...r})};fte.displayName=URe;var zRe="AlertDialogOverlay",mte=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,a=rf(r);return n.jsx(lO,{...a,...s,ref:e})});mte.displayName=zRe;var Gx="AlertDialogContent",[VRe,WRe]=LRe(Gx),HRe=RRe("AlertDialogContent"),pte=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:s,...a}=t,i=rf(r),o=S.useRef(null),l=Zr(e,o),c=S.useRef(null);return n.jsx(BOe,{contentName:Gx,titleName:xte,docsSlug:"alert-dialog",children:n.jsx(VRe,{scope:r,cancelRef:c,children:n.jsxs(OQ,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Vt(a.onOpenAutoFocus,d=>{d.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[n.jsx(HRe,{children:s}),n.jsx(GRe,{contentRef:o})]})})})});pte.displayName=Gx;var xte="AlertDialogTitle",gte=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,a=rf(r);return n.jsx(IQ,{...a,...s,ref:e})});gte.displayName=xte;var vte="AlertDialogDescription",yte=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,a=rf(r);return n.jsx($Q,{...a,...s,ref:e})});yte.displayName=vte;var qRe="AlertDialogAction",bte=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,a=rf(r);return n.jsx(cO,{...a,...s,ref:e})});bte.displayName=qRe;var wte="AlertDialogCancel",jte=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,{cancelRef:a}=WRe(wte,r),i=rf(r),o=Zr(e,a);return n.jsx(cO,{...i,...s,ref:o})});jte.displayName=wte;var GRe=({contentRef:t})=>{const e=`\`${Gx}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Gx}\` by passing a \`${vte}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Gx}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},KRe=hte,YRe=fte,Nte=mte,XRe=pte,ZRe=bte,JRe=jte,QRe=gte,e9e=yte;function mb({...t}){return n.jsx(KRe,{"data-slot":"alert-dialog",...t})}function t9e({...t}){return n.jsx(YRe,{"data-slot":"alert-dialog-portal",...t})}const Ste=S.forwardRef(({className:t,...e},r)=>n.jsx(Nte,{ref:r,"data-slot":"alert-dialog-overlay",className:nr("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));Ste.displayName=Nte.displayName;function pb({className:t,...e}){return n.jsxs(t9e,{children:[n.jsx(Ste,{}),n.jsx(XRe,{"data-slot":"alert-dialog-content",className:nr("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function xb({className:t,...e}){return n.jsx("div",{"data-slot":"alert-dialog-header",className:nr("flex flex-col gap-2 text-center sm:text-left",t),...e})}function gb({className:t,...e}){return n.jsx("div",{"data-slot":"alert-dialog-footer",className:nr("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function vb({className:t,...e}){return n.jsx(QRe,{"data-slot":"alert-dialog-title",className:nr("text-lg font-semibold",t),...e})}function yb({className:t,...e}){return n.jsx(e9e,{"data-slot":"alert-dialog-description",className:nr("text-muted-foreground text-sm",t),...e})}function bb({className:t,...e}){return n.jsx(ZRe,{className:nr(M1(),t),...e})}function wb({className:t,...e}){return n.jsx(JRe,{className:nr(M1({variant:"outline"}),t),...e})}const r9e=t=>({id:t.id,name:`${t.first_name} ${t.last_name}`.trim(),email:t.email,phone:t.phone||"",role:t.role.charAt(0).toUpperCase()+t.role.slice(1),joinDate:new Date(t.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),status:t.status==="active"?"Active":"Inactive",avatar:t.metadata?.avatar,department:t.metadata?.department,permissions:t.metadata?.permissions,lastLogin:t.metadata?.lastLogin,hoursWorked:t.metadata?.hoursWorked});function n9e(){const{theme:t}=fn(),e=t==="dark",r=e?"text-white":"text-gray-900",s=e?"text-[#a3a3a3]":"text-gray-600",a=e?"border-[#2a2a2a]":"border-gray-200",i=e?"bg-[#161616]":"bg-white",o=e?"bg-[#1e1e1e]":"bg-gray-50",l=e?"hover:bg-[#1e1e1e]":"hover:bg-gray-50",c=e?"hover:shadow-[0_0_15px_rgba(79,70,229,0.1)]":"hover:shadow-md",{staff:d,loading:u,createStaff:h,updateStaff:f,deleteStaff:m,toggleStaffStatus:y}=DRe(),g=d.map(r9e),[v,b]=S.useState(""),[w,N]=S.useState("all"),[_,C]=S.useState("all"),[E,A]=S.useState(!1),[I,$]=S.useState(!1),[O,P]=S.useState(!1),[M,R]=S.useState(!1),[W,Y]=S.useState(null),[K,L]=S.useState({name:"",email:"",phone:"",role:"Staff",department:"",status:"Active"}),[F,ee]=S.useState(""),se={total:g.length,active:g.filter(H=>H.status==="Active").length,managers:g.filter(H=>H.role==="Manager").length,staff:g.filter(H=>H.role==="Staff").length},q=g.filter(H=>{const Le=H.name.toLowerCase().includes(v.toLowerCase())||H.email.toLowerCase().includes(v.toLowerCase()),Ye=w==="all"||H.role===w,xt=_==="all"||H.status===_;return Le&&Ye&&xt}),z=async()=>{if(!K.name||!K.email||!K.phone||!F){me.error("Please fill in all required fields including password");return}if(F.length<6){me.error("Password must be at least 6 characters");return}try{const H=K.name.split(" "),Le=H[0]||"",Ye=H.slice(1).join(" ")||"";await h({first_name:Le,last_name:Ye,email:K.email,phone:K.phone,role:K.role?.toLowerCase(),department:K.department},F),A(!1),L({name:"",email:"",phone:"",role:"Staff",department:"",status:"Active",avatar:void 0}),ee("")}catch(H){console.error("Error adding staff:",H)}},Z=async()=>{if(W)try{const H=K.name?.split(" ")||[],Le=H[0]||"",Ye=H.slice(1).join(" ")||"";await f(W.id,{first_name:Le,last_name:Ye,phone:K.phone||"",role:K.role?.toLowerCase(),status:K.status?.toLowerCase()||"active",metadata:{department:K.department,avatar:K.avatar,permissions:K.permissions,hoursWorked:K.hoursWorked}}),$(!1),Y(null),L({name:"",email:"",phone:"",role:"Staff",department:"",status:"Active",avatar:void 0})}catch(H){console.error("Error updating staff:",H)}},X=async()=>{if(W)try{await m(W.id),R(!1),Y(null)}catch(H){console.error("Error deleting staff:",H)}},Q=async H=>{try{const Le=g.find(Ye=>Ye.id===H);if(!Le)return;await y(H,Le.status.toLowerCase())}catch(Le){console.error("Error toggling staff status:",Le)}},ne=H=>{Y(H),L({name:H.name,email:H.email,phone:H.phone,role:H.role,department:H.department,status:H.status,avatar:H.avatar}),$(!0)},ce=H=>{Y(H),P(!0)},ie=H=>{Y(H),R(!0)},pe=H=>H.split(" ").map(Le=>Le[0]).join("").toUpperCase(),ae=H=>{switch(H){case"Admin":return e?"bg-red-500/20 text-red-400 border border-red-500/30":"bg-red-100 text-red-700 border border-red-200";case"Manager":return e?"bg-[#4f46e5]/20 text-[#6366f1] border border-[#4f46e5]/30":"bg-blue-100 text-blue-700 border border-blue-200";case"Staff":return e?"bg-[#2a2a2a] text-[#a3a3a3] border border-[#2a2a2a]":"bg-gray-100 text-gray-700 border border-gray-200";default:return e?"bg-[#2a2a2a] text-[#a3a3a3] border border-[#2a2a2a]":"bg-gray-100 text-gray-700 border border-gray-200"}},be=H=>{switch(H){case"Admin":return n.jsx(T1,{className:"w-3 h-3 mr-1"});case"Manager":return n.jsx(Xn,{className:"w-3 h-3 mr-1"});case"Staff":return n.jsx(ca,{className:"w-3 h-3 mr-1"});default:return null}},we=()=>{N("all"),C("all"),b("")},Ie=w!=="all"||_!=="all"||v!=="",Ee=H=>{if(!H)return;const Le=new FileReader;Le.onload=()=>{const Ye=Le.result;L(xt=>({...xt,avatar:Ye}))},Le.readAsDataURL(H)};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(ui,{title:"Staff Management",description:"Manage your team members and their roles",sticky:!0,action:n.jsx(Bd,{permissions:["staff.create"],children:n.jsxs(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",onClick:()=>A(!0),children:[n.jsx(An,{className:"w-4 h-4 mr-2"}),"Add Staff Member"]})})}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(ve,{className:`${i} border ${a} shadow-sm ${c} transition-all`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Total Staff"}),n.jsx("p",{className:`text-2xl mt-1 ${r}`,children:se.total})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(Wr,{className:`w-6 h-6 ${e?"text-[#6366f1]":"text-blue-600"}`})})]})})}),n.jsx(ve,{className:`${i} border ${a} shadow-sm ${c} transition-all`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Active"}),n.jsx("p",{className:`text-2xl mt-1 ${r}`,children:se.active})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-emerald-500/20":"bg-green-100"}`,children:n.jsx(Ck,{className:`w-6 h-6 ${e?"text-emerald-400":"text-green-600"}`})})]})})}),n.jsx(ve,{className:`${i} border ${a} shadow-sm ${c} transition-all`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Managers"}),n.jsx("p",{className:`text-2xl mt-1 ${r}`,children:se.managers})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-purple-500/20":"bg-purple-100"}`,children:n.jsx(Xn,{className:`w-6 h-6 ${e?"text-purple-400":"text-purple-600"}`})})]})})}),n.jsx(ve,{className:`${i} border ${a} shadow-sm ${c} transition-all`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Staff Members"}),n.jsx("p",{className:`text-2xl mt-1 ${r}`,children:se.staff})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-orange-500/20":"bg-orange-100"}`,children:n.jsx(ca,{className:`w-6 h-6 ${e?"text-orange-400":"text-orange-600"}`})})]})})})]}),n.jsx(ve,{className:`${i} border ${a} shadow-sm`,children:n.jsx(Te,{className:"p-4",children:n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ba,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${e?"text-[#737373]":"text-gray-400"}`}),n.jsx(ge,{placeholder:"Search by name or email...",value:v,onChange:H=>b(H.target.value),className:"pl-10 h-11"})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsxs(Kt,{value:w,onValueChange:N,children:[n.jsxs(Xt,{className:"w-[140px] h-11",children:[n.jsx(Ld,{className:"w-4 h-4 mr-2"}),n.jsx(Yt,{placeholder:"Role"})]}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"all",children:"All Roles"}),n.jsx(Ce,{value:"Admin",children:"Admin"}),n.jsx(Ce,{value:"Manager",children:"Manager"}),n.jsx(Ce,{value:"Staff",children:"Staff"})]})]}),n.jsxs(Kt,{value:_,onValueChange:C,children:[n.jsxs(Xt,{className:"w-[140px] h-11",children:[n.jsx(Ld,{className:"w-4 h-4 mr-2"}),n.jsx(Yt,{placeholder:"Status"})]}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"all",children:"All Status"}),n.jsx(Ce,{value:"Active",children:"Active"}),n.jsx(Ce,{value:"Inactive",children:"Inactive"})]})]}),Ie&&n.jsxs(J,{variant:"outline",onClick:we,className:"h-11",children:[n.jsx(In,{className:"w-4 h-4 mr-2"}),"Clear"]}),n.jsxs(J,{variant:"outline",className:"h-11",children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})})}),n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsx(st,{className:"p-6",children:n.jsx(at,{className:r,children:"Team Members"})}),n.jsx(Te,{className:"p-0 sm:p-6 sm:pt-0",children:u?n.jsxs("div",{className:`text-center py-12 ${s}`,children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-3"}),"Loading staff members..."]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"sm:hidden space-y-3 p-4",children:q.length===0?n.jsx("div",{className:`text-center py-8 ${s}`,children:"No staff members found"}):q.map(H=>n.jsx(ve,{className:`${i} border ${a} ${c} transition-all`,children:n.jsxs(Te,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[n.jsxs(Th,{className:"w-10 h-10 flex-shrink-0",children:[n.jsx(Oh,{src:H.avatar}),n.jsx(Ih,{className:e?"bg-[#4f46e5]/20 text-[#6366f1]":"bg-blue-100 text-blue-600",children:pe(H.name)})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:`text-sm truncate ${r}`,children:H.name}),n.jsxs(ze,{className:`${ae(H.role)} text-xs mt-1`,children:[be(H.role),H.role]})]})]}),n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"icon",className:"h-8 w-8 flex-shrink-0",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{onClick:()=>ce(H),children:[n.jsx(Ln,{className:"w-4 h-4 mr-2"}),"View Details"]}),n.jsxs(Et,{onClick:()=>ne(H),children:[n.jsx($p,{className:"w-4 h-4 mr-2"}),"Edit"]}),n.jsx(Pu,{}),n.jsxs(Et,{onClick:()=>ie(H),className:e?"text-red-400 focus:text-red-400":"text-red-600 focus:text-red-600",children:[n.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),n.jsxs("div",{className:"space-y-2 text-xs",children:[n.jsxs("div",{className:`flex items-center gap-2 ${s}`,children:[n.jsx(Gn,{className:"w-3 h-3 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:H.email})]}),n.jsxs("div",{className:`flex items-center gap-2 ${s}`,children:[n.jsx(Gs,{className:"w-3 h-3 flex-shrink-0"}),n.jsx("span",{children:H.phone})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsx("span",{className:s,children:H.department}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wt,{checked:H.status==="Active",onCheckedChange:()=>Q(H.id)}),n.jsx("span",{className:r,children:H.status})]})]})]})]})},H.id))}),n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:`border-b ${a}`,children:[n.jsx("th",{className:`text-left py-3 px-4 text-sm ${s}`,children:"Member"}),n.jsx("th",{className:`text-left py-3 px-4 text-sm ${s}`,children:"Contact"}),n.jsx("th",{className:`text-left py-3 px-4 text-sm ${s}`,children:"Role"}),n.jsx("th",{className:`text-left py-3 px-4 text-sm ${s}`,children:"Department"}),n.jsx("th",{className:`text-left py-3 px-4 text-sm ${s}`,children:"Join Date"}),n.jsx("th",{className:`text-left py-3 px-4 text-sm ${s}`,children:"Status"}),n.jsx("th",{className:`text-left py-3 px-4 text-sm ${s}`,children:"Actions"})]})}),n.jsx("tbody",{children:q.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:`text-center py-8 ${s}`,children:"No staff members found"})}):q.map(H=>n.jsxs("tr",{className:`border-b ${a} ${l} transition-colors`,children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(Th,{children:[n.jsx(Oh,{src:H.avatar}),n.jsx(Ih,{className:e?"bg-[#4f46e5]/20 text-[#6366f1]":"bg-blue-100 text-blue-600",children:pe(H.name)})]}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${r}`,children:H.name}),n.jsx("p",{className:`text-xs ${s}`,children:H.email})]})]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:`flex items-center gap-2 text-xs ${s}`,children:[n.jsx(Gn,{className:"w-3 h-3"}),n.jsx("span",{children:H.email})]}),n.jsxs("div",{className:`flex items-center gap-2 text-xs ${s}`,children:[n.jsx(Gs,{className:"w-3 h-3"}),n.jsx("span",{children:H.phone})]})]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs(ze,{className:ae(H.role),children:[be(H.role),H.role]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:`flex items-center gap-2 text-sm ${s}`,children:[n.jsx(Kne,{className:"w-3 h-3"}),n.jsx("span",{children:H.department})]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:`flex items-center gap-2 text-sm ${s}`,children:[n.jsx(Nn,{className:"w-3 h-3"}),n.jsx("span",{children:H.joinDate})]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wt,{checked:H.status==="Active",onCheckedChange:()=>Q(H.id)}),n.jsx("span",{className:`text-sm ${r}`,children:H.status})]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"icon",className:"h-8 w-8",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{onClick:()=>ce(H),children:[n.jsx(Ln,{className:"w-4 h-4 mr-2"}),"View Details"]}),n.jsxs(Et,{onClick:()=>ne(H),children:[n.jsx($p,{className:"w-4 h-4 mr-2"}),"Edit"]}),n.jsx(Pu,{}),n.jsx(Et,{onClick:()=>Q(H.id),children:H.status==="Active"?n.jsxs(n.Fragment,{children:[n.jsx(bW,{className:"w-4 h-4 mr-2"}),"Deactivate"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ck,{className:"w-4 h-4 mr-2"}),"Activate"]})}),n.jsx(Pu,{}),n.jsxs(Et,{onClick:()=>ie(H),className:e?"text-red-400 focus:text-red-400":"text-red-600 focus:text-red-600",children:[n.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]},H.id))})]})})]})})]}),n.jsx(or,{open:E,onOpenChange:A,children:n.jsxs(lr,{className:`max-w-2xl ${e?"bg-[#161616] border-[#2a2a2a]":""}`,children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:r,children:"Add New Staff Member"}),n.jsx(xr,{className:s,children:"Fill in the details to add a new team member to your staff."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:r,children:"Profile Photo"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(Th,{className:"w-12 h-12",children:[n.jsx(Oh,{src:K.avatar}),n.jsx(Ih,{className:e?"bg-[#4f46e5]/20 text-[#6366f1]":"bg-blue-100 text-blue-600",children:K.name?pe(K.name):"NA"})]}),n.jsx(ge,{type:"file",accept:"image/*",onChange:H=>Ee(H.target.files?.[0]),className:"max-w-xs"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"name",className:r,children:"Full Name *"}),n.jsx(ge,{id:"name",placeholder:"John Doe",value:K.name,onChange:H=>L({...K,name:H.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"email",className:r,children:"Email Address *"}),n.jsx(ge,{id:"email",type:"email",placeholder:"john.doe@bookingtms.com",value:K.email,onChange:H=>L({...K,email:H.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"phone",className:r,children:"Phone Number *"}),n.jsx(ge,{id:"phone",placeholder:"+1 (555) 123-4567",value:K.phone,onChange:H=>L({...K,phone:H.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"role",className:r,children:"Role *"}),n.jsxs(Kt,{value:K.role,onValueChange:H=>L({...K,role:H}),children:[n.jsx(Xt,{children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"Admin",children:"Admin"}),n.jsx(Ce,{value:"Manager",children:"Manager"}),n.jsx(Ce,{value:"Staff",children:"Staff"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"password",className:r,children:"Password *"}),n.jsx(ge,{id:"password",type:"password",placeholder:"Minimum 6 characters",value:F,onChange:H=>ee(H.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"department",className:r,children:"Department"}),n.jsxs(Kt,{value:K.department,onValueChange:H=>L({...K,department:H}),children:[n.jsx(Xt,{children:n.jsx(Yt,{placeholder:"Select department"})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"Operations",children:"Operations"}),n.jsx(Ce,{value:"Customer Service",children:"Customer Service"}),n.jsx(Ce,{value:"Game Master",children:"Game Master"}),n.jsx(Ce,{value:"Maintenance",children:"Maintenance"}),n.jsx(Ce,{value:"Sales & Marketing",children:"Sales & Marketing"}),n.jsx(Ce,{value:"IT",children:"IT"})]})]})]})]})]}),n.jsxs(wn,{className:"gap-2",children:[n.jsx(J,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),n.jsx(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:e?"":"bg-blue-600 hover:bg-blue-700",onClick:z,children:"Add Staff Member"})]})]})}),n.jsx(or,{open:I,onOpenChange:$,children:n.jsxs(lr,{className:`max-w-2xl ${e?"bg-[#161616] border-[#2a2a2a]":""}`,children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:r,children:"Edit Staff Member"}),n.jsxs(xr,{className:s,children:["Update the details for ",W?.name,"."]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:r,children:"Profile Photo"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(Th,{className:"w-12 h-12",children:[n.jsx(Oh,{src:K.avatar}),n.jsx(Ih,{className:e?"bg-[#4f46e5]/20 text-[#6366f1]":"bg-blue-100 text-blue-600",children:K.name?pe(K.name):"NA"})]}),n.jsx(ge,{type:"file",accept:"image/*",onChange:H=>Ee(H.target.files?.[0]),className:"max-w-xs"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"edit-name",className:r,children:"Full Name *"}),n.jsx(ge,{id:"edit-name",placeholder:"John Doe",value:K.name,onChange:H=>L({...K,name:H.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"edit-email",className:r,children:"Email Address *"}),n.jsx(ge,{id:"edit-email",type:"email",placeholder:"john.doe@bookingtms.com",value:K.email,onChange:H=>L({...K,email:H.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"edit-phone",className:r,children:"Phone Number *"}),n.jsx(ge,{id:"edit-phone",placeholder:"+1 (555) 123-4567",value:K.phone,onChange:H=>L({...K,phone:H.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"edit-role",className:r,children:"Role *"}),n.jsxs(Kt,{value:K.role,onValueChange:H=>L({...K,role:H}),children:[n.jsx(Xt,{children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"Admin",children:"Admin"}),n.jsx(Ce,{value:"Manager",children:"Manager"}),n.jsx(Ce,{value:"Staff",children:"Staff"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"edit-department",className:r,children:"Department"}),n.jsxs(Kt,{value:K.department,onValueChange:H=>L({...K,department:H}),children:[n.jsx(Xt,{children:n.jsx(Yt,{placeholder:"Select department"})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"Operations",children:"Operations"}),n.jsx(Ce,{value:"Customer Service",children:"Customer Service"}),n.jsx(Ce,{value:"Game Master",children:"Game Master"}),n.jsx(Ce,{value:"Maintenance",children:"Maintenance"}),n.jsx(Ce,{value:"Sales & Marketing",children:"Sales & Marketing"}),n.jsx(Ce,{value:"IT",children:"IT"})]})]})]})]}),n.jsxs(wn,{className:"gap-2",children:[n.jsx(J,{variant:"outline",onClick:()=>$(!1),children:"Cancel"}),n.jsx(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:e?"":"bg-blue-600 hover:bg-blue-700",onClick:Z,children:"Save Changes"})]})]})}),n.jsx(or,{open:O,onOpenChange:P,children:n.jsxs(lr,{className:`max-w-2xl ${e?"bg-[#161616] border-[#2a2a2a]":""}`,children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:r,children:"Staff Details"}),n.jsxs(xr,{className:s,children:["View detailed information about ",W?.name]})]}),W&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(Th,{className:"w-16 h-16",children:[n.jsx(Oh,{src:W.avatar}),n.jsx(Ih,{className:e?"bg-[#4f46e5]/20 text-[#6366f1]":"bg-blue-100 text-blue-600",children:pe(W.name)})]}),n.jsxs("div",{children:[n.jsx("h3",{className:r,children:W.name}),n.jsxs(ze,{className:ae(W.role),children:[be(W.role),W.role]})]})]}),n.jsx(tt,{className:a}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Email"}),n.jsx("p",{className:`text-sm ${r}`,children:W.email})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Phone"}),n.jsx("p",{className:`text-sm ${r}`,children:W.phone})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Department"}),n.jsx("p",{className:`text-sm ${r}`,children:W.department})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Join Date"}),n.jsx("p",{className:`text-sm ${r}`,children:W.joinDate})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Status"}),n.jsx(ze,{className:W.status==="Active"?e?"bg-emerald-500/20 text-emerald-400":"bg-green-100 text-green-700":e?"bg-[#2a2a2a] text-[#a3a3a3]":"bg-gray-100 text-gray-700",children:W.status})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Last Login"}),n.jsx("p",{className:`text-sm ${r}`,children:W.lastLogin})]})]}),n.jsx(tt,{className:a}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Performance"}),n.jsx("div",{className:`grid grid-cols-1 gap-3 p-4 rounded-lg ${o}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:`w-4 h-4 ${s}`}),n.jsx("span",{className:`text-sm ${r}`,children:"Hours Worked"})]}),n.jsxs("span",{className:r,children:[W.hoursWorked," hrs"]})]})})]})]}),n.jsxs(wn,{children:[n.jsxs(J,{variant:"outline",onClick:()=>{P(!1),ne(W)},children:[n.jsx($p,{className:"w-4 h-4 mr-2"}),"Edit"]}),n.jsx(J,{variant:"outline",onClick:()=>P(!1),children:"Close"})]})]})}),n.jsx(mb,{open:M,onOpenChange:R,children:n.jsxs(pb,{className:e?"bg-[#161616] border-[#2a2a2a]":"",children:[n.jsxs(xb,{children:[n.jsx(vb,{className:r,children:"Delete Staff Member"}),n.jsxs(yb,{className:s,children:["Are you sure you want to delete ",W?.name,"? This action cannot be undone."]})]}),n.jsxs(gb,{children:[n.jsx(wb,{children:"Cancel"}),n.jsx(bb,{style:{backgroundColor:e?"#ef4444":void 0},className:e?"hover:bg-red-500":"bg-red-600 hover:bg-red-700",onClick:X,children:"Delete"})]})]})})]})}const zv=[{month:"Jan",revenue:12400,bookings:42},{month:"Feb",revenue:15600,bookings:52},{month:"Mar",revenue:18900,bookings:63},{month:"Apr",revenue:16200,bookings:54},{month:"May",revenue:21300,bookings:71},{month:"Jun",revenue:24800,bookings:83},{month:"Jul",revenue:28400,bookings:95},{month:"Aug",revenue:26100,bookings:87},{month:"Sep",revenue:23700,bookings:79},{month:"Oct",revenue:27500,bookings:92}],ip=[{name:"Mystery Manor",bookings:245,fill:"#4f46e5"},{name:"Space Odyssey",bookings:189,fill:"#7c3aed"},{name:"Zombie Outbreak",bookings:178,fill:"#10b981"},{name:"Treasure Hunt",bookings:156,fill:"#f59e0b"},{name:"Prison Break",bookings:134,fill:"#ef4444"},{name:"Wizards Quest",bookings:98,fill:"#06b6d4"}],Vv=[{day:"Mon",rate:68},{day:"Tue",rate:52},{day:"Wed",rate:58},{day:"Thu",rate:72},{day:"Fri",rate:88},{day:"Sat",rate:95},{day:"Sun",rate:82}];function s9e(){const{theme:t}=fn(),e=t==="dark",r=e?"text-white":"text-gray-900",s=e?"text-[#a3a3a3]":"text-gray-600",a=e?"border-[#2a2a2a]":"border-gray-200",i=e?"bg-[#161616]":"bg-white",o=e?"hover:bg-[#1e1e1e]":"hover:bg-gray-50",l=e?"#2a2a2a":"#e5e7eb",c=e?"#737373":"#6b7280",d=e?"#1e1e1e":"white",u=e?"#2a2a2a":"#e5e7eb",[h,f]=S.useState(!1),[m,y]=S.useState("csv"),[g,v]=S.useState(!1),[b,w]=S.useState(["revenue","games","occupancy","summary"]),[N,_]=S.useState("last-30"),C=()=>{v(!0);try{const A=N==="last-7"?"Last 7 days":N==="last-30"?"Last 30 days":N==="last-90"?"Last 90 days":N==="year"?"This year":"All time",I=(()=>{const $=zv.reduce((W,Y)=>W+Y.revenue,0),O=zv.reduce((W,Y)=>W+Y.bookings,0),P=O>0?$/O:0,M=ip.reduce((W,Y)=>Y.bookings>W.bookings?Y:W,ip[0]),R=Math.round(Vv.reduce((W,Y)=>W+Y.rate,0)/Vv.length);return{totalRevenue:$,totalBookings:O,avgValue:P,topGame:M.name,avgOccupancy:R}})();if(m==="csv"){const $=[];b.includes("summary")&&($.push("Section: Summary Statistics"),$.push("Metric,Value"),$.push(`Total Revenue,$${I.totalRevenue}`),$.push(`Total Bookings,${I.totalBookings}`),$.push(`Average Booking Value,$${I.avgValue.toFixed(2)}`),$.push(`Top Game,${I.topGame}`),$.push(`Average Occupancy,${I.avgOccupancy}%`)),b.includes("revenue")&&($.push("","Section: Revenue & Bookings Trend"),$.push("Month,Revenue,Bookings"),zv.forEach(W=>$.push(`${W.month},${W.revenue},${W.bookings}`))),b.includes("games")&&($.push("","Section: Game Popularity"),$.push("Game,Bookings"),ip.forEach(W=>$.push(`${W.name},${W.bookings}`))),b.includes("occupancy")&&($.push("","Section: Weekly Occupancy"),$.push("Day,Rate (%)"),Vv.forEach(W=>$.push(`${W.day},${W.rate}`)));const O=$.join(`
`),P=new Blob([O],{type:"text/csv;charset=utf-8;"}),M=URL.createObjectURL(P),R=document.createElement("a");R.href=M,R.download=`reports_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(M)}else{const $=new wr;let O=20;$.setFontSize(16),$.text("Reports Export",14,O),O+=8,$.setFontSize(11),$.text(`Range: ${A}`,14,O),O+=10;const P=R=>{$.setFontSize(13),O>275&&($.addPage(),O=20),$.text(R,14,O),O+=6,$.setFontSize(11)},M=R=>{O>285&&($.addPage(),O=20),$.text(R,14,O),O+=6};b.includes("summary")&&(P("Summary Statistics"),M(`Total Revenue: $${I.totalRevenue}`),M(`Total Bookings: ${I.totalBookings}`),M(`Average Booking Value: $${I.avgValue.toFixed(2)}`),M(`Top Game: ${I.topGame}`),M(`Average Occupancy: ${I.avgOccupancy}%`),O+=4),b.includes("revenue")&&(P("Revenue & Bookings Trend"),zv.forEach(R=>M(`${R.month}: $${R.revenue} revenue, ${R.bookings} bookings`)),O+=4),b.includes("games")&&(P("Game Popularity"),ip.forEach(R=>M(`${R.name}: ${R.bookings} bookings`)),O+=4),b.includes("occupancy")&&(P("Weekly Occupancy"),Vv.forEach(R=>M(`${R.day}: ${R.rate}%`))),$.save(`reports_${new Date().toISOString().slice(0,10)}.pdf`)}me.success(`Report exported successfully as ${m.toUpperCase()}`)}catch(A){console.error(A),me.error("Failed to export reports")}finally{v(!1),f(!1)}},E=A=>{w(I=>I.includes(A)?I.filter($=>$!==A):[...I,A])};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(ui,{title:"Reports & Analytics",description:"Track performance and business insights",sticky:!0,action:n.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[n.jsxs(Kt,{value:N,onValueChange:_,children:[n.jsxs(Xt,{className:"flex-1 sm:w-40 h-11",children:[n.jsx(Nn,{className:"w-4 h-4 mr-2 sm:hidden"}),n.jsx(Yt,{})]}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"last-7",children:"Last 7 days"}),n.jsx(Ce,{value:"last-30",children:"Last 30 days"}),n.jsx(Ce,{value:"last-90",children:"Last 90 days"}),n.jsx(Ce,{value:"year",children:"This year"}),n.jsx(Ce,{value:"all",children:"All time"})]})]}),n.jsx(Bd,{permissions:["reports.export"],children:n.jsx(J,{variant:"outline",onClick:()=>f(!0),className:"h-11 w-11 flex-shrink-0 p-0",size:"icon",children:n.jsx(hs,{className:"w-4 h-4"})})})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx(ve,{className:`${i} border ${a} shadow-sm hover:shadow-md transition-all`,children:n.jsxs(Te,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Total Revenue"}),n.jsx("p",{className:`text-2xl mt-2 ${r}`,children:"$212,400"})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-emerald-500/20":"bg-green-100"}`,children:n.jsx(Si,{className:`w-6 h-6 ${e?"text-emerald-400":"text-green-600"}`})})]}),n.jsxs("div",{className:`flex items-center gap-1 text-sm ${e?"text-emerald-400":"text-green-600"}`,children:[n.jsx(Is,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{children:"+15.3% from last period"})]})]})}),n.jsx(ve,{className:`${i} border ${a} shadow-sm hover:shadow-md transition-all`,children:n.jsxs(Te,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Total Bookings"}),n.jsx("p",{className:`text-2xl mt-2 ${r}`,children:"818"})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(Wr,{className:`w-6 h-6 ${e?"text-[#6366f1]":"text-blue-600"}`})})]}),n.jsxs("div",{className:`flex items-center gap-1 text-sm ${e?"text-emerald-400":"text-green-600"}`,children:[n.jsx(Is,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{children:"+12.7% from last period"})]})]})}),n.jsx(ve,{className:`${i} border ${a} shadow-sm hover:shadow-md transition-all`,children:n.jsxs(Te,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Avg. Occupancy"}),n.jsx("p",{className:`text-2xl mt-2 ${r}`,children:"73.6%"})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-purple-500/20":"bg-purple-100"}`,children:n.jsx(h1,{className:`w-6 h-6 ${e?"text-purple-400":"text-purple-600"}`})})]}),n.jsxs("div",{className:`flex items-center gap-1 text-sm ${e?"text-red-400":"text-red-600"}`,children:[n.jsx(kP,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{children:"-2.1% from last period"})]})]})})]}),n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsx(st,{className:"p-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ru,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:r,children:"Revenue & Bookings Trend"})]}),n.jsx(Lt,{className:`${s} mt-1`,children:"Monthly performance overview"})]}),n.jsx(ze,{variant:"secondary",className:e?"bg-[#1e1e1e] text-[#a3a3a3]":"bg-gray-100 text-gray-700",children:"Last 10 months"})]})}),n.jsx(Te,{className:"p-6 pt-0",children:n.jsx("div",{className:"overflow-x-auto -mx-6 px-6",children:n.jsx("div",{className:"min-w-[500px]",children:n.jsx(v1,{width:"100%",height:300,children:n.jsxs(XZ,{data:zv,children:[n.jsx(ky,{strokeDasharray:"3 3",stroke:l}),n.jsx(Zh,{dataKey:"month",stroke:c,fontSize:12,tick:{fill:c}}),n.jsx(Mu,{yAxisId:"left",stroke:c,fontSize:12,width:60,tick:{fill:c}}),n.jsx(Mu,{yAxisId:"right",orientation:"right",stroke:c,fontSize:12,width:40,tick:{fill:c}}),n.jsx(kl,{contentStyle:{backgroundColor:d,border:`1px solid ${u}`,borderRadius:"8px",fontSize:"12px",color:e?"white":"black"}}),n.jsx(Rp,{wrapperStyle:{fontSize:"12px",color:c}}),n.jsx(Xh,{yAxisId:"left",dataKey:"revenue",fill:e?"#4f46e5":"#2563eb",name:"Revenue ($)",radius:[4,4,0,0]}),n.jsx(Xh,{yAxisId:"right",dataKey:"bookings",fill:"#7c3aed",name:"Bookings",radius:[4,4,0,0]})]})})})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rse,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:r,children:"Game Popularity"})]}),n.jsx(Lt,{className:`${s} mt-1`,children:"Bookings by game"})]}),n.jsxs(Te,{className:"p-6 pt-0",children:[n.jsx(v1,{width:"100%",height:260,children:n.jsxs(VAe,{children:[n.jsx(tf,{data:ip,cx:"50%",cy:"50%",labelLine:!1,label:!1,outerRadius:100,dataKey:"bookings",children:ip.map((A,I)=>n.jsx(YN,{fill:A.fill},`cell-${I}`))}),n.jsx(kl,{contentStyle:{backgroundColor:d,border:`1px solid ${u}`,borderRadius:"8px",fontSize:"12px",color:e?"white":"black"}})]})}),n.jsx("div",{className:"mt-4 grid grid-cols-2 gap-3",children:ip.map(A=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:A.fill}}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("span",{className:`text-sm truncate block ${s}`,children:A.name}),n.jsxs("span",{className:`text-xs ${s}`,children:[A.bookings," bookings"]})]})]},A.name))})]})]}),n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Uc,{className:`w-5 h-5 ${e?"text-emerald-400":"text-green-600"}`}),n.jsx(at,{className:r,children:"Weekly Occupancy Rate"})]}),n.jsx(Lt,{className:`${s} mt-1`,children:"Average capacity utilization"})]}),n.jsx(Te,{className:"p-6 pt-0",children:n.jsx(v1,{width:"100%",height:260,children:n.jsxs(zAe,{data:Vv,children:[n.jsx(ky,{strokeDasharray:"3 3",stroke:l}),n.jsx(Zh,{dataKey:"day",stroke:c,fontSize:12,tick:{fill:c}}),n.jsx(Mu,{stroke:c,fontSize:12,unit:"%",width:45,tick:{fill:c}}),n.jsx(kl,{contentStyle:{backgroundColor:d,border:`1px solid ${u}`,borderRadius:"8px",fontSize:"12px",color:e?"white":"black"}}),n.jsx(ib,{type:"monotone",dataKey:"rate",stroke:e?"#10b981":"#16a34a",strokeWidth:3,dot:{fill:e?"#10b981":"#16a34a",r:4},activeDot:{r:6},name:"Occupancy Rate (%)"})]})})})]})]}),n.jsx(or,{open:h,onOpenChange:f,children:n.jsxs(lr,{className:`max-h-[90vh] overflow-y-auto sm:max-w-[500px] ${e?"bg-[#161616] border-[#2a2a2a]":""}`,children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:r,children:"Export Reports"}),n.jsx(xr,{className:s,children:"Download your analytics data in your preferred format"})]}),n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx(re,{className:`text-sm mb-2 block ${r}`,children:"Export Format"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[n.jsxs("button",{onClick:()=>y("csv"),className:`p-4 border-2 rounded-lg text-left transition-all ${m==="csv"?e?"border-[#4f46e5] bg-[#4f46e5]/10":"border-blue-600 bg-blue-50":e?`border-[#2a2a2a] ${o}`:"border-gray-200 hover:border-gray-300"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx($s,{className:`w-4 h-4 flex-shrink-0 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsx("p",{className:`text-sm ${r}`,children:"CSV File"})]}),n.jsx("p",{className:`text-xs ${s}`,children:"Excel compatible"})]}),n.jsxs("button",{onClick:()=>y("pdf"),className:`p-4 border-2 rounded-lg text-left transition-all ${m==="pdf"?e?"border-[#4f46e5] bg-[#4f46e5]/10":"border-blue-600 bg-blue-50":e?`border-[#2a2a2a] ${o}`:"border-gray-200 hover:border-gray-300"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx($s,{className:`w-4 h-4 flex-shrink-0 ${e?"text-red-400":"text-red-600"}`}),n.jsx("p",{className:`text-sm ${r}`,children:"PDF File"})]}),n.jsx("p",{className:`text-xs ${s}`,children:"Printable format"})]})]})]}),n.jsx(tt,{className:a}),n.jsxs("div",{children:[n.jsx(re,{className:`text-sm mb-2 block ${r}`,children:"Select Reports to Include"}),n.jsxs("div",{className:"space-y-3 mt-2",children:[n.jsxs("div",{className:`flex items-start space-x-3 p-3 border rounded-lg transition-colors ${a} ${o}`,children:[n.jsx(_u,{id:"revenue",checked:b.includes("revenue"),onCheckedChange:()=>E("revenue"),className:"mt-0.5"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx(re,{htmlFor:"revenue",className:`text-sm cursor-pointer block ${r}`,children:"Revenue & Bookings Trend"}),n.jsx("p",{className:`text-xs mt-0.5 ${s}`,children:"Monthly performance overview with charts"})]})]}),n.jsxs("div",{className:`flex items-start space-x-3 p-3 border rounded-lg transition-colors ${a} ${o}`,children:[n.jsx(_u,{id:"games",checked:b.includes("games"),onCheckedChange:()=>E("games"),className:"mt-0.5"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx(re,{htmlFor:"games",className:`text-sm cursor-pointer block ${r}`,children:"Game Popularity Analysis"}),n.jsx("p",{className:`text-xs mt-0.5 ${s}`,children:"Booking distribution by game"})]})]}),n.jsxs("div",{className:`flex items-start space-x-3 p-3 border rounded-lg transition-colors ${a} ${o}`,children:[n.jsx(_u,{id:"occupancy",checked:b.includes("occupancy"),onCheckedChange:()=>E("occupancy"),className:"mt-0.5"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx(re,{htmlFor:"occupancy",className:`text-sm cursor-pointer block ${r}`,children:"Weekly Occupancy Rate"}),n.jsx("p",{className:`text-xs mt-0.5 ${s}`,children:"Capacity utilization by day"})]})]}),n.jsxs("div",{className:`flex items-start space-x-3 p-3 border rounded-lg transition-colors ${a} ${o}`,children:[n.jsx(_u,{id:"summary",checked:b.includes("summary"),onCheckedChange:()=>E("summary"),className:"mt-0.5"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx(re,{htmlFor:"summary",className:`text-sm cursor-pointer block ${r}`,children:"Summary Statistics"}),n.jsx("p",{className:`text-xs mt-0.5 ${s}`,children:"Total revenue, bookings, and occupancy"})]})]})]})]}),n.jsx("div",{className:`p-3 rounded-lg border ${e?"bg-[#4f46e5]/10 border-[#4f46e5]/30":"bg-blue-50 border-blue-200"}`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:`w-4 h-4 mt-0.5 flex-shrink-0 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsxs("div",{className:"min-w-0",children:[n.jsxs("p",{className:`text-xs ${e?"text-[#e0e7ff]":"text-blue-900"}`,children:[b.length," report",b.length!==1?"s":""," selected for export"]}),n.jsx("p",{className:`text-xs mt-1 ${e?"text-[#c7d2fe]":"text-blue-700"}`,children:"File will include charts, graphs, and detailed analytics"})]})]})})]}),n.jsxs(wn,{className:"gap-2",children:[n.jsx(J,{variant:"outline",onClick:()=>f(!1),disabled:g,className:"w-full sm:w-auto h-11",children:"Cancel"}),n.jsx(Bd,{permissions:["reports.export"],children:n.jsx(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:e?"hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",onClick:C,disabled:g||b.length===0,children:g?n.jsxs(n.Fragment,{children:[n.jsx(Qt,{className:"w-4 h-4 mr-2 animate-spin"}),"Exporting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Export ",m.toUpperCase()]})})})]})]})})]})}const a9e="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Fn(t){const[e,r]=S.useState(!1),s=()=>{r(!0)},{src:a,alt:i,style:o,className:l,...c}=t;return e?n.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${l??""}`,style:o,children:n.jsx("div",{className:"flex items-center justify-center w-full h-full",children:n.jsx("img",{src:a9e,alt:"Error loading image",...c,"data-original-url":a})})}):n.jsx("img",{src:a,alt:i,className:l,style:o,...c,onError:s})}const tw="/assets/701ad43cc3caf6f9abad86d954bb51aae6accad1-F6BPXkRJ.png",lV="booking_tms_media_items",JC=[{id:1,url:"https://images.unsplash.com/photo-1576086213369-97a306d36557?w=600&h=400&fit=crop",title:"Mystery Manor - Main Room",game:"Mystery Manor",uploadDate:"Oct 20, 2025",size:"2.4 MB"},{id:2,url:"https://images.unsplash.com/photo-1614732414444-096e5f1122d5?w=600&h=400&fit=crop",title:"Space Odyssey - Control Room",game:"Space Odyssey",uploadDate:"Oct 18, 2025",size:"3.1 MB"},{id:3,url:"https://images.unsplash.com/photo-1509248961158-e54f6934749c?w=600&h=400&fit=crop",title:"Zombie Outbreak - Laboratory",game:"Zombie Outbreak",uploadDate:"Oct 15, 2025",size:"2.8 MB"},{id:4,url:"https://images.unsplash.com/photo-1511800453077-8c0afa94175f?w=600&h=400&fit=crop",title:"Treasure Hunt - Cave Entrance",game:"Treasure Hunt",uploadDate:"Oct 12, 2025",size:"2.2 MB"},{id:5,url:"https://images.unsplash.com/photo-1568515387631-8b650bbcdb90?w=600&h=400&fit=crop",title:"Prison Break - Cell Block",game:"Prison Break",uploadDate:"Oct 10, 2025",size:"2.9 MB"},{id:6,url:"https://images.unsplash.com/photo-1518133683791-0b9de5a55f34?w=600&h=400&fit=crop",title:"Wizards Quest - Magical Library",game:"Wizards Quest",uploadDate:"Oct 8, 2025",size:"3.3 MB"},{id:7,url:"https://images.unsplash.com/photo-1542332213-9b5a5a3fad35?w=600&h=400&fit=crop",title:"Mystery Manor - Secret Passage",game:"Mystery Manor",uploadDate:"Oct 5, 2025",size:"2.6 MB"},{id:8,url:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=600&h=400&fit=crop",title:"Space Odyssey - Navigation Deck",game:"Space Odyssey",uploadDate:"Oct 3, 2025",size:"3.0 MB"},{id:9,url:"https://images.unsplash.com/photo-1489514354504-1653aa90e34e?w=600&h=400&fit=crop",title:"Zombie Outbreak - Safe Room",game:"Zombie Outbreak",uploadDate:"Oct 1, 2025",size:"2.5 MB"}];function i9e(){const{theme:t}=fn(),e=t==="dark",r=e?"text-white":"text-gray-900",s=e?"text-[#a3a3a3]":"text-gray-600",a=e?"border-[#2a2a2a]":"border-gray-200",i=e?"bg-[#161616]":"bg-white",o=e?"bg-[#1e1e1e]":"bg-gray-50",l=e?"hover:bg-[#1e1e1e]":"hover:bg-gray-50",c=e?"hover:shadow-[0_0_15px_rgba(79,70,229,0.1)]":"hover:shadow-lg",[d,u]=S.useState(null),[h,f]=S.useState([]),[m,y]=S.useState(!1),[g,v]=S.useState(!1),[b,w]=S.useState(!1),[N,_]=S.useState([]),[C,E]=S.useState(!1),[A,I]=S.useState(!1),[$,O]=S.useState(0),[P,M]=S.useState([]),R=S.useRef(null),[W,Y]=S.useState("image"),[K,L]=S.useState(""),[F,ee]=S.useState("all"),[se,q]=S.useState("grid");S.useEffect(()=>{try{const H=localStorage.getItem(lV);if(H){const Le=JSON.parse(H);Array.isArray(Le)?f(Le.map(Ye=>({id:Number(Ye.id),url:String(Ye.url),title:String(Ye.title),game:String(Ye.game??"Uncategorized"),uploadDate:String(Ye.uploadDate),size:String(Ye.size),type:Ye.type==="video"?"video":"image"}))):f(JC.map(Ye=>({...Ye,type:"image"})))}else f(JC.map(Le=>({...Le,type:"image"})))}catch{f(JC.map(H=>({...H,type:"image"})))}},[]),S.useEffect(()=>{try{localStorage.setItem(lV,JSON.stringify(h))}catch{}},[h]);const z=[{id:"folder1",name:"Escape Room Photos",fileCount:45,type:"folder"},{id:"folder2",name:"Game Marketing",fileCount:23,type:"folder"},{id:"folder3",name:"Customer Events",fileCount:67,type:"folder"}],Z=[{id:"file1",name:"mystery-room-entrance.jpg",size:"3.2 MB",modified:"2 days ago",thumbnail:"https://images.unsplash.com/photo-1576086213369-97a306d36557?w=200&h=200&fit=crop",type:"file"},{id:"file2",name:"space-control-panel.jpg",size:"2.8 MB",modified:"5 days ago",thumbnail:"https://images.unsplash.com/photo-1614732414444-096e5f1122d5?w=200&h=200&fit=crop",type:"file"},{id:"file3",name:"zombie-lab-scene.jpg",size:"4.1 MB",modified:"1 week ago",thumbnail:"https://images.unsplash.com/photo-1509248961158-e54f6934749c?w=200&h=200&fit=crop",type:"file"},{id:"file4",name:"treasure-cave.jpg",size:"3.5 MB",modified:"1 week ago",thumbnail:"https://images.unsplash.com/photo-1511800453077-8c0afa94175f?w=200&h=200&fit=crop",type:"file"},{id:"file5",name:"prison-cell-block.jpg",size:"2.9 MB",modified:"2 weeks ago",thumbnail:"https://images.unsplash.com/photo-1568515387631-8b650bbcdb90?w=200&h=200&fit=crop",type:"file"},{id:"file6",name:"wizard-library.jpg",size:"3.7 MB",modified:"2 weeks ago",thumbnail:"https://images.unsplash.com/photo-1518133683791-0b9de5a55f34?w=200&h=200&fit=crop",type:"file"}],X=h.filter(H=>{const Le=H.title.toLowerCase().includes(K.toLowerCase())||H.game.toLowerCase().includes(K.toLowerCase()),Ye=F==="all"||H.game===F;return Le&&Ye}),Q=H=>{const Le=h.find(Ye=>Number(Ye.id)===Number(H));if(f(Ye=>Ye.filter(xt=>Number(xt.id)!==Number(H))),Le&&typeof Le.url=="string"&&Le.url.startsWith("blob:"))try{URL.revokeObjectURL(Le.url)}catch{}me.success("Media deleted")},ne=async H=>{const Le=H.title.includes(".")?H.title:H.type==="video"?`${H.title.replace(/\s+/g,"_")}.mp4`:`${H.title.replace(/\s+/g,"_")}.jpg`;try{let Ye=H.url,xt=null;if(!Ye.startsWith("blob:")){const ke=await(await fetch(Ye)).blob();Ye=URL.createObjectURL(ke),xt=Ye}const qe=document.createElement("a");qe.href=Ye,qe.download=Le,document.body.appendChild(qe),qe.click(),qe.remove(),xt&&setTimeout(()=>URL.revokeObjectURL(xt),1e3),me.success("Download started")}catch{window.open(H.url,"_blank"),me.info("Opened in new tab")}},ce=()=>{setTimeout(()=>{y(!0),v(!1),me.success("Google Drive connected successfully")},1500)},ie=()=>{y(!1),me.success("Google Drive disconnected")},pe=H=>{_(Le=>Le.includes(H)?Le.filter(Ye=>Ye!==H):[...Le,H])},ae=()=>{if(N.length===0){me.error("Please select at least one file to import");return}me.success(`Importing ${N.length} file${N.length>1?"s":""} from Google Drive`),w(!1),_([])},be=()=>{E(!0)},we=()=>{R.current?.click()},Ie=H=>{const Ye=Array.from(H.target?.files||[]).filter(xt=>W==="image"?xt.type?.startsWith("image/"):xt.type?.startsWith("video/"));M(Ye)},Ee=()=>{if(P.length===0){me.error("Please select files to upload");return}I(!0),O(0);const H=setInterval(()=>{O(Le=>{if(Le>=100){clearInterval(H);const xt=new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),qe=h.length?Math.max(...h.map(ke=>Number(ke.id))):0,ft=P.map((ke,lt)=>({id:qe+lt+1,url:URL.createObjectURL(ke),title:ke.name,game:"Uncategorized",uploadDate:xt,size:`${(ke.size/(1024*1024)).toFixed(1)} MB`,type:ke.type?.startsWith("video/")?"video":"image"}));return f(ke=>[...ft,...ke]),setTimeout(()=>{I(!1),E(!1),O(0),M([]),me.success("Photos and videos uploaded successfully")},500),100}return Le+10})},200)};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(ui,{title:"Media Library",description:"Manage photos and media for your games",sticky:!0,action:n.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[m?n.jsxs(J,{variant:"outline",className:`h-11 flex-1 sm:flex-initial ${e?"border-emerald-500/30 bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-400":"border-green-200 bg-green-50 hover:bg-green-100"}`,onClick:()=>w(!0),children:[n.jsx("img",{src:tw,alt:"Google Drive",className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Import from Drive"})]}):n.jsxs(J,{variant:"outline",onClick:()=>v(!0),className:"h-11 flex-1 sm:flex-initial",children:[n.jsx(yse,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Connect Google Drive"})]}),n.jsxs(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",onClick:be,children:[n.jsx(Qo,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Upload Media"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx(ve,{className:`${i} border ${a} shadow-sm ${c} transition-all`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Total Photos"}),n.jsx("p",{className:`text-2xl mt-2 ${r}`,children:h.length})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(qc,{className:`w-6 h-6 ${e?"text-[#6366f1]":"text-blue-600"}`})})]})})}),n.jsx(ve,{className:`${i} border ${a} shadow-sm ${c} transition-all`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Uploaded This Month"}),n.jsx("p",{className:`text-2xl mt-2 ${r}`,children:"24"})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-emerald-500/20":"bg-green-100"}`,children:n.jsx(Is,{className:`w-6 h-6 ${e?"text-emerald-400":"text-green-600"}`})})]})})}),n.jsx(ve,{className:`${i} border ${a} shadow-sm ${c} transition-all`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Storage Used"}),n.jsx("p",{className:`text-2xl mt-2 ${r}`,children:"124.5 MB"})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-purple-500/20":"bg-purple-100"}`,children:n.jsx(hW,{className:`w-6 h-6 ${e?"text-purple-400":"text-purple-600"}`})})]})})})]}),m&&n.jsx(ve,{className:`border shadow-sm ${e?"bg-emerald-500/10 border-emerald-500/30":"bg-green-50 border-green-200"}`,children:n.jsx(Te,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:tw,alt:"Google Drive",className:"w-8 h-8 flex-shrink-0"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:`text-sm ${e?"text-emerald-300":"text-green-900"}`,children:"Google Drive Connected"}),n.jsx(Tt,{className:`w-4 h-4 ${e?"text-emerald-400":"text-green-600"}`})]}),n.jsx("p",{className:`text-xs ${e?"text-emerald-400/70":"text-green-700"}`,children:"Access your photos directly from Google Drive"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>w(!0),children:[n.jsx(I4,{className:"w-4 h-4 mr-2"}),"Browse Drive"]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:ie,className:e?"text-red-400 hover:text-red-300 hover:bg-red-500/10":"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Disconnect"})]})]})})}),n.jsx(ve,{className:`${i} border ${a} shadow-sm`,children:n.jsx(Te,{className:"p-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ba,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${e?"text-[#737373]":"text-gray-400"}`}),n.jsx(ge,{placeholder:"Search photos by title or game...",value:K,onChange:H=>L(H.target.value),className:"pl-10 h-11"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Kt,{value:F,onValueChange:ee,children:[n.jsxs(Xt,{className:"w-[160px] h-11",children:[n.jsx(Ld,{className:"w-4 h-4 mr-2"}),n.jsx(Yt,{placeholder:"All Games"})]}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"all",children:"All Games"}),n.jsx(Ce,{value:"Mystery Manor",children:"Mystery Manor"}),n.jsx(Ce,{value:"Space Odyssey",children:"Space Odyssey"}),n.jsx(Ce,{value:"Zombie Outbreak",children:"Zombie Outbreak"}),n.jsx(Ce,{value:"Treasure Hunt",children:"Treasure Hunt"}),n.jsx(Ce,{value:"Prison Break",children:"Prison Break"}),n.jsx(Ce,{value:"Wizards Quest",children:"Wizards Quest"}),n.jsx(Ce,{value:"Uncategorized",children:"Uncategorized"})]})]}),n.jsxs("div",{className:"flex gap-1 border rounded-lg p-1",children:[n.jsx(J,{variant:se==="grid"?"default":"ghost",size:"icon",onClick:()=>q("grid"),className:"h-8 w-8",style:{backgroundColor:se==="grid"&&e?"#4f46e5":void 0},children:n.jsx(_P,{className:"w-4 h-4"})}),n.jsx(J,{variant:se==="list"?"default":"ghost",size:"icon",onClick:()=>q("list"),className:"h-8 w-8",style:{backgroundColor:se==="list"&&e?"#4f46e5":void 0},children:n.jsx(CP,{className:"w-4 h-4"})})]})]})]})})}),n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsx(st,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(at,{className:r,children:"Photo Gallery"}),n.jsxs(ze,{variant:"secondary",className:e?"bg-[#1e1e1e] text-[#a3a3a3]":"bg-gray-100 text-gray-700",children:[X.length," photos"]})]})}),n.jsx(Te,{className:"p-6 pt-0",children:X.length===0?n.jsxs("div",{className:`text-center py-12 ${s}`,children:[n.jsx(qc,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No photos found"})]}):se==="grid"?n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:X.map(H=>n.jsxs("div",{className:`group relative rounded-lg overflow-hidden border ${a} ${i} ${c} transition-all cursor-pointer`,children:[n.jsxs("div",{className:`aspect-video relative overflow-hidden ${o}`,children:[H.type==="video"?n.jsx("video",{src:H.url,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",muted:!0,playsInline:!0,preload:"metadata"}):n.jsx(Fn,{src:H.url,alt:H.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all flex items-center justify-center",children:n.jsx(J,{variant:"secondary",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity bg-white",onClick:()=>u(H),children:n.jsx(Ln,{className:"w-4 h-4"})})})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:`text-sm truncate ${r}`,children:H.title}),n.jsx(ze,{variant:"secondary",className:`mt-1 text-xs ${e?"bg-[#4f46e5]/20 text-[#6366f1]":"bg-blue-50 text-blue-700"}`,children:H.game})]}),n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"icon",className:"h-8 w-8",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{onClick:()=>u(H),children:[n.jsx(Ln,{className:"w-4 h-4 mr-2"}),"View Full Size"]}),n.jsxs(Et,{onClick:()=>ne(H),children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Download"]}),n.jsxs(Et,{onClick:()=>Q(H.id),className:e?"text-red-400":"text-red-600",children:[n.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),n.jsxs("div",{className:`flex items-center justify-between text-xs ${s}`,children:[n.jsx("span",{children:H.uploadDate}),n.jsx("span",{children:H.size})]})]})]},H.id))}):n.jsx("div",{className:"space-y-2",children:X.map(H=>n.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${a} ${l} transition-all cursor-pointer`,children:[n.jsx("div",{className:`w-20 h-20 rounded overflow-hidden flex-shrink-0 ${o}`,children:H.type==="video"?n.jsx("video",{src:H.url,className:"w-full h-full object-cover",muted:!0,playsInline:!0,preload:"metadata"}):n.jsx(Fn,{src:H.url,alt:H.title,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:`text-sm ${r}`,children:H.title}),n.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[n.jsx(ze,{variant:"secondary",className:`text-xs ${e?"bg-[#4f46e5]/20 text-[#6366f1]":"bg-blue-50 text-blue-700"}`,children:H.game}),n.jsx("span",{className:`text-xs ${s}`,children:H.uploadDate}),n.jsx("span",{className:`text-xs ${s}`,children:H.size})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(J,{variant:"ghost",size:"icon",onClick:()=>u(H),children:n.jsx(Ln,{className:"w-4 h-4"})}),n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"icon",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{onClick:()=>ne(H),children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Download"]}),n.jsxs(Et,{onClick:()=>Q(H.id),className:e?"text-red-400":"text-red-600",children:[n.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})]},H.id))})})]}),n.jsx(or,{open:!!d,onOpenChange:()=>u(null),children:n.jsxs(lr,{className:`max-w-4xl ${e?"bg-[#161616] border-[#2a2a2a]":""}`,children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:r,children:d?.title}),n.jsxs(xr,{className:s,children:[d?.game,"  ",d?.uploadDate,"  ",d?.size]})]}),d&&n.jsx("div",{className:"mt-4",children:n.jsx(Fn,{src:d.url,alt:d.title,className:"w-full h-auto rounded-lg"})}),n.jsxs(wn,{children:[n.jsx(J,{variant:"outline",onClick:()=>u(null),children:"Close"}),n.jsxs(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:e?"":"bg-blue-600 hover:bg-blue-700",onClick:()=>d&&ne(d),children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})}),n.jsx(or,{open:g,onOpenChange:v,children:n.jsxs(lr,{className:`max-w-md ${e?"bg-[#161616] border-[#2a2a2a]":""}`,children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:r,children:"Connect Google Drive"}),n.jsx(xr,{className:s,children:"Connect your Google Drive to easily import and manage photos"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsx("div",{className:"flex items-center justify-center py-6",children:n.jsx("img",{src:tw,alt:"Google Drive",className:"w-20 h-20"})}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg ${e?"bg-[#4f46e5]/10":"bg-blue-50"}`,children:[n.jsx(Tt,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${e?"text-[#e0e7ff]":"text-blue-900"}`,children:"Access Your Photos"}),n.jsx("p",{className:`text-xs mt-0.5 ${e?"text-[#c7d2fe]":"text-blue-700"}`,children:"Browse and import photos directly from your Google Drive"})]})]}),n.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg ${e?"bg-[#4f46e5]/10":"bg-blue-50"}`,children:[n.jsx(Tt,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${e?"text-[#e0e7ff]":"text-blue-900"}`,children:"Automatic Sync"}),n.jsx("p",{className:`text-xs mt-0.5 ${e?"text-[#c7d2fe]":"text-blue-700"}`,children:"Keep your media library in sync with your Drive folders"})]})]}),n.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg ${e?"bg-[#4f46e5]/10":"bg-blue-50"}`,children:[n.jsx(Tt,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${e?"text-[#e0e7ff]":"text-blue-900"}`,children:"Save Storage Space"}),n.jsx("p",{className:`text-xs mt-0.5 ${e?"text-[#c7d2fe]":"text-blue-700"}`,children:"Reference files from Drive without using local storage"})]})]})]}),n.jsx(tt,{className:a}),n.jsxs("div",{className:`p-3 rounded-lg text-xs ${o} ${s}`,children:[n.jsx("p",{className:"mb-2",children:"By connecting Google Drive, you authorize BookingTMS to:"}),n.jsxs("ul",{className:"space-y-1 ml-4 list-disc",children:[n.jsx("li",{children:"View and manage files in your Google Drive"}),n.jsx("li",{children:"Upload files to your Google Drive"}),n.jsx("li",{children:"Access file metadata and permissions"})]})]})]}),n.jsxs(wn,{className:"gap-2",children:[n.jsx(J,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),n.jsxs(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:e?"":"bg-blue-600 hover:bg-blue-700",onClick:ce,children:[n.jsx("img",{src:tw,alt:"",className:"w-4 h-4 mr-2"}),"Connect Google Drive"]})]})]})}),n.jsx(or,{open:b,onOpenChange:w,children:n.jsxs(lr,{className:`max-w-3xl ${e?"bg-[#161616] border-[#2a2a2a]":""}`,children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:r,children:"Import from Google Drive"}),n.jsx(xr,{className:s,children:"Select photos from your Google Drive to import into your media library"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:`text-sm mb-3 flex items-center gap-2 ${r}`,children:[n.jsx(I4,{className:"w-4 h-4"}),"Folders"]}),n.jsx("div",{className:"grid grid-cols-3 gap-3",children:z.map(H=>n.jsxs("button",{className:`p-3 border rounded-lg transition-all text-left ${e?"border-[#2a2a2a] hover:border-[#4f46e5] hover:bg-[#4f46e5]/10":"border-gray-200 hover:border-blue-600 hover:bg-blue-50"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(I4,{className:`w-5 h-5 ${s}`}),n.jsx("p",{className:`text-sm truncate ${r}`,children:H.name})]}),n.jsxs("p",{className:`text-xs ${s}`,children:[H.fileCount," files"]})]},H.id))})]}),n.jsx(tt,{className:a}),n.jsxs("div",{children:[n.jsxs("h3",{className:`text-sm mb-3 flex items-center gap-2 ${r}`,children:[n.jsx(Fse,{className:"w-4 h-4"}),"Recent Files"]}),n.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:Z.map(H=>n.jsxs("div",{className:`flex items-center gap-3 p-3 border rounded-lg cursor-pointer transition-all ${N.includes(H.id)?e?"border-[#4f46e5] bg-[#4f46e5]/10":"border-blue-600 bg-blue-50":e?`border-[#2a2a2a] ${l}`:"border-gray-200 hover:bg-gray-50"}`,onClick:()=>pe(H.id),children:[n.jsx(_u,{checked:N.includes(H.id),onCheckedChange:()=>pe(H.id)}),n.jsx("div",{className:`w-16 h-16 rounded overflow-hidden flex-shrink-0 ${o}`,children:n.jsx(Fn,{src:H.thumbnail,alt:H.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:`text-sm truncate ${r}`,children:H.name}),n.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[n.jsx("span",{className:`text-xs ${s}`,children:H.size}),n.jsxs("span",{className:`text-xs ${s}`,children:["Modified ",H.modified]})]})]}),n.jsx(Ds,{className:`w-4 h-4 flex-shrink-0 ${s}`})]},H.id))})]}),N.length>0&&n.jsx("div",{className:`p-3 rounded-lg border ${e?"bg-[#4f46e5]/10 border-[#4f46e5]/30":"bg-blue-50 border-blue-200"}`,children:n.jsxs("p",{className:`text-sm ${e?"text-[#e0e7ff]":"text-blue-900"}`,children:[N.length," file",N.length>1?"s":""," selected"]})})]}),n.jsxs(wn,{className:"gap-2",children:[n.jsx(J,{variant:"outline",onClick:()=>{w(!1),_([])},children:"Cancel"}),n.jsxs(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:e?"":"bg-blue-600 hover:bg-blue-700",onClick:ae,disabled:N.length===0,children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Import ",N.length>0?`(${N.length})`:""]})]})]})}),n.jsx(or,{open:C,onOpenChange:E,children:n.jsxs(lr,{className:e?"bg-[#161616] border-[#2a2a2a]":"",children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:r,children:"Upload Photos & Videos"}),n.jsx(xr,{className:s,children:"Upload media files from your device to your library"})]}),n.jsx("div",{className:"space-y-4",children:A?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(Qo,{className:`w-12 h-12 mx-auto mb-3 ${e?"text-[#6366f1]":"text-blue-600"} animate-pulse`}),n.jsx("p",{className:`text-sm ${r}`,children:"Uploading files..."}),n.jsxs("p",{className:`text-xs mt-1 ${s}`,children:[$,"% complete"]})]}),n.jsx($h,{value:$,className:"w-full"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${e?"border-[#2a2a2a] hover:border-[#4f46e5] bg-[#0a0a0a]":"border-gray-300 hover:border-blue-500 bg-gray-50"}`,onClick:we,children:[n.jsx(Qo,{className:`w-12 h-12 mx-auto mb-3 ${s}`}),n.jsx("p",{className:`text-sm mb-1 ${r}`,children:"Drag and drop files here or click to browse"}),n.jsx("p",{className:`text-xs ${s}`,children:"Supports: JPG, PNG, GIF, MP4, MOV (Max 50MB per file)"}),n.jsxs(J,{className:"mt-4",style:{backgroundColor:e?"#4f46e5":void 0},onClick:we,children:[n.jsx(Qo,{className:"w-4 h-4 mr-2"}),"Choose Files"]}),n.jsx("input",{ref:R,type:"file",multiple:!0,accept:W==="image"?"image/*":"video/*",className:"hidden",onChange:Ie})]}),P.length>0&&n.jsxs("div",{className:`p-3 rounded-lg border ${e?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-gray-50 border-gray-200"}`,children:[n.jsxs("p",{className:`text-sm ${r}`,children:[P.length," file(s) selected"]}),n.jsx("ul",{className:"text-xs mt-2 space-y-1",children:P.map(H=>n.jsxs("li",{className:s,children:[H.name,"  ",(H.size/(1024*1024)).toFixed(1)," MB"]},`${H.name}-${H.size}`))}),n.jsx("div",{className:"flex gap-2 mt-2",children:n.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>M([]),children:[n.jsx(In,{className:"w-4 h-4 mr-1"})," Clear"]})})]}),n.jsxs("div",{children:[n.jsx(re,{className:`text-sm mb-2 ${r}`,children:"File Type"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[n.jsxs("button",{className:`p-3 border-2 rounded-lg text-left ${W==="image"?e?"border-[#4f46e5] bg-[#4f46e5]/10":"border-blue-600 bg-blue-50":e?`border-[#2a2a2a] ${l}`:"border-gray-200 hover:border-gray-300"}`,onClick:()=>Y("image"),"aria-pressed":W==="image",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(qc,{className:`w-4 h-4 ${W==="image"?e?"text-[#6366f1]":"text-blue-600":s}`}),n.jsx("p",{className:`text-sm ${r}`,children:"Photos"})]}),n.jsx("p",{className:`text-xs ${s}`,children:"JPG, PNG, GIF"})]}),n.jsxs("button",{className:`p-3 border-2 rounded-lg text-left ${W==="video"?e?"border-[#4f46e5] bg-[#4f46e5]/10":"border-blue-600 bg-blue-50":e?`border-[#2a2a2a] ${l}`:"border-gray-200 hover:border-gray-300"}`,onClick:()=>Y("video"),"aria-pressed":W==="video",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx($s,{className:`w-4 h-4 ${W==="video"?e?"text-[#6366f1]":"text-blue-600":s}`}),n.jsx("p",{className:`text-sm ${r}`,children:"Videos"})]}),n.jsx("p",{className:`text-xs ${s}`,children:"MP4, MOV, AVI"})]})]})]}),m&&n.jsx("div",{className:`p-3 rounded-lg border ${e?"bg-emerald-500/10 border-emerald-500/30":"bg-green-50 border-green-200"}`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:`w-4 h-4 mt-0.5 ${e?"text-emerald-400":"text-green-600"}`}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${e?"text-emerald-300":"text-green-900"}`,children:"Google Drive Connected"}),n.jsx("p",{className:`text-xs mt-1 ${e?"text-emerald-400/70":"text-green-700"}`,children:"Files will be automatically backed up to your Google Drive"})]})]})})]})}),n.jsxs(wn,{className:"gap-2",children:[n.jsx(J,{variant:"outline",onClick:()=>E(!1),disabled:A,children:"Cancel"}),n.jsxs(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:e?"":"bg-blue-600 hover:bg-blue-700",onClick:Ee,disabled:A,children:[n.jsx(Qo,{className:"w-4 h-4 mr-2"}),"Upload Files"]})]})]})})]})}const o9e=[{value:"liability",label:"Liability Waiver",icon:""},{value:"minor",label:"Minor Consent",icon:""},{value:"photo",label:"Photo/Video Release",icon:""},{value:"medical",label:"Medical Disclosure",icon:""},{value:"health",label:"Health Screening",icon:""},{value:"custom",label:"Custom",icon:""}],l9e=["Full Name","Date of Birth","Email","Phone","Address","Emergency Contact","Parent/Guardian Name","Parent Email","Parent Phone","Medical Conditions","Allergies","Medications","Signature","Date"];function c9e({template:t,isOpen:e,onClose:r,onSave:s}){const{theme:a}=fn(),i=a==="dark",o=i?"text-white":"text-gray-900",l=i?"text-[#a3a3a3]":"text-gray-600",c=i?"border-[#2a2a2a]":"border-gray-200",d=i?"bg-[#1e1e1e]":"bg-gray-50",[u,h]=S.useState({id:t?.id||`TPL-${String(Date.now()).slice(-3)}`,name:t?.name||"",description:t?.description||"",type:t?.type||"liability",content:t?.content||"",status:t?.status||"draft",requiredFields:t?.requiredFields||["Full Name","Email","Signature"],assignedGames:t?.assignedGames||[],createdDate:t?.createdDate||new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),lastModified:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),usageCount:t?.usageCount||0}),[f,m]=S.useState("basic"),y=v=>{u.requiredFields.includes(v)?h({...u,requiredFields:u.requiredFields.filter(b=>b!==v)}):h({...u,requiredFields:[...u.requiredFields,v]})},g=()=>{if(!u.name||!u.description){me.error("Please fill in all required fields");return}s(u),r()};return n.jsx(or,{open:e,onOpenChange:r,children:n.jsxs(lr,{className:`max-w-4xl max-h-[90vh] overflow-y-auto ${i?"bg-[#161616] border-[#2a2a2a]":""}`,children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:o,children:t?"Edit Waiver Template":"Create New Waiver Template"}),n.jsx(xr,{className:l,children:t?"Update template details and content":"Create a new waiver template for your customers"})]}),n.jsxs(ta,{value:f,onValueChange:m,children:[n.jsxs(pa,{className:"w-full",children:[n.jsxs(Ft,{value:"basic",className:"flex-1",children:[n.jsx(sm,{className:"w-4 h-4 mr-2"}),"Basic Info"]}),n.jsxs(Ft,{value:"content",className:"flex-1",children:[n.jsx($s,{className:"w-4 h-4 mr-2"}),"Content"]}),n.jsxs(Ft,{value:"fields",className:"flex-1",children:[n.jsx(jie,{className:"w-4 h-4 mr-2"}),"Fields"]})]}),n.jsx(Bt,{value:"basic",className:"space-y-4 mt-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"name",className:o,children:"Template Name *"}),n.jsx(ge,{id:"name",value:u.name,onChange:v=>h({...u,name:v.target.value}),placeholder:"e.g., Standard Liability Waiver",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"description",className:o,children:"Description *"}),n.jsx(mn,{id:"description",value:u.description,onChange:v=>h({...u,description:v.target.value}),placeholder:"Brief description of this waiver template",rows:3})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"type",className:o,children:"Template Type"}),n.jsxs(Kt,{value:u.type,onValueChange:v=>h({...u,type:v}),children:[n.jsx(Xt,{className:"h-11",children:n.jsx(Yt,{})}),n.jsx(Zt,{className:i?"bg-[#161616] border-[#2a2a2a]":"",children:o9e.map(v=>n.jsx(Ce,{value:v.value,children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{children:v.icon}),v.label]})},v.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"status",className:o,children:"Status"}),n.jsxs(Kt,{value:u.status,onValueChange:v=>h({...u,status:v}),children:[n.jsx(Xt,{className:"h-11",children:n.jsx(Yt,{})}),n.jsxs(Zt,{className:i?"bg-[#161616] border-[#2a2a2a]":"",children:[n.jsx(Ce,{value:"active",children:"Active"}),n.jsx(Ce,{value:"inactive",children:"Inactive"}),n.jsx(Ce,{value:"draft",children:"Draft"})]})]})]})]})]})}),n.jsxs(Bt,{value:"content",className:"space-y-4 mt-4",children:[n.jsx("div",{className:`p-4 rounded-lg border ${i?"bg-[#4f46e5]/10 border-[#4f46e5]/30":"bg-blue-50 border-blue-200"}`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(rs,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${i?"text-[#6366f1]":"text-blue-600"}`}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${i?"text-[#e0e7ff]":"text-blue-900"}`,children:"Waiver Content"}),n.jsxs("p",{className:`text-xs mt-1 ${i?"text-[#c7d2fe]":"text-blue-700"}`,children:["Write the full text of your waiver. You can use ","{","FIELD_NAME","}"," placeholders for dynamic fields."]})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"content",className:o,children:"Waiver Text"}),n.jsx(mn,{id:"content",value:u.content,onChange:v=>h({...u,content:v.target.value}),placeholder:"Enter the full waiver text here...",rows:15,className:"font-mono text-sm"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(ze,{variant:"secondary",className:"cursor-pointer",children:["{","FULL_NAME","}"]}),n.jsxs(ze,{variant:"secondary",className:"cursor-pointer",children:["{","EMAIL","}"]}),n.jsxs(ze,{variant:"secondary",className:"cursor-pointer",children:["{","DATE","}"]}),n.jsxs(ze,{variant:"secondary",className:"cursor-pointer",children:["{","SIGNATURE","}"]})]})]}),n.jsxs(Bt,{value:"fields",className:"space-y-4 mt-4",children:[n.jsx("div",{className:`p-4 rounded-lg border ${i?"bg-[#4f46e5]/10 border-[#4f46e5]/30":"bg-blue-50 border-blue-200"}`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(rs,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${i?"text-[#6366f1]":"text-blue-600"}`}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${i?"text-[#e0e7ff]":"text-blue-900"}`,children:"Required Fields"}),n.jsx("p",{className:`text-xs mt-1 ${i?"text-[#c7d2fe]":"text-blue-700"}`,children:"Select which fields customers must fill out when signing this waiver"})]})]})}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:l9e.map(v=>n.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${c} ${d}`,children:[n.jsx(re,{htmlFor:`field-${v}`,className:`text-sm ${o} cursor-pointer`,children:v}),n.jsx(Wt,{id:`field-${v}`,checked:u.requiredFields.includes(v),onCheckedChange:()=>y(v)})]},v))}),n.jsx(tt,{className:c}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:o,children:["Selected Fields (",u.requiredFields.length,")"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:u.requiredFields.map(v=>n.jsxs(ze,{className:i?"bg-[#4f46e5]/20 text-[#6366f1] border-0":"bg-blue-100 text-blue-700 border-0",children:[v,n.jsx(In,{className:"w-3 h-3 ml-1 cursor-pointer",onClick:()=>y(v)})]},v))})]})]})]}),n.jsxs(wn,{children:[n.jsx(J,{variant:"outline",onClick:r,className:"h-11",children:"Cancel"}),n.jsxs(J,{style:{backgroundColor:i?"#4f46e5":void 0},className:`h-11 ${i?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700"}`,onClick:g,children:[n.jsx(ki,{className:"w-4 h-4 mr-2"}),t?"Update Template":"Create Template"]})]})]})})}function d9e({template:t,waiver:e,isOpen:r,onClose:s}){const{theme:a}=fn(),i=a==="dark",o=i?"text-white":"text-gray-900",l=i?"text-[#a3a3a3]":"text-gray-600",c=i?"border-[#2a2a2a]":"border-gray-200",d=i?"bg-[#161616]":"bg-white",u=i?"bg-[#1e1e1e]":"bg-gray-50",h=()=>{try{if(!e){me.info("No waiver record to download");return}const g=new wr,v=15;let b=20;g.setFont("helvetica","normal"),g.setFontSize(16),g.text("Waiver Record",v,b),b+=10,g.setFontSize(11),[`Waiver ID: ${e.id}`,`Template: ${e.templateName}`,`Customer: ${e.customer}`,`Email: ${e.email}`,`Game: ${e.game}`,`Status: ${e.status}`,`Signed Date: ${e.signedDate}`].forEach(C=>{g.text(C,v,b),b+=8}),b+=4,g.setFontSize(12),g.text("Waiver Content",v,b),b+=6,g.setFontSize(11);const N=t?.content||e?.content||"(No content provided)";g.splitTextToSize(N,180).forEach(C=>{b>280&&(g.addPage(),b=20),g.text(C,v,b),b+=7}),g.save(`${e.id}.pdf`),me.success("Downloaded waiver PDF")}catch(g){console.error("Failed to download waiver",g),me.error("Failed to download waiver")}},f=()=>{me.success("Sending waiver via email...")},m=e||t,y=!!e;return n.jsx(or,{open:r,onOpenChange:s,children:n.jsxs(lr,{className:`max-w-4xl max-h-[90vh] overflow-y-auto ${i?"bg-[#161616] border-[#2a2a2a]":""}`,children:[n.jsxs(Nr,{children:[n.jsx(xr,{className:"sr-only",children:y?"View and manage signed waiver record with participant information and digital signature.":"Preview waiver template content, terms, and required fields."}),n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx(cr,{className:o,children:y?"Waiver Record":"Template Preview"}),m&&n.jsx("p",{className:`text-sm mt-1 ${l}`,children:y?m.templateName:m.name})]}),y&&n.jsxs(ze,{className:e.status==="signed"?i?"bg-emerald-500/20 text-emerald-400 border-0":"bg-green-100 text-green-700 border-0":i?"bg-yellow-500/20 text-yellow-400 border-0":"bg-yellow-100 text-yellow-700 border-0",children:[n.jsx(Tt,{className:"w-3 h-3 mr-1"}),e.status]})]})]}),n.jsxs("div",{className:"space-y-6",children:[y&&e&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`p-4 rounded-lg border ${c} ${u}`,children:[n.jsx("h3",{className:`text-sm mb-3 ${o}`,children:"Customer Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:`flex items-center gap-2 text-sm ${l}`,children:[n.jsx(ca,{className:"w-4 h-4"}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${l}`,children:"Customer"}),n.jsx("p",{className:o,children:e.customer})]})]}),n.jsxs("div",{className:`flex items-center gap-2 text-sm ${l}`,children:[n.jsx(Gn,{className:"w-4 h-4"}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${l}`,children:"Email"}),n.jsx("p",{className:o,children:e.email})]})]}),n.jsxs("div",{className:`flex items-center gap-2 text-sm ${l}`,children:[n.jsx(ic,{className:"w-4 h-4"}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${l}`,children:"Game"}),n.jsx("p",{className:o,children:e.game})]})]}),n.jsxs("div",{className:`flex items-center gap-2 text-sm ${l}`,children:[n.jsx(Nn,{className:"w-4 h-4"}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${l}`,children:"Signed Date"}),n.jsx("p",{className:o,children:e.signedDate})]})]})]})]}),n.jsx(tt,{className:c})]}),!y&&t&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`p-4 rounded-lg border ${c} ${u}`,children:[n.jsx("h3",{className:`text-sm mb-3 ${o}`,children:"Template Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${l}`,children:"Type"}),n.jsx("p",{className:`text-sm ${o}`,children:t.type})]}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${l}`,children:"Status"}),n.jsx(ze,{className:t.status==="active"?i?"bg-emerald-500/20 text-emerald-400 border-0":"bg-green-100 text-green-700 border-0":i?"bg-[#2a2a2a] text-[#a3a3a3] border-0":"bg-gray-100 text-gray-700 border-0",children:t.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${l}`,children:"Created"}),n.jsx("p",{className:`text-sm ${o}`,children:t.createdDate})]}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${l}`,children:"Last Modified"}),n.jsx("p",{className:`text-sm ${o}`,children:t.lastModified})]})]})]}),n.jsxs("div",{className:`p-4 rounded-lg border ${c} ${u}`,children:[n.jsxs("h3",{className:`text-sm mb-3 ${o}`,children:["Required Fields (",t.requiredFields?.length||0,")"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:t.requiredFields?.map(g=>n.jsx(ze,{variant:"secondary",className:i?"bg-[#2a2a2a] text-[#a3a3a3] border-0":"",children:g},g))})]}),n.jsx(tt,{className:c})]}),n.jsxs("div",{className:`p-6 rounded-lg border ${c} ${d}`,children:[n.jsx("h3",{className:`text-sm mb-4 ${o}`,children:"Waiver Content"}),n.jsx("div",{className:`prose max-w-none ${i?"prose-invert":""}`,children:m?.content?n.jsx("div",{className:`whitespace-pre-wrap text-sm ${o}`,children:m.content}):n.jsxs("div",{className:`p-8 text-center ${u} rounded-lg`,children:[n.jsx($s,{className:`w-12 h-12 mx-auto mb-2 ${l}`}),n.jsx("p",{className:l,children:"No content available"}),n.jsx("p",{className:`text-xs mt-1 ${l}`,children:y?"This waiver has no content":"Edit this template to add content"})]})})]}),y&&e?.status==="signed"&&n.jsxs(n.Fragment,{children:[n.jsx(tt,{className:c}),n.jsxs("div",{className:`p-4 rounded-lg border ${c} ${u}`,children:[n.jsx("h3",{className:`text-sm mb-3 ${o}`,children:"Signature"}),n.jsx("div",{className:`p-4 rounded border ${c} ${d}`,children:n.jsxs("p",{className:`italic ${l}`,children:["Signed electronically by ",e.customer," on ",e.signedDate]})})]})]})]}),n.jsx(wn,{children:n.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[y&&n.jsxs(n.Fragment,{children:[n.jsxs(J,{variant:"outline",onClick:f,className:"h-11",children:[n.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Send Email"]}),n.jsxs(J,{variant:"outline",onClick:h,className:"h-11",children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]}),n.jsx(J,{variant:y?"default":"outline",onClick:s,style:{backgroundColor:i&&!y?void 0:i?"#4f46e5":void 0},className:`h-11 ${i&&!y?"":i?"text-white hover:bg-[#4338ca]":y?"bg-blue-600 hover:bg-blue-700":""}`,children:"Close"})]})})]})})}const u9e=[{id:"ATT-001",name:"Sarah Johnson",email:"sarah.j@email.com",phone:"+1 (555) 123-4567",waiverStatus:"signed",waiverDate:"Oct 29, 2025",isMinor:!1},{id:"ATT-002",name:"Mike Chen",email:"mike.c@email.com",phone:"+1 (555) 234-5678",waiverStatus:"signed",waiverDate:"Oct 29, 2025",isMinor:!1},{id:"ATT-003",name:"Emily Davis",email:"emily.d@email.com",phone:"+1 (555) 345-6789",waiverStatus:"pending",waiverDate:"-",isMinor:!1},{id:"ATT-004",name:"Tommy Davis",email:"parent@email.com",phone:"+1 (555) 345-6789",waiverStatus:"signed",waiverDate:"Oct 29, 2025",isMinor:!0},{id:"ATT-005",name:"Alex Thompson",email:"alex.t@email.com",phone:"+1 (555) 456-7890",waiverStatus:"pending",waiverDate:"-",isMinor:!1}];function h9e({booking:t,isOpen:e,onClose:r}){const{theme:s}=fn(),a=s==="dark",i=a?"text-white":"text-gray-900",o=a?"text-[#a3a3a3]":"text-gray-600",l=a?"border-[#2a2a2a]":"border-gray-200",c=a?"bg-[#1e1e1e]":"bg-gray-50",d=a?"hover:bg-[#1e1e1e]":"hover:bg-gray-50",[u,h]=S.useState(""),[f,m]=S.useState("all"),[y]=S.useState(u9e),g=y.filter(E=>{const A=E.name.toLowerCase().includes(u.toLowerCase())||E.email.toLowerCase().includes(u.toLowerCase()),I=f==="all"||E.waiverStatus===f;return A&&I}),v={total:y.length,signed:y.filter(E=>E.waiverStatus==="signed").length,pending:y.filter(E=>E.waiverStatus==="pending").length,minors:y.filter(E=>E.isMinor).length},b=()=>{const E=v.pending;me.success(`Sending reminders to ${E} attendees...`)},w=E=>{if(E==null)return"";const A=String(E),I=/[",\n]/.test(A),$=A.replace(/"/g,'""');return I?`"${$}"`:$},N=E=>{const A=["Attendee ID","Name","Email","Phone","Waiver Status","Signed Date","Type",t?.id?"Booking ID":void 0].filter(Boolean),I=E.map($=>[w($.id),w($.name),w($.email),w($.phone),w($.waiverStatus),w($.waiverDate),w($.isMinor?"Minor":"Adult"),t?.id?w(t.id):void 0].filter(O=>O!==void 0).join(","));return[A.join(","),...I].join(`
`)},_=(E,A)=>{const I=new Blob([E],{type:"text/csv;charset=utf-8;"}),$=URL.createObjectURL(I),O=document.createElement("a");O.href=$,O.download=A,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL($)},C=()=>{const E=g;if(E.length===0){me.info("No attendees to export for current filters.");return}const A=N(E),I=new Date,$=`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}-${String(I.getDate()).padStart(2,"0")}_${String(I.getHours()).padStart(2,"0")}${String(I.getMinutes()).padStart(2,"0")}`,P=`${t?.id?`attendees_${t.id}`:"attendees_all"}_${$}.csv`;_(A,P),me.success(`Exported ${E.length} attendee${E.length>1?"s":""} to ${P}`)};return n.jsx(or,{open:e,onOpenChange:r,children:n.jsxs(lr,{className:`max-w-5xl max-h-[90vh] overflow-hidden flex flex-col ${a?"bg-[#161616] border-[#2a2a2a]":""}`,children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:i,children:"Attendee List"}),n.jsx(xr,{className:o,children:t?`Viewing attendees for booking ${t.id}`:"All upcoming bookings attendees"})]}),n.jsxs("div",{className:"space-y-4 overflow-y-auto flex-1",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[n.jsx("div",{className:`p-3 rounded-lg border ${l} ${c}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${o}`,children:"Total"}),n.jsx("p",{className:`text-xl mt-1 ${i}`,children:v.total})]}),n.jsx(Wr,{className:`w-5 h-5 ${a?"text-[#6366f1]":"text-blue-600"}`})]})}),n.jsx("div",{className:`p-3 rounded-lg border ${l} ${c}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${o}`,children:"Signed"}),n.jsx("p",{className:`text-xl mt-1 ${i}`,children:v.signed})]}),n.jsx(Tt,{className:`w-5 h-5 ${a?"text-emerald-400":"text-green-600"}`})]})}),n.jsx("div",{className:`p-3 rounded-lg border ${l} ${c}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${o}`,children:"Pending"}),n.jsx("p",{className:`text-xl mt-1 ${i}`,children:v.pending})]}),n.jsx(Qt,{className:`w-5 h-5 ${a?"text-yellow-400":"text-yellow-600"}`})]})}),n.jsx("div",{className:`p-3 rounded-lg border ${l} ${c}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${o}`,children:"Minors"}),n.jsx("p",{className:`text-xl mt-1 ${i}`,children:v.minors})]}),n.jsx(am,{className:`w-5 h-5 ${a?"text-purple-400":"text-purple-600"}`})]})})]}),n.jsx(tt,{className:l}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ba,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${a?"text-[#737373]":"text-gray-400"}`}),n.jsx(ge,{placeholder:"Search attendees...",value:u,onChange:E=>h(E.target.value),className:"pl-10 h-11"})]}),n.jsxs(Kt,{value:f,onValueChange:m,children:[n.jsxs(Xt,{className:"w-[180px] h-11",children:[n.jsx(Ld,{className:"w-4 h-4 mr-2"}),n.jsx(Yt,{placeholder:"Filter status"})]}),n.jsxs(Zt,{className:a?"bg-[#161616] border-[#2a2a2a]":"",children:[n.jsx(Ce,{value:"all",children:"All Status"}),n.jsx(Ce,{value:"signed",children:"Signed"}),n.jsx(Ce,{value:"pending",children:"Pending"})]})]})]}),n.jsx("div",{className:`rounded-lg border ${l} overflow-hidden`,children:n.jsxs(Vp,{children:[n.jsx(Wp,{children:n.jsxs(Ma,{className:l,children:[n.jsx(Gr,{className:o,children:"Name"}),n.jsx(Gr,{className:o,children:"Contact"}),n.jsx(Gr,{className:o,children:"Waiver Status"}),n.jsx(Gr,{className:o,children:"Signed Date"}),n.jsx(Gr,{className:o,children:"Type"})]})}),n.jsx(Hp,{children:g.length===0?n.jsx(Ma,{children:n.jsx($t,{colSpan:5,className:`text-center py-8 ${o}`,children:"No attendees found"})}):g.map(E=>n.jsxs(Ma,{className:`${l} ${d} transition-colors`,children:[n.jsx($t,{children:n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${i}`,children:E.name}),n.jsx("p",{className:`text-xs ${o}`,children:E.id})]})}),n.jsx($t,{children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:`flex items-center gap-1 text-xs ${o}`,children:[n.jsx(Gn,{className:"w-3 h-3"}),E.email]}),n.jsxs("div",{className:`flex items-center gap-1 text-xs ${o}`,children:[n.jsx(Gs,{className:"w-3 h-3"}),E.phone]})]})}),n.jsx($t,{children:n.jsxs(ze,{className:E.waiverStatus==="signed"?a?"bg-emerald-500/20 text-emerald-400 border-0":"bg-green-100 text-green-700 border-0":a?"bg-yellow-500/20 text-yellow-400 border-0":"bg-yellow-100 text-yellow-700 border-0",children:[E.waiverStatus==="signed"?n.jsx(Tt,{className:"w-3 h-3 mr-1"}):n.jsx(Qt,{className:"w-3 h-3 mr-1"}),E.waiverStatus]})}),n.jsx($t,{className:o,children:E.waiverDate}),n.jsx($t,{children:E.isMinor&&n.jsx(ze,{className:a?"bg-purple-500/20 text-purple-400 border-0":"bg-purple-100 text-purple-700 border-0",children:"Minor"})})]},E.id))})]})})]}),n.jsx(wn,{children:n.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[n.jsxs(J,{variant:"outline",onClick:b,className:"h-11",disabled:v.pending===0,children:[n.jsx(vu,{className:"w-4 h-4 mr-2"}),"Send Reminders (",v.pending,")"]}),n.jsxs(J,{variant:"outline",onClick:C,className:"h-11",children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Export List"]}),n.jsx(J,{onClick:r,style:{backgroundColor:a?"#4f46e5":void 0},className:`h-11 ${a?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700"}`,children:"Close"})]})})]})})}var hx={},QC,cV;function _te(){return cV||(cV=1,QC={L:1,M:0,Q:3,H:2}),QC}var ek,dV;function Cte(){return dV||(dV=1,ek={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),ek}var tk,uV;function f9e(){if(uV)return tk;uV=1;var t=Cte();function e(r){this.mode=t.MODE_8BIT_BYTE,this.data=r}return e.prototype={getLength:function(r){return this.data.length},write:function(r){for(var s=0;s<this.data.length;s++)r.put(this.data.charCodeAt(s),8)}},tk=e,tk}var rk,hV;function m9e(){if(hV)return rk;hV=1;var t=_te();function e(r,s){this.totalCount=r,this.dataCount=s}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(r,s){var a=e.getRsBlockTable(r,s);if(a==null)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+s);for(var i=a.length/3,o=new Array,l=0;l<i;l++)for(var c=a[l*3+0],d=a[l*3+1],u=a[l*3+2],h=0;h<c;h++)o.push(new e(d,u));return o},e.getRsBlockTable=function(r,s){switch(s){case t.L:return e.RS_BLOCK_TABLE[(r-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(r-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(r-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(r-1)*4+3];default:return}},rk=e,rk}var nk,fV;function p9e(){if(fV)return nk;fV=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var r=Math.floor(e/8);return(this.buffer[r]>>>7-e%8&1)==1},put:function(e,r){for(var s=0;s<r;s++)this.putBit((e>>>r-s-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}},nk=t,nk}var sk,mV;function kte(){if(mV)return sk;mV=1;for(var t={glog:function(r){if(r<1)throw new Error("glog("+r+")");return t.LOG_TABLE[r]},gexp:function(r){for(;r<0;)r+=255;for(;r>=256;)r-=255;return t.EXP_TABLE[r]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return sk=t,sk}var ak,pV;function Ate(){if(pV)return ak;pV=1;var t=kte();function e(r,s){if(r.length==null)throw new Error(r.length+"/"+s);for(var a=0;a<r.length&&r[a]==0;)a++;this.num=new Array(r.length-a+s);for(var i=0;i<r.length-a;i++)this.num[i]=r[i+a]}return e.prototype={get:function(r){return this.num[r]},getLength:function(){return this.num.length},multiply:function(r){for(var s=new Array(this.getLength()+r.getLength()-1),a=0;a<this.getLength();a++)for(var i=0;i<r.getLength();i++)s[a+i]^=t.gexp(t.glog(this.get(a))+t.glog(r.get(i)));return new e(s,0)},mod:function(r){if(this.getLength()-r.getLength()<0)return this;for(var s=t.glog(this.get(0))-t.glog(r.get(0)),a=new Array(this.getLength()),i=0;i<this.getLength();i++)a[i]=this.get(i);for(var i=0;i<r.getLength();i++)a[i]^=t.gexp(t.glog(r.get(i))+s);return new e(a,0).mod(r)}},ak=e,ak}var ik,xV;function x9e(){if(xV)return ik;xV=1;var t=Cte(),e=Ate(),r=kte(),s={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(i){for(var o=i<<10;a.getBCHDigit(o)-a.getBCHDigit(a.G15)>=0;)o^=a.G15<<a.getBCHDigit(o)-a.getBCHDigit(a.G15);return(i<<10|o)^a.G15_MASK},getBCHTypeNumber:function(i){for(var o=i<<12;a.getBCHDigit(o)-a.getBCHDigit(a.G18)>=0;)o^=a.G18<<a.getBCHDigit(o)-a.getBCHDigit(a.G18);return i<<12|o},getBCHDigit:function(i){for(var o=0;i!=0;)o++,i>>>=1;return o},getPatternPosition:function(i){return a.PATTERN_POSITION_TABLE[i-1]},getMask:function(i,o,l){switch(i){case s.PATTERN000:return(o+l)%2==0;case s.PATTERN001:return o%2==0;case s.PATTERN010:return l%3==0;case s.PATTERN011:return(o+l)%3==0;case s.PATTERN100:return(Math.floor(o/2)+Math.floor(l/3))%2==0;case s.PATTERN101:return o*l%2+o*l%3==0;case s.PATTERN110:return(o*l%2+o*l%3)%2==0;case s.PATTERN111:return(o*l%3+(o+l)%2)%2==0;default:throw new Error("bad maskPattern:"+i)}},getErrorCorrectPolynomial:function(i){for(var o=new e([1],0),l=0;l<i;l++)o=o.multiply(new e([1,r.gexp(l)],0));return o},getLengthInBits:function(i,o){if(1<=o&&o<10)switch(i){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+i)}else if(o<27)switch(i){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+i)}else if(o<41)switch(i){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+i)}else throw new Error("type:"+o)},getLostPoint:function(i){for(var o=i.getModuleCount(),l=0,c=0;c<o;c++)for(var d=0;d<o;d++){for(var u=0,h=i.isDark(c,d),f=-1;f<=1;f++)if(!(c+f<0||o<=c+f))for(var m=-1;m<=1;m++)d+m<0||o<=d+m||f==0&&m==0||h==i.isDark(c+f,d+m)&&u++;u>5&&(l+=3+u-5)}for(var c=0;c<o-1;c++)for(var d=0;d<o-1;d++){var y=0;i.isDark(c,d)&&y++,i.isDark(c+1,d)&&y++,i.isDark(c,d+1)&&y++,i.isDark(c+1,d+1)&&y++,(y==0||y==4)&&(l+=3)}for(var c=0;c<o;c++)for(var d=0;d<o-6;d++)i.isDark(c,d)&&!i.isDark(c,d+1)&&i.isDark(c,d+2)&&i.isDark(c,d+3)&&i.isDark(c,d+4)&&!i.isDark(c,d+5)&&i.isDark(c,d+6)&&(l+=40);for(var d=0;d<o;d++)for(var c=0;c<o-6;c++)i.isDark(c,d)&&!i.isDark(c+1,d)&&i.isDark(c+2,d)&&i.isDark(c+3,d)&&i.isDark(c+4,d)&&!i.isDark(c+5,d)&&i.isDark(c+6,d)&&(l+=40);for(var g=0,d=0;d<o;d++)for(var c=0;c<o;c++)i.isDark(c,d)&&g++;var v=Math.abs(100*g/o/o-50)/5;return l+=v*10,l}};return ik=a,ik}var ok,gV;function g9e(){if(gV)return ok;gV=1;var t=f9e(),e=m9e(),r=p9e(),s=x9e(),a=Ate();function i(l,c){this.typeNumber=l,this.errorCorrectLevel=c,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var o=i.prototype;return o.addData=function(l){var c=new t(l);this.dataList.push(c),this.dataCache=null},o.isDark=function(l,c){if(l<0||this.moduleCount<=l||c<0||this.moduleCount<=c)throw new Error(l+","+c);return this.modules[l][c]},o.getModuleCount=function(){return this.moduleCount},o.make=function(){if(this.typeNumber<1){var l=1;for(l=1;l<40;l++){for(var c=e.getRSBlocks(l,this.errorCorrectLevel),d=new r,u=0,h=0;h<c.length;h++)u+=c[h].dataCount;for(var h=0;h<this.dataList.length;h++){var f=this.dataList[h];d.put(f.mode,4),d.put(f.getLength(),s.getLengthInBits(f.mode,l)),f.write(d)}if(d.getLengthInBits()<=u*8)break}this.typeNumber=l}this.makeImpl(!1,this.getBestMaskPattern())},o.makeImpl=function(l,c){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var u=0;u<this.moduleCount;u++)this.modules[d][u]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(l,c),this.typeNumber>=7&&this.setupTypeNumber(l),this.dataCache==null&&(this.dataCache=i.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},o.setupPositionProbePattern=function(l,c){for(var d=-1;d<=7;d++)if(!(l+d<=-1||this.moduleCount<=l+d))for(var u=-1;u<=7;u++)c+u<=-1||this.moduleCount<=c+u||(0<=d&&d<=6&&(u==0||u==6)||0<=u&&u<=6&&(d==0||d==6)||2<=d&&d<=4&&2<=u&&u<=4?this.modules[l+d][c+u]=!0:this.modules[l+d][c+u]=!1)},o.getBestMaskPattern=function(){for(var l=0,c=0,d=0;d<8;d++){this.makeImpl(!0,d);var u=s.getLostPoint(this);(d==0||l>u)&&(l=u,c=d)}return c},o.createMovieClip=function(l,c,d){var u=l.createEmptyMovieClip(c,d),h=1;this.make();for(var f=0;f<this.modules.length;f++)for(var m=f*h,y=0;y<this.modules[f].length;y++){var g=y*h,v=this.modules[f][y];v&&(u.beginFill(0,100),u.moveTo(g,m),u.lineTo(g+h,m),u.lineTo(g+h,m+h),u.lineTo(g,m+h),u.endFill())}return u},o.setupTimingPattern=function(){for(var l=8;l<this.moduleCount-8;l++)this.modules[l][6]==null&&(this.modules[l][6]=l%2==0);for(var c=8;c<this.moduleCount-8;c++)this.modules[6][c]==null&&(this.modules[6][c]=c%2==0)},o.setupPositionAdjustPattern=function(){for(var l=s.getPatternPosition(this.typeNumber),c=0;c<l.length;c++)for(var d=0;d<l.length;d++){var u=l[c],h=l[d];if(this.modules[u][h]==null)for(var f=-2;f<=2;f++)for(var m=-2;m<=2;m++)f==-2||f==2||m==-2||m==2||f==0&&m==0?this.modules[u+f][h+m]=!0:this.modules[u+f][h+m]=!1}},o.setupTypeNumber=function(l){for(var c=s.getBCHTypeNumber(this.typeNumber),d=0;d<18;d++){var u=!l&&(c>>d&1)==1;this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=u}for(var d=0;d<18;d++){var u=!l&&(c>>d&1)==1;this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=u}},o.setupTypeInfo=function(l,c){for(var d=this.errorCorrectLevel<<3|c,u=s.getBCHTypeInfo(d),h=0;h<15;h++){var f=!l&&(u>>h&1)==1;h<6?this.modules[h][8]=f:h<8?this.modules[h+1][8]=f:this.modules[this.moduleCount-15+h][8]=f}for(var h=0;h<15;h++){var f=!l&&(u>>h&1)==1;h<8?this.modules[8][this.moduleCount-h-1]=f:h<9?this.modules[8][15-h-1+1]=f:this.modules[8][15-h-1]=f}this.modules[this.moduleCount-8][8]=!l},o.mapData=function(l,c){for(var d=-1,u=this.moduleCount-1,h=7,f=0,m=this.moduleCount-1;m>0;m-=2)for(m==6&&m--;;){for(var y=0;y<2;y++)if(this.modules[u][m-y]==null){var g=!1;f<l.length&&(g=(l[f]>>>h&1)==1);var v=s.getMask(c,u,m-y);v&&(g=!g),this.modules[u][m-y]=g,h--,h==-1&&(f++,h=7)}if(u+=d,u<0||this.moduleCount<=u){u-=d,d=-d;break}}},i.PAD0=236,i.PAD1=17,i.createData=function(l,c,d){for(var u=e.getRSBlocks(l,c),h=new r,f=0;f<d.length;f++){var m=d[f];h.put(m.mode,4),h.put(m.getLength(),s.getLengthInBits(m.mode,l)),m.write(h)}for(var y=0,f=0;f<u.length;f++)y+=u[f].dataCount;if(h.getLengthInBits()>y*8)throw new Error("code length overflow. ("+h.getLengthInBits()+">"+y*8+")");for(h.getLengthInBits()+4<=y*8&&h.put(0,4);h.getLengthInBits()%8!=0;)h.putBit(!1);for(;!(h.getLengthInBits()>=y*8||(h.put(i.PAD0,8),h.getLengthInBits()>=y*8));)h.put(i.PAD1,8);return i.createBytes(h,u)},i.createBytes=function(l,c){for(var d=0,u=0,h=0,f=new Array(c.length),m=new Array(c.length),y=0;y<c.length;y++){var g=c[y].dataCount,v=c[y].totalCount-g;u=Math.max(u,g),h=Math.max(h,v),f[y]=new Array(g);for(var b=0;b<f[y].length;b++)f[y][b]=255&l.buffer[b+d];d+=g;var w=s.getErrorCorrectPolynomial(v),N=new a(f[y],w.getLength()-1),_=N.mod(w);m[y]=new Array(w.getLength()-1);for(var b=0;b<m[y].length;b++){var C=b+_.getLength()-m[y].length;m[y][b]=C>=0?_.get(C):0}}for(var E=0,b=0;b<c.length;b++)E+=c[b].totalCount;for(var A=new Array(E),I=0,b=0;b<u;b++)for(var y=0;y<c.length;y++)b<f[y].length&&(A[I++]=f[y][b]);for(var b=0;b<h;b++)for(var y=0;y<c.length;y++)b<m[y].length&&(A[I++]=m[y][b]);return A},ok=i,ok}var rw={},vV;function v9e(){if(vV)return rw;vV=1,Object.defineProperty(rw,"__esModule",{value:!0});var t=Object.assign||function(d){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(d[f]=h[f])}return d},e=k8(),r=i(e),s=Ag(),a=i(s);function i(d){return d&&d.__esModule?d:{default:d}}function o(d,u){var h={};for(var f in d)u.indexOf(f)>=0||Object.prototype.hasOwnProperty.call(d,f)&&(h[f]=d[f]);return h}var l={bgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,bgD:r.default.string.isRequired,fgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,fgD:r.default.string.isRequired,size:r.default.number.isRequired,title:r.default.string,viewBoxSize:r.default.number.isRequired,xmlns:r.default.string},c=(0,s.forwardRef)(function(d,u){var h=d.bgColor,f=d.bgD,m=d.fgD,y=d.fgColor,g=d.size,v=d.title,b=d.viewBoxSize,w=d.xmlns,N=w===void 0?"http://www.w3.org/2000/svg":w,_=o(d,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return a.default.createElement("svg",t({},_,{height:g,ref:u,viewBox:"0 0 "+b+" "+b,width:g,xmlns:N}),v?a.default.createElement("title",null,v):null,a.default.createElement("path",{d:f,fill:h}),a.default.createElement("path",{d:m,fill:y}))});return c.displayName="QRCodeSvg",c.propTypes=l,rw.default=c,rw}var yV;function y9e(){if(yV)return hx;yV=1,Object.defineProperty(hx,"__esModule",{value:!0}),hx.QRCode=void 0;var t=Object.assign||function(g){for(var v=1;v<arguments.length;v++){var b=arguments[v];for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(g[w]=b[w])}return g},e=k8(),r=h(e),s=_te(),a=h(s),i=g9e(),o=h(i),l=Ag(),c=h(l),d=v9e(),u=h(d);function h(g){return g&&g.__esModule?g:{default:g}}function f(g,v){var b={};for(var w in g)v.indexOf(w)>=0||Object.prototype.hasOwnProperty.call(g,w)&&(b[w]=g[w]);return b}var m={bgColor:r.default.oneOfType([r.default.object,r.default.string]),fgColor:r.default.oneOfType([r.default.object,r.default.string]),level:r.default.string,size:r.default.number,value:r.default.string.isRequired},y=(0,l.forwardRef)(function(g,v){var b=g.bgColor,w=b===void 0?"#FFFFFF":b,N=g.fgColor,_=N===void 0?"#000000":N,C=g.level,E=C===void 0?"L":C,A=g.size,I=A===void 0?256:A,$=g.value,O=f(g,["bgColor","fgColor","level","size","value"]),P=new o.default(-1,a.default[E]);P.addData($),P.make();var M=P.modules;return c.default.createElement(u.default,t({},O,{bgColor:w,bgD:M.map(function(R,W){return R.map(function(Y,K){return Y?"":"M "+K+" "+W+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:_,fgD:M.map(function(R,W){return R.map(function(Y,K){return Y?"M "+K+" "+W+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:v,size:I,viewBoxSize:M.length}))});return hx.QRCode=y,y.displayName="QRCode",y.propTypes=m,hx.default=y,hx}var b9e=y9e();const w9e=Jn(b9e);function j9e(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function N9e(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var S9e=(function(){var t=function(r,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])},t(r,s)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),_9e=(function(t){S9e(e,t);function e(r,s){var a=this.constructor,i=t.call(this,r,s)||this;return Object.defineProperty(i,"name",{value:a.name,enumerable:!1,configurable:!0}),j9e(i,a.prototype),N9e(i),i}return e})(Error),C9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Ml=(function(t){C9e(e,t);function e(r){r===void 0&&(r=void 0);var s=t.call(this,r)||this;return s.message=r,s}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e})(_9e),k9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Ya=(function(t){k9e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e})(Ml),A9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Br=(function(t){A9e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(Ml),Ete=(function(){function t(e){if(this.binarizer=e,e===null)throw new Br("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,s,a){var i=this.binarizer.getLuminanceSource().crop(e,r,s,a);return new t(this.binarizer.createBinarizer(i))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t})(),E9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),ci=(function(t){E9e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(Ml),P9e=(function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t})(),Hs=(function(){function t(){}return t.arraycopy=function(e,r,s,a,i){for(;i--;)s[a++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t})(),T9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),kO=(function(t){T9e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(Ml),O9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),bV=(function(t){O9e(e,t);function e(r,s){r===void 0&&(r=void 0),s===void 0&&(s=void 0);var a=t.call(this,s)||this;return a.index=r,a.message=s,a}return e.kind="ArrayIndexOutOfBoundsException",e})(kO),I9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ai=(function(){function t(){}return t.fill=function(e,r){for(var s=0,a=e.length;s<a;s++)e[s]=r},t.fillWithin=function(e,r,s,a){t.rangeCheck(e.length,r,s);for(var i=r;i<s;i++)e[i]=a},t.rangeCheck=function(e,r,s){if(r>s)throw new Br("fromIndex("+r+") > toIndex("+s+")");if(r<0)throw new bV(r);if(s>e)throw new bV(s)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,s){var a=Array.from({length:e});return a.map(function(i){return Array.from({length:r}).fill(s)})},t.createInt32Array=function(e,r,s){var a=Array.from({length:e});return a.map(function(i){return Int32Array.from({length:r}).fill(s)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var s=0,a=e.length;s<a;s++)if(e[s]!==r[s])return!1;return!0},t.hashCode=function(e){var r,s;if(e===null)return 0;var a=1;try{for(var i=I9e(e),o=i.next();!o.done;o=i.next()){var l=o.value;a=31*a+l}}catch(c){r={error:c}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}return a},t.fillUint8Array=function(e,r){for(var s=0;s!==e.length;s++)e[s]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var s=new Uint8Array(r);return s.set(e),s}return e.slice(0,r)},t.copyOfRange=function(e,r,s){var a=s-r,i=new Int32Array(a);return Hs.arraycopy(e,r,i,0,a),i},t.binarySearch=function(e,r,s){s===void 0&&(s=t.numberComparator);for(var a=0,i=e.length-1;a<=i;){var o=i+a>>1,l=s(r,e[o]);if(l>0)a=o+1;else if(l<0)i=o-1;else return o}return-a-1},t.numberComparator=function(e,r){return e-r},t})(),kn=(function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var s=31;return r=e<<16,r!==0&&(s-=16,e=r),r=e<<8,r!==0&&(s-=8,e=r),r=e<<4,r!==0&&(s-=4,e=r),r=e<<2,r!==0&&(s-=2,e=r),s-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Yi=(function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);Hs.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var s=this.bits,a=Math.floor(e/32),i=s[a];i&=~((1<<(e&31))-1);for(var o=s.length;i===0;){if(++a===o)return r;i=s[a]}var l=a*32+kn.numberOfTrailingZeros(i);return l>r?r:l},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var s=this.bits,a=Math.floor(e/32),i=~s[a];i&=~((1<<(e&31))-1);for(var o=s.length;i===0;){if(++a===o)return r;i=~s[a]}var l=a*32+kn.numberOfTrailingZeros(i);return l>r?r:l},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new Br;if(r!==e){r--;for(var s=Math.floor(e/32),a=Math.floor(r/32),i=this.bits,o=s;o<=a;o++){var l=o>s?0:e&31,c=o<a?31:r&31,d=(2<<c)-(1<<l);i[o]|=d}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,s=0;s<e;s++)r[s]=0},t.prototype.isRange=function(e,r,s){if(r<e||e<0||r>this.size)throw new Br;if(r===e)return!0;r--;for(var a=Math.floor(e/32),i=Math.floor(r/32),o=this.bits,l=a;l<=i;l++){var c=l>a?0:e&31,d=l<i?31:r&31,u=(2<<d)-(1<<c)&4294967295;if((o[l]&u)!==(s?u:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new Br("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var s=r;s>0;s--)this.appendBit((e>>s-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var s=0;s<r;s++)this.appendBit(e.get(s))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Br("Sizes don't match");for(var r=this.bits,s=0,a=r.length;s<a;s++)r[s]^=e.bits[s]},t.prototype.toBytes=function(e,r,s,a){for(var i=0;i<a;i++){for(var o=0,l=0;l<8;l++)this.get(e)&&(o|=1<<7-l),e++;r[s+i]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),s=r+1,a=this.bits,i=0;i<s;i++){var o=a[i];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-i]=o}if(this.size!==s*32){for(var l=s*32-this.size,c=e[0]>>>l,i=1;i<s;i++){var d=e[i];c|=d<<32-l,e[i-1]=c,c=d>>>l}e[s-1]=c}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&Ai.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+Ai.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,s=this.size;r<s;r++)(r&7)===0&&(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,s=this.size;r<s;r++)e.push(this.get(r));return e},t})(),cP;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(cP||(cP={}));const qs=cP;var $9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Ut=(function(t){$9e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(Ml),D9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vs;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(vs||(vs={}));var Ci=(function(){function t(e,r,s){for(var a,i,o=[],l=3;l<arguments.length;l++)o[l-3]=arguments[l];this.valueIdentifier=e,this.name=s,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(s,this);for(var c=this.values,d=0,u=c.length;d!==u;d++){var h=c[d];t.VALUES_TO_ECI.set(h,this)}try{for(var f=D9e(o),m=f.next();!m.done;m=f.next()){var y=m.value;t.NAME_TO_ECI.set(y,this)}}catch(g){a={error:g}}finally{try{m&&!m.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new Ut("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new Ut("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new Ut("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(vs.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(vs.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(vs.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(vs.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(vs.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(vs.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(vs.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(vs.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(vs.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(vs.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(vs.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(vs.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(vs.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(vs.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(vs.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(vs.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(vs.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(vs.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(vs.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(vs.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(vs.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(vs.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(vs.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(vs.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(vs.Big5,28,"Big5"),t.GB18030=new t(vs.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(vs.EUC_KR,30,"EUC_KR","EUC-KR"),t})(),M9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Ew=(function(t){M9e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(Ml),Xc=(function(){function t(){}return t.decode=function(e,r){var s=this.encodingName(r);return this.customDecoder?this.customDecoder(e,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(e,s):new TextDecoder(s).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var s=this.encodingName(r);return this.customEncoder?this.customEncoder(e,s):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Ci?e:Ci.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var s=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(s)){for(var a="",i=0,o=e.length;i<o;i++){var l=e[i].toString(16);l.length<2&&(l="0"+l),a+="%"+l}return decodeURIComponent(a)}if(s.equals(Ci.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Ew("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Ci.UTF8)||e.equals(Ci.ISO8859_1)||e.equals(Ci.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),s=r.split(""),a=[],i=0;i<s.length;i++)a.push(s[i].charCodeAt(0));return new Uint8Array(a)},t})(),Rn=(function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var s=r?r.getName():this.ISO88591;return Xc.decode(new Uint8Array([e]),s)},t.guessEncoding=function(e,r){if(r!=null&&r.get(qs.CHARACTER_SET)!==void 0)return r.get(qs.CHARACTER_SET).toString();for(var s=e.length,a=!0,i=!0,o=!0,l=0,c=0,d=0,u=0,h=0,f=0,m=0,y=0,g=0,v=0,b=0,w=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,N=0;N<s&&(a||i||o);N++){var _=e[N]&255;o&&(l>0?(_&128)===0?o=!1:l--:(_&128)!==0&&((_&64)===0?o=!1:(l++,(_&32)===0?c++:(l++,(_&16)===0?d++:(l++,(_&8)===0?u++:o=!1))))),a&&(_>127&&_<160?a=!1:_>159&&(_<192||_===215||_===247)&&b++),i&&(h>0?_<64||_===127||_>252?i=!1:h--:_===128||_===160||_>239?i=!1:_>160&&_<224?(f++,y=0,m++,m>g&&(g=m)):_>127?(h++,m=0,y++,y>v&&(v=y)):(m=0,y=0))}return o&&l>0&&(o=!1),i&&h>0&&(i=!1),o&&(w||c+d+u>0)?t.UTF8:i&&(t.ASSUME_SHIFT_JIS||g>=3||v>=3)?t.SHIFT_JIS:a&&i?g===2&&f===2||b*10>=s?t.SHIFT_JIS:t.ISO88591:a?t.ISO88591:i?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];var a=-1;function i(l,c,d,u,h,f){if(l==="%%")return"%";if(r[++a]!==void 0){l=u?parseInt(u.substr(1)):void 0;var m=h?parseInt(h.substr(1)):void 0,y;switch(f){case"s":y=r[a];break;case"c":y=r[a][0];break;case"f":y=parseFloat(r[a]).toFixed(l);break;case"p":y=parseFloat(r[a]).toPrecision(l);break;case"e":y=parseFloat(r[a]).toExponential(l);break;case"x":y=parseInt(r[a]).toString(m||16);break;case"d":y=parseFloat(parseInt(r[a],m||10).toPrecision(l)).toFixed(0);break}y=typeof y=="object"?JSON.stringify(y):(+y).toString(m);for(var g=parseInt(d),v=d&&d[0]+""=="0"?"0":" ";y.length<g;)y=c!==void 0?y+v:v+y;return y}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,i)},t.getBytes=function(e,r){return Xc.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Ci.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Ci.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Ci.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t})(),bn=(function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Rn.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,s){for(var a=r;r<r+s;a++)this.append(e[a]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t})(),zu=(function(){function t(e,r,s,a){if(this.width=e,this.height=r,this.rowSize=s,this.bits=a,r==null&&(r=e),this.height=r,e<1||r<1)throw new Br("Both dimensions must be greater than 0");s==null&&(s=Math.floor((e+31)/32)),this.rowSize=s,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,s=e[0].length,a=new t(s,r),i=0;i<r;i++)for(var o=e[i],l=0;l<s;l++)o[l]&&a.set(l,i);return a},t.parseFromString=function(e,r,s){if(e===null)throw new Br("stringRepresentation cannot be null");for(var a=new Array(e.length),i=0,o=0,l=-1,c=0,d=0;d<e.length;)if(e.charAt(d)===`
`||e.charAt(d)==="\r"){if(i>o){if(l===-1)l=i-o;else if(i-o!==l)throw new Br("row lengths do not match");o=i,c++}d++}else if(e.substring(d,d+r.length)===r)d+=r.length,a[i]=!0,i++;else if(e.substring(d,d+s.length)===s)d+=s.length,a[i]=!1,i++;else throw new Br("illegal character encountered: "+e.substring(d));if(i>o){if(l===-1)l=i-o;else if(i-o!==l)throw new Br("row lengths do not match");c++}for(var u=new t(l,c),h=0;h<i;h++)a[h]&&u.set(Math.floor(h%l),Math.floor(h/l));return u},t.prototype.get=function(e,r){var s=r*this.rowSize+Math.floor(e/32);return(this.bits[s]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var s=r*this.rowSize+Math.floor(e/32);this.bits[s]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var s=r*this.rowSize+Math.floor(e/32);this.bits[s]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var s=r*this.rowSize+Math.floor(e/32);this.bits[s]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Br("input matrix dimensions do not match");for(var r=new Yi(Math.floor(this.width/32)+1),s=this.rowSize,a=this.bits,i=0,o=this.height;i<o;i++)for(var l=i*s,c=e.getRow(i,r).getBitArray(),d=0;d<s;d++)a[l+d]^=c[d]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,s=0;s<r;s++)e[s]=0},t.prototype.setRegion=function(e,r,s,a){if(r<0||e<0)throw new Br("Left and top must be nonnegative");if(a<1||s<1)throw new Br("Height and width must be at least 1");var i=e+s,o=r+a;if(o>this.height||i>this.width)throw new Br("The region must fit inside the matrix");for(var l=this.rowSize,c=this.bits,d=r;d<o;d++)for(var u=d*l,h=e;h<i;h++)c[u+Math.floor(h/32)]|=1<<(h&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new Yi(this.width):r.clear();for(var s=this.rowSize,a=this.bits,i=e*s,o=0;o<s;o++)r.setBulk(o*32,a[i+o]);return r},t.prototype.setRow=function(e,r){Hs.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),s=new Yi(e),a=new Yi(e),i=0,o=Math.floor((r+1)/2);i<o;i++)s=this.getRow(i,s),a=this.getRow(r-1-i,a),s.reverse(),a.reverse(),this.setRow(i,a),this.setRow(r-1-i,s)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,s=this.rowSize,a=this.bits,i=e,o=r,l=-1,c=-1,d=0;d<r;d++)for(var u=0;u<s;u++){var h=a[d*s+u];if(h!==0){if(d<o&&(o=d),d>c&&(c=d),u*32<i){for(var f=0;(h<<31-f&4294967295)===0;)f++;u*32+f<i&&(i=u*32+f)}if(u*32+31>l){for(var f=31;!(h>>>f);)f--;u*32+f>l&&(l=u*32+f)}}}return l<i||c<o?null:Int32Array.from([i,o,l-i+1,c-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,s=0;s<r.length&&r[s]===0;)s++;if(s===r.length)return null;for(var a=s/e,i=s%e*32,o=r[s],l=0;(o<<31-l&4294967295)===0;)l++;return i+=l,Int32Array.from([i,a])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,s=r.length-1;s>=0&&r[s]===0;)s--;if(s<0)return null;for(var a=Math.floor(s/e),i=Math.floor(s%e)*32,o=r[s],l=31;!(o>>>l);)l--;return i+=l,Int32Array.from([i,a])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Ai.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Ai.hashCode(this.bits),e},t.prototype.toString=function(e,r,s){return e===void 0&&(e="X "),r===void 0&&(r="  "),s===void 0&&(s=`
`),this.buildToString(e,r,s)},t.prototype.buildToString=function(e,r,s){for(var a=new bn,i=0,o=this.height;i<o;i++){for(var l=0,c=this.width;l<c;l++)a.append(this.get(l,i)?e:r);a.append(s)}return a.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t})(),R9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),ht=(function(t){R9e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(Ml),L9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),F9e=(function(t){L9e(e,t);function e(r){var s=t.call(this,r)||this;return s.luminances=e.EMPTY,s.buckets=new Int32Array(e.LUMINANCE_BUCKETS),s}return e.prototype.getBlackRow=function(r,s){var a=this.getLuminanceSource(),i=a.getWidth();s==null||s.getSize()<i?s=new Yi(i):s.clear(),this.initArrays(i);for(var o=a.getRow(r,this.luminances),l=this.buckets,c=0;c<i;c++)l[(o[c]&255)>>e.LUMINANCE_SHIFT]++;var d=e.estimateBlackPoint(l);if(i<3)for(var c=0;c<i;c++)(o[c]&255)<d&&s.set(c);else for(var u=o[0]&255,h=o[1]&255,c=1;c<i-1;c++){var f=o[c+1]&255;(h*4-u-f)/2<d&&s.set(c),u=h,h=f}return s},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),s=r.getWidth(),a=r.getHeight(),i=new zu(s,a);this.initArrays(s);for(var o=this.buckets,l=1;l<5;l++)for(var c=Math.floor(a*l/5),d=r.getRow(c,this.luminances),u=Math.floor(s*4/5),h=Math.floor(s/5);h<u;h++){var f=d[h]&255;o[f>>e.LUMINANCE_SHIFT]++}for(var m=e.estimateBlackPoint(o),y=r.getMatrix(),l=0;l<a;l++)for(var g=l*s,h=0;h<s;h++){var f=y[g+h]&255;f<m&&i.set(h,l)}return i},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var s=this.buckets,a=0;a<e.LUMINANCE_BUCKETS;a++)s[a]=0},e.estimateBlackPoint=function(r){for(var s=r.length,a=0,i=0,o=0,l=0;l<s;l++)r[l]>o&&(i=l,o=r[l]),r[l]>a&&(a=r[l]);for(var c=0,d=0,l=0;l<s;l++){var u=l-i,h=r[l]*u*u;h>d&&(c=l,d=h)}if(i>c){var f=i;i=c,c=f}if(c-i<=s/16)throw new ht;for(var m=c-1,y=-1,l=c-1;l>i;l--){var g=l-i,h=g*g*(c-l)*(a-r[l]);h>y&&(m=l,y=h)}return m<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(P9e),B9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Pte=(function(t){B9e(e,t);function e(r){var s=t.call(this,r)||this;return s.matrix=null,s}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),s=r.getWidth(),a=r.getHeight();if(s>=e.MINIMUM_DIMENSION&&a>=e.MINIMUM_DIMENSION){var i=r.getMatrix(),o=s>>e.BLOCK_SIZE_POWER;(s&e.BLOCK_SIZE_MASK)!==0&&o++;var l=a>>e.BLOCK_SIZE_POWER;(a&e.BLOCK_SIZE_MASK)!==0&&l++;var c=e.calculateBlackPoints(i,o,l,s,a),d=new zu(s,a);e.calculateThresholdForBlock(i,o,l,s,a,c,d),this.matrix=d}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,s,a,i,o,l,c){for(var d=o-e.BLOCK_SIZE,u=i-e.BLOCK_SIZE,h=0;h<a;h++){var f=h<<e.BLOCK_SIZE_POWER;f>d&&(f=d);for(var m=e.cap(h,2,a-3),y=0;y<s;y++){var g=y<<e.BLOCK_SIZE_POWER;g>u&&(g=u);for(var v=e.cap(y,2,s-3),b=0,w=-2;w<=2;w++){var N=l[m+w];b+=N[v-2]+N[v-1]+N[v]+N[v+1]+N[v+2]}var _=b/25;e.thresholdBlock(r,g,f,_,i,c)}}},e.cap=function(r,s,a){return r<s?s:r>a?a:r},e.thresholdBlock=function(r,s,a,i,o,l){for(var c=0,d=a*o+s;c<e.BLOCK_SIZE;c++,d+=o)for(var u=0;u<e.BLOCK_SIZE;u++)(r[d+u]&255)<=i&&l.set(s+u,a+c)},e.calculateBlackPoints=function(r,s,a,i,o){for(var l=o-e.BLOCK_SIZE,c=i-e.BLOCK_SIZE,d=new Array(a),u=0;u<a;u++){d[u]=new Int32Array(s);var h=u<<e.BLOCK_SIZE_POWER;h>l&&(h=l);for(var f=0;f<s;f++){var m=f<<e.BLOCK_SIZE_POWER;m>c&&(m=c);for(var y=0,g=255,v=0,b=0,w=h*i+m;b<e.BLOCK_SIZE;b++,w+=i){for(var N=0;N<e.BLOCK_SIZE;N++){var _=r[w+N]&255;y+=_,_<g&&(g=_),_>v&&(v=_)}if(v-g>e.MIN_DYNAMIC_RANGE)for(b++,w+=i;b<e.BLOCK_SIZE;b++,w+=i)for(var N=0;N<e.BLOCK_SIZE;N++)y+=r[w+N]&255}var C=y>>e.BLOCK_SIZE_POWER*2;if(v-g<=e.MIN_DYNAMIC_RANGE&&(C=g/2,u>0&&f>0)){var E=(d[u-1][f]+2*d[u][f-1]+d[u-1][f-1])/4;g<E&&(C=E)}d[u][f]=C}}return d},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(F9e),jb=(function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,s,a){throw new Ew("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new Ew("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new Ew("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new bn,s=0;s<this.height;s++){for(var a=this.getRow(s,e),i=0;i<this.width;i++){var o=a[i]&255,l=void 0;o<64?l="#":o<128?l="+":o<192?l=".":l=" ",r.append(l)}r.append(`
`)}return r.toString()},t})(),U9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),I5=(function(t){U9e(e,t);function e(r){var s=t.call(this,r.getWidth(),r.getHeight())||this;return s.delegate=r,s}return e.prototype.getRow=function(r,s){for(var a=this.delegate.getRow(r,s),i=this.getWidth(),o=0;o<i;o++)a[o]=255-(a[o]&255);return a},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(s),i=0;i<s;i++)a[i]=255-(r[i]&255);return a},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,s,a,i){return new e(this.delegate.crop(r,s,a,i))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(jb),z9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),V9e=(function(t){z9e(e,t);function e(r,s){s===void 0&&(s=!1);var a=t.call(this,r.width,r.height)||this;return a.canvas=r,a.tempCanvasElement=null,a.buffer=e.makeBufferFromCanvasImageData(r,s),a}return e.makeBufferFromCanvasImageData=function(r,s){s===void 0&&(s=!1);var a=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(a.data,r.width,r.height,s)},e.toGrayscaleBuffer=function(r,s,a,i){i===void 0&&(i=!1);var o=new Uint8ClampedArray(s*a);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!i)for(var l=0,c=0,d=r.length;l<d;l+=4,c++){var u=void 0,h=r[l+3];if(h===0)u=255;else{var f=r[l],m=r[l+1],y=r[l+2];u=306*f+601*m+117*y+512>>10}o[c]=u}else for(var l=0,c=0,g=r.length;l<g;l+=4,c++){var u=void 0,h=r[l+3];if(h===0)u=255;else{var f=r[l],m=r[l+1],y=r[l+2];u=306*f+601*m+117*y+512>>10}o[c]=255-u}return o},e.prototype.getRow=function(r,s){if(r<0||r>=this.getHeight())throw new Br("Requested row is outside the image: "+r);var a=this.getWidth(),i=r*a;return s===null?s=this.buffer.slice(i,i+a):(s.length<a&&(s=new Uint8ClampedArray(a)),s.set(this.buffer.slice(i,i+a))),s},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,s,a,i){return t.prototype.crop.call(this,r,s,a,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var s=this.getTempCanvasElement(),a=s.getContext("2d"),i=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*l),d=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*l);return s.width=c,s.height=d,a.translate(c/2,d/2),a.rotate(i),a.drawImage(this.canvas,o/-2,l/-2),this.buffer=e.makeBufferFromCanvasImageData(s),this},e.prototype.invert=function(){return new I5(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(jb),W9e=(function(){function t(e,r,s){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=s||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t})(),Yo=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})},Xo=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(s)throw new TypeError("Generator is already executing.");for(;r;)try{if(s=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,a=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(u){d=[6,u],a=0}finally{s=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},H9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zg=(function(){function t(e,r,s){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return Yo(this,void 0,void 0,function(){var e,r,s,a,i,o,l,c,d,u,h,f;return Xo(this,function(m){switch(m.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=m.sent(),r=[];try{for(s=H9e(e),a=s.next();!a.done;a=s.next())i=a.value,o=i.kind==="video"?"videoinput":i.kind,o==="videoinput"&&(l=i.deviceId||i.id,c=i.label||"Video device "+(r.length+1),d=i.groupId,u={deviceId:l,label:c,kind:o,groupId:d},r.push(u))}catch(y){h={error:y}}finally{try{a&&!a.done&&(f=s.return)&&f.call(s)}finally{if(h)throw h.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return Yo(this,void 0,void 0,function(){var e;return Xo(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(s){return new W9e(s.deviceId,s.label)})]}})})},t.prototype.findDeviceById=function(e){return Yo(this,void 0,void 0,function(){var r;return Xo(this,function(s){switch(s.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=s.sent(),r?[2,r.find(function(a){return a.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return Yo(this,void 0,void 0,function(){return Xo(this,function(s){switch(s.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,s.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Yo(this,void 0,void 0,function(){var s,a;return Xo(this,function(i){switch(i.label){case 0:return this.reset(),e?s={deviceId:{exact:e}}:s={facingMode:"environment"},a={video:s},[4,this.decodeOnceFromConstraints(a,r)];case 1:return[2,i.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Yo(this,void 0,void 0,function(){var s;return Xo(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return s=a.sent(),[4,this.decodeOnceFromStream(s,r)];case 2:return[2,a.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Yo(this,void 0,void 0,function(){var s,a;return Xo(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return s=i.sent(),[4,this.decodeOnce(s)];case 2:return a=i.sent(),[2,a]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,s){return Yo(this,void 0,void 0,function(){return Xo(this,function(a){switch(a.label){case 0:return[4,this.decodeFromVideoDevice(e,r,s)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,s){return Yo(this,void 0,void 0,function(){var a,i;return Xo(this,function(o){switch(o.label){case 0:return e?a={deviceId:{exact:e}}:a={facingMode:"environment"},i={video:a},[4,this.decodeFromConstraints(i,r,s)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,s){return Yo(this,void 0,void 0,function(){var a;return Xo(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return a=i.sent(),[4,this.decodeFromStream(a,r,s)];case 2:return[2,i.sent()]}})})},t.prototype.decodeFromStream=function(e,r,s){return Yo(this,void 0,void 0,function(){var a;return Xo(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return a=i.sent(),[4,this.decodeContinuously(a,s)];case 2:return[2,i.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return Yo(this,void 0,void 0,function(){var s;return Xo(this,function(a){switch(a.label){case 0:return s=this.prepareVideoElement(r),this.addVideoSource(s,e),this.videoElement=s,this.stream=e,[4,this.playVideoOnLoadAsync(s)];case 1:return a.sent(),[2,s]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(s,a){return r.playVideoOnLoad(e,function(){return s()})})},t.prototype.playVideoOnLoad=function(e,r){var s=this;this.videoEndedListener=function(){return s.stopStreams()},this.videoCanPlayListener=function(){return s.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return Yo(this,void 0,void 0,function(){return Xo(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var s=document.getElementById(e);if(!s)throw new Ya("element with id '"+e+"' not found");if(s.nodeName.toLowerCase()!==r.toLowerCase())throw new Ya("element with id '"+e+"' must be an "+r+" element");return s},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new Ya("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new Ya("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,s){if(e===void 0&&r===void 0)throw new Ya("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,s):this.decodeFromVideoElementContinuously(e,s)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Ya("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var s;return this.isImageLoaded(r)?s=this.decodeOnce(r,!1,!0):s=this._decodeOnLoadImage(r),s},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var s=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(s,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Ya("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Ya("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var s=this._decodeOnLoadImage(r);return r.src=e,s},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Ya("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),s=this.decodeFromVideoElement(r);return r.src=e,s},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new Ya("An URL must be provided.");this.reset();var s=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(s,r);return s.src=e,a},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(s,a){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(s,a)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return Yo(this,void 0,void 0,function(){return Xo(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return Yo(this,void 0,void 0,function(){return Xo(this,function(s){switch(s.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return s.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,s){var a=this;r===void 0&&(r=!0),s===void 0&&(s=!0),this._stopAsyncDecode=!1;var i=function(o,l){if(a._stopAsyncDecode){l(new ht("Video stream has ended before any code could be detected.")),a._stopAsyncDecode=void 0;return}try{var c=a.decode(e);o(c)}catch(f){var d=r&&f instanceof ht,u=f instanceof ci||f instanceof Ut,h=u&&s;if(d||h)return setTimeout(i,a._timeBetweenDecodingAttempts,o,l);l(f)}};return new Promise(function(o,l){return i(o,l)})},t.prototype.decodeContinuously=function(e,r){var s=this;this._stopContinuousDecode=!1;var a=function(){if(s._stopContinuousDecode){s._stopContinuousDecode=void 0;return}try{var i=s.decode(e);r(i,null),setTimeout(a,s.timeBetweenScansMillis)}catch(c){r(null,c);var o=c instanceof ci||c instanceof Ut,l=c instanceof ht;(o||l)&&setTimeout(a,s._timeBetweenDecodingAttempts)}};a()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var s=this.getCaptureCanvas(e),a=new V9e(s,r),i=new Pte(a);return new Ete(i)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),s=void 0;try{s=r.getContext("2d",{willReadFrequently:!0})}catch{s=r.getContext("2d")}this.captureCanvasContext=s}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,s){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),s===void 0&&(s=this.captureCanvasContext),s.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,s){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),s===void 0&&(s=this.captureCanvasContext),s.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),s,a;return typeof e<"u"&&(e instanceof HTMLVideoElement?(s=e.videoWidth,a=e.videoHeight):e instanceof HTMLImageElement&&(s=e.naturalWidth||e.width,a=e.naturalHeight||e.height)),r.style.width=s+"px",r.style.height=a+"px",r.width=s,r.height=a,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t})(),Ro=(function(){function t(e,r,s,a,i,o){s===void 0&&(s=r==null?0:8*r.length),o===void 0&&(o=Hs.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=s,this.resultPoints=a,this.format=i,this.timestamp=o,this.text=e,this.rawBytes=r,s==null?this.numBits=r==null?0:8*r.length:this.numBits=s,this.resultPoints=a,this.format=i,this.resultMetadata=null,o==null?this.timestamp=Hs.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var s=new Array(r.length+e.length);Hs.arraycopy(r,0,s,0,r.length),Hs.arraycopy(e,0,s,r.length,e.length),this.resultPoints=s}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t})(),dP;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(dP||(dP={}));const Fr=dP;var uP;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(uP||(uP={}));const ho=uP;var $5=(function(){function t(e,r,s,a,i,o){i===void 0&&(i=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=s,this.ecLevel=a,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t})(),s1=(function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Br;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t})(),tm=(function(){function t(e,r){if(r.length===0)throw new Br;this.field=e;var s=r.length;if(s>1&&r[0]===0){for(var a=1;a<s&&r[a]===0;)a++;a===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-a),Hs.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,s;if(e===1){s=0;for(var a=0,i=r.length;a!==i;a++){var o=r[a];s=s1.addOrSubtract(s,o)}return s}s=r[0];for(var l=r.length,c=this.field,a=1;a<l;a++)s=s1.addOrSubtract(c.multiply(e,s),r[a]);return s},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Br("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,s=e.coefficients;if(r.length>s.length){var a=r;r=s,s=a}var i=new Int32Array(s.length),o=s.length-r.length;Hs.arraycopy(s,0,i,0,o);for(var l=o;l<s.length;l++)i[l]=s1.addOrSubtract(r[l-o],s[l]);return new t(this.field,i)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Br("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,s=r.length,a=e.coefficients,i=a.length,o=new Int32Array(s+i-1),l=this.field,c=0;c<s;c++)for(var d=r[c],u=0;u<i;u++)o[c+u]=s1.addOrSubtract(o[c+u],l.multiply(d,a[u]));return new t(l,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,s=this.field,a=new Int32Array(r),i=this.coefficients,o=0;o<r;o++)a[o]=s.multiply(i[o],e);return new t(s,a)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Br;if(r===0)return this.field.getZero();for(var s=this.coefficients,a=s.length,i=new Int32Array(a+e),o=this.field,l=0;l<a;l++)i[l]=o.multiply(s[l],r);return new t(o,i)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Br("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Br("Divide by 0");for(var r=this.field,s=r.getZero(),a=this,i=e.getCoefficient(e.getDegree()),o=r.inverse(i);a.getDegree()>=e.getDegree()&&!a.isZero();){var l=a.getDegree()-e.getDegree(),c=r.multiply(a.getCoefficient(a.getDegree()),o),d=e.multiplyByMonomial(l,c),u=r.buildMonomial(l,c);s=s.addOrSubtract(u),a=a.addOrSubtract(d)}return[s,a]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var s=this.getCoefficient(r);if(s!==0){if(s<0?(e+=" - ",s=-s):e.length>0&&(e+=" + "),r===0||s!==1){var a=this.field.log(s);a===0?e+="1":a===1?e+="a":(e+="a^",e+=a)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t})(),q9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Tte=(function(t){q9e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(Ml),G9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Al=(function(t){G9e(e,t);function e(r,s,a){var i=t.call(this)||this;i.primitive=r,i.size=s,i.generatorBase=a;for(var o=new Int32Array(s),l=1,c=0;c<s;c++)o[c]=l,l*=2,l>=s&&(l^=r,l&=s-1);i.expTable=o;for(var d=new Int32Array(s),c=0;c<s-1;c++)d[o[c]]=c;return i.logTable=d,i.zero=new tm(i,Int32Array.from([0])),i.one=new tm(i,Int32Array.from([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,s){if(r<0)throw new Br;if(s===0)return this.zero;var a=new Int32Array(r+1);return a[0]=s,new tm(this,a)},e.prototype.inverse=function(r){if(r===0)throw new Tte;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,s){return r===0||s===0?0:this.expTable[(this.logTable[r]+this.logTable[s])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+kn.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(s1),K9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),nw=(function(t){K9e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(Ml),Y9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Nb=(function(t){Y9e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(Ml),D5=(function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var s=this.field,a=new tm(s,e),i=new Int32Array(r),o=!0,l=0;l<r;l++){var c=a.evaluateAt(s.exp(l+s.getGeneratorBase()));i[i.length-1-l]=c,c!==0&&(o=!1)}if(!o)for(var d=new tm(s,i),u=this.runEuclideanAlgorithm(s.buildMonomial(r,1),d,r),h=u[0],f=u[1],m=this.findErrorLocations(h),y=this.findErrorMagnitudes(f,m),l=0;l<m.length;l++){var g=e.length-1-s.log(m[l]);if(g<0)throw new nw("Bad error location");e[g]=Al.addOrSubtract(e[g],y[l])}},t.prototype.runEuclideanAlgorithm=function(e,r,s){if(e.getDegree()<r.getDegree()){var a=e;e=r,r=a}for(var i=this.field,o=e,l=r,c=i.getZero(),d=i.getOne();l.getDegree()>=(s/2|0);){var u=o,h=c;if(o=l,c=d,o.isZero())throw new nw("r_{i-1} was zero");l=u;for(var f=i.getZero(),m=o.getCoefficient(o.getDegree()),y=i.inverse(m);l.getDegree()>=o.getDegree()&&!l.isZero();){var g=l.getDegree()-o.getDegree(),v=i.multiply(l.getCoefficient(l.getDegree()),y);f=f.addOrSubtract(i.buildMonomial(g,v)),l=l.addOrSubtract(o.multiplyByMonomial(g,v))}if(d=f.multiply(c).addOrSubtract(h),l.getDegree()>=o.getDegree())throw new Nb("Division algorithm failed to reduce polynomial?")}var b=d.getCoefficient(0);if(b===0)throw new nw("sigmaTilde(0) was zero");var w=i.inverse(b),N=d.multiplyScalar(w),_=l.multiplyScalar(w);return[N,_]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var s=new Int32Array(r),a=0,i=this.field,o=1;o<i.getSize()&&a<r;o++)e.evaluateAt(o)===0&&(s[a]=i.inverse(o),a++);if(a!==r)throw new nw("Error locator degree does not match number of roots");return s},t.prototype.findErrorMagnitudes=function(e,r){for(var s=r.length,a=new Int32Array(s),i=this.field,o=0;o<s;o++){for(var l=i.inverse(r[o]),c=1,d=0;d<s;d++)if(o!==d){var u=i.multiply(r[d],l),h=(u&1)===0?u|1:u&-2;c=i.multiply(c,h)}a[o]=i.multiply(e.evaluateAt(l),i.inverse(c)),i.getGeneratorBase()!==0&&(a[o]=i.multiply(a[o],l))}return a},t})(),io;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(io||(io={}));var wV=(function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),s=this.extractBits(r),a=this.correctBits(s),i=t.convertBoolArrayToByteArray(a),o=t.getEncodedData(a),l=new $5(i,o,null,null);return l.setNumBits(a.length),l},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,s=io.UPPER,a=io.UPPER,i="",o=0;o<r;)if(a===io.BINARY){if(r-o<5)break;var l=t.readCode(e,o,5);if(o+=5,l===0){if(r-o<11)break;l=t.readCode(e,o,11)+31,o+=11}for(var c=0;c<l;c++){if(r-o<8){o=r;break}var d=t.readCode(e,o,8);i+=Rn.castAsNonUtf8Char(d),o+=8}a=s}else{var u=a===io.DIGIT?4:5;if(r-o<u)break;var d=t.readCode(e,o,u);o+=u;var h=t.getCharacter(a,d);h.startsWith("CTRL_")?(s=a,a=t.getTable(h.charAt(5)),h.charAt(6)==="L"&&(s=a)):(i+=h,a=s)}return i},t.getTable=function(e){switch(e){case"L":return io.LOWER;case"P":return io.PUNCT;case"M":return io.MIXED;case"D":return io.DIGIT;case"B":return io.BINARY;case"U":default:return io.UPPER}},t.getCharacter=function(e,r){switch(e){case io.UPPER:return t.UPPER_TABLE[r];case io.LOWER:return t.LOWER_TABLE[r];case io.MIXED:return t.MIXED_TABLE[r];case io.PUNCT:return t.PUNCT_TABLE[r];case io.DIGIT:return t.DIGIT_TABLE[r];default:throw new Nb("Bad table")}},t.prototype.correctBits=function(e){var r,s;this.ddata.getNbLayers()<=2?(s=6,r=Al.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,r=Al.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,r=Al.AZTEC_DATA_10):(s=12,r=Al.AZTEC_DATA_12);var a=this.ddata.getNbDatablocks(),i=e.length/s;if(i<a)throw new Ut;for(var o=e.length%s,l=new Int32Array(i),c=0;c<i;c++,o+=s)l[c]=t.readCode(e,o,s);try{var d=new D5(r);d.decode(l,i-a)}catch(v){throw new Ut(v)}for(var u=(1<<s)-1,h=0,c=0;c<a;c++){var f=l[c];if(f===0||f===u)throw new Ut;(f===1||f===u-1)&&h++}for(var m=new Array(a*s-h),y=0,c=0;c<a;c++){var f=l[c];if(f===1||f===u-1)m.fill(f>1,y,y+s-1),y+=s-1;else for(var g=s-1;g>=0;--g)m[y++]=(f&1<<g)!==0}return m},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),s=this.ddata.getNbLayers(),a=(r?11:14)+s*4,i=new Int32Array(a),o=new Array(this.totalBitsInLayer(s,r));if(r)for(var l=0;l<i.length;l++)i[l]=l;else for(var c=a+1+2*kn.truncDivision(kn.truncDivision(a,2)-1,15),d=a/2,u=kn.truncDivision(c,2),l=0;l<d;l++){var h=l+kn.truncDivision(l,15);i[d-l-1]=u-h-1,i[d+l]=u+h+1}for(var l=0,f=0;l<s;l++){for(var m=(s-l)*4+(r?9:12),y=l*2,g=a-1-y,v=0;v<m;v++)for(var b=v*2,w=0;w<2;w++)o[f+b+w]=e.get(i[y+w],i[y+v]),o[f+2*m+b+w]=e.get(i[y+v],i[g-w]),o[f+4*m+b+w]=e.get(i[g-w],i[g-v]),o[f+6*m+b+w]=e.get(i[g-v],i[y+w]);f+=m*8}return o},t.readCode=function(e,r,s){for(var a=0,i=r;i<r+s;i++)a<<=1,e[i]&&(a|=1);return a},t.readByte=function(e,r){var s=e.length-r;return s>=8?t.readCode(e,r,8):t.readCode(e,r,s)<<8-s},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),s=0;s<r.length;s++)r[s]=t.readByte(e,8*s);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t})(),Yn=(function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,s,a){var i=e-s,o=r-a;return Math.sqrt(i*i+o*o)},t.sum=function(e){for(var r=0,s=0,a=e.length;s!==a;s++){var i=e[s];r+=i}return r},t})(),hP=(function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),_r=(function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*hP.floatToIntBits(this.x)+hP.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),s=this.distance(e[1],e[2]),a=this.distance(e[0],e[2]),i,o,l;if(s>=r&&s>=a?(o=e[0],i=e[1],l=e[2]):a>=s&&a>=r?(o=e[1],i=e[0],l=e[2]):(o=e[2],i=e[0],l=e[1]),this.crossProductZ(i,o,l)<0){var c=i;i=l,l=c}e[0]=i,e[1]=o,e[2]=l},t.distance=function(e,r){return Yn.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,s){var a=r.x,i=r.y;return(s.x-a)*(e.y-i)-(s.y-i)*(e.x-a)},t})(),AO=(function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),X9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Z9e=(function(t){X9e(e,t);function e(r,s,a,i,o){var l=t.call(this,r,s)||this;return l.compact=a,l.nbDatablocks=i,l.nbLayers=o,l}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(AO),fP=(function(){function t(e,r,s,a){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),s==null&&(s=e.getWidth()/2|0),a==null&&(a=e.getHeight()/2|0);var i=r/2|0;if(this.leftInit=s-i,this.rightInit=s+i,this.upInit=a-i,this.downInit=a+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ht}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,s=this.upInit,a=this.downInit,i=!1,o=!0,l=!1,c=!1,d=!1,u=!1,h=!1,f=this.width,m=this.height;o;){o=!1;for(var y=!0;(y||!c)&&r<f;)y=this.containsBlackPoint(s,a,r,!1),y?(r++,o=!0,c=!0):c||r++;if(r>=f){i=!0;break}for(var g=!0;(g||!d)&&a<m;)g=this.containsBlackPoint(e,r,a,!0),g?(a++,o=!0,d=!0):d||a++;if(a>=m){i=!0;break}for(var v=!0;(v||!u)&&e>=0;)v=this.containsBlackPoint(s,a,e,!1),v?(e--,o=!0,u=!0):u||e--;if(e<0){i=!0;break}for(var b=!0;(b||!h)&&s>=0;)b=this.containsBlackPoint(e,r,s,!0),b?(s--,o=!0,h=!0):h||s--;if(s<0){i=!0;break}o&&(l=!0)}if(!i&&l){for(var w=r-e,N=null,_=1;N===null&&_<w;_++)N=this.getBlackPointOnSegment(e,a-_,e+_,a);if(N==null)throw new ht;for(var C=null,_=1;C===null&&_<w;_++)C=this.getBlackPointOnSegment(e,s+_,e+_,s);if(C==null)throw new ht;for(var E=null,_=1;E===null&&_<w;_++)E=this.getBlackPointOnSegment(r,s+_,r-_,s);if(E==null)throw new ht;for(var A=null,_=1;A===null&&_<w;_++)A=this.getBlackPointOnSegment(r,a-_,r-_,a);if(A==null)throw new ht;return this.centerEdges(A,N,E,C)}else throw new ht},t.prototype.getBlackPointOnSegment=function(e,r,s,a){for(var i=Yn.round(Yn.distance(e,r,s,a)),o=(s-e)/i,l=(a-r)/i,c=this.image,d=0;d<i;d++){var u=Yn.round(e+d*o),h=Yn.round(r+d*l);if(c.get(u,h))return new _r(u,h)}return null},t.prototype.centerEdges=function(e,r,s,a){var i=e.getX(),o=e.getY(),l=r.getX(),c=r.getY(),d=s.getX(),u=s.getY(),h=a.getX(),f=a.getY(),m=t.CORR;return i<this.width/2?[new _r(h-m,f+m),new _r(l+m,c+m),new _r(d-m,u-m),new _r(i+m,o-m)]:[new _r(h+m,f+m),new _r(l+m,c-m),new _r(d-m,u+m),new _r(i-m,o-m)]},t.prototype.containsBlackPoint=function(e,r,s,a){var i=this.image;if(a){for(var o=e;o<=r;o++)if(i.get(o,s))return!0}else for(var l=e;l<=r;l++)if(i.get(s,l))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t})(),jV=(function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var s=e.getWidth(),a=e.getHeight(),i=!0,o=0;o<r.length&&i;o+=2){var l=Math.floor(r[o]),c=Math.floor(r[o+1]);if(l<-1||l>s||c<-1||c>a)throw new ht;i=!1,l===-1?(r[o]=0,i=!0):l===s&&(r[o]=s-1,i=!0),c===-1?(r[o+1]=0,i=!0):c===a&&(r[o+1]=a-1,i=!0)}i=!0;for(var o=r.length-2;o>=0&&i;o-=2){var l=Math.floor(r[o]),c=Math.floor(r[o+1]);if(l<-1||l>s||c<-1||c>a)throw new ht;i=!1,l===-1?(r[o]=0,i=!0):l===s&&(r[o]=s-1,i=!0),c===-1?(r[o+1]=0,i=!0):c===a&&(r[o+1]=a-1,i=!0)}},t})(),Ote=(function(){function t(e,r,s,a,i,o,l,c,d){this.a11=e,this.a21=r,this.a31=s,this.a12=a,this.a22=i,this.a32=o,this.a13=l,this.a23=c,this.a33=d}return t.quadrilateralToQuadrilateral=function(e,r,s,a,i,o,l,c,d,u,h,f,m,y,g,v){var b=t.quadrilateralToSquare(e,r,s,a,i,o,l,c),w=t.squareToQuadrilateral(d,u,h,f,m,y,g,v);return w.times(b)},t.prototype.transformPoints=function(e){for(var r=e.length,s=this.a11,a=this.a12,i=this.a13,o=this.a21,l=this.a22,c=this.a23,d=this.a31,u=this.a32,h=this.a33,f=0;f<r;f+=2){var m=e[f],y=e[f+1],g=i*m+c*y+h;e[f]=(s*m+o*y+d)/g,e[f+1]=(a*m+l*y+u)/g}},t.prototype.transformPointsWithValues=function(e,r){for(var s=this.a11,a=this.a12,i=this.a13,o=this.a21,l=this.a22,c=this.a23,d=this.a31,u=this.a32,h=this.a33,f=e.length,m=0;m<f;m++){var y=e[m],g=r[m],v=i*y+c*g+h;e[m]=(s*y+o*g+d)/v,r[m]=(a*y+l*g+u)/v}},t.squareToQuadrilateral=function(e,r,s,a,i,o,l,c){var d=e-s+i-l,u=r-a+o-c;if(d===0&&u===0)return new t(s-e,i-s,e,a-r,o-a,r,0,0,1);var h=s-i,f=l-i,m=a-o,y=c-o,g=h*y-f*m,v=(d*y-f*u)/g,b=(h*u-d*m)/g;return new t(s-e+v*s,l-e+b*l,e,a-r+v*a,c-r+b*c,r,v,b,1)},t.quadrilateralToSquare=function(e,r,s,a,i,o,l,c){return t.squareToQuadrilateral(e,r,s,a,i,o,l,c).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t})(),J9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Q9e=(function(t){J9e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,s,a,i,o,l,c,d,u,h,f,m,y,g,v,b,w,N,_){var C=Ote.quadrilateralToQuadrilateral(i,o,l,c,d,u,h,f,m,y,g,v,b,w,N,_);return this.sampleGridWithTransform(r,s,a,C)},e.prototype.sampleGridWithTransform=function(r,s,a,i){if(s<=0||a<=0)throw new ht;for(var o=new zu(s,a),l=new Float32Array(2*s),c=0;c<a;c++){for(var d=l.length,u=c+.5,h=0;h<d;h+=2)l[h]=h/2+.5,l[h+1]=u;i.transformPoints(l),jV.checkAndNudgePoints(r,l);try{for(var h=0;h<d;h+=2)r.get(Math.floor(l[h]),Math.floor(l[h+1]))&&o.set(h/2,c)}catch{throw new ht}}return o},e})(jV),EO=(function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new Q9e,t})(),Sl=(function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new _r(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t})(),eLe=(function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),s=this.getBullsEyeCorners(r);if(e){var a=s[0];s[0]=s[2],s[2]=a}this.extractParameters(s);var i=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),o=this.getMatrixCornerPoints(s);return new Z9e(i,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ht;var r=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(s,r);for(var a=0,i=0;i<4;i++){var o=s[(this.shift+i)%4];this.compact?(a<<=7,a+=o>>1&127):(a<<=10,a+=(o>>2&992)+(o>>1&31))}var l=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},t.prototype.getRotation=function(e,r){var s=0;e.forEach(function(i,o,l){var c=(i>>r-2<<1)+(i&1);s=(s<<3)+c}),s=((s&1)<<11)+(s>>1);for(var a=0;a<4;a++)if(kn.bitCount(s^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new ht},t.prototype.getCorrectedParameterData=function(e,r){var s,a;r?(s=7,a=2):(s=10,a=4);for(var i=s-a,o=new Int32Array(s),l=s-1;l>=0;--l)o[l]=e&15,e>>=4;try{var c=new D5(Al.AZTEC_PARAM);c.decode(o,i)}catch{throw new ht}for(var d=0,l=0;l<a;l++)d=(d<<4)+o[l];return d},t.prototype.getBullsEyeCorners=function(e){var r=e,s=e,a=e,i=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(r,o,1,-1),c=this.getFirstDifferent(s,o,1,1),d=this.getFirstDifferent(a,o,-1,1),u=this.getFirstDifferent(i,o,-1,-1);if(this.nbCenterLayers>2){var h=this.distancePoint(u,l)*this.nbCenterLayers/(this.distancePoint(i,r)*(this.nbCenterLayers+2));if(h<.75||h>1.25||!this.isWhiteOrBlackRectangle(l,c,d,u))break}r=l,s=c,a=d,i=u,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ht;this.compact=this.nbCenterLayers===5;var f=new _r(r.getX()+.5,r.getY()-.5),m=new _r(s.getX()+.5,s.getY()+.5),y=new _r(a.getX()-.5,a.getY()+.5),g=new _r(i.getX()-.5,i.getY()-.5);return this.expandSquare([f,m,y,g],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,s,a;try{var i=new fP(this.image).detect();e=i[0],r=i[1],s=i[2],a=i[3]}catch{var o=this.image.getWidth()/2,l=this.image.getHeight()/2;e=this.getFirstDifferent(new Sl(o+7,l-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Sl(o+7,l+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Sl(o-7,l+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Sl(o-7,l-7),!1,-1,-1).toResultPoint()}var c=Yn.round((e.getX()+a.getX()+r.getX()+s.getX())/4),d=Yn.round((e.getY()+a.getY()+r.getY()+s.getY())/4);try{var i=new fP(this.image,15,c,d).detect();e=i[0],r=i[1],s=i[2],a=i[3]}catch{e=this.getFirstDifferent(new Sl(c+7,d-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Sl(c+7,d+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Sl(c-7,d+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Sl(c-7,d-7),!1,-1,-1).toResultPoint()}return c=Yn.round((e.getX()+a.getX()+r.getX()+s.getX())/4),d=Yn.round((e.getY()+a.getY()+r.getY()+s.getY())/4),new Sl(c,d)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,s,a,i){var o=EO.getInstance(),l=this.getDimension(),c=l/2-this.nbCenterLayers,d=l/2+this.nbCenterLayers;return o.sampleGrid(e,l,l,c,c,d,c,d,d,c,d,r.getX(),r.getY(),s.getX(),s.getY(),a.getX(),a.getY(),i.getX(),i.getY())},t.prototype.sampleLine=function(e,r,s){for(var a=0,i=this.distanceResultPoint(e,r),o=i/s,l=e.getX(),c=e.getY(),d=o*(r.getX()-e.getX())/i,u=o*(r.getY()-e.getY())/i,h=0;h<s;h++)this.image.get(Yn.round(l+h*d),Yn.round(c+h*u))&&(a|=1<<s-h-1);return a},t.prototype.isWhiteOrBlackRectangle=function(e,r,s,a){var i=3;e=new Sl(e.getX()-i,e.getY()+i),r=new Sl(r.getX()-i,r.getY()-i),s=new Sl(s.getX()+i,s.getY()-i),a=new Sl(a.getX()+i,a.getY()+i);var o=this.getColor(a,e);if(o===0)return!1;var l=this.getColor(e,r);return l!==o||(l=this.getColor(r,s),l!==o)?!1:(l=this.getColor(s,a),l===o)},t.prototype.getColor=function(e,r){for(var s=this.distancePoint(e,r),a=(r.getX()-e.getX())/s,i=(r.getY()-e.getY())/s,o=0,l=e.getX(),c=e.getY(),d=this.image.get(e.getX(),e.getY()),u=Math.ceil(s),h=0;h<u;h++)l+=a,c+=i,this.image.get(Yn.round(l),Yn.round(c))!==d&&o++;var f=o/s;return f>.1&&f<.9?0:f<=.1===d?1:-1},t.prototype.getFirstDifferent=function(e,r,s,a){for(var i=e.getX()+s,o=e.getY()+a;this.isValid(i,o)&&this.image.get(i,o)===r;)i+=s,o+=a;for(i-=s,o-=a;this.isValid(i,o)&&this.image.get(i,o)===r;)i+=s;for(i-=s;this.isValid(i,o)&&this.image.get(i,o)===r;)o+=a;return o-=a,new Sl(i,o)},t.prototype.expandSquare=function(e,r,s){var a=s/(2*r),i=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,d=new _r(l+a*i,c+a*o),u=new _r(l-a*i,c-a*o);i=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var h=new _r(l+a*i,c+a*o),f=new _r(l-a*i,c-a*o),m=[d,h,u,f];return m},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=Yn.round(e.getX()),s=Yn.round(e.getY());return this.isValid(r,s)},t.prototype.distancePoint=function(e,r){return Yn.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return Yn.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(kn.truncDivision(this.nbLayers-4,8)+1)+15},t})(),cN=(function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var s=null,a=new eLe(e.getBlackMatrix()),i=null,o=null;try{var l=a.detectMirror(!1);i=l.getPoints(),this.reportFoundResultPoints(r,i),o=new wV().decode(l)}catch(h){s=h}if(o==null)try{var l=a.detectMirror(!0);i=l.getPoints(),this.reportFoundResultPoints(r,i),o=new wV().decode(l)}catch(h){throw s??h}var c=new Ro(o.getText(),o.getRawBytes(),o.getNumBits(),i,Fr.AZTEC,Hs.currentTimeMillis()),d=o.getByteSegments();d!=null&&c.putMetadata(ho.BYTE_SEGMENTS,d);var u=o.getECLevel();return u!=null&&c.putMetadata(ho.ERROR_CORRECTION_LEVEL,u),c},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var s=e.get(qs.NEED_RESULT_POINT_CALLBACK);s!=null&&r.forEach(function(a,i,o){s.foundPossibleResultPoint(a)})}},t.prototype.reset=function(){},t})(),tLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})();(function(t){tLe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new cN,r)||this}return e})(Zg);var Pi=(function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var s=r&&r.get(qs.TRY_HARDER)===!0;if(s&&e.isRotateSupported()){var a=e.rotateCounterClockwise(),i=this.doDecode(a,r),o=i.getResultMetadata(),l=270;o!==null&&o.get(ho.ORIENTATION)===!0&&(l=l+o.get(ho.ORIENTATION)%360),i.putMetadata(ho.ORIENTATION,l);var c=i.getResultPoints();if(c!==null)for(var d=a.getHeight(),u=0;u<c.length;u++)c[u]=new _r(d-c[u].getY()-1,c[u].getX());return i}else throw new ht}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var s=e.getWidth(),a=e.getHeight(),i=new Yi(s),o=r&&r.get(qs.TRY_HARDER)===!0,l=Math.max(1,a>>(o?8:5)),c;o?c=a:c=15;for(var d=Math.trunc(a/2),u=0;u<c;u++){var h=Math.trunc((u+1)/2),f=(u&1)===0,m=d+l*(f?h:-h);if(m<0||m>=a)break;try{i=e.getBlackRow(m,i)}catch{continue}for(var y=function(w){if(w===1&&(i.reverse(),r&&r.get(qs.NEED_RESULT_POINT_CALLBACK)===!0)){var N=new Map;r.forEach(function(E,A){return N.set(A,E)}),N.delete(qs.NEED_RESULT_POINT_CALLBACK),r=N}try{var _=g.decodeRow(m,i,r);if(w===1){_.putMetadata(ho.ORIENTATION,180);var C=_.getResultPoints();C!==null&&(C[0]=new _r(s-C[0].getX()-1,C[0].getY()),C[1]=new _r(s-C[1].getX()-1,C[1].getY()))}return{value:_}}catch{}},g=this,v=0;v<2;v++){var b=y(v);if(typeof b=="object")return b.value}}throw new ht},t.recordPattern=function(e,r,s){for(var a=s.length,i=0;i<a;i++)s[i]=0;var o=e.getSize();if(r>=o)throw new ht;for(var l=!e.get(r),c=0,d=r;d<o;){if(e.get(d)!==l)s[c]++;else{if(++c===a)break;s[c]=1,l=!l}d++}if(!(c===a||c===a-1&&d===o))throw new ht},t.recordPatternInReverse=function(e,r,s){for(var a=s.length,i=e.get(r);r>0&&a>=0;)e.get(--r)!==i&&(a--,i=!i);if(a>=0)throw new ht;t.recordPattern(e,r+1,s)},t.patternMatchVariance=function(e,r,s){for(var a=e.length,i=0,o=0,l=0;l<a;l++)i+=e[l],o+=r[l];if(i<o)return Number.POSITIVE_INFINITY;var c=i/o;s*=c;for(var d=0,u=0;u<a;u++){var h=e[u],f=r[u]*c,m=h>f?h-f:f-h;if(m>s)return Number.POSITIVE_INFINITY;d+=m}return d/i},t})(),rLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),NV=(function(t){rLe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var s=r.getSize(),a=r.getNextSet(0),i=0,o=Int32Array.from([0,0,0,0,0,0]),l=a,c=!1,d=6,u=a;u<s;u++)if(r.get(u)!==c)o[i]++;else{if(i===d-1){for(var h=e.MAX_AVG_VARIANCE,f=-1,m=e.CODE_START_A;m<=e.CODE_START_C;m++){var y=Pi.patternMatchVariance(o,e.CODE_PATTERNS[m],e.MAX_INDIVIDUAL_VARIANCE);y<h&&(h=y,f=m)}if(f>=0&&r.isRange(Math.max(0,l-(u-l)/2),l,!1))return Int32Array.from([l,u,f]);l+=o[0]+o[1],o=o.slice(2,o.length),o[i-1]=0,o[i]=0,i--}else i++;o[i]=1,c=!c}throw new ht},e.decodeCode=function(r,s,a){Pi.recordPattern(r,a,s);for(var i=e.MAX_AVG_VARIANCE,o=-1,l=0;l<e.CODE_PATTERNS.length;l++){var c=e.CODE_PATTERNS[l],d=this.patternMatchVariance(s,c,e.MAX_INDIVIDUAL_VARIANCE);d<i&&(i=d,o=l)}if(o>=0)return o;throw new ht},e.prototype.decodeRow=function(r,s,a){var i=a&&a.get(qs.ASSUME_GS1)===!0,o=e.findStartPattern(s),l=o[2],c=0,d=new Uint8Array(20);d[c++]=l;var u;switch(l){case e.CODE_START_A:u=e.CODE_CODE_A;break;case e.CODE_START_B:u=e.CODE_CODE_B;break;case e.CODE_START_C:u=e.CODE_CODE_C;break;default:throw new Ut}for(var h=!1,f=!1,m="",y=o[0],g=o[1],v=Int32Array.from([0,0,0,0,0,0]),b=0,w=0,N=l,_=0,C=!0,E=!1,A=!1;!h;){var I=f;switch(f=!1,b=w,w=e.decodeCode(s,v,g),d[c++]=w,w!==e.CODE_STOP&&(C=!0),w!==e.CODE_STOP&&(_++,N+=_*w),y=g,g+=v.reduce(function(L,F){return L+F},0),w){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new Ut}switch(u){case e.CODE_CODE_A:if(w<64)A===E?m+=String.fromCharCode(32+w):m+=String.fromCharCode(32+w+128),A=!1;else if(w<96)A===E?m+=String.fromCharCode(w-64):m+=String.fromCharCode(w+64),A=!1;else switch(w!==e.CODE_STOP&&(C=!1),w){case e.CODE_FNC_1:i&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!E&&A?(E=!0,A=!1):E&&A?(E=!1,A=!1):A=!0;break;case e.CODE_SHIFT:f=!0,u=e.CODE_CODE_B;break;case e.CODE_CODE_B:u=e.CODE_CODE_B;break;case e.CODE_CODE_C:u=e.CODE_CODE_C;break;case e.CODE_STOP:h=!0;break}break;case e.CODE_CODE_B:if(w<96)A===E?m+=String.fromCharCode(32+w):m+=String.fromCharCode(32+w+128),A=!1;else switch(w!==e.CODE_STOP&&(C=!1),w){case e.CODE_FNC_1:i&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!E&&A?(E=!0,A=!1):E&&A?(E=!1,A=!1):A=!0;break;case e.CODE_SHIFT:f=!0,u=e.CODE_CODE_A;break;case e.CODE_CODE_A:u=e.CODE_CODE_A;break;case e.CODE_CODE_C:u=e.CODE_CODE_C;break;case e.CODE_STOP:h=!0;break}break;case e.CODE_CODE_C:if(w<100)w<10&&(m+="0"),m+=w;else switch(w!==e.CODE_STOP&&(C=!1),w){case e.CODE_FNC_1:i&&(m.length===0?m+="]C1":m+="");break;case e.CODE_CODE_A:u=e.CODE_CODE_A;break;case e.CODE_CODE_B:u=e.CODE_CODE_B;break;case e.CODE_STOP:h=!0;break}break}I&&(u=u===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var $=g-y;if(g=s.getNextUnset(g),!s.isRange(g,Math.min(s.getSize(),g+(g-y)/2),!1))throw new ht;if(N-=_*b,N%103!==b)throw new ci;var O=m.length;if(O===0)throw new ht;O>0&&C&&(u===e.CODE_CODE_C?m=m.substring(0,O-2):m=m.substring(0,O-1));for(var P=(o[1]+o[0])/2,M=y+$/2,R=d.length,W=new Uint8Array(R),Y=0;Y<R;Y++)W[Y]=d[Y];var K=[new _r(P,r),new _r(M,r)];return new Ro(m,W,0,K,Fr.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(Pi),nLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),lk=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SV=(function(t){nLe(e,t);function e(r,s){r===void 0&&(r=!1),s===void 0&&(s=!1);var a=t.call(this)||this;return a.usingCheckDigit=r,a.extendedMode=s,a.decodeRowResult="",a.counters=new Int32Array(9),a}return e.prototype.decodeRow=function(r,s,a){var i,o,l,c,d=this.counters;d.fill(0),this.decodeRowResult="";var u=e.findAsteriskPattern(s,d),h=s.getNextSet(u[1]),f=s.getSize(),m,y;do{e.recordPattern(s,h,d);var g=e.toNarrowWidePattern(d);if(g<0)throw new ht;m=e.patternToChar(g),this.decodeRowResult+=m,y=h;try{for(var v=(i=void 0,lk(d)),b=v.next();!b.done;b=v.next()){var w=b.value;h+=w}}catch(R){i={error:R}}finally{try{b&&!b.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}h=s.getNextSet(h)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var N=0;try{for(var _=lk(d),C=_.next();!C.done;C=_.next()){var w=C.value;N+=w}}catch(R){l={error:R}}finally{try{C&&!C.done&&(c=_.return)&&c.call(_)}finally{if(l)throw l.error}}var E=h-y-N;if(h!==f&&E*2<N)throw new ht;if(this.usingCheckDigit){for(var A=this.decodeRowResult.length-1,I=0,$=0;$<A;$++)I+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt($));if(this.decodeRowResult.charAt(A)!==e.ALPHABET_STRING.charAt(I%43))throw new ci;this.decodeRowResult=this.decodeRowResult.substring(0,A)}if(this.decodeRowResult.length===0)throw new ht;var O;this.extendedMode?O=e.decodeExtended(this.decodeRowResult):O=this.decodeRowResult;var P=(u[1]+u[0])/2,M=y+N/2;return new Ro(O,null,0,[new _r(P,r),new _r(M,r)],Fr.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,s){for(var a=r.getSize(),i=r.getNextSet(0),o=0,l=i,c=!1,d=s.length,u=i;u<a;u++)if(r.get(u)!==c)s[o]++;else{if(o===d-1){if(this.toNarrowWidePattern(s)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,l-Math.floor((u-l)/2)),l,!1))return[l,u];l+=s[0]+s[1],s.copyWithin(0,2,2+o-1),s[o-1]=0,s[o]=0,o--}else o++;s[o]=1,c=!c}throw new ht},e.toNarrowWidePattern=function(r){var s,a,i=r.length,o=0,l;do{var c=2147483647;try{for(var d=(s=void 0,lk(r)),u=d.next();!u.done;u=d.next()){var h=u.value;h<c&&h>o&&(c=h)}}catch(g){s={error:g}}finally{try{u&&!u.done&&(a=d.return)&&a.call(d)}finally{if(s)throw s.error}}o=c,l=0;for(var f=0,m=0,y=0;y<i;y++){var h=r[y];h>o&&(m|=1<<i-1-y,l++,f+=h)}if(l===3){for(var y=0;y<i&&l>0;y++){var h=r[y];if(h>o&&(l--,h*2>=f))return-1}return m}}while(l>3);return-1},e.patternToChar=function(r){for(var s=0;s<e.CHARACTER_ENCODINGS.length;s++)if(e.CHARACTER_ENCODINGS[s]===r)return e.ALPHABET_STRING.charAt(s);if(r===e.ASTERISK_ENCODING)return"*";throw new ht},e.decodeExtended=function(r){for(var s=r.length,a="",i=0;i<s;i++){var o=r.charAt(i);if(o==="+"||o==="$"||o==="%"||o==="/"){var l=r.charAt(i+1),c="\0";switch(o){case"+":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new Ut;break;case"$":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new Ut;break;case"%":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l==="X"||l==="Y"||l==="Z")c="";else throw new Ut;break;case"/":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new Ut;break}a+=c,i++}else a+=o}return a},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(Pi),sLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),ck=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_V=(function(t){sLe(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,s,a){var i,o,l,c,d=this.findAsteriskPattern(s),u=s.getNextSet(d[1]),h=s.getSize(),f=this.counters;f.fill(0),this.decodeRowResult="";var m,y;do{e.recordPattern(s,u,f);var g=this.toPattern(f);if(g<0)throw new ht;m=this.patternToChar(g),this.decodeRowResult+=m,y=u;try{for(var v=(i=void 0,ck(f)),b=v.next();!b.done;b=v.next()){var w=b.value;u+=w}}catch($){i={error:$}}finally{try{b&&!b.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}u=s.getNextSet(u)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var N=0;try{for(var _=ck(f),C=_.next();!C.done;C=_.next()){var w=C.value;N+=w}}catch($){l={error:$}}finally{try{C&&!C.done&&(c=_.return)&&c.call(_)}finally{if(l)throw l.error}}if(u===h||!s.get(u))throw new ht;if(this.decodeRowResult.length<2)throw new ht;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var E=this.decodeExtended(this.decodeRowResult),A=(d[1]+d[0])/2,I=y+N/2;return new Ro(E,null,0,[new _r(A,r),new _r(I,r)],Fr.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var s=r.getSize(),a=r.getNextSet(0);this.counters.fill(0);for(var i=this.counters,o=a,l=!1,c=i.length,d=0,u=a;u<s;u++)if(r.get(u)!==l)i[d]++;else{if(d===c-1){if(this.toPattern(i)===e.ASTERISK_ENCODING)return new Int32Array([o,u]);o+=i[0]+i[1],i.copyWithin(0,2,2+d-1),i[d-1]=0,i[d]=0,d--}else d++;i[d]=1,l=!l}throw new ht},e.prototype.toPattern=function(r){var s,a,i=0;try{for(var o=ck(r),l=o.next();!l.done;l=o.next()){var c=l.value;i+=c}}catch(y){s={error:y}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(s)throw s.error}}for(var d=0,u=r.length,h=0;h<u;h++){var f=Math.round(r[h]*9/i);if(f<1||f>4)return-1;if((h&1)===0)for(var m=0;m<f;m++)d=d<<1|1;else d<<=f}return d},e.prototype.patternToChar=function(r){for(var s=0;s<e.CHARACTER_ENCODINGS.length;s++)if(e.CHARACTER_ENCODINGS[s]===r)return e.ALPHABET_STRING.charAt(s);throw new ht},e.prototype.decodeExtended=function(r){for(var s=r.length,a="",i=0;i<s;i++){var o=r.charAt(i);if(o>="a"&&o<="d"){if(i>=s-1)throw new Ut;var l=r.charAt(i+1),c="\0";switch(o){case"d":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new Ut;break;case"a":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new Ut;break;case"b":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l>="X"&&l<="Z")c="";else throw new Ut;break;case"c":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new Ut;break}a+=c,i++}else a+=o}return a},e.prototype.checkChecksums=function(r){var s=r.length;this.checkOneChecksum(r,s-2,20),this.checkOneChecksum(r,s-1,15)},e.prototype.checkOneChecksum=function(r,s,a){for(var i=1,o=0,l=s-1;l>=0;l--)o+=i*e.ALPHABET_STRING.indexOf(r.charAt(l)),++i>a&&(i=1);if(r.charAt(s)!==e.ALPHABET_STRING[o%47])throw new ci},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(Pi),aLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),iLe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CV=(function(t){aLe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,s,a){var i,o,l=this.decodeStart(s),c=this.decodeEnd(s),d=new bn;e.decodeMiddle(s,l[1],c[0],d);var u=d.toString(),h=null;a!=null&&(h=a.get(qs.ALLOWED_LENGTHS)),h==null&&(h=e.DEFAULT_ALLOWED_LENGTHS);var f=u.length,m=!1,y=0;try{for(var g=iLe(h),v=g.next();!v.done;v=g.next()){var b=v.value;if(f===b){m=!0;break}b>y&&(y=b)}}catch(_){i={error:_}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}if(!m&&f>y&&(m=!0),!m)throw new Ut;var w=[new _r(l[1],r),new _r(c[0],r)],N=new Ro(u,null,0,w,Fr.ITF,new Date().getTime());return N},e.decodeMiddle=function(r,s,a,i){var o=new Int32Array(10),l=new Int32Array(5),c=new Int32Array(5);for(o.fill(0),l.fill(0),c.fill(0);s<a;){Pi.recordPattern(r,s,o);for(var d=0;d<5;d++){var u=2*d;l[d]=o[u],c[d]=o[u+1]}var h=e.decodeDigit(l);i.append(h.toString()),h=this.decodeDigit(c),i.append(h.toString()),o.forEach(function(f){s+=f})}},e.prototype.decodeStart=function(r){var s=e.skipWhiteSpace(r),a=e.findGuardPattern(r,s,e.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(r,a[0]),a},e.prototype.validateQuietZone=function(r,s){var a=this.narrowLineWidth*10;a=a<s?a:s;for(var i=s-1;a>0&&i>=0&&!r.get(i);i--)a--;if(a!==0)throw new ht},e.skipWhiteSpace=function(r){var s=r.getSize(),a=r.getNextSet(0);if(a===s)throw new ht;return a},e.prototype.decodeEnd=function(r){r.reverse();try{var s=e.skipWhiteSpace(r),a=void 0;try{a=e.findGuardPattern(r,s,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof ht&&(a=e.findGuardPattern(r,s,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,a[0]);var i=a[0];return a[0]=r.getSize()-a[1],a[1]=r.getSize()-i,a}finally{r.reverse()}},e.findGuardPattern=function(r,s,a){var i=a.length,o=new Int32Array(i),l=r.getSize(),c=!1,d=0,u=s;o.fill(0);for(var h=s;h<l;h++)if(r.get(h)!==c)o[d]++;else{if(d===i-1){if(Pi.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[u,h];u+=o[0]+o[1],Hs.arraycopy(o,2,o,0,d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,c=!c}throw new ht},e.decodeDigit=function(r){for(var s=e.MAX_AVG_VARIANCE,a=-1,i=e.PATTERNS.length,o=0;o<i;o++){var l=e.PATTERNS[o],c=Pi.patternMatchVariance(r,l,e.MAX_INDIVIDUAL_VARIANCE);c<s?(s=c,a=o):c===s&&(a=-1)}if(a>=0)return a%10;throw new ht},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(Pi),oLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),kg=(function(t){oLe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var s=!1,a,i=0,o=Int32Array.from([0,0,0]);!s;){o=Int32Array.from([0,0,0]),a=e.findGuardPattern(r,i,!1,this.START_END_PATTERN,o);var l=a[0];i=a[1];var c=l-(i-l);c>=0&&(s=r.isRange(c,l,!1))}return a},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var s=r.length;if(s===0)return!1;var a=parseInt(r.charAt(s-1),10);return e.getStandardUPCEANChecksum(r.substring(0,s-1))===a},e.getStandardUPCEANChecksum=function(r){for(var s=r.length,a=0,i=s-1;i>=0;i-=2){var o=r.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new Ut;a+=o}a*=3;for(var i=s-2;i>=0;i-=2){var o=r.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new Ut;a+=o}return(1e3-a)%10},e.decodeEnd=function(r,s){return e.findGuardPattern(r,s,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,s,a,i){return this.findGuardPattern(r,s,a,i,new Int32Array(i.length))},e.findGuardPattern=function(r,s,a,i,o){var l=r.getSize();s=a?r.getNextUnset(s):r.getNextSet(s);for(var c=0,d=s,u=i.length,h=a,f=s;f<l;f++)if(r.get(f)!==h)o[c]++;else{if(c===u-1){if(Pi.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([d,f]);d+=o[0]+o[1];for(var m=o.slice(2,o.length),y=0;y<c-1;y++)o[y]=m[y];o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,h=!h}throw new ht},e.decodeDigit=function(r,s,a,i){this.recordPattern(r,a,s);for(var o=this.MAX_AVG_VARIANCE,l=-1,c=i.length,d=0;d<c;d++){var u=i[d],h=Pi.patternMatchVariance(s,u,e.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,l=d)}if(l>=0)return l;throw new ht},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(Pi),lLe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cLe=(function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,s){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(r,s,a),o=a.toString(),l=t.parseExtensionString(o),c=[new _r((s[0]+s[1])/2,e),new _r(i,e)],d=new Ro(o,null,0,c,Fr.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&d.putAllMetadata(l),d},t.prototype.decodeMiddle=function(e,r,s){var a,i,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),c=r[1],d=0,u=0;u<5&&c<l;u++){var h=kg.decodeDigit(e,o,c,kg.L_AND_G_PATTERNS);s+=String.fromCharCode(48+h%10);try{for(var f=(a=void 0,lLe(o)),m=f.next();!m.done;m=f.next()){var y=m.value;c+=y}}catch(v){a={error:v}}finally{try{m&&!m.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}h>=10&&(d|=1<<4-u),u!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(s.length!==5)throw new ht;var g=this.determineCheckDigit(d);if(t.extensionChecksum(s.toString())!==g)throw new ht;return c},t.extensionChecksum=function(e){for(var r=e.length,s=0,a=r-2;a>=0;a-=2)s+=e.charAt(a).charCodeAt(0)-48;s*=3;for(var a=r-1;a>=0;a-=2)s+=e.charAt(a).charCodeAt(0)-48;return s*=3,s%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new ht},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[ho.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var s=parseInt(e.substring(1)),a=(s/100).toString(),i=s%100,o=i<10?"0"+i:i.toString();return r+a+"."+o},t})(),dLe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uLe=(function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,s){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(r,s,a),o=a.toString(),l=t.parseExtensionString(o),c=[new _r((s[0]+s[1])/2,e),new _r(i,e)],d=new Ro(o,null,0,c,Fr.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&d.putAllMetadata(l),d},t.prototype.decodeMiddle=function(e,r,s){var a,i,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),c=r[1],d=0,u=0;u<2&&c<l;u++){var h=kg.decodeDigit(e,o,c,kg.L_AND_G_PATTERNS);s+=String.fromCharCode(48+h%10);try{for(var f=(a=void 0,dLe(o)),m=f.next();!m.done;m=f.next()){var y=m.value;c+=y}}catch(g){a={error:g}}finally{try{m&&!m.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}h>=10&&(d|=1<<1-u),u!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(s.length!==2)throw new ht;if(parseInt(s.toString())%4!==d)throw new ht;return c},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[ho.ISSUE_NUMBER,parseInt(e)]])},t})(),hLe=(function(){function t(){}return t.decodeRow=function(e,r,s){var a=kg.findGuardPattern(r,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var i=new cLe;return i.decodeRow(e,r,a)}catch{var o=new uLe;return o.decodeRow(e,r,a)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t})(),fLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Ni=(function(t){fLe(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var s=10;s<20;s++){for(var a=e.L_PATTERNS[s-10],i=new Int32Array(a.length),o=0;o<a.length;o++)i[o]=a[a.length-o-1];e.L_AND_G_PATTERNS[s]=i}return r}return e.prototype.decodeRow=function(r,s,a){var i=e.findStartGuardPattern(s),o=a==null?null:a.get(qs.NEED_RESULT_POINT_CALLBACK);if(o!=null){var l=new _r((i[0]+i[1])/2,r);o.foundPossibleResultPoint(l)}var c=this.decodeMiddle(s,i,this.decodeRowStringBuffer),d=c.rowOffset,u=c.resultString;if(o!=null){var h=new _r(d,r);o.foundPossibleResultPoint(h)}var f=e.decodeEnd(s,d);if(o!=null){var m=new _r((f[0]+f[1])/2,r);o.foundPossibleResultPoint(m)}var y=f[1],g=y+(y-f[0]);if(g>=s.getSize()||!s.isRange(y,g,!1))throw new ht;var v=u.toString();if(v.length<8)throw new Ut;if(!e.checkChecksum(v))throw new ci;var b=(i[1]+i[0])/2,w=(f[1]+f[0])/2,N=this.getBarcodeFormat(),_=[new _r(b,r),new _r(w,r)],C=new Ro(v,null,0,_,N,new Date().getTime()),E=0;try{var A=hLe.decodeRow(r,s,f[1]);C.putMetadata(ho.UPC_EAN_EXTENSION,A.getText()),C.putAllMetadata(A.getResultMetadata()),C.addResultPoints(A.getResultPoints()),E=A.getText().length}catch{}var I=a==null?null:a.get(qs.ALLOWED_EAN_EXTENSIONS);if(I!=null){var $=!1;for(var O in I)if(E.toString()===O){$=!0;break}if(!$)throw new ht}return N===Fr.EAN_13||Fr.UPC_A,C},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var s=r.length;if(s===0)return!1;var a=parseInt(r.charAt(s-1),10);return e.getStandardUPCEANChecksum(r.substring(0,s-1))===a},e.getStandardUPCEANChecksum=function(r){for(var s=r.length,a=0,i=s-1;i>=0;i-=2){var o=r.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new Ut;a+=o}a*=3;for(var i=s-2;i>=0;i-=2){var o=r.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new Ut;a+=o}return(1e3-a)%10},e.decodeEnd=function(r,s){return e.findGuardPattern(r,s,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(kg),mLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),kV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mP=(function(t){mLe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,s,a){var i,o,l,c,d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;for(var u=r.getSize(),h=s[1],f=0,m=0;m<6&&h<u;m++){var y=Ni.decodeDigit(r,d,h,Ni.L_AND_G_PATTERNS);a+=String.fromCharCode(48+y%10);try{for(var g=(i=void 0,kV(d)),v=g.next();!v.done;v=g.next()){var b=v.value;h+=b}}catch(C){i={error:C}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}y>=10&&(f|=1<<5-m)}a=e.determineFirstDigit(a,f);var w=Ni.findGuardPattern(r,h,!0,Ni.MIDDLE_PATTERN,new Int32Array(Ni.MIDDLE_PATTERN.length).fill(0));h=w[1];for(var m=0;m<6&&h<u;m++){var y=Ni.decodeDigit(r,d,h,Ni.L_PATTERNS);a+=String.fromCharCode(48+y);try{for(var N=(l=void 0,kV(d)),_=N.next();!_.done;_=N.next()){var b=_.value;h+=b}}catch(A){l={error:A}}finally{try{_&&!_.done&&(c=N.return)&&c.call(N)}finally{if(l)throw l.error}}}return{rowOffset:h,resultString:a}},e.prototype.getBarcodeFormat=function(){return Fr.EAN_13},e.determineFirstDigit=function(r,s){for(var a=0;a<10;a++)if(s===this.FIRST_DIGIT_ENCODINGS[a])return r=String.fromCharCode(48+a)+r,r;throw new ht},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(Ni),pLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),AV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EV=(function(t){pLe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,s,a){var i,o,l,c,d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;for(var u=r.getSize(),h=s[1],f=0;f<4&&h<u;f++){var m=Ni.decodeDigit(r,d,h,Ni.L_PATTERNS);a+=String.fromCharCode(48+m);try{for(var y=(i=void 0,AV(d)),g=y.next();!g.done;g=y.next()){var v=g.value;h+=v}}catch(_){i={error:_}}finally{try{g&&!g.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}}var b=Ni.findGuardPattern(r,h,!0,Ni.MIDDLE_PATTERN,new Int32Array(Ni.MIDDLE_PATTERN.length).fill(0));h=b[1];for(var f=0;f<4&&h<u;f++){var m=Ni.decodeDigit(r,d,h,Ni.L_PATTERNS);a+=String.fromCharCode(48+m);try{for(var w=(l=void 0,AV(d)),N=w.next();!N.done;N=w.next()){var v=N.value;h+=v}}catch(E){l={error:E}}finally{try{N&&!N.done&&(c=w.return)&&c.call(w)}finally{if(l)throw l.error}}}return{rowOffset:h,resultString:a}},e.prototype.getBarcodeFormat=function(){return Fr.EAN_8},e})(Ni),xLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),PV=(function(t){xLe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new mP,r}return e.prototype.getBarcodeFormat=function(){return Fr.UPC_A},e.prototype.decode=function(r,s){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,s,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,s,a))},e.prototype.decodeMiddle=function(r,s,a){return this.ean13Reader.decodeMiddle(r,s,a)},e.prototype.maybeReturnResult=function(r){var s=r.getText();if(s.charAt(0)==="0"){var a=new Ro(s.substring(1),null,null,r.getResultPoints(),Fr.UPC_A);return r.getResultMetadata()!=null&&a.putAllMetadata(r.getResultMetadata()),a}else throw new ht},e.prototype.reset=function(){this.ean13Reader.reset()},e})(Ni),gLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),vLe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TV=(function(t){gLe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,s,a){var i,o,l=this.decodeMiddleCounters.map(function(v){return v});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=r.getSize(),d=s[1],u=0,h=0;h<6&&d<c;h++){var f=e.decodeDigit(r,l,d,e.L_AND_G_PATTERNS);a+=String.fromCharCode(48+f%10);try{for(var m=(i=void 0,vLe(l)),y=m.next();!y.done;y=m.next()){var g=y.value;d+=g}}catch(v){i={error:v}}finally{try{y&&!y.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}f>=10&&(u|=1<<5-h)}return e.determineNumSysAndCheckDigit(new bn(a),u),d},e.prototype.decodeEnd=function(r,s){return e.findGuardPatternWithoutCounters(r,s,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return Ni.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,s){for(var a=0;a<=1;a++)for(var i=0;i<10;i++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][i]){r.insert(0,"0"+a),r.append("0"+i);return}throw ht.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Fr.UPC_E},e.convertUPCEtoUPCA=function(r){var s=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),a=new bn;a.append(r.charAt(0));var i=s[5];switch(i){case 0:case 1:case 2:a.appendChars(s,0,2),a.append(i),a.append("0000"),a.appendChars(s,2,3);break;case 3:a.appendChars(s,0,3),a.append("00000"),a.appendChars(s,3,2);break;case 4:a.appendChars(s,0,4),a.append("00000"),a.append(s[4]);break;default:a.appendChars(s,0,5),a.append("0000"),a.append(i);break}return r.length>=8&&a.append(r.charAt(7)),a.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(Ni),yLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),OV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dk=(function(t){yLe(e,t);function e(r){var s=t.call(this)||this,a=r==null?null:r.get(qs.POSSIBLE_FORMATS),i=[];return a!=null&&(a.indexOf(Fr.EAN_13)>-1&&i.push(new mP),a.indexOf(Fr.UPC_A)>-1&&i.push(new PV),a.indexOf(Fr.EAN_8)>-1&&i.push(new EV),a.indexOf(Fr.UPC_E)>-1&&i.push(new TV)),i.length===0&&(i.push(new mP),i.push(new PV),i.push(new EV),i.push(new TV)),s.readers=i,s}return e.prototype.decodeRow=function(r,s,a){var i,o;try{for(var l=OV(this.readers),c=l.next();!c.done;c=l.next()){var d=c.value;try{var u=d.decodeRow(r,s,a),h=u.getBarcodeFormat()===Fr.EAN_13&&u.getText().charAt(0)==="0",f=a==null?null:a.get(qs.POSSIBLE_FORMATS),m=f==null||f.includes(Fr.UPC_A);if(h&&m){var y=u.getRawBytes(),g=new Ro(u.getText().substring(1),y,y?y.length:null,u.getResultPoints(),Fr.UPC_A);return g.putAllMetadata(u.getResultMetadata()),g}return u}catch{}}}catch(v){i={error:v}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}throw new ht},e.prototype.reset=function(){var r,s;try{for(var a=OV(this.readers),i=a.next();!i.done;i=a.next()){var o=i.value;o.reset()}}catch(l){r={error:l}}finally{try{i&&!i.done&&(s=a.return)&&s.call(a)}finally{if(r)throw r.error}}},e})(Pi),bLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),wLe=(function(t){bLe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,s,a){var i=this.getValidRowData(s);if(!i)throw new ht;var o=this.codaBarDecodeRow(i.row);if(!o)throw new ht;return new Ro(o,null,0,[new _r(i.left,r),new _r(i.right,r)],Fr.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var s=r.toArray(),a=s.indexOf(!0);if(a===-1)return null;var i=s.lastIndexOf(!0);if(i<=a)return null;s=s.slice(a,i+1);for(var o=[],l=s[0],c=1,d=1;d<s.length;d++)s[d]===l?c++:(l=s[d],o.push(c),c=1);return o.push(c),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:a,right:i}},e.prototype.codaBarDecodeRow=function(r){for(var s=[],a=Math.ceil(r.reduce(function(c,d){return(c+d)/2},0));r.length>0;){var i=r.splice(0,8).splice(0,7),o=i.map(function(c){return c<a?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;s.push(this.CODA_BAR_CHAR_SET[o])}var l=s.join("");return this.validCodaBarString(l)?l:null},e.prototype.validCodaBarString=function(r){var s=/^[A-D].{1,}[A-D]$/;return s.test(r)},e})(Pi),jLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),NLe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xp=(function(t){jLe(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,s){for(var a=0;a<s.length;a++)if(Pi.patternMatchVariance(r,s[a],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return a;throw new ht},e.count=function(r){return Yn.sum(new Int32Array(r))},e.increment=function(r,s){for(var a=0,i=s[0],o=1;o<r.length;o++)s[o]>i&&(i=s[o],a=o);r[a]++},e.decrement=function(r,s){for(var a=0,i=s[0],o=1;o<r.length;o++)s[o]<i&&(i=s[o],a=o);r[a]--},e.isFinderPattern=function(r){var s,a,i=r[0]+r[1],o=i+r[2]+r[3],l=i/o;if(l>=e.MIN_FINDER_PATTERN_RATIO&&l<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;try{for(var u=NLe(r),h=u.next();!h.done;h=u.next()){var f=h.value;f>d&&(d=f),f<c&&(c=f)}}catch(m){s={error:m}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(s)throw s.error}}return d<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(Pi),dN=(function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t})(),Ite=(function(){function t(e,r,s,a,i){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new _r(s,i)),this.resultPoints.push(new _r(a,i))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t})(),SLe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Px=(function(){function t(){}return t.getRSSvalue=function(e,r,s){var a,i,o=0;try{for(var l=SLe(e),c=l.next();!c.done;c=l.next()){var d=c.value;o+=d}}catch(w){a={error:w}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}for(var u=0,h=0,f=e.length,m=0;m<f-1;m++){var y=void 0;for(y=1,h|=1<<m;y<e[m];y++,h&=~(1<<m)){var g=t.combins(o-y-1,f-m-2);if(s&&h===0&&o-y-(f-m-1)>=f-m-1&&(g-=t.combins(o-y-(f-m),f-m-2)),f-m-1>1){for(var v=0,b=o-y-(f-m-2);b>r;b--)v+=t.combins(o-y-b-1,f-m-3);g-=v*(f-1-m)}else o-y>r&&g--;u+=g}o-=y}return u},t.combins=function(e,r){var s,a;e-r>r?(a=r,s=e-r):(a=e-r,s=r);for(var i=1,o=1,l=e;l>s;l--)i*=l,o<=a&&(i/=o,o++);for(;o<=a;)i/=o,o++;return i},t})(),_Le=(function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var s=12*r,a=new Yi(s),i=0,o=e[0],l=o.getRightChar().getValue(),c=11;c>=0;--c)(l&1<<c)!==0&&a.set(i),i++;for(var c=1;c<e.length;++c){for(var d=e[c],u=d.getLeftChar().getValue(),h=11;h>=0;--h)(u&1<<h)!==0&&a.set(i),i++;if(d.getRightChar()!==null)for(var f=d.getRightChar().getValue(),h=11;h>=0;--h)(f&1<<h)!==0&&a.set(i),i++}return a},t})(),op=(function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t})(),PO=(function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t})(),CLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Nd=(function(t){CLe(e,t);function e(r,s){var a=t.call(this,r)||this;return a.value=s,a}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(PO),kLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),lp=(function(t){kLe(e,t);function e(r,s,a){var i=t.call(this,r)||this;return a?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=s,i}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(PO),ALe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),fx=(function(t){ALe(e,t);function e(r,s,a){var i=t.call(this,r)||this;if(s<0||s>10||a<0||a>10)throw new Ut;return i.firstDigit=s,i.secondDigit=a,i}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(PO),sw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ELe=(function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,s,a,i,o,l,c,d;if(!e)return null;if(e.length<2)throw new ht;var u=e.substring(0,2);try{for(var h=sw(t.TWO_DIGIT_DATA_LENGTH),f=h.next();!f.done;f=h.next()){var m=f.value;if(m[0]===u)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,m[2],e):t.processFixedAI(2,m[1],e)}}catch(E){r={error:E}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(r)throw r.error}}if(e.length<3)throw new ht;var y=e.substring(0,3);try{for(var g=sw(t.THREE_DIGIT_DATA_LENGTH),v=g.next();!v.done;v=g.next()){var m=v.value;if(m[0]===y)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,m[2],e):t.processFixedAI(3,m[1],e)}}catch(E){a={error:E}}finally{try{v&&!v.done&&(i=g.return)&&i.call(g)}finally{if(a)throw a.error}}try{for(var b=sw(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),w=b.next();!w.done;w=b.next()){var m=w.value;if(m[0]===y)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,m[2],e):t.processFixedAI(4,m[1],e)}}catch(E){o={error:E}}finally{try{w&&!w.done&&(l=b.return)&&l.call(b)}finally{if(o)throw o.error}}if(e.length<4)throw new ht;var N=e.substring(0,4);try{for(var _=sw(t.FOUR_DIGIT_DATA_LENGTH),C=_.next();!C.done;C=_.next()){var m=C.value;if(m[0]===N)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,m[2],e):t.processFixedAI(4,m[1],e)}}catch(E){c={error:E}}finally{try{C&&!C.done&&(d=_.return)&&d.call(_)}finally{if(c)throw c.error}}throw new ht},t.processFixedAI=function(e,r,s){if(s.length<e)throw new ht;var a=s.substring(0,e);if(s.length<e+r)throw new ht;var i=s.substring(e,e+r),o=s.substring(e+r),l="("+a+")"+i,c=t.parseFieldsInGeneralPurpose(o);return c==null?l:l+c},t.processVariableAI=function(e,r,s){var a=s.substring(0,e),i;s.length<e+r?i=s.length:i=e+r;var o=s.substring(e,i),l=s.substring(i),c="("+a+")"+o,d=t.parseFieldsInGeneralPurpose(l);return d==null?c:c+d},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t})(),Pw=(function(){function t(e){this.buffer=new bn,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var s=r,a=null;do{var i=this.decodeGeneralPurposeField(s,a),o=ELe.parseFieldsInGeneralPurpose(i.getNewString());if(o!=null&&e.append(o),i.isRemaining()?a=""+i.getRemainingValue():a=null,s===i.getNewPosition())break;s=i.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new fx(this.information.getSize(),fx.FNC1,fx.FNC1):new fx(this.information.getSize(),r-1,fx.FNC1)}var s=this.extractNumericValueFromBitArray(e,7),a=(s-8)/11,i=(s-8)%11;return new fx(e+7,a,i)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,s){for(var a=0,i=0;i<s;++i)e.get(r+i)&&(a|=1<<s-i-1);return a},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var s=this.parseBlocks();return s!=null&&s.isRemaining()?new lp(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new lp(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var s=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var a=s!==this.current.getPosition();if(!a&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new lp(this.current.getPosition(),this.buffer.toString()):r=new lp(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new op(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new lp(this.current.getPosition(),this.buffer.toString());return new op(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new op(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new lp(this.current.getPosition(),this.buffer.toString());return new op(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new op(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new lp(this.current.getPosition(),this.buffer.toString());return new op(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new op(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var s=this.extractNumericValueFromBitArray(e,7);if(s>=64&&s<116)return!0;if(e+8>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(e,8);return a>=232&&a<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Nd(e+5,Nd.FNC1);if(r>=5&&r<15)return new Nd(e+5,"0"+(r-5));var s=this.extractNumericValueFromBitArray(e,7);if(s>=64&&s<90)return new Nd(e+7,""+(s+1));if(s>=90&&s<116)return new Nd(e+7,""+(s+7));var a=this.extractNumericValueFromBitArray(e,8),i;switch(a){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new Ut}return new Nd(e+8,i)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var s=this.extractNumericValueFromBitArray(e,6);return s>=16&&s<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Nd(e+5,Nd.FNC1);if(r>=5&&r<15)return new Nd(e+5,"0"+(r-5));var s=this.extractNumericValueFromBitArray(e,6);if(s>=32&&s<58)return new Nd(e+6,""+(s+33));var a;switch(s){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new Nb("Decoding invalid alphanumeric value: "+s)}return new Nd(e+6,a)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t})(),$te=(function(){function t(e){this.information=e,this.generalDecoder=new Pw(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t})(),PLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Id=(function(t){PLe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,s){r.append("(01)");var a=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,s,a)},e.prototype.encodeCompressedGtinWithoutAI=function(r,s,a){for(var i=0;i<4;++i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*i,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,a)},e.appendCheckDigit=function(r,s){for(var a=0,i=0;i<13;i++){var o=r.charAt(i+s).charCodeAt(0)-48;a+=(i&1)===0?3*o:o}a=10-a%10,a===10&&(a=0),r.append(a)},e.GTIN_SIZE=40,e})($te),TLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),OLe=(function(t){TLe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new bn;r.append("(01)");var s=r.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(a),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(Id),ILe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),$Le=(function(t){ILe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new bn;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})($te),DLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Tw=(function(t){DLe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,s,a){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(s,a);this.addWeightCode(r,i);for(var o=this.checkWeight(i),l=1e5,c=0;c<5;++c)o/l===0&&r.append("0"),l/=10;r.append(o)},e})(Id),MLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Dte=(function(t){MLe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Tw.GTIN_SIZE+e.WEIGHT_SIZE)throw new ht;var r=new bn;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+Tw.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(Tw),RLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),LLe=(function(t){RLe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,s){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e})(Dte),FLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),BLe=(function(t){FLe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,s){s<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e})(Dte),ULe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),zLe=(function(t){ULe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Id.GTIN_SIZE)throw new ht;var r=new bn;this.encodeCompressedGtin(r,e.HEADER_SIZE);var s=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Id.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(s),r.append(")");var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Id.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(Id),VLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),WLe=(function(t){VLe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Id.GTIN_SIZE)throw new ht;var r=new bn;this.encodeCompressedGtin(r,e.HEADER_SIZE);var s=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Id.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(s),r.append(")");var a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Id.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);a/100===0&&r.append("0"),a/10===0&&r.append("0"),r.append(a);var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Id.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(Id),HLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Ff=(function(t){HLe(e,t);function e(r,s,a){var i=t.call(this,r)||this;return i.dateCode=a,i.firstAIdigits=s,i}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new ht;var r=new bn;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,s){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(s,e.DATE_SIZE);if(a!==38400){r.append("("),r.append(this.dateCode),r.append(")");var i=a%32;a/=32;var o=a%12+1;a/=12;var l=a;l/10===0&&r.append("0"),r.append(l),o/10===0&&r.append("0"),r.append(o),i/10===0&&r.append("0"),r.append(i)}},e.prototype.addWeightCode=function(r,s){r.append("("),r.append(this.firstAIdigits),r.append(s/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(Tw);function qLe(t){try{if(t.get(1))return new OLe(t);if(!t.get(2))return new $Le(t);var e=Pw.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new LLe(t);case 5:return new BLe(t)}var r=Pw.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new zLe(t);case 13:return new WLe(t)}var s=Pw.extractNumericValueFromBitArray(t,1,7);switch(s){case 56:return new Ff(t,"310","11");case 57:return new Ff(t,"320","11");case 58:return new Ff(t,"310","13");case 59:return new Ff(t,"320","13");case 60:return new Ff(t,"310","15");case 61:return new Ff(t,"320","15");case 62:return new Ff(t,"310","17");case 63:return new Ff(t,"320","17")}}catch(a){throw console.log(a),new Nb("unknown decoder: "+t)}}var IV=(function(){function t(e,r,s,a){this.leftchar=e,this.rightchar=r,this.finderpattern=s,this.maybeLast=a}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t})(),GLe=(function(){function t(e,r,s){this.pairs=e,this.rowNumber=r,this.wasReversed=s}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var s;return e.forEach(function(a,i){r.forEach(function(o){a.getLeftChar().getValue()===o.getLeftChar().getValue()&&a.getRightChar().getValue()===o.getRightChar().getValue()&&a.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(s=!0)})}),s}},t})(),KLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Bf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},YLe=(function(t){KLe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,s,a){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,s))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,s))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,s){for(var a=!1;!a;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,r))}catch(l){if(l instanceof ht){if(!this.pairs.length)throw new ht;a=!0}}if(this.checkChecksum())return this.pairs;var i;if(this.rows.length?i=!0:i=!1,this.storeRow(r,!1),i){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new ht},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var s=null;try{s=this.checkRows(new Array,0)}catch(a){console.log(a)}return r&&(this.rows=this.rows.reverse()),s},e.prototype.checkRows=function(r,s){for(var a,i,o=s;o<this.rows.length;o++){var l=this.rows[o];this.pairs.length=0;try{for(var c=(a=void 0,Bf(r)),d=c.next();!d.done;d=c.next()){var u=d.value;this.pairs.push(u.getPairs())}}catch(f){a={error:f}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}if(this.pairs.push(l.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var h=new Array(r);h.push(l);try{return this.checkRows(h,o+1)}catch(f){console.log(f)}}}throw new ht},e.isValidSequence=function(r){var s,a;try{for(var i=Bf(e.FINDER_PATTERN_SEQUENCES),o=i.next();!o.done;o=i.next()){var l=o.value;if(!(r.length>l.length)){for(var c=!0,d=0;d<r.length;d++)if(r[d].getFinderPattern().getValue()!==l[d]){c=!1;break}if(c)return!0}}}catch(u){s={error:u}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(s)throw s.error}}return!1},e.prototype.storeRow=function(r,s){for(var a=0,i=!1,o=!1;a<this.rows.length;){var l=this.rows[a];if(l.getRowNumber()>r){o=l.isEquivalent(this.pairs);break}i=l.isEquivalent(this.pairs),a++}o||i||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new GLe(this.pairs,r,s)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,s){var a,i,o,l,c,d;try{for(var u=Bf(s),h=u.next();!h.done;h=u.next()){var f=h.value;if(f.getPairs().length!==r.length){var m=!0;try{for(var y=(o=void 0,Bf(f.getPairs())),g=y.next();!g.done;g=y.next()){var v=g.value,b=!1;try{for(var w=(c=void 0,Bf(r)),N=w.next();!N.done;N=w.next()){var _=N.value;if(IV.equals(v,_)){b=!0;break}}}catch(C){c={error:C}}finally{try{N&&!N.done&&(d=w.return)&&d.call(w)}finally{if(c)throw c.error}}b||(m=!1)}}catch(C){o={error:C}}finally{try{g&&!g.done&&(l=y.return)&&l.call(y)}finally{if(o)throw o.error}}}}}catch(C){a={error:C}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}},e.isPartialRow=function(r,s){var a,i,o,l,c,d;try{for(var u=Bf(s),h=u.next();!h.done;h=u.next()){var f=h.value,m=!0;try{for(var y=(o=void 0,Bf(r)),g=y.next();!g.done;g=y.next()){var v=g.value,b=!1;try{for(var w=(c=void 0,Bf(f.getPairs())),N=w.next();!N.done;N=w.next()){var _=N.value;if(v.equals(_)){b=!0;break}}}catch(C){c={error:C}}finally{try{N&&!N.done&&(d=w.return)&&d.call(w)}finally{if(c)throw c.error}}if(!b){m=!1;break}}}catch(C){o={error:C}}finally{try{g&&!g.done&&(l=y.return)&&l.call(y)}finally{if(o)throw o.error}}if(m)return!0}}catch(C){a={error:C}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var s=_Le.buildBitArray(r),a=qLe(s),i=a.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),l=r[r.length-1].getFinderPattern().getResultPoints(),c=[o[0],o[1],l[0],l[1]];return new Ro(i,null,null,c,Fr.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),s=r.getLeftChar(),a=r.getRightChar();if(a===null)return!1;for(var i=a.getChecksumPortion(),o=2,l=1;l<this.pairs.size();++l){var c=this.pairs.get(l);i+=c.getLeftChar().getChecksumPortion(),o++;var d=c.getRightChar();d!=null&&(i+=d.getChecksumPortion(),o++)}i%=211;var u=211*(o-4)+i;return u===s.getValue()},e.getNextSecondBar=function(r,s){var a;return r.get(s)?(a=r.getNextUnset(s),a=r.getNextSet(a)):(a=r.getNextSet(s),a=r.getNextUnset(a)),a},e.prototype.retrieveNextPair=function(r,s,a){var i=s.length%2===0;this.startFromEven&&(i=!i);var o,l=!0,c=-1;do this.findNextPair(r,s,c),o=this.parseFoundFinderPattern(r,a,i),o===null?c=e.getNextSecondBar(r,this.startEnd[0]):l=!1;while(l);var d=this.decodeDataCharacter(r,o,i,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new ht;var u;try{u=this.decodeDataCharacter(r,o,i,!1)}catch(h){u=null,console.log(h)}return new IV(d,u,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,s,a){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var o=r.getSize(),l;if(a>=0)l=a;else if(this.isEmptyPair(s))l=0;else{var c=s[s.length-1];l=c.getFinderPattern().getStartEnd()[1]}var d=s.length%2!==0;this.startFromEven&&(d=!d);for(var u=!1;l<o&&(u=!r.get(l),!!u);)l++;for(var h=0,f=l,m=l;m<o;m++)if(r.get(m)!==u)i[h]++;else{if(h===3){if(d&&e.reverseCounters(i),e.isFinderPattern(i)){this.startEnd[0]=f,this.startEnd[1]=m;return}d&&e.reverseCounters(i),f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,h--}else h++;i[h]=1,u=!u}throw new ht},e.reverseCounters=function(r){for(var s=r.length,a=0;a<s/2;++a){var i=r[a];r[a]=r[s-a-1],r[s-a-1]=i}},e.prototype.parseFoundFinderPattern=function(r,s,a){var i,o,l;if(a){for(var c=this.startEnd[0]-1;c>=0&&!r.get(c);)c--;c++,i=this.startEnd[0]-c,o=c,l=this.startEnd[1]}else o=this.startEnd[0],l=r.getNextUnset(this.startEnd[1]+1),i=l-this.startEnd[1];var d=this.getDecodeFinderCounters();Hs.arraycopy(d,0,d,1,d.length-1),d[0]=i;var u;try{u=this.parseFinderValue(d,e.FINDER_PATTERNS)}catch{return null}return new Ite(u,[o,l],o,l,s)},e.prototype.decodeDataCharacter=function(r,s,a,i){for(var o=this.getDataCharacterCounters(),l=0;l<o.length;l++)o[l]=0;if(i)e.recordPatternInReverse(r,s.getStartEnd()[0],o);else{e.recordPattern(r,s.getStartEnd()[1],o);for(var c=0,d=o.length-1;c<d;c++,d--){var u=o[c];o[c]=o[d],o[d]=u}}var h=17,f=Yn.sum(new Int32Array(o))/h,m=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(f-m)/m>.3)throw new ht;for(var y=this.getOddCounts(),g=this.getEvenCounts(),v=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors(),c=0;c<o.length;c++){var w=1*o[c]/f,N=w+.5;if(N<1){if(w<.3)throw new ht;N=1}else if(N>8){if(w>8.7)throw new ht;N=8}var _=c/2;(c&1)===0?(y[_]=N,v[_]=w-N):(g[_]=N,b[_]=w-N)}this.adjustOddEvenCounts(h);for(var C=4*s.getValue()+(a?0:2)+(i?0:1)-1,E=0,A=0,c=y.length-1;c>=0;c--){if(e.isNotA1left(s,a,i)){var I=e.WEIGHTS[C][2*c];A+=y[c]*I}E+=y[c]}for(var $=0,c=g.length-1;c>=0;c--)if(e.isNotA1left(s,a,i)){var I=e.WEIGHTS[C][2*c+1];$+=g[c]*I}var O=A+$;if((E&1)!==0||E>13||E<4)throw new ht;var P=(13-E)/2,M=e.SYMBOL_WIDEST[P],R=9-M,W=Px.getRSSvalue(y,M,!0),Y=Px.getRSSvalue(g,R,!1),K=e.EVEN_TOTAL_SUBSET[P],L=e.GSUM[P],F=W*K+Y+L;return new dN(F,O)},e.isNotA1left=function(r,s,a){return!(r.getValue()===0&&s&&a)},e.prototype.adjustOddEvenCounts=function(r){var s=Yn.sum(new Int32Array(this.getOddCounts())),a=Yn.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1;s>13?o=!0:s<4&&(i=!0);var l=!1,c=!1;a>13?c=!0:a<4&&(l=!0);var d=s+a-r,u=(s&1)===1,h=(a&1)===0;if(d===1)if(u){if(h)throw new ht;o=!0}else{if(!h)throw new ht;c=!0}else if(d===-1)if(u){if(h)throw new ht;i=!0}else{if(!h)throw new ht;l=!0}else if(d===0){if(u){if(!h)throw new ht;s<a?(i=!0,c=!0):(o=!0,l=!0)}else if(h)throw new ht}else throw new ht;if(i){if(o)throw new ht;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new ht;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(xp),XLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),ZLe=(function(t){XLe(e,t);function e(r,s,a){var i=t.call(this,r,s)||this;return i.count=0,i.finderPattern=a,i}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(dN),JLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),uk=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$V=(function(t){JLe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,s,a){var i,o,l,c,d=this.decodePair(s,!1,r,a);e.addOrTally(this.possibleLeftPairs,d),s.reverse();var u=this.decodePair(s,!0,r,a);e.addOrTally(this.possibleRightPairs,u),s.reverse();try{for(var h=uk(this.possibleLeftPairs),f=h.next();!f.done;f=h.next()){var m=f.value;if(m.getCount()>1)try{for(var y=(l=void 0,uk(this.possibleRightPairs)),g=y.next();!g.done;g=y.next()){var v=g.value;if(v.getCount()>1&&e.checkChecksum(m,v))return e.constructResult(m,v)}}catch(b){l={error:b}}finally{try{g&&!g.done&&(c=y.return)&&c.call(y)}finally{if(l)throw l.error}}}}catch(b){i={error:b}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}throw new ht},e.addOrTally=function(r,s){var a,i;if(s!=null){var o=!1;try{for(var l=uk(r),c=l.next();!c.done;c=l.next()){var d=c.value;if(d.getValue()===s.getValue()){d.incrementCount(),o=!0;break}}}catch(u){a={error:u}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}o||r.push(s)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,s){for(var a=4537077*r.getValue()+s.getValue(),i=new String(a).toString(),o=new bn,l=13-i.length;l>0;l--)o.append("0");o.append(i);for(var c=0,l=0;l<13;l++){var d=o.charAt(l).charCodeAt(0)-48;c+=(l&1)===0?3*d:d}c=10-c%10,c===10&&(c=0),o.append(c.toString());var u=r.getFinderPattern().getResultPoints(),h=s.getFinderPattern().getResultPoints();return new Ro(o.toString(),null,0,[u[0],u[1],h[0],h[1]],Fr.RSS_14,new Date().getTime())},e.checkChecksum=function(r,s){var a=(r.getChecksumPortion()+16*s.getChecksumPortion())%79,i=9*r.getFinderPattern().getValue()+s.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,a===i},e.prototype.decodePair=function(r,s,a,i){try{var o=this.findFinderPattern(r,s),l=this.parseFoundFinderPattern(r,a,s,o),c=i==null?null:i.get(qs.NEED_RESULT_POINT_CALLBACK);if(c!=null){var d=(o[0]+o[1])/2;s&&(d=r.getSize()-1-d),c.foundPossibleResultPoint(new _r(d,a))}var u=this.decodeDataCharacter(r,l,!0),h=this.decodeDataCharacter(r,l,!1);return new ZLe(1597*u.getValue()+h.getValue(),u.getChecksumPortion()+4*h.getChecksumPortion(),l)}catch{return null}},e.prototype.decodeDataCharacter=function(r,s,a){for(var i=this.getDataCharacterCounters(),o=0;o<i.length;o++)i[o]=0;if(a)Pi.recordPatternInReverse(r,s.getStartEnd()[0],i);else{Pi.recordPattern(r,s.getStartEnd()[1]+1,i);for(var l=0,c=i.length-1;l<c;l++,c--){var d=i[l];i[l]=i[c],i[c]=d}}for(var u=a?16:15,h=Yn.sum(new Int32Array(i))/u,f=this.getOddCounts(),m=this.getEvenCounts(),y=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors(),l=0;l<i.length;l++){var v=i[l]/h,b=Math.floor(v+.5);b<1?b=1:b>8&&(b=8);var w=Math.floor(l/2);(l&1)===0?(f[w]=b,y[w]=v-b):(m[w]=b,g[w]=v-b)}this.adjustOddEvenCounts(a,u);for(var N=0,_=0,l=f.length-1;l>=0;l--)_*=9,_+=f[l],N+=f[l];for(var C=0,E=0,l=m.length-1;l>=0;l--)C*=9,C+=m[l],E+=m[l];var A=_+3*C;if(a){if((N&1)!==0||N>12||N<4)throw new ht;var I=(12-N)/2,$=e.OUTSIDE_ODD_WIDEST[I],O=9-$,P=Px.getRSSvalue(f,$,!1),M=Px.getRSSvalue(m,O,!0),R=e.OUTSIDE_EVEN_TOTAL_SUBSET[I],W=e.OUTSIDE_GSUM[I];return new dN(P*R+M+W,A)}else{if((E&1)!==0||E>10||E<4)throw new ht;var I=(10-E)/2,$=e.INSIDE_ODD_WIDEST[I],O=9-$,P=Px.getRSSvalue(f,$,!0),M=Px.getRSSvalue(m,O,!1),Y=e.INSIDE_ODD_TOTAL_SUBSET[I],W=e.INSIDE_GSUM[I];return new dN(M*Y+P+W,A)}},e.prototype.findFinderPattern=function(r,s){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var i=r.getSize(),o=!1,l=0;l<i&&(o=!r.get(l),s!==o);)l++;for(var c=0,d=l,u=l;u<i;u++)if(r.get(u)!==o)a[c]++;else{if(c===3){if(xp.isFinderPattern(a))return[d,u];d+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,c--}else c++;a[c]=1,o=!o}throw new ht},e.prototype.parseFoundFinderPattern=function(r,s,a,i){for(var o=r.get(i[0]),l=i[0]-1;l>=0&&o!==r.get(l);)l--;l++;var c=i[0]-l,d=this.getDecodeFinderCounters(),u=new Int32Array(d.length);Hs.arraycopy(d,0,u,1,d.length-1),u[0]=c;var h=this.parseFinderValue(u,e.FINDER_PATTERNS),f=l,m=i[1];return a&&(f=r.getSize()-1-f,m=r.getSize()-1-m),new Ite(h,[l,i[1]],f,m,s)},e.prototype.adjustOddEvenCounts=function(r,s){var a=Yn.sum(new Int32Array(this.getOddCounts())),i=Yn.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1,c=!1,d=!1;r?(a>12?l=!0:a<4&&(o=!0),i>12?d=!0:i<4&&(c=!0)):(a>11?l=!0:a<5&&(o=!0),i>10?d=!0:i<4&&(c=!0));var u=a+i-s,h=(a&1)===(r?1:0),f=(i&1)===1;if(u===1)if(h){if(f)throw new ht;l=!0}else{if(!f)throw new ht;d=!0}else if(u===-1)if(h){if(f)throw new ht;o=!0}else{if(!f)throw new ht;c=!0}else if(u===0){if(h){if(!f)throw new ht;a<i?(o=!0,d=!0):(l=!0,c=!0)}else if(f)throw new ht}else throw new ht;if(o){if(l)throw new ht;xp.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&xp.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(d)throw new ht;xp.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&xp.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(xp),QLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Tx=(function(t){QLe(e,t);function e(r){var s=t.call(this)||this;s.readers=[];var a=r?r.get(qs.POSSIBLE_FORMATS):null,i=r&&r.get(qs.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(qs.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return a&&((a.includes(Fr.EAN_13)||a.includes(Fr.UPC_A)||a.includes(Fr.EAN_8)||a.includes(Fr.UPC_E))&&s.readers.push(new dk(r)),a.includes(Fr.CODE_39)&&s.readers.push(new SV(i,o)),a.includes(Fr.CODE_93)&&s.readers.push(new _V),a.includes(Fr.CODE_128)&&s.readers.push(new NV),a.includes(Fr.ITF)&&s.readers.push(new CV),a.includes(Fr.CODABAR)&&s.readers.push(new wLe),a.includes(Fr.RSS_14)&&s.readers.push(new $V),a.includes(Fr.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),s.readers.push(new YLe))),s.readers.length===0&&(s.readers.push(new dk(r)),s.readers.push(new SV),s.readers.push(new _V),s.readers.push(new dk(r)),s.readers.push(new NV),s.readers.push(new CV),s.readers.push(new $V)),s}return e.prototype.decodeRow=function(r,s,a){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(r,s,a)}catch{}throw new ht},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e})(Pi),eFe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})();(function(t){eFe(e,t);function e(r,s){return r===void 0&&(r=500),t.call(this,new Tx(s),r,s)||this}return e})(Zg);var DV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cs=(function(){function t(e,r,s){this.ecCodewords=e,this.ecBlocks=[r],s&&this.ecBlocks.push(s)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),es=(function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),tFe=(function(){function t(e,r,s,a,i,o){var l,c;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=s,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=i,this.ecBlocks=o;var d=0,u=o.getECCodewords(),h=o.getECBlocks();try{for(var f=DV(h),m=f.next();!m.done;m=f.next()){var y=m.value;d+=y.getCount()*(y.getDataCodewords()+u)}}catch(g){l={error:g}}finally{try{m&&!m.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}this.totalCodewords=d}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var s,a;if((e&1)!==0||(r&1)!==0)throw new Ut;try{for(var i=DV(t.VERSIONS),o=i.next();!o.done;o=i.next()){var l=o.value;if(l.symbolSizeRows===e&&l.symbolSizeColumns===r)return l}}catch(c){s={error:c}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(s)throw s.error}}throw new Ut},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new cs(5,new es(1,3))),new t(2,12,12,10,10,new cs(7,new es(1,5))),new t(3,14,14,12,12,new cs(10,new es(1,8))),new t(4,16,16,14,14,new cs(12,new es(1,12))),new t(5,18,18,16,16,new cs(14,new es(1,18))),new t(6,20,20,18,18,new cs(18,new es(1,22))),new t(7,22,22,20,20,new cs(20,new es(1,30))),new t(8,24,24,22,22,new cs(24,new es(1,36))),new t(9,26,26,24,24,new cs(28,new es(1,44))),new t(10,32,32,14,14,new cs(36,new es(1,62))),new t(11,36,36,16,16,new cs(42,new es(1,86))),new t(12,40,40,18,18,new cs(48,new es(1,114))),new t(13,44,44,20,20,new cs(56,new es(1,144))),new t(14,48,48,22,22,new cs(68,new es(1,174))),new t(15,52,52,24,24,new cs(42,new es(2,102))),new t(16,64,64,14,14,new cs(56,new es(2,140))),new t(17,72,72,16,16,new cs(36,new es(4,92))),new t(18,80,80,18,18,new cs(48,new es(4,114))),new t(19,88,88,20,20,new cs(56,new es(4,144))),new t(20,96,96,22,22,new cs(68,new es(4,174))),new t(21,104,104,24,24,new cs(56,new es(6,136))),new t(22,120,120,18,18,new cs(68,new es(6,175))),new t(23,132,132,20,20,new cs(62,new es(8,163))),new t(24,144,144,22,22,new cs(62,new es(8,156),new es(2,155))),new t(25,8,18,6,16,new cs(7,new es(1,5))),new t(26,8,32,6,14,new cs(11,new es(1,10))),new t(27,12,26,10,24,new cs(14,new es(1,16))),new t(28,12,36,10,16,new cs(18,new es(1,22))),new t(29,16,36,14,16,new cs(24,new es(1,32))),new t(30,16,48,14,22,new cs(28,new es(1,49)))]},t.VERSIONS=t.buildVersions(),t})(),rFe=(function(){function t(e){var r=e.getHeight();if(r<8||r>144||(r&1)!==0)throw new Ut;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new zu(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),s=e.getWidth();return tFe.getVersionForDimensions(r,s)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,s=4,a=0,i=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),l=!1,c=!1,d=!1,u=!1;do if(s===i&&a===0&&!l)e[r++]=this.readCorner1(i,o)&255,s-=2,a+=2,l=!0;else if(s===i-2&&a===0&&(o&3)!==0&&!c)e[r++]=this.readCorner2(i,o)&255,s-=2,a+=2,c=!0;else if(s===i+4&&a===2&&(o&7)===0&&!d)e[r++]=this.readCorner3(i,o)&255,s-=2,a+=2,d=!0;else if(s===i-2&&a===0&&(o&7)===4&&!u)e[r++]=this.readCorner4(i,o)&255,s-=2,a+=2,u=!0;else{do s<i&&a>=0&&!this.readMappingMatrix.get(a,s)&&(e[r++]=this.readUtah(s,a,i,o)&255),s-=2,a+=2;while(s>=0&&a<o);s+=1,a+=3;do s>=0&&a<o&&!this.readMappingMatrix.get(a,s)&&(e[r++]=this.readUtah(s,a,i,o)&255),s+=2,a-=2;while(s<i&&a>=0);s+=3,a+=1}while(s<i||a<o);if(r!==this.version.getTotalCodewords())throw new Ut;return e},t.prototype.readModule=function(e,r,s,a){return e<0&&(e+=s,r+=4-(s+4&7)),r<0&&(r+=a,e+=4-(a+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,s,a){var i=0;return this.readModule(e-2,r-2,s,a)&&(i|=1),i<<=1,this.readModule(e-2,r-1,s,a)&&(i|=1),i<<=1,this.readModule(e-1,r-2,s,a)&&(i|=1),i<<=1,this.readModule(e-1,r-1,s,a)&&(i|=1),i<<=1,this.readModule(e-1,r,s,a)&&(i|=1),i<<=1,this.readModule(e,r-2,s,a)&&(i|=1),i<<=1,this.readModule(e,r-1,s,a)&&(i|=1),i<<=1,this.readModule(e,r,s,a)&&(i|=1),i},t.prototype.readCorner1=function(e,r){var s=0;return this.readModule(e-1,0,e,r)&&(s|=1),s<<=1,this.readModule(e-1,1,e,r)&&(s|=1),s<<=1,this.readModule(e-1,2,e,r)&&(s|=1),s<<=1,this.readModule(0,r-2,e,r)&&(s|=1),s<<=1,this.readModule(0,r-1,e,r)&&(s|=1),s<<=1,this.readModule(1,r-1,e,r)&&(s|=1),s<<=1,this.readModule(2,r-1,e,r)&&(s|=1),s<<=1,this.readModule(3,r-1,e,r)&&(s|=1),s},t.prototype.readCorner2=function(e,r){var s=0;return this.readModule(e-3,0,e,r)&&(s|=1),s<<=1,this.readModule(e-2,0,e,r)&&(s|=1),s<<=1,this.readModule(e-1,0,e,r)&&(s|=1),s<<=1,this.readModule(0,r-4,e,r)&&(s|=1),s<<=1,this.readModule(0,r-3,e,r)&&(s|=1),s<<=1,this.readModule(0,r-2,e,r)&&(s|=1),s<<=1,this.readModule(0,r-1,e,r)&&(s|=1),s<<=1,this.readModule(1,r-1,e,r)&&(s|=1),s},t.prototype.readCorner3=function(e,r){var s=0;return this.readModule(e-1,0,e,r)&&(s|=1),s<<=1,this.readModule(e-1,r-1,e,r)&&(s|=1),s<<=1,this.readModule(0,r-3,e,r)&&(s|=1),s<<=1,this.readModule(0,r-2,e,r)&&(s|=1),s<<=1,this.readModule(0,r-1,e,r)&&(s|=1),s<<=1,this.readModule(1,r-3,e,r)&&(s|=1),s<<=1,this.readModule(1,r-2,e,r)&&(s|=1),s<<=1,this.readModule(1,r-1,e,r)&&(s|=1),s},t.prototype.readCorner4=function(e,r){var s=0;return this.readModule(e-3,0,e,r)&&(s|=1),s<<=1,this.readModule(e-2,0,e,r)&&(s|=1),s<<=1,this.readModule(e-1,0,e,r)&&(s|=1),s<<=1,this.readModule(0,r-2,e,r)&&(s|=1),s<<=1,this.readModule(0,r-1,e,r)&&(s|=1),s<<=1,this.readModule(1,r-1,e,r)&&(s|=1),s<<=1,this.readModule(2,r-1,e,r)&&(s|=1),s<<=1,this.readModule(3,r-1,e,r)&&(s|=1),s},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new Br("Dimension of bitMatrix must match the version size");for(var a=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),o=r/a|0,l=s/i|0,c=o*a,d=l*i,u=new zu(d,c),h=0;h<o;++h)for(var f=h*a,m=0;m<l;++m)for(var y=m*i,g=0;g<a;++g)for(var v=h*(a+2)+1+g,b=f+g,w=0;w<i;++w){var N=m*(i+2)+1+w;if(e.get(N,v)){var _=y+w;u.set(_,b)}}return u},t})(),MV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nFe=(function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var s,a,i,o,l=r.getECBlocks(),c=0,d=l.getECBlocks();try{for(var u=MV(d),h=u.next();!h.done;h=u.next()){var f=h.value;c+=f.getCount()}}catch(W){s={error:W}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(s)throw s.error}}var m=new Array(c),y=0;try{for(var g=MV(d),v=g.next();!v.done;v=g.next())for(var f=v.value,b=0;b<f.getCount();b++){var w=f.getDataCodewords(),N=l.getECCodewords()+w;m[y++]=new t(w,new Uint8Array(N))}}catch(W){i={error:W}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}for(var _=m[0].codewords.length,C=_-l.getECCodewords(),E=C-1,A=0,b=0;b<E;b++)for(var I=0;I<y;I++)m[I].codewords[b]=e[A++];for(var $=r.getVersionNumber()===24,O=$?8:y,I=0;I<O;I++)m[I].codewords[C-1]=e[A++];for(var P=m[0].codewords.length,b=C;b<P;b++)for(var I=0;I<y;I++){var M=$?(I+8)%y:I,R=$&&M>7?b-1:b;m[M].codewords[R]=e[A++]}if(A!==e.length)throw new Br;return m},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),Mte=(function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Br(""+e);var r=0,s=this.bitOffset,a=this.byteOffset,i=this.bytes;if(s>0){var o=8-s,l=e<o?e:o,c=o-l,d=255>>8-l<<c;r=(i[a]&d)>>c,e-=l,s+=l,s===8&&(s=0,a++)}if(e>0){for(;e>=8;)r=r<<8|i[a]&255,a++,e-=8;if(e>0){var c=8-e,d=255>>c<<c;r=r<<e|(i[a]&d)>>c,s+=e}}return this.bitOffset=s,this.byteOffset=a,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t})(),wi;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(wi||(wi={}));var sFe=(function(){function t(){}return t.decode=function(e){var r=new Mte(e),s=new bn,a=new bn,i=new Array,o=wi.ASCII_ENCODE;do if(o===wi.ASCII_ENCODE)o=this.decodeAsciiSegment(r,s,a);else{switch(o){case wi.C40_ENCODE:this.decodeC40Segment(r,s);break;case wi.TEXT_ENCODE:this.decodeTextSegment(r,s);break;case wi.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,s);break;case wi.EDIFACT_ENCODE:this.decodeEdifactSegment(r,s);break;case wi.BASE256_ENCODE:this.decodeBase256Segment(r,s,i);break;default:throw new Ut}o=wi.ASCII_ENCODE}while(o!==wi.PAD_ENCODE&&r.available()>0);return a.length()>0&&s.append(a.toString()),new $5(e,s.toString(),i.length===0?null:i,null)},t.decodeAsciiSegment=function(e,r,s){var a=!1;do{var i=e.readBits(8);if(i===0)throw new Ut;if(i<=128)return a&&(i+=128),r.append(String.fromCharCode(i-1)),wi.ASCII_ENCODE;if(i===129)return wi.PAD_ENCODE;if(i<=229){var o=i-130;o<10&&r.append("0"),r.append(""+o)}else switch(i){case 230:return wi.C40_ENCODE;case 231:return wi.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:r.append("[)>05"),s.insert(0,"");break;case 237:r.append("[)>06"),s.insert(0,"");break;case 238:return wi.ANSIX12_ENCODE;case 239:return wi.TEXT_ENCODE;case 240:return wi.EDIFACT_ENCODE;case 241:break;default:if(i!==254||e.available()!==0)throw new Ut;break}}while(e.available()>0);return wi.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var s=!1,a=[],i=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),a);for(var l=0;l<3;l++){var c=a[l];switch(i){case 0:if(c<3)i=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var d=this.C40_BASIC_SET_CHARS[c];s?(r.append(String.fromCharCode(d.charCodeAt(0)+128)),s=!1):r.append(d)}else throw new Ut;break;case 1:s?(r.append(String.fromCharCode(c+128)),s=!1):r.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var d=this.C40_SHIFT2_SET_CHARS[c];s?(r.append(String.fromCharCode(d.charCodeAt(0)+128)),s=!1):r.append(d)}else switch(c){case 27:r.append("");break;case 30:s=!0;break;default:throw new Ut}i=0;break;case 3:s?(r.append(String.fromCharCode(c+224)),s=!1):r.append(String.fromCharCode(c+96)),i=0;break;default:throw new Ut}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var s=!1,a=[],i=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),a);for(var l=0;l<3;l++){var c=a[l];switch(i){case 0:if(c<3)i=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var d=this.TEXT_BASIC_SET_CHARS[c];s?(r.append(String.fromCharCode(d.charCodeAt(0)+128)),s=!1):r.append(d)}else throw new Ut;break;case 1:s?(r.append(String.fromCharCode(c+128)),s=!1):r.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var d=this.TEXT_SHIFT2_SET_CHARS[c];s?(r.append(String.fromCharCode(d.charCodeAt(0)+128)),s=!1):r.append(d)}else switch(c){case 27:r.append("");break;case 30:s=!0;break;default:throw new Ut}i=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var d=this.TEXT_SHIFT3_SET_CHARS[c];s?(r.append(String.fromCharCode(d.charCodeAt(0)+128)),s=!1):r.append(d),i=0}else throw new Ut;break;default:throw new Ut}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var s=[];do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),s);for(var i=0;i<3;i++){var o=s[i];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new Ut;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,s){var a=(e<<8)+r-1,i=Math.floor(a/1600);s[0]=i,a-=i*1600,i=Math.floor(a/40),s[1]=i,s[2]=a-i*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var s=0;s<4;s++){var a=e.readBits(6);if(a===31){var i=8-e.getBitOffset();i!==8&&e.readBits(i);return}(a&32)===0&&(a|=64),r.append(String.fromCharCode(a))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,s){var a=1+e.getByteOffset(),i=this.unrandomize255State(e.readBits(8),a++),o;if(i===0?o=e.available()/8|0:i<250?o=i:o=250*(i-249)+this.unrandomize255State(e.readBits(8),a++),o<0)throw new Ut;for(var l=new Uint8Array(o),c=0;c<o;c++){if(e.available()<8)throw new Ut;l[c]=this.unrandomize255State(e.readBits(8),a++)}s.push(l);try{r.append(Xc.decode(l,Rn.ISO88591))}catch(d){throw new Nb("Platform does not support required encoding: "+d.message)}},t.unrandomize255State=function(e,r){var s=149*r%255+1,a=e-s;return a>=0?a:a+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t})(),aFe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iFe=(function(){function t(){this.rsDecoder=new D5(Al.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,s,a=new rFe(e),i=a.getVersion(),o=a.readCodewords(),l=nFe.getDataBlocks(o,i),c=0;try{for(var d=aFe(l),u=d.next();!u.done;u=d.next()){var h=u.value;c+=h.getNumDataCodewords()}}catch(N){r={error:N}}finally{try{u&&!u.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}for(var f=new Uint8Array(c),m=l.length,y=0;y<m;y++){var g=l[y],v=g.getCodewords(),b=g.getNumDataCodewords();this.correctErrors(v,b);for(var w=0;w<b;w++)f[w*m+y]=v[w]}return sFe.decode(f)},t.prototype.correctErrors=function(e,r){var s=new Int32Array(e);try{this.rsDecoder.decode(s,e.length-r)}catch{throw new ci}for(var a=0;a<r;a++)e[a]=s[a]},t})(),oFe=(function(){function t(e){this.image=e,this.rectangleDetector=new fP(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new ht;r=this.shiftToModuleCenter(r);var s=r[0],a=r[1],i=r[2],o=r[3],l=this.transitionsBetween(s,o)+1,c=this.transitionsBetween(i,o)+1;(l&1)===1&&(l+=1),(c&1)===1&&(c+=1),4*l<7*c&&4*c<7*l&&(l=c=Math.max(l,c));var d=t.sampleGrid(this.image,s,a,i,o,l,c);return new AO(d,[s,a,i,o])},t.shiftPoint=function(e,r,s){var a=(r.getX()-e.getX())/(s+1),i=(r.getY()-e.getY())/(s+1);return new _r(e.getX()+a,e.getY()+i)},t.moveAway=function(e,r,s){var a=e.getX(),i=e.getY();return a<r?a-=1:a+=1,i<s?i-=1:i+=1,new _r(a,i)},t.prototype.detectSolid1=function(e){var r=e[0],s=e[1],a=e[3],i=e[2],o=this.transitionsBetween(r,s),l=this.transitionsBetween(s,a),c=this.transitionsBetween(a,i),d=this.transitionsBetween(i,r),u=o,h=[i,r,s,a];return u>l&&(u=l,h[0]=r,h[1]=s,h[2]=a,h[3]=i),u>c&&(u=c,h[0]=s,h[1]=a,h[2]=i,h[3]=r),u>d&&(h[0]=a,h[1]=i,h[2]=r,h[3]=s),h},t.prototype.detectSolid2=function(e){var r=e[0],s=e[1],a=e[2],i=e[3],o=this.transitionsBetween(r,i),l=t.shiftPoint(s,a,(o+1)*4),c=t.shiftPoint(a,s,(o+1)*4),d=this.transitionsBetween(l,r),u=this.transitionsBetween(c,i);return d<u?(e[0]=r,e[1]=s,e[2]=a,e[3]=i):(e[0]=s,e[1]=a,e[2]=i,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],s=e[1],a=e[2],i=e[3],o=this.transitionsBetween(r,i),l=this.transitionsBetween(s,i),c=t.shiftPoint(r,s,(l+1)*4),d=t.shiftPoint(a,s,(o+1)*4);o=this.transitionsBetween(c,i),l=this.transitionsBetween(d,i);var u=new _r(i.getX()+(a.getX()-s.getX())/(o+1),i.getY()+(a.getY()-s.getY())/(o+1)),h=new _r(i.getX()+(r.getX()-s.getX())/(l+1),i.getY()+(r.getY()-s.getY())/(l+1));if(!this.isValid(u))return this.isValid(h)?h:null;if(!this.isValid(h))return u;var f=this.transitionsBetween(c,u)+this.transitionsBetween(d,u),m=this.transitionsBetween(c,h)+this.transitionsBetween(d,h);return f>m?u:h},t.prototype.shiftToModuleCenter=function(e){var r=e[0],s=e[1],a=e[2],i=e[3],o=this.transitionsBetween(r,i)+1,l=this.transitionsBetween(a,i)+1,c=t.shiftPoint(r,s,l*4),d=t.shiftPoint(a,s,o*4);o=this.transitionsBetween(c,i)+1,l=this.transitionsBetween(d,i)+1,(o&1)===1&&(o+=1),(l&1)===1&&(l+=1);var u=(r.getX()+s.getX()+a.getX()+i.getX())/4,h=(r.getY()+s.getY()+a.getY()+i.getY())/4;r=t.moveAway(r,u,h),s=t.moveAway(s,u,h),a=t.moveAway(a,u,h),i=t.moveAway(i,u,h);var f,m;return c=t.shiftPoint(r,s,l*4),c=t.shiftPoint(c,i,o*4),f=t.shiftPoint(s,r,l*4),f=t.shiftPoint(f,a,o*4),d=t.shiftPoint(a,i,l*4),d=t.shiftPoint(d,s,o*4),m=t.shiftPoint(i,a,l*4),m=t.shiftPoint(m,r,o*4),[c,f,d,m]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,s,a,i,o,l){var c=EO.getInstance();return c.sampleGrid(e,o,l,.5,.5,o-.5,.5,o-.5,l-.5,.5,l-.5,r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY(),s.getX(),s.getY())},t.prototype.transitionsBetween=function(e,r){var s=Math.trunc(e.getX()),a=Math.trunc(e.getY()),i=Math.trunc(r.getX()),o=Math.trunc(r.getY()),l=Math.abs(o-a)>Math.abs(i-s);if(l){var c=s;s=a,a=c,c=i,i=o,o=c}for(var d=Math.abs(i-s),u=Math.abs(o-a),h=-d/2,f=a<o?1:-1,m=s<i?1:-1,y=0,g=this.image.get(l?a:s,l?s:a),v=s,b=a;v!==i;v+=m){var w=this.image.get(l?b:v,l?v:b);if(w!==g&&(y++,g=w),h+=u,h>0){if(b===o)break;b+=f,h-=d}}return y},t})(),uN=(function(){function t(){this.decoder=new iFe}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var s,a;if(r!=null&&r.has(qs.PURE_BARCODE)){var i=t.extractPureBits(e.getBlackMatrix());s=this.decoder.decode(i),a=t.NO_POINTS}else{var o=new oFe(e.getBlackMatrix()).detect();s=this.decoder.decode(o.getBits()),a=o.getPoints()}var l=s.getRawBytes(),c=new Ro(s.getText(),l,8*l.length,a,Fr.DATA_MATRIX,Hs.currentTimeMillis()),d=s.getByteSegments();d!=null&&c.putMetadata(ho.BYTE_SEGMENTS,d);var u=s.getECLevel();return u!=null&&c.putMetadata(ho.ERROR_CORRECTION_LEVEL,u),c},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),s=e.getBottomRightOnBit();if(r==null||s==null)throw new ht;var a=this.moduleSize(r,e),i=r[1],o=s[1],l=r[0],c=s[0],d=(c-l+1)/a,u=(o-i+1)/a;if(d<=0||u<=0)throw new ht;var h=a/2;i+=h,l+=h;for(var f=new zu(d,u),m=0;m<u;m++)for(var y=i+m*a,g=0;g<d;g++)e.get(l+g*a,y)&&f.set(g,m);return f},t.moduleSize=function(e,r){for(var s=r.getWidth(),a=e[0],i=e[1];a<s&&r.get(a,i);)a++;if(a===s)throw new ht;var o=a-e[0];if(o===0)throw new ht;return o},t.NO_POINTS=[],t})(),lFe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})();(function(t){lFe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new uN,r)||this}return e})(Zg);var Ox;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Ox||(Ox={}));var cFe=(function(){function t(e,r,s){this.value=e,this.stringValue=r,this.bits=s,t.FOR_BITS.set(s,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Ya(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Br;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Ox.L,"L",1),t.M=new t(Ox.M,"M",0),t.Q=new t(Ox.Q,"Q",3),t.H=new t(Ox.H,"H",2),t})(),dFe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rte=(function(){function t(e){this.errorCorrectionLevel=cFe.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return kn.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var s=t.doDecodeFormatInformation(e,r);return s!==null?s:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var s,a,i=Number.MAX_SAFE_INTEGER,o=0;try{for(var l=dFe(t.FORMAT_INFO_DECODE_LOOKUP),c=l.next();!c.done;c=l.next()){var d=c.value,u=d[0];if(u===e||u===r)return new t(d[1]);var h=t.numBitsDiffering(e,u);h<i&&(o=d[1],i=h),e!==r&&(h=t.numBitsDiffering(r,u),h<i&&(o=d[1],i=h))}}catch(f){s={error:f}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}return i<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t})(),uFe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},et=(function(){function t(e){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,s=0,a=this.ecBlocks;try{for(var i=uFe(a),o=i.next();!o.done;o=i.next()){var l=o.value;s+=l.getCount()}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return s},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),Ne=(function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),hFe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gp=(function(){function t(e,r){for(var s,a,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=i;var l=0,c=i[0].getECCodewordsPerBlock(),d=i[0].getECBlocks();try{for(var u=hFe(d),h=u.next();!h.done;h=u.next()){var f=h.value;l+=f.getCount()*(f.getDataCodewords()+c)}}catch(m){s={error:m}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(s)throw s.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new Ut;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Ut}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Br;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,s=0,a=0;a<t.VERSION_DECODE_INFO.length;a++){var i=t.VERSION_DECODE_INFO[a];if(i===e)return t.getVersionForNumber(a+7);var o=Rte.numBitsDiffering(e,i);o<r&&(s=a+7,r=o)}return r<=3?t.getVersionForNumber(s):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new zu(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var s=this.alignmentPatternCenters.length,a=0;a<s;a++)for(var i=this.alignmentPatternCenters[a]-2,o=0;o<s;o++)a===0&&(o===0||o===s-1)||a===s-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,i,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new et(7,new Ne(1,19)),new et(10,new Ne(1,16)),new et(13,new Ne(1,13)),new et(17,new Ne(1,9))),new t(2,Int32Array.from([6,18]),new et(10,new Ne(1,34)),new et(16,new Ne(1,28)),new et(22,new Ne(1,22)),new et(28,new Ne(1,16))),new t(3,Int32Array.from([6,22]),new et(15,new Ne(1,55)),new et(26,new Ne(1,44)),new et(18,new Ne(2,17)),new et(22,new Ne(2,13))),new t(4,Int32Array.from([6,26]),new et(20,new Ne(1,80)),new et(18,new Ne(2,32)),new et(26,new Ne(2,24)),new et(16,new Ne(4,9))),new t(5,Int32Array.from([6,30]),new et(26,new Ne(1,108)),new et(24,new Ne(2,43)),new et(18,new Ne(2,15),new Ne(2,16)),new et(22,new Ne(2,11),new Ne(2,12))),new t(6,Int32Array.from([6,34]),new et(18,new Ne(2,68)),new et(16,new Ne(4,27)),new et(24,new Ne(4,19)),new et(28,new Ne(4,15))),new t(7,Int32Array.from([6,22,38]),new et(20,new Ne(2,78)),new et(18,new Ne(4,31)),new et(18,new Ne(2,14),new Ne(4,15)),new et(26,new Ne(4,13),new Ne(1,14))),new t(8,Int32Array.from([6,24,42]),new et(24,new Ne(2,97)),new et(22,new Ne(2,38),new Ne(2,39)),new et(22,new Ne(4,18),new Ne(2,19)),new et(26,new Ne(4,14),new Ne(2,15))),new t(9,Int32Array.from([6,26,46]),new et(30,new Ne(2,116)),new et(22,new Ne(3,36),new Ne(2,37)),new et(20,new Ne(4,16),new Ne(4,17)),new et(24,new Ne(4,12),new Ne(4,13))),new t(10,Int32Array.from([6,28,50]),new et(18,new Ne(2,68),new Ne(2,69)),new et(26,new Ne(4,43),new Ne(1,44)),new et(24,new Ne(6,19),new Ne(2,20)),new et(28,new Ne(6,15),new Ne(2,16))),new t(11,Int32Array.from([6,30,54]),new et(20,new Ne(4,81)),new et(30,new Ne(1,50),new Ne(4,51)),new et(28,new Ne(4,22),new Ne(4,23)),new et(24,new Ne(3,12),new Ne(8,13))),new t(12,Int32Array.from([6,32,58]),new et(24,new Ne(2,92),new Ne(2,93)),new et(22,new Ne(6,36),new Ne(2,37)),new et(26,new Ne(4,20),new Ne(6,21)),new et(28,new Ne(7,14),new Ne(4,15))),new t(13,Int32Array.from([6,34,62]),new et(26,new Ne(4,107)),new et(22,new Ne(8,37),new Ne(1,38)),new et(24,new Ne(8,20),new Ne(4,21)),new et(22,new Ne(12,11),new Ne(4,12))),new t(14,Int32Array.from([6,26,46,66]),new et(30,new Ne(3,115),new Ne(1,116)),new et(24,new Ne(4,40),new Ne(5,41)),new et(20,new Ne(11,16),new Ne(5,17)),new et(24,new Ne(11,12),new Ne(5,13))),new t(15,Int32Array.from([6,26,48,70]),new et(22,new Ne(5,87),new Ne(1,88)),new et(24,new Ne(5,41),new Ne(5,42)),new et(30,new Ne(5,24),new Ne(7,25)),new et(24,new Ne(11,12),new Ne(7,13))),new t(16,Int32Array.from([6,26,50,74]),new et(24,new Ne(5,98),new Ne(1,99)),new et(28,new Ne(7,45),new Ne(3,46)),new et(24,new Ne(15,19),new Ne(2,20)),new et(30,new Ne(3,15),new Ne(13,16))),new t(17,Int32Array.from([6,30,54,78]),new et(28,new Ne(1,107),new Ne(5,108)),new et(28,new Ne(10,46),new Ne(1,47)),new et(28,new Ne(1,22),new Ne(15,23)),new et(28,new Ne(2,14),new Ne(17,15))),new t(18,Int32Array.from([6,30,56,82]),new et(30,new Ne(5,120),new Ne(1,121)),new et(26,new Ne(9,43),new Ne(4,44)),new et(28,new Ne(17,22),new Ne(1,23)),new et(28,new Ne(2,14),new Ne(19,15))),new t(19,Int32Array.from([6,30,58,86]),new et(28,new Ne(3,113),new Ne(4,114)),new et(26,new Ne(3,44),new Ne(11,45)),new et(26,new Ne(17,21),new Ne(4,22)),new et(26,new Ne(9,13),new Ne(16,14))),new t(20,Int32Array.from([6,34,62,90]),new et(28,new Ne(3,107),new Ne(5,108)),new et(26,new Ne(3,41),new Ne(13,42)),new et(30,new Ne(15,24),new Ne(5,25)),new et(28,new Ne(15,15),new Ne(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new et(28,new Ne(4,116),new Ne(4,117)),new et(26,new Ne(17,42)),new et(28,new Ne(17,22),new Ne(6,23)),new et(30,new Ne(19,16),new Ne(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new et(28,new Ne(2,111),new Ne(7,112)),new et(28,new Ne(17,46)),new et(30,new Ne(7,24),new Ne(16,25)),new et(24,new Ne(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new et(30,new Ne(4,121),new Ne(5,122)),new et(28,new Ne(4,47),new Ne(14,48)),new et(30,new Ne(11,24),new Ne(14,25)),new et(30,new Ne(16,15),new Ne(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new et(30,new Ne(6,117),new Ne(4,118)),new et(28,new Ne(6,45),new Ne(14,46)),new et(30,new Ne(11,24),new Ne(16,25)),new et(30,new Ne(30,16),new Ne(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new et(26,new Ne(8,106),new Ne(4,107)),new et(28,new Ne(8,47),new Ne(13,48)),new et(30,new Ne(7,24),new Ne(22,25)),new et(30,new Ne(22,15),new Ne(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new et(28,new Ne(10,114),new Ne(2,115)),new et(28,new Ne(19,46),new Ne(4,47)),new et(28,new Ne(28,22),new Ne(6,23)),new et(30,new Ne(33,16),new Ne(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new et(30,new Ne(8,122),new Ne(4,123)),new et(28,new Ne(22,45),new Ne(3,46)),new et(30,new Ne(8,23),new Ne(26,24)),new et(30,new Ne(12,15),new Ne(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new et(30,new Ne(3,117),new Ne(10,118)),new et(28,new Ne(3,45),new Ne(23,46)),new et(30,new Ne(4,24),new Ne(31,25)),new et(30,new Ne(11,15),new Ne(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new et(30,new Ne(7,116),new Ne(7,117)),new et(28,new Ne(21,45),new Ne(7,46)),new et(30,new Ne(1,23),new Ne(37,24)),new et(30,new Ne(19,15),new Ne(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new et(30,new Ne(5,115),new Ne(10,116)),new et(28,new Ne(19,47),new Ne(10,48)),new et(30,new Ne(15,24),new Ne(25,25)),new et(30,new Ne(23,15),new Ne(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new et(30,new Ne(13,115),new Ne(3,116)),new et(28,new Ne(2,46),new Ne(29,47)),new et(30,new Ne(42,24),new Ne(1,25)),new et(30,new Ne(23,15),new Ne(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new et(30,new Ne(17,115)),new et(28,new Ne(10,46),new Ne(23,47)),new et(30,new Ne(10,24),new Ne(35,25)),new et(30,new Ne(19,15),new Ne(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new et(30,new Ne(17,115),new Ne(1,116)),new et(28,new Ne(14,46),new Ne(21,47)),new et(30,new Ne(29,24),new Ne(19,25)),new et(30,new Ne(11,15),new Ne(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new et(30,new Ne(13,115),new Ne(6,116)),new et(28,new Ne(14,46),new Ne(23,47)),new et(30,new Ne(44,24),new Ne(7,25)),new et(30,new Ne(59,16),new Ne(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new et(30,new Ne(12,121),new Ne(7,122)),new et(28,new Ne(12,47),new Ne(26,48)),new et(30,new Ne(39,24),new Ne(14,25)),new et(30,new Ne(22,15),new Ne(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new et(30,new Ne(6,121),new Ne(14,122)),new et(28,new Ne(6,47),new Ne(34,48)),new et(30,new Ne(46,24),new Ne(10,25)),new et(30,new Ne(2,15),new Ne(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new et(30,new Ne(17,122),new Ne(4,123)),new et(28,new Ne(29,46),new Ne(14,47)),new et(30,new Ne(49,24),new Ne(10,25)),new et(30,new Ne(24,15),new Ne(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new et(30,new Ne(4,122),new Ne(18,123)),new et(28,new Ne(13,46),new Ne(32,47)),new et(30,new Ne(48,24),new Ne(14,25)),new et(30,new Ne(42,15),new Ne(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new et(30,new Ne(20,117),new Ne(4,118)),new et(28,new Ne(40,47),new Ne(7,48)),new et(30,new Ne(43,24),new Ne(22,25)),new et(30,new Ne(10,15),new Ne(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new et(30,new Ne(19,118),new Ne(6,119)),new et(28,new Ne(18,47),new Ne(31,48)),new et(30,new Ne(34,24),new Ne(34,25)),new et(30,new Ne(20,15),new Ne(61,16)))],t})(),zi;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(zi||(zi={}));var RV=(function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var s=0;s<r;s++)for(var a=0;a<r;a++)this.isMasked(s,a)&&e.flip(a,s)},t.values=new Map([[zi.DATA_MASK_000,new t(zi.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[zi.DATA_MASK_001,new t(zi.DATA_MASK_001,function(e,r){return(e&1)===0})],[zi.DATA_MASK_010,new t(zi.DATA_MASK_010,function(e,r){return r%3===0})],[zi.DATA_MASK_011,new t(zi.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[zi.DATA_MASK_100,new t(zi.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[zi.DATA_MASK_101,new t(zi.DATA_MASK_101,function(e,r){return e*r%6===0})],[zi.DATA_MASK_110,new t(zi.DATA_MASK_110,function(e,r){return e*r%6<3})],[zi.DATA_MASK_111,new t(zi.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t})(),fFe=(function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new Ut;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var s=5;s>=0;s--)e=this.copyBit(8,s,e);for(var a=this.bitMatrix.getHeight(),i=0,o=a-7,s=a-1;s>=o;s--)i=this.copyBit(8,s,i);for(var r=a-8;r<a;r++)i=this.copyBit(r,8,i);if(this.parsedFormatInfo=Rte.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Ut},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Gp.getVersionForNumber(r);for(var s=0,a=e-11,i=5;i>=0;i--)for(var o=e-9;o>=a;o--)s=this.copyBit(o,i,s);var l=Gp.decodeVersionInformation(s);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;s=0;for(var o=5;o>=0;o--)for(var i=e-9;i>=a;i--)s=this.copyBit(o,i,s);if(l=Gp.decodeVersionInformation(s),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new Ut},t.prototype.copyBit=function(e,r,s){var a=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return a?s<<1|1:s<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),s=RV.values.get(e.getDataMask()),a=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,a);for(var i=r.buildFunctionPattern(),o=!0,l=new Uint8Array(r.getTotalCodewords()),c=0,d=0,u=0,h=a-1;h>0;h-=2){h===6&&h--;for(var f=0;f<a;f++)for(var m=o?a-1-f:f,y=0;y<2;y++)i.get(h-y,m)||(u++,d<<=1,this.bitMatrix.get(h-y,m)&&(d|=1),u===8&&(l[c++]=d,u=0,d=0));o=!o}if(c!==r.getTotalCodewords())throw new Ut;return l},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=RV.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,s=e.getWidth();r<s;r++)for(var a=r+1,i=e.getHeight();a<i;a++)e.get(r,a)!==e.get(a,r)&&(e.flip(a,r),e.flip(r,a))},t})(),LV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mFe=(function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,s){var a,i,o,l;if(e.length!==r.getTotalCodewords())throw new Br;var c=r.getECBlocksForLevel(s),d=0,u=c.getECBlocks();try{for(var h=LV(u),f=h.next();!f.done;f=h.next()){var m=f.value;d+=m.getCount()}}catch(R){a={error:R}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}var y=new Array(d),g=0;try{for(var v=LV(u),b=v.next();!b.done;b=v.next())for(var m=b.value,w=0;w<m.getCount();w++){var N=m.getDataCodewords(),_=c.getECCodewordsPerBlock()+N;y[g++]=new t(N,new Uint8Array(_))}}catch(R){o={error:R}}finally{try{b&&!b.done&&(l=v.return)&&l.call(v)}finally{if(o)throw o.error}}for(var C=y[0].codewords.length,E=y.length-1;E>=0;){var A=y[E].codewords.length;if(A===C)break;E--}E++;for(var I=C-c.getECCodewordsPerBlock(),$=0,w=0;w<I;w++)for(var O=0;O<g;O++)y[O].codewords[w]=e[$++];for(var O=E;O<g;O++)y[O].codewords[I]=e[$++];for(var P=y[0].codewords.length,w=I;w<P;w++)for(var O=0;O<g;O++){var M=O<E?w:w+1;y[O].codewords[M]=e[$++]}return y},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),Lc;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Lc||(Lc={}));var Js=(function(){function t(e,r,s,a){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=s,this.bits=a,t.FOR_BITS.set(a,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new Br;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),s;return r<=9?s=0:r<=26?s=1:s=2,this.characterCountBitsForVersions[s]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Lc.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Lc.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Lc.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Lc.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Lc.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Lc.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Lc.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Lc.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Lc.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Lc.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t})(),pFe=(function(){function t(){}return t.decode=function(e,r,s,a){var i=new Mte(e),o=new bn,l=new Array,c=-1,d=-1;try{var u=null,h=!1,f=void 0;do{if(i.available()<4)f=Js.TERMINATOR;else{var m=i.readBits(4);f=Js.forBits(m)}switch(f){case Js.TERMINATOR:break;case Js.FNC1_FIRST_POSITION:case Js.FNC1_SECOND_POSITION:h=!0;break;case Js.STRUCTURED_APPEND:if(i.available()<16)throw new Ut;c=i.readBits(8),d=i.readBits(8);break;case Js.ECI:var y=t.parseECIValue(i);if(u=Ci.getCharacterSetECIByValue(y),u===null)throw new Ut;break;case Js.HANZI:var g=i.readBits(4),v=i.readBits(f.getCharacterCountBits(r));g===t.GB2312_SUBSET&&t.decodeHanziSegment(i,o,v);break;default:var b=i.readBits(f.getCharacterCountBits(r));switch(f){case Js.NUMERIC:t.decodeNumericSegment(i,o,b);break;case Js.ALPHANUMERIC:t.decodeAlphanumericSegment(i,o,b,h);break;case Js.BYTE:t.decodeByteSegment(i,o,b,u,l,a);break;case Js.KANJI:t.decodeKanjiSegment(i,o,b);break;default:throw new Ut}break}}while(f!==Js.TERMINATOR)}catch{throw new Ut}return new $5(e,o.toString(),l.length===0?null:l,s===null?null:s.toString(),c,d)},t.decodeHanziSegment=function(e,r,s){if(s*13>e.available())throw new Ut;for(var a=new Uint8Array(2*s),i=0;s>0;){var o=e.readBits(13),l=o/96<<8&4294967295|o%96;l<959?l+=41377:l+=42657,a[i]=l>>8&255,a[i+1]=l&255,i+=2,s--}try{r.append(Xc.decode(a,Rn.GB2312))}catch(c){throw new Ut(c)}},t.decodeKanjiSegment=function(e,r,s){if(s*13>e.available())throw new Ut;for(var a=new Uint8Array(2*s),i=0;s>0;){var o=e.readBits(13),l=o/192<<8&4294967295|o%192;l<7936?l+=33088:l+=49472,a[i]=l>>8,a[i+1]=l,i+=2,s--}try{r.append(Xc.decode(a,Rn.SHIFT_JIS))}catch(c){throw new Ut(c)}},t.decodeByteSegment=function(e,r,s,a,i,o){if(8*s>e.available())throw new Ut;for(var l=new Uint8Array(s),c=0;c<s;c++)l[c]=e.readBits(8);var d;a===null?d=Rn.guessEncoding(l,o):d=a.getName();try{r.append(Xc.decode(l,d))}catch(u){throw new Ut(u)}i.push(l)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new Ut;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,s,a){for(var i=r.length();s>1;){if(e.available()<11)throw new Ut;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),s-=2}if(s===1){if(e.available()<6)throw new Ut;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(a)for(var l=i;l<r.length();l++)r.charAt(l)==="%"&&(l<r.length()-1&&r.charAt(l+1)==="%"?r.deleteCharAt(l+1):r.setCharAt(l,""))},t.decodeNumericSegment=function(e,r,s){for(;s>=3;){if(e.available()<10)throw new Ut;var a=e.readBits(10);if(a>=1e3)throw new Ut;r.append(t.toAlphaNumericChar(Math.floor(a/100))),r.append(t.toAlphaNumericChar(Math.floor(a/10)%10)),r.append(t.toAlphaNumericChar(a%10)),s-=3}if(s===2){if(e.available()<7)throw new Ut;var i=e.readBits(7);if(i>=100)throw new Ut;r.append(t.toAlphaNumericChar(Math.floor(i/10))),r.append(t.toAlphaNumericChar(i%10))}else if(s===1){if(e.available()<4)throw new Ut;var o=e.readBits(4);if(o>=10)throw new Ut;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){var s=e.readBits(8);return(r&63)<<8&4294967295|s}if((r&224)===192){var a=e.readBits(16);return(r&31)<<16&4294967295|a}throw new Ut},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t})(),Lte=(function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t})(),FV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xFe=(function(){function t(){this.rsDecoder=new D5(Al.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(zu.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var s=new fFe(e),a=null;try{return this.decodeBitMatrixParser(s,r)}catch(o){a=o}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();var i=this.decodeBitMatrixParser(s,r);return i.setOther(new Lte(!0)),i}catch(o){throw a!==null?a:o}},t.prototype.decodeBitMatrixParser=function(e,r){var s,a,i,o,l=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),d=e.readCodewords(),u=mFe.getDataBlocks(d,l,c),h=0;try{for(var f=FV(u),m=f.next();!m.done;m=f.next()){var y=m.value;h+=y.getNumDataCodewords()}}catch(E){s={error:E}}finally{try{m&&!m.done&&(a=f.return)&&a.call(f)}finally{if(s)throw s.error}}var g=new Uint8Array(h),v=0;try{for(var b=FV(u),w=b.next();!w.done;w=b.next()){var y=w.value,N=y.getCodewords(),_=y.getNumDataCodewords();this.correctErrors(N,_);for(var C=0;C<_;C++)g[v++]=N[C]}}catch(E){i={error:E}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(i)throw i.error}}return pFe.decode(g,l,c,r)},t.prototype.correctErrors=function(e,r){var s=new Int32Array(e);try{this.rsDecoder.decode(s,e.length-r)}catch{throw new ci}for(var a=0;a<r;a++)e[a]=s[a]},t})(),gFe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),vFe=(function(t){gFe(e,t);function e(r,s,a){var i=t.call(this,r,s)||this;return i.estimatedModuleSize=a,i}return e.prototype.aboutEquals=function(r,s,a){if(Math.abs(s-this.getY())<=r&&Math.abs(a-this.getX())<=r){var i=Math.abs(r-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,s,a){var i=(this.getX()+s)/2,o=(this.getY()+r)/2,l=(this.estimatedModuleSize+a)/2;return new e(i,o,l)},e})(_r),yFe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bFe=(function(){function t(e,r,s,a,i,o,l){this.image=e,this.startX=r,this.startY=s,this.width=a,this.height=i,this.moduleSize=o,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,s=this.width,a=e+s,i=this.startY+r/2,o=new Int32Array(3),l=this.image,c=0;c<r;c++){var d=i+((c&1)===0?Math.floor((c+1)/2):-Math.floor((c+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var u=e;u<a&&!l.get(u,d);)u++;for(var h=0;u<a;){if(l.get(u,d))if(h===1)o[1]++;else if(h===2){if(this.foundPatternCross(o)){var f=this.handlePossibleCenter(o,d,u);if(f!==null)return f}o[0]=o[2],o[1]=1,o[2]=0,h=1}else o[++h]++;else h===1&&h++,o[h]++;u++}if(this.foundPatternCross(o)){var f=this.handlePossibleCenter(o,d,a);if(f!==null)return f}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ht},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,s=r/2,a=0;a<3;a++)if(Math.abs(r-e[a])>=s)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,s,a){var i=this.image,o=i.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var c=e;c>=0&&i.get(r,c)&&l[1]<=s;)l[1]++,c--;if(c<0||l[1]>s)return NaN;for(;c>=0&&!i.get(r,c)&&l[0]<=s;)l[0]++,c--;if(l[0]>s)return NaN;for(c=e+1;c<o&&i.get(r,c)&&l[1]<=s;)l[1]++,c++;if(c===o||l[1]>s)return NaN;for(;c<o&&!i.get(r,c)&&l[2]<=s;)l[2]++,c++;if(l[2]>s)return NaN;var d=l[0]+l[1]+l[2];return 5*Math.abs(d-a)>=2*a?NaN:this.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.handlePossibleCenter=function(e,r,s){var a,i,o=e[0]+e[1]+e[2],l=t.centerFromEnd(e,s),c=this.crossCheckVertical(r,l,2*e[1],o);if(!isNaN(c)){var d=(e[0]+e[1]+e[2])/3;try{for(var u=yFe(this.possibleCenters),h=u.next();!h.done;h=u.next()){var f=h.value;if(f.aboutEquals(d,c,l))return f.combineEstimate(c,l,d)}}catch(y){a={error:y}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}var m=new vFe(l,c,d);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null},t})(),wFe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),jFe=(function(t){wFe(e,t);function e(r,s,a,i){var o=t.call(this,r,s)||this;return o.estimatedModuleSize=a,o.count=i,i===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,s,a){if(Math.abs(s-this.getY())<=r&&Math.abs(a-this.getX())<=r){var i=Math.abs(r-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,s,a){var i=this.count+1,o=(this.count*this.getX()+s)/i,l=(this.count*this.getY()+r)/i,c=(this.count*this.estimatedModuleSize+a)/i;return new e(o,l,c,i)},e})(_r),NFe=(function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t})(),Wv=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SFe=(function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(qs.TRY_HARDER)!==void 0,s=e!=null&&e.get(qs.PURE_BARCODE)!==void 0,a=this.image,i=a.getHeight(),o=a.getWidth(),l=Math.floor(3*i/(4*t.MAX_MODULES));(l<t.MIN_SKIP||r)&&(l=t.MIN_SKIP);for(var c=!1,d=new Int32Array(5),u=l-1;u<i&&!c;u+=l){d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0;for(var h=0,f=0;f<o;f++)if(a.get(f,u))(h&1)===1&&h++,d[h]++;else if((h&1)===0)if(h===4)if(t.foundPatternCross(d)){var m=this.handlePossibleCenter(d,u,f,s);if(m===!0)if(l=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var y=this.findRowSkip();y>d[2]&&(u+=y-d[2]-l,f=o-1)}else{d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,h=3;continue}h=0,d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0}else d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,h=3;else d[++h]++;else d[h]++;if(t.foundPatternCross(d)){var m=this.handlePossibleCenter(d,u,o,s);m===!0&&(l=d[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var g=this.selectBestPatterns();return _r.orderBestPatterns(g),new NFe(g)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,s=0;s<5;s++){var a=e[s];if(a===0)return!1;r+=a}if(r<7)return!1;var i=r/7,o=i/2;return Math.abs(i-e[0])<o&&Math.abs(i-e[1])<o&&Math.abs(3*i-e[2])<3*o&&Math.abs(i-e[3])<o&&Math.abs(i-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,s,a){for(var i=this.getCrossCheckStateCount(),o=0,l=this.image;e>=o&&r>=o&&l.get(r-o,e-o);)i[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!l.get(r-o,e-o)&&i[1]<=s;)i[1]++,o++;if(e<o||r<o||i[1]>s)return!1;for(;e>=o&&r>=o&&l.get(r-o,e-o)&&i[0]<=s;)i[0]++,o++;if(i[0]>s)return!1;var c=l.getHeight(),d=l.getWidth();for(o=1;e+o<c&&r+o<d&&l.get(r+o,e+o);)i[2]++,o++;if(e+o>=c||r+o>=d)return!1;for(;e+o<c&&r+o<d&&!l.get(r+o,e+o)&&i[3]<s;)i[3]++,o++;if(e+o>=c||r+o>=d||i[3]>=s)return!1;for(;e+o<c&&r+o<d&&l.get(r+o,e+o)&&i[4]<s;)i[4]++,o++;if(i[4]>=s)return!1;var u=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(u-a)<2*a&&t.foundPatternCross(i)},t.prototype.crossCheckVertical=function(e,r,s,a){for(var i=this.image,o=i.getHeight(),l=this.getCrossCheckStateCount(),c=e;c>=0&&i.get(r,c);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(r,c)&&l[1]<=s;)l[1]++,c--;if(c<0||l[1]>s)return NaN;for(;c>=0&&i.get(r,c)&&l[0]<=s;)l[0]++,c--;if(l[0]>s)return NaN;for(c=e+1;c<o&&i.get(r,c);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!i.get(r,c)&&l[3]<s;)l[3]++,c++;if(c===o||l[3]>=s)return NaN;for(;c<o&&i.get(r,c)&&l[4]<s;)l[4]++,c++;if(l[4]>=s)return NaN;var d=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(d-a)>=2*a?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.crossCheckHorizontal=function(e,r,s,a){for(var i=this.image,o=i.getWidth(),l=this.getCrossCheckStateCount(),c=e;c>=0&&i.get(c,r);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(c,r)&&l[1]<=s;)l[1]++,c--;if(c<0||l[1]>s)return NaN;for(;c>=0&&i.get(c,r)&&l[0]<=s;)l[0]++,c--;if(l[0]>s)return NaN;for(c=e+1;c<o&&i.get(c,r);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!i.get(c,r)&&l[3]<s;)l[3]++,c++;if(c===o||l[3]>=s)return NaN;for(;c<o&&i.get(c,r)&&l[4]<s;)l[4]++,c++;if(l[4]>=s)return NaN;var d=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(d-a)>=a?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.handlePossibleCenter=function(e,r,s,a){var i=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,s),l=this.crossCheckVertical(r,Math.floor(o),e[2],i);if(!isNaN(l)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(l),e[2],i),!isNaN(o)&&(!a||this.crossCheckDiagonal(Math.floor(l),Math.floor(o),e[2],i)))){for(var c=i/7,d=!1,u=this.possibleCenters,h=0,f=u.length;h<f;h++){var m=u[h];if(m.aboutEquals(c,l,o)){u[h]=m.combineEstimate(l,o,c),d=!0;break}}if(!d){var y=new jFe(o,l,c);u.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,s=this.possibleCenters.length;if(s<=1)return 0;var a=null;try{for(var i=Wv(this.possibleCenters),o=i.next();!o.done;o=i.next()){var l=o.value;if(l.getCount()>=t.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,s,a,i=0,o=0,l=this.possibleCenters.length;try{for(var c=Wv(this.possibleCenters),d=c.next();!d.done;d=c.next()){var u=d.value;u.getCount()>=t.CENTER_QUORUM&&(i++,o+=u.getEstimatedModuleSize())}}catch(g){e={error:g}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}if(i<3)return!1;var h=o/l,f=0;try{for(var m=Wv(this.possibleCenters),y=m.next();!y.done;y=m.next()){var u=y.value;f+=Math.abs(u.getEstimatedModuleSize()-h)}}catch(g){s={error:g}}finally{try{y&&!y.done&&(a=m.return)&&a.call(m)}finally{if(s)throw s.error}}return f<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,s,a,i=this.possibleCenters.length;if(i<3)throw new ht;var o=this.possibleCenters,l;if(i>3){var c=0,d=0;try{for(var u=Wv(this.possibleCenters),h=u.next();!h.done;h=u.next()){var f=h.value,m=f.getEstimatedModuleSize();c+=m,d+=m*m}}catch(C){e={error:C}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}l=c/i;var y=Math.sqrt(d/i-l*l);o.sort(function(C,E){var A=Math.abs(E.getEstimatedModuleSize()-l),I=Math.abs(C.getEstimatedModuleSize()-l);return A<I?-1:A>I?1:0});for(var g=Math.max(.2*l,y),v=0;v<o.length&&o.length>3;v++){var b=o[v];Math.abs(b.getEstimatedModuleSize()-l)>g&&(o.splice(v,1),v--)}}if(o.length>3){var c=0;try{for(var w=Wv(o),N=w.next();!N.done;N=w.next()){var _=N.value;c+=_.getEstimatedModuleSize()}}catch(E){s={error:E}}finally{try{N&&!N.done&&(a=w.return)&&a.call(w)}finally{if(s)throw s.error}}l=c/o.length,o.sort(function(E,A){if(A.getCount()===E.getCount()){var I=Math.abs(A.getEstimatedModuleSize()-l),$=Math.abs(E.getEstimatedModuleSize()-l);return I<$?1:I>$?-1:0}else return A.getCount()-E.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t})(),_Fe=(function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(qs.NEED_RESULT_POINT_CALLBACK);var r=new SFe(this.image,this.resultPointCallback),s=r.find(e);return this.processFinderPatternInfo(s)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),s=e.getTopRight(),a=e.getBottomLeft(),i=this.calculateModuleSize(r,s,a);if(i<1)throw new ht("No pattern found in proccess finder.");var o=t.computeDimension(r,s,a,i),l=Gp.getProvisionalVersionForDimension(o),c=l.getDimensionForVersion()-7,d=null;if(l.getAlignmentPatternCenters().length>0)for(var u=s.getX()-r.getX()+a.getX(),h=s.getY()-r.getY()+a.getY(),f=1-3/c,m=Math.floor(r.getX()+f*(u-r.getX())),y=Math.floor(r.getY()+f*(h-r.getY())),g=4;g<=16;g<<=1)try{d=this.findAlignmentInRegion(i,m,y,g);break}catch(N){if(!(N instanceof ht))throw N}var v=t.createTransform(r,s,a,d,o),b=t.sampleGrid(this.image,v,o),w;return d===null?w=[a,r,s]:w=[a,r,s,d],new AO(b,w)},t.createTransform=function(e,r,s,a,i){var o=i-3.5,l,c,d,u;return a!==null?(l=a.getX(),c=a.getY(),d=o-3,u=d):(l=r.getX()-e.getX()+s.getX(),c=r.getY()-e.getY()+s.getY(),d=o,u=o),Ote.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,d,u,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),l,c,s.getX(),s.getY())},t.sampleGrid=function(e,r,s){var a=EO.getInstance();return a.sampleGridWithTransform(e,s,s,r)},t.computeDimension=function(e,r,s,a){var i=Yn.round(_r.distance(e,r)/a),o=Yn.round(_r.distance(e,s)/a),l=Math.floor((i+o)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new ht("Dimensions could be not found.")}return l},t.prototype.calculateModuleSize=function(e,r,s){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,s))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(s)?a/7:isNaN(a)?s/7:(s+a)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,s,a){var i=this.sizeOfBlackWhiteBlackRun(e,r,s,a),o=1,l=e-(s-e);l<0?(o=e/(e-l),l=0):l>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);var c=Math.floor(r-(a-r)*o);return o=1,c<0?(o=r/(r-c),c=0):c>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(c-r),c=this.image.getHeight()-1),l=Math.floor(e+(l-e)*o),i+=this.sizeOfBlackWhiteBlackRun(e,r,l,c),i-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,s,a){var i=Math.abs(a-r)>Math.abs(s-e);if(i){var o=e;e=r,r=o,o=s,s=a,a=o}for(var l=Math.abs(s-e),c=Math.abs(a-r),d=-l/2,u=e<s?1:-1,h=r<a?1:-1,f=0,m=s+u,y=e,g=r;y!==m;y+=u){var v=i?g:y,b=i?y:g;if(f===1===this.image.get(v,b)){if(f===2)return Yn.distance(y,g,e,r);f++}if(d+=c,d>0){if(g===a)break;g+=h,d-=l}}return f===2?Yn.distance(s+u,a,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,s,a){var i=Math.floor(a*e),o=Math.max(0,r-i),l=Math.min(this.image.getWidth()-1,r+i);if(l-o<e*3)throw new ht("Alignment top exceeds estimated module size.");var c=Math.max(0,s-i),d=Math.min(this.image.getHeight()-1,s+i);if(d-c<e*3)throw new ht("Alignment bottom exceeds estimated module size.");var u=new bFe(this.image,o,c,l-o,d-c,e,this.resultPointCallback);return u.find()},t})(),hN=(function(){function t(){this.decoder=new xFe}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var s,a;if(r!=null&&r.get(qs.PURE_BARCODE)!==void 0){var i=t.extractPureBits(e.getBlackMatrix());s=this.decoder.decodeBitMatrix(i,r),a=t.NO_POINTS}else{var o=new _Fe(e.getBlackMatrix()).detect(r);s=this.decoder.decodeBitMatrix(o.getBits(),r),a=o.getPoints()}s.getOther()instanceof Lte&&s.getOther().applyMirroredCorrection(a);var l=new Ro(s.getText(),s.getRawBytes(),void 0,a,Fr.QR_CODE,void 0),c=s.getByteSegments();c!==null&&l.putMetadata(ho.BYTE_SEGMENTS,c);var d=s.getECLevel();return d!==null&&l.putMetadata(ho.ERROR_CORRECTION_LEVEL,d),s.hasStructuredAppend()&&(l.putMetadata(ho.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),l.putMetadata(ho.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),s=e.getBottomRightOnBit();if(r===null||s===null)throw new ht;var a=this.moduleSize(r,e),i=r[1],o=s[1],l=r[0],c=s[0];if(l>=c||i>=o)throw new ht;if(o-i!==c-l&&(c=l+(o-i),c>=e.getWidth()))throw new ht;var d=Math.round((c-l+1)/a),u=Math.round((o-i+1)/a);if(d<=0||u<=0)throw new ht;if(u!==d)throw new ht;var h=Math.floor(a/2);i+=h,l+=h;var f=l+Math.floor((d-1)*a)-c;if(f>0){if(f>h)throw new ht;l-=f}var m=i+Math.floor((u-1)*a)-o;if(m>0){if(m>h)throw new ht;i-=m}for(var y=new zu(d,u),g=0;g<u;g++)for(var v=i+Math.floor(g*a),b=0;b<d;b++)e.get(l+Math.floor(b*a),v)&&y.set(b,g);return y},t.moduleSize=function(e,r){for(var s=r.getHeight(),a=r.getWidth(),i=e[0],o=e[1],l=!0,c=0;i<a&&o<s;){if(l!==r.get(i,o)){if(++c===5)break;l=!l}i++,o++}if(i===a||o===s)throw new ht;return(i-e[0])/7},t.NO_POINTS=new Array,t})(),CFe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hn=(function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return Yn.sum(e)},t.toIntArray=function(e){var r,s;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var a=new Int32Array(e.length),i=0;try{for(var o=CFe(e),l=o.next();!l.done;l=o.next()){var c=l.value;a[i++]=c}}catch(d){r={error:d}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(r)throw r.error}}return a},t.getCodeword=function(e){var r=Ai.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t})(),kFe=(function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),AFe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EFe=(function(){function t(){}return t.detectMultiple=function(e,r,s){var a=e.getBlackMatrix(),i=t.detect(s,a);return i.length||(a=a.clone(),a.rotate180(),i=t.detect(s,a)),new kFe(a,i)},t.detect=function(e,r){for(var s,a,i=new Array,o=0,l=0,c=!1;o<r.getHeight();){var d=t.findVertices(r,o,l);if(d[0]==null&&d[3]==null){if(!c)break;c=!1,l=0;try{for(var u=(s=void 0,AFe(i)),h=u.next();!h.done;h=u.next()){var f=h.value;f[1]!=null&&(o=Math.trunc(Math.max(o,f[1].getY()))),f[3]!=null&&(o=Math.max(o,Math.trunc(f[3].getY())))}}catch(m){s={error:m}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(s)throw s.error}}o+=t.ROW_STEP;continue}if(c=!0,i.push(d),!e)break;d[2]!=null?(l=Math.trunc(d[2].getX()),o=Math.trunc(d[2].getY())):(l=Math.trunc(d[4].getX()),o=Math.trunc(d[4].getY()))}return i},t.findVertices=function(e,r,s){var a=e.getHeight(),i=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,a,i,r,s,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(s=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,a,i,r,s,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,s){for(var a=0;a<s.length;a++)e[s[a]]=r[a]},t.findRowsWithPattern=function(e,r,s,a,i,o){for(var l=new Array(4),c=!1,d=new Int32Array(o.length);a<r;a+=t.ROW_STEP){var u=t.findGuardPattern(e,i,a,s,!1,o,d);if(u!=null){for(;a>0;){var h=t.findGuardPattern(e,i,--a,s,!1,o,d);if(h!=null)u=h;else{a++;break}}l[0]=new _r(u[0],a),l[1]=new _r(u[1],a),c=!0;break}}var f=a+1;if(c){for(var m=0,h=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);f<r;f++){var u=t.findGuardPattern(e,h[0],f,s,!1,o,d);if(u!=null&&Math.abs(h[0]-u[0])<t.MAX_PATTERN_DRIFT&&Math.abs(h[1]-u[1])<t.MAX_PATTERN_DRIFT)h=u,m=0;else{if(m>t.SKIPPED_ROW_COUNT_MAX)break;m++}}f-=m+1,l[2]=new _r(h[0],f),l[3]=new _r(h[1],f)}return f-a<t.BARCODE_MIN_HEIGHT&&Ai.fill(l,null),l},t.findGuardPattern=function(e,r,s,a,i,o,l){Ai.fillWithin(l,0,l.length,0);for(var c=r,d=0;e.get(c,s)&&c>0&&d++<t.MAX_PIXEL_DRIFT;)c--;for(var u=c,h=0,f=o.length,m=i;u<a;u++){var y=e.get(u,s);if(y!==m)l[h]++;else{if(h===f-1){if(t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([c,u]);c+=l[0]+l[1],Hs.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,m=!m}}return h===f-1&&t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([c,u-1]):null},t.patternMatchVariance=function(e,r,s){for(var a=e.length,i=0,o=0,l=0;l<a;l++)i+=e[l],o+=r[l];if(i<o)return 1/0;var c=i/o;s*=c;for(var d=0,u=0;u<a;u++){var h=e[u],f=r[u]*c,m=h>f?h-f:f-h;if(m>s)return 1/0;d+=m}return d/i},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t})(),PFe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ep=(function(){function t(e,r){if(r.length===0)throw new Br;this.field=e;var s=r.length;if(s>1&&r[0]===0){for(var a=1;a<s&&r[a]===0;)a++;a===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-a),Hs.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,s;if(e===0)return this.getCoefficient(0);if(e===1){var a=0;try{for(var i=PFe(this.coefficients),o=i.next();!o.done;o=i.next()){var l=o.value;a=this.field.add(a,l)}}catch(h){r={error:h}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}return a}for(var c=this.coefficients[0],d=this.coefficients.length,u=1;u<d;u++)c=this.field.add(this.field.multiply(e,c),this.coefficients[u]);return c},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Br("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,s=e.coefficients;if(r.length>s.length){var a=r;r=s,s=a}var i=new Int32Array(s.length),o=s.length-r.length;Hs.arraycopy(s,0,i,0,o);for(var l=o;l<s.length;l++)i[l]=this.field.add(r[l-o],s[l]);return new t(this.field,i)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Br("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Br("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,s=r.length,a=e.coefficients,i=a.length,o=new Int32Array(s+i-1),l=0;l<s;l++)for(var c=r[l],d=0;d<i;d++)o[l+d]=this.field.add(o[l+d],this.field.multiply(c,a[d]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),s=0;s<e;s++)r[s]=this.field.subtract(0,this.coefficients[s]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,s=new Int32Array(r),a=0;a<r;a++)s[a]=this.field.multiply(this.coefficients[a],e);return new t(this.field,s)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Br;if(r===0)return new t(this.field,new Int32Array([0]));for(var s=this.coefficients.length,a=new Int32Array(s+e),i=0;i<s;i++)a[i]=this.field.multiply(this.coefficients[i],r);return new t(this.field,a)},t.prototype.toString=function(){for(var e=new bn,r=this.getDegree();r>=0;r--){var s=this.getCoefficient(r);s!==0&&(s<0?(e.append(" - "),s=-s):e.length()>0&&e.append(" + "),(r===0||s!==1)&&e.append(s),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t})(),TFe=(function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Br;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new Tte;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t})(),OFe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),IFe=(function(t){OFe(e,t);function e(r,s){var a=t.call(this)||this;a.modulus=r,a.expTable=new Int32Array(r),a.logTable=new Int32Array(r);for(var i=1,o=0;o<r;o++)a.expTable[o]=i,i=i*s%r;for(var o=0;o<r-1;o++)a.logTable[a.expTable[o]]=o;return a.zero=new Ep(a,new Int32Array([0])),a.one=new Ep(a,new Int32Array([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,s){if(r<0)throw new Br;if(s===0)return this.zero;var a=new Int32Array(r+1);return a[0]=s,new Ep(this,a)},e.PDF417_GF=new e(Hn.NUMBER_OF_CODEWORDS,3),e})(TFe),$Fe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DFe=(function(){function t(){this.field=IFe.PDF417_GF}return t.prototype.decode=function(e,r,s){for(var a,i,o=new Ep(this.field,e),l=new Int32Array(r),c=!1,d=r;d>0;d--){var u=o.evaluateAt(this.field.exp(d));l[r-d]=u,u!==0&&(c=!0)}if(!c)return 0;var h=this.field.getOne();if(s!=null)try{for(var f=$Fe(s),m=f.next();!m.done;m=f.next()){var y=m.value,g=this.field.exp(e.length-1-y),v=new Ep(this.field,new Int32Array([this.field.subtract(0,g),1]));h=h.multiply(v)}}catch(I){a={error:I}}finally{try{m&&!m.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}for(var b=new Ep(this.field,l),w=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),b,r),N=w[0],_=w[1],C=this.findErrorLocations(N),E=this.findErrorMagnitudes(_,N,C),d=0;d<C.length;d++){var A=e.length-1-this.field.log(C[d]);if(A<0)throw ci.getChecksumInstance();e[A]=this.field.subtract(e[A],E[d])}return C.length},t.prototype.runEuclideanAlgorithm=function(e,r,s){if(e.getDegree()<r.getDegree()){var a=e;e=r,r=a}for(var i=e,o=r,l=this.field.getZero(),c=this.field.getOne();o.getDegree()>=Math.round(s/2);){var d=i,u=l;if(i=o,l=c,i.isZero())throw ci.getChecksumInstance();o=d;for(var h=this.field.getZero(),f=i.getCoefficient(i.getDegree()),m=this.field.inverse(f);o.getDegree()>=i.getDegree()&&!o.isZero();){var y=o.getDegree()-i.getDegree(),g=this.field.multiply(o.getCoefficient(o.getDegree()),m);h=h.add(this.field.buildMonomial(y,g)),o=o.subtract(i.multiplyByMonomial(y,g))}c=h.multiply(l).subtract(u).negative()}var v=c.getCoefficient(0);if(v===0)throw ci.getChecksumInstance();var b=this.field.inverse(v),w=c.multiply(b),N=o.multiply(b);return[w,N]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),s=new Int32Array(r),a=0,i=1;i<this.field.getSize()&&a<r;i++)e.evaluateAt(i)===0&&(s[a]=this.field.inverse(i),a++);if(a!==r)throw ci.getChecksumInstance();return s},t.prototype.findErrorMagnitudes=function(e,r,s){for(var a=r.getDegree(),i=new Int32Array(a),o=1;o<=a;o++)i[a-o]=this.field.multiply(o,r.getCoefficient(o));for(var l=new Ep(this.field,i),c=s.length,d=new Int32Array(c),o=0;o<c;o++){var u=this.field.inverse(s[o]),h=this.field.subtract(0,e.evaluateAt(u)),f=this.field.inverse(l.evaluateAt(u));d[o]=this.field.multiply(h,f)}return d},t})(),pP=(function(){function t(e,r,s,a,i){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,s,a,i)}return t.prototype.constructor_1=function(e,r,s,a,i){var o=r==null||s==null,l=a==null||i==null;if(o&&l)throw new ht;o?(r=new _r(0,a.getY()),s=new _r(0,i.getY())):l&&(a=new _r(e.getWidth()-1,r.getY()),i=new _r(e.getWidth()-1,s.getY())),this.image=e,this.topLeft=r,this.bottomLeft=s,this.topRight=a,this.bottomRight=i,this.minX=Math.trunc(Math.min(r.getX(),s.getX())),this.maxX=Math.trunc(Math.max(a.getX(),i.getX())),this.minY=Math.trunc(Math.min(r.getY(),a.getY())),this.maxY=Math.trunc(Math.max(s.getY(),i.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,s){var a=this.topLeft,i=this.bottomLeft,o=this.topRight,l=this.bottomRight;if(e>0){var c=s?this.topLeft:this.topRight,d=Math.trunc(c.getY()-e);d<0&&(d=0);var u=new _r(c.getX(),d);s?a=u:o=u}if(r>0){var h=s?this.bottomLeft:this.bottomRight,f=Math.trunc(h.getY()+r);f>=this.image.getHeight()&&(f=this.image.getHeight()-1);var m=new _r(h.getX(),f);s?i=m:l=m}return new t(this.image,a,i,o,l)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t})(),MFe=(function(){function t(e,r,s,a){this.columnCount=e,this.errorCorrectionLevel=a,this.rowCountUpperPart=r,this.rowCountLowerPart=s,this.rowCount=r+s}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t})(),TO=(function(){function t(){this.buffer=""}return t.form=function(e,r){var s=-1;function a(o,l,c,d,u,h){if(o==="%%")return"%";if(r[++s]!==void 0){o=d?parseInt(d.substr(1)):void 0;var f=u?parseInt(u.substr(1)):void 0,m;switch(h){case"s":m=r[s];break;case"c":m=r[s][0];break;case"f":m=parseFloat(r[s]).toFixed(o);break;case"p":m=parseFloat(r[s]).toPrecision(o);break;case"e":m=parseFloat(r[s]).toExponential(o);break;case"x":m=parseInt(r[s]).toString(f||16);break;case"d":m=parseFloat(parseInt(r[s],f||10).toPrecision(o)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(f);for(var y=parseInt(c),g=c&&c[0]+""=="0"?"0":" ";m.length<y;)m=l!==void 0?m+g:g+m;return m}}var i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,a)},t.prototype.format=function(e){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t})(),RFe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fte=(function(){function t(e){this.boundingBox=new pP(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var s=1;s<t.MAX_NEARBY_DISTANCE;s++){var a=this.imageRowToCodewordIndex(e)-s;if(a>=0&&(r=this.codewords[a],r!=null)||(a=this.imageRowToCodewordIndex(e)+s,a<this.codewords.length&&(r=this.codewords[a],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,s=new TO,a=0;try{for(var i=RFe(this.codewords),o=i.next();!o.done;o=i.next()){var l=o.value;if(l==null){s.format("%3d:    |   %n",a++);continue}s.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return s.toString()},t.MAX_NEARBY_DISTANCE=5,t})(),LFe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FFe=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),a,i=[],o;try{for(;(e===void 0||e-- >0)&&!(a=s.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},a1=(function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,s=-1,a=new Array,i=function(h,f){var m={getKey:function(){return h},getValue:function(){return f}};m.getValue()>s?(s=m.getValue(),a=[],a.push(m.getKey())):m.getValue()===s&&a.push(m.getKey())};try{for(var o=LFe(this.values.entries()),l=o.next();!l.done;l=o.next()){var c=FFe(l.value,2),d=c[0],u=c[1];i(d,u)}}catch(h){e={error:h}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return Hn.toIntArray(a)},t.prototype.getConfidence=function(e){return this.values.get(e)},t})(),BFe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),hk=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BV=(function(t){BFe(e,t);function e(r,s){var a=t.call(this,r)||this;return a._isLeft=s,a}return e.prototype.setRowNumbers=function(){var r,s;try{for(var a=hk(this.getCodewords()),i=a.next();!i.done;i=a.next()){var o=i.value;o?.setRowNumberAsRowIndicatorColumn()}}catch(l){r={error:l}}finally{try{i&&!i.done&&(s=a.return)&&s.call(a)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,r);for(var a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),o=this._isLeft?a.getBottomLeft():a.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=-1,u=1,h=0,f=l;f<c;f++)if(s[f]!=null){var m=s[f],y=m.getRowNumber()-d;if(y===0)h++;else if(y===1)u=Math.max(u,h),h=1,d=m.getRowNumber();else if(y<0||m.getRowNumber()>=r.getRowCount()||y>f)s[f]=null;else{var g=void 0;u>2?g=(u-2)*y:g=y;for(var v=g>=f,b=1;b<=g&&!v;b++)v=s[f-b]!=null;v?s[f]=null:(d=m.getRowNumber(),h=1)}}},e.prototype.getRowHeights=function(){var r,s,a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);var i=new Int32Array(a.getRowCount());try{for(var o=hk(this.getCodewords()),l=o.next();!l.done;l=o.next()){var c=l.value;if(c!=null){var d=c.getRowNumber();if(d>=i.length)continue;i[d]++}}}catch(u){r={error:u}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(r)throw r.error}}return i},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var s=this.getBoundingBox(),a=this._isLeft?s.getTopLeft():s.getTopRight(),i=this._isLeft?s.getBottomLeft():s.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.getCodewords(),d=-1,u=o;u<l;u++)if(c[u]!=null){var h=c[u];h.setRowNumberAsRowIndicatorColumn();var f=h.getRowNumber()-d;f===0||(f===1?d=h.getRowNumber():h.getRowNumber()>=r.getRowCount()?c[u]=null:d=h.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,s,a=this.getCodewords(),i=new a1,o=new a1,l=new a1,c=new a1;try{for(var d=hk(a),u=d.next();!u.done;u=d.next()){var h=u.value;if(h!=null){h.setRowNumberAsRowIndicatorColumn();var f=h.getValue()%30,m=h.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:o.setValue(f*3+1);break;case 1:c.setValue(f/3),l.setValue(f%3);break;case 2:i.setValue(f+1);break}}}}catch(g){r={error:g}}finally{try{u&&!u.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}if(i.getValue().length===0||o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<Hn.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>Hn.MAX_ROWS_IN_BARCODE)return null;var y=new MFe(i.getValue()[0],o.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(a,y),y},e.prototype.removeIncorrectCodewords=function(r,s){for(var a=0;a<r.length;a++){var i=r[a];if(r[a]!=null){var o=i.getValue()%30,l=i.getRowNumber();if(l>s.getRowCount()){r[a]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:o*3+1!==s.getRowCountUpperPart()&&(r[a]=null);break;case 1:(Math.trunc(o/3)!==s.getErrorCorrectionLevel()||o%3!==s.getRowCountLowerPart())&&(r[a]=null);break;case 2:o+1!==s.getColumnCount()&&(r[a]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e})(Fte),UFe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zFe=(function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Hn.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var s=this.detectionResultColumns[r].getCodewords(),a=0;a<s.length;a++)s[a]!=null&&(s[a].hasValidRowNumber()||this.adjustRowNumbers(r,a,s));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),s=0;s<e.length;s++)if(e[s]!=null&&r[s]!=null&&e[s].getRowNumber()===r[s].getRowNumber())for(var a=1;a<=this.barcodeColumnCount;a++){var i=this.detectionResultColumns[a].getCodewords()[s];i!=null&&(i.setRowNumber(e[s].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[s]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),s=0;s<r.length;s++)if(r[s]!=null)for(var a=r[s].getRowNumber(),i=0,o=this.barcodeColumnCount+1;o>0&&i<this.ADJUST_ROW_NUMBER_SKIP;o--){var l=this.detectionResultColumns[o].getCodewords()[s];l!=null&&(i=t.adjustRowNumberIfValid(a,i,l),l.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),s=0;s<r.length;s++)if(r[s]!=null)for(var a=r[s].getRowNumber(),i=0,o=1;o<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;o++){var l=this.detectionResultColumns[o].getCodewords()[s];l!=null&&(i=t.adjustRowNumberIfValid(a,i,l),l.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(e)?(s.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,s){var a,i;if(this.detectionResultColumns[e-1]!=null){var o=s[r],l=this.detectionResultColumns[e-1].getCodewords(),c=l;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var d=new Array(14);d[2]=l[r],d[3]=c[r],r>0&&(d[0]=s[r-1],d[4]=l[r-1],d[5]=c[r-1]),r>1&&(d[8]=s[r-2],d[10]=l[r-2],d[11]=c[r-2]),r<s.length-1&&(d[1]=s[r+1],d[6]=l[r+1],d[7]=c[r+1]),r<s.length-2&&(d[9]=s[r+2],d[12]=l[r+2],d[13]=c[r+2]);try{for(var u=UFe(d),h=u.next();!h.done;h=u.next()){var f=h.value;if(t.adjustRowNumber(o,f))return}}catch(m){a={error:m}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new TO,s=0;s<e.getCodewords().length;s++){r.format("CW %3d:",s);for(var a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){r.format("    |   ");continue}var i=this.detectionResultColumns[a].getCodewords()[s];if(i==null){r.format("    |   ");continue}r.format(" %3d|%3d",i.getRowNumber(),i.getValue())}r.format("%n")}return r.toString()},t})(),VFe=(function(){function t(e,r,s,a){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(s),this.value=Math.trunc(a)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t})(),WFe=(function(){function t(){}return t.initialize=function(){for(var e=0;e<Hn.SYMBOL_TABLE.length;e++)for(var r=Hn.SYMBOL_TABLE[e],s=r&1,a=0;a<Hn.BARS_IN_MODULE;a++){for(var i=0;(r&1)===s;)i+=1,r>>=1;s=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(Hn.BARS_IN_MODULE)),t.RATIOS_TABLE[e][Hn.BARS_IN_MODULE-a-1]=Math.fround(i/Hn.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=Yn.sum(e),s=new Int32Array(Hn.BARS_IN_MODULE),a=0,i=0,o=0;o<Hn.MODULES_IN_CODEWORD;o++){var l=r/(2*Hn.MODULES_IN_CODEWORD)+o*r/Hn.MODULES_IN_CODEWORD;i+e[a]<=l&&(i+=e[a],a++),s[a]++}return s},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return Hn.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,s=0;s<e.length;s++)for(var a=0;a<e[s];a++)r=r<<1|(s%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=Yn.sum(e),s=new Array(Hn.BARS_IN_MODULE);if(r>1)for(var a=0;a<s.length;a++)s[a]=Math.fround(e[a]/r);var i=hP.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var l=0;l<t.RATIOS_TABLE.length;l++){for(var c=0,d=t.RATIOS_TABLE[l],u=0;u<Hn.BARS_IN_MODULE;u++){var h=Math.fround(d[u]-s[u]);if(c+=Math.fround(h*h),c>=i)break}c<i&&(i=c,o=Hn.SYMBOL_TABLE[l])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(Hn.SYMBOL_TABLE.length).map(function(e){return new Array(Hn.BARS_IN_MODULE)}),t})(),HFe=(function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t})(),UV=(function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t})(),qFe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),GFe=(function(t){qFe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e})(Ml),KFe=(function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,s){if(e==null)throw new GFe;if(r<0||r>e.length||s<0||r+s>e.length||r+s<0)throw new kO;if(s===0)return;for(var a=0;a<s;a++)this.write(e[r+a])},t.prototype.flush=function(){},t.prototype.close=function(){},t})(),YFe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),XFe=(function(t){YFe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(Ml),ZFe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),JFe=(function(t){ZFe(e,t);function e(r){r===void 0&&(r=32);var s=t.call(this)||this;if(s.count=0,r<0)throw new Br("Negative initial size: "+r);return s.buf=new Uint8Array(r),s}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var s=this.buf.length,a=s<<1;if(a-r<0&&(a=r),a<0){if(r<0)throw new XFe;a=kn.MAX_VALUE}this.buf=Ai.copyOfUint8Array(this.buf,a)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,s,a){if(s<0||s>r.length||a<0||s+a-r.length>0)throw new kO;this.ensureCapacity(this.count+a),Hs.arraycopy(r,s,this.buf,this.count,a),this.count+=a},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Ai.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e})(KFe),_s;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(_s||(_s={}));function Bte(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var aw;function qf(t){if(typeof aw>"u"&&(aw=Bte()),aw===null)throw new Error("BigInt is not supported!");return aw(t)}function QFe(){var t=[];t[0]=qf(1);var e=qf(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var eBe=(function(){function t(){}return t.decode=function(e,r){var s=new bn(""),a=Ci.ISO8859_1;s.enableDecoding(a);for(var i=1,o=e[i++],l=new HFe;i<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:i=t.textCompaction(e,i,s);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:i=t.byteCompaction(o,e,a,i,s);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(e[i++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:i=t.numericCompaction(e,i,s);break;case t.ECI_CHARSET:Ci.getCharacterSetECIByValue(e[i++]);break;case t.ECI_GENERAL_PURPOSE:i+=2;break;case t.ECI_USER_DEFINED:i++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=t.decodeMacroBlock(e,i,l);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new Ut;default:i--,i=t.textCompaction(e,i,s);break}if(i<e.length)o=e[i++];else throw Ut.getFormatInstance()}if(s.length()===0)throw Ut.getFormatInstance();var c=new $5(null,s.toString(),null,r);return c.setOther(l),c},t.decodeMacroBlock=function(e,r,s){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Ut.getFormatInstance();for(var a=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<t.NUMBER_OF_SEQUENCE_CODEWORDS;i++,r++)a[i]=e[r];s.setSegmentIndex(kn.parseInt(t.decodeBase900toBase10(a,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new bn;r=t.textCompaction(e,r,o),s.setFileId(o.toString());var l=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new bn;r=t.textCompaction(e,r+1,c),s.setFileName(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var d=new bn;r=t.textCompaction(e,r+1,d),s.setSender(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var u=new bn;r=t.textCompaction(e,r+1,u),s.setAddressee(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var h=new bn;r=t.numericCompaction(e,r+1,h),s.setSegmentCount(kn.parseInt(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var f=new bn;r=t.numericCompaction(e,r+1,f),s.setTimestamp(UV.parseLong(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var m=new bn;r=t.numericCompaction(e,r+1,m),s.setChecksum(kn.parseInt(m.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var y=new bn;r=t.numericCompaction(e,r+1,y),s.setFileSize(UV.parseLong(y.toString()));break;default:throw Ut.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,s.setLastSegment(!0);break;default:throw Ut.getFormatInstance()}if(l!==-1){var g=r-l;s.isLastSegment()&&g--,s.setOptionalData(Ai.copyOfRange(e,l,l+g))}return r},t.textCompaction=function(e,r,s){for(var a=new Int32Array((e[0]-r)*2),i=new Int32Array((e[0]-r)*2),o=0,l=!1;r<e[0]&&!l;){var c=e[r++];if(c<t.TEXT_COMPACTION_MODE_LATCH)a[o]=c/30,a[o+1]=c%30,o+=2;else switch(c){case t.TEXT_COMPACTION_MODE_LATCH:a[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,l=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[r++],i[o]=c,o++;break}}return t.decodeTextCompaction(a,i,o,s),r},t.decodeTextCompaction=function(e,r,s,a){for(var i=_s.ALPHA,o=_s.ALPHA,l=0;l<s;){var c=e[l],d="";switch(i){case _s.ALPHA:if(c<26)d=String.fromCharCode(65+c);else switch(c){case 26:d=" ";break;case t.LL:i=_s.LOWER;break;case t.ML:i=_s.MIXED;break;case t.PS:o=i,i=_s.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=_s.ALPHA;break}break;case _s.LOWER:if(c<26)d=String.fromCharCode(97+c);else switch(c){case 26:d=" ";break;case t.AS:o=i,i=_s.ALPHA_SHIFT;break;case t.ML:i=_s.MIXED;break;case t.PS:o=i,i=_s.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=_s.ALPHA;break}break;case _s.MIXED:if(c<t.PL)d=t.MIXED_CHARS[c];else switch(c){case t.PL:i=_s.PUNCT;break;case 26:d=" ";break;case t.LL:i=_s.LOWER;break;case t.AL:i=_s.ALPHA;break;case t.PS:o=i,i=_s.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=_s.ALPHA;break}break;case _s.PUNCT:if(c<t.PAL)d=t.PUNCT_CHARS[c];else switch(c){case t.PAL:i=_s.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=_s.ALPHA;break}break;case _s.ALPHA_SHIFT:if(i=o,c<26)d=String.fromCharCode(65+c);else switch(c){case 26:d=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:i=_s.ALPHA;break}break;case _s.PUNCT_SHIFT:if(i=o,c<t.PAL)d=t.PUNCT_CHARS[c];else switch(c){case t.PAL:i=_s.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=_s.ALPHA;break}break}d!==""&&a.append(d),l++}},t.byteCompaction=function(e,r,s,a,i){var o=new JFe,l=0,c=0,d=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var u=new Int32Array(6),h=r[a++];a<r[0]&&!d;)switch(u[l++]=h,c=900*c+h,h=r[a++],h){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:a--,d=!0;break;default:if(l%5===0&&l>0){for(var f=0;f<6;++f)o.write(Number(qf(c)>>qf(8*(5-f))));c=0,l=0}break}a===r[0]&&h<t.TEXT_COMPACTION_MODE_LATCH&&(u[l++]=h);for(var m=0;m<l;m++)o.write(u[m]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;a<r[0]&&!d;){var y=r[a++];if(y<t.TEXT_COMPACTION_MODE_LATCH)l++,c=900*c+y;else switch(y){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:a--,d=!0;break}if(l%5===0&&l>0){for(var f=0;f<6;++f)o.write(Number(qf(c)>>qf(8*(5-f))));c=0,l=0}}break}return i.append(Xc.decode(o.toByteArray(),s)),a},t.numericCompaction=function(e,r,s){for(var a=0,i=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!i;){var l=e[r++];if(r===e[0]&&(i=!0),l<t.TEXT_COMPACTION_MODE_LATCH)o[a]=l,a++;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,i=!0;break}(a%t.MAX_NUMERIC_CODEWORDS===0||l===t.NUMERIC_COMPACTION_MODE_LATCH||i)&&a>0&&(s.append(t.decodeBase900toBase10(o,a)),a=0)}return r},t.decodeBase900toBase10=function(e,r){for(var s=qf(0),a=0;a<r;a++)s+=t.EXP900[r-a-1]*qf(e[a]);var i=s.toString();if(i.charAt(0)!=="1")throw new Ut;return i.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=Bte()?QFe():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t})(),Hv=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tBe=(function(){function t(){}return t.decode=function(e,r,s,a,i,o,l){for(var c=new pP(e,r,s,a,i),d=null,u=null,h,f=!0;;f=!1){if(r!=null&&(d=t.getRowIndicatorColumn(e,c,r,!0,o,l)),a!=null&&(u=t.getRowIndicatorColumn(e,c,a,!1,o,l)),h=t.merge(d,u),h==null)throw ht.getNotFoundInstance();var m=h.getBoundingBox();if(f&&m!=null&&(m.getMinY()<c.getMinY()||m.getMaxY()>c.getMaxY()))c=m;else break}h.setBoundingBox(c);var y=h.getBarcodeColumnCount()+1;h.setDetectionResultColumn(0,d),h.setDetectionResultColumn(y,u);for(var g=d!=null,v=1;v<=y;v++){var b=g?v:y-v;if(h.getDetectionResultColumn(b)===void 0){var w=void 0;b===0||b===y?w=new BV(c,b===0):w=new Fte(c),h.setDetectionResultColumn(b,w);for(var N=-1,_=N,C=c.getMinY();C<=c.getMaxY();C++){if(N=t.getStartColumn(h,b,C,g),N<0||N>c.getMaxX()){if(_===-1)continue;N=_}var E=t.detectCodeword(e,c.getMinX(),c.getMaxX(),g,N,C,o,l);E!=null&&(w.setCodeword(C,E),_=N,o=Math.min(o,E.getWidth()),l=Math.max(l,E.getWidth()))}}}return t.createDecoderResult(h)},t.merge=function(e,r){if(e==null&&r==null)return null;var s=t.getBarcodeMetadata(e,r);if(s==null)return null;var a=pP.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new zFe(s,a)},t.adjustBoundingBox=function(e){var r,s;if(e==null)return null;var a=e.getRowHeights();if(a==null)return null;var i=t.getMax(a),o=0;try{for(var l=Hv(a),c=l.next();!c.done;c=l.next()){var d=c.value;if(o+=i-d,d>0)break}}catch(m){r={error:m}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(r)throw r.error}}for(var u=e.getCodewords(),h=0;o>0&&u[h]==null;h++)o--;for(var f=0,h=a.length-1;h>=0&&(f+=i-a[h],!(a[h]>0));h--);for(var h=u.length-1;f>0&&u[h]==null;h--)f--;return e.getBoundingBox().addMissingRows(o,f,e.isLeft())},t.getMax=function(e){var r,s,a=-1;try{for(var i=Hv(e),o=i.next();!o.done;o=i.next()){var l=o.value;a=Math.max(a,l)}}catch(c){r={error:c}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}return a},t.getBarcodeMetadata=function(e,r){var s;if(e==null||(s=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var a;return r==null||(a=r.getBarcodeMetadata())==null?s:s.getColumnCount()!==a.getColumnCount()&&s.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&s.getRowCount()!==a.getRowCount()?null:s},t.getRowIndicatorColumn=function(e,r,s,a,i,o){for(var l=new BV(r,a),c=0;c<2;c++)for(var d=c===0?1:-1,u=Math.trunc(Math.trunc(s.getX())),h=Math.trunc(Math.trunc(s.getY()));h<=r.getMaxY()&&h>=r.getMinY();h+=d){var f=t.detectCodeword(e,0,e.getWidth(),a,u,h,i,o);f!=null&&(l.setCodeword(h,f),a?u=f.getStartX():u=f.getEndX())}return l},t.adjustCodewordCount=function(e,r){var s=r[0][1],a=s.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(a.length===0){if(i<1||i>Hn.MAX_CODEWORDS_IN_BARCODE)throw ht.getNotFoundInstance();s.setValue(i)}else a[0]!==i&&s.setValue(i)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var s=new Array,a=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],o=new Array,l=0;l<e.getBarcodeRowCount();l++)for(var c=0;c<e.getBarcodeColumnCount();c++){var d=r[l][c+1].getValue(),u=l*e.getBarcodeColumnCount()+c;d.length===0?s.push(u):d.length===1?a[u]=d[0]:(o.push(u),i.push(d))}for(var h=new Array(i.length),f=0;f<h.length;f++)h[f]=i[f];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),a,Hn.toIntArray(s),Hn.toIntArray(o),h)},t.createDecoderResultFromAmbiguousValues=function(e,r,s,a,i){for(var o=new Int32Array(a.length),l=100;l-- >0;){for(var c=0;c<o.length;c++)r[a[c]]=i[c][o[c]];try{return t.decodeCodewords(r,e,s)}catch(u){var d=u instanceof ci;if(!d)throw u}if(o.length===0)throw ci.getChecksumInstance();for(var c=0;c<o.length;c++)if(o[c]<i[c].length-1){o[c]++;break}else if(o[c]=0,c===o.length-1)throw ci.getChecksumInstance()}throw ci.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,s,a,i,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),l=0;l<o.length;l++)for(var c=0;c<o[l].length;c++)o[l][c]=new a1;var d=0;try{for(var u=Hv(e.getDetectionResultColumns()),h=u.next();!h.done;h=u.next()){var f=h.value;if(f!=null)try{for(var m=(a=void 0,Hv(f.getCodewords())),y=m.next();!y.done;y=m.next()){var g=y.value;if(g!=null){var v=g.getRowNumber();if(v>=0){if(v>=o.length)continue;o[v][d].setValue(g.getValue())}}}}catch(b){a={error:b}}finally{try{y&&!y.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}d++}}catch(b){r={error:b}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,s,a){var i,o,l=a?1:-1,c=null;if(t.isValidBarcodeColumn(e,r-l)&&(c=e.getDetectionResultColumn(r-l).getCodeword(s)),c!=null)return a?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(r).getCodewordNearby(s),c!=null)return a?c.getStartX():c.getEndX();if(t.isValidBarcodeColumn(e,r-l)&&(c=e.getDetectionResultColumn(r-l).getCodewordNearby(s)),c!=null)return a?c.getEndX():c.getStartX();for(var d=0;t.isValidBarcodeColumn(e,r-l);){r-=l;try{for(var u=(i=void 0,Hv(e.getDetectionResultColumn(r).getCodewords())),h=u.next();!h.done;h=u.next()){var f=h.value;if(f!=null)return(a?f.getEndX():f.getStartX())+l*d*(f.getEndX()-f.getStartX())}}catch(m){i={error:m}}finally{try{h&&!h.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}d++}return a?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,s,a,i,o,l,c){i=t.adjustCodewordStartColumn(e,r,s,a,i,o);var d=t.getModuleBitCount(e,r,s,a,i,o);if(d==null)return null;var u,h=Yn.sum(d);if(a)u=i+h;else{for(var f=0;f<d.length/2;f++){var m=d[f];d[f]=d[d.length-1-f],d[d.length-1-f]=m}u=i,i=u-h}if(!t.checkCodewordSkew(h,l,c))return null;var y=WFe.getDecodedValue(d),g=Hn.getCodeword(y);return g===-1?null:new VFe(i,u,t.getCodewordBucketNumber(y),g)},t.getModuleBitCount=function(e,r,s,a,i,o){for(var l=i,c=new Int32Array(8),d=0,u=a?1:-1,h=a;(a?l<s:l>=r)&&d<c.length;)e.get(l,o)===h?(c[d]++,l+=u):(d++,h=!h);return d===c.length||l===(a?s:r)&&d===c.length-1?c:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,s,a,i,o){for(var l=i,c=a?-1:1,d=0;d<2;d++){for(;(a?l>=r:l<s)&&a===e.get(l,o);){if(Math.abs(i-l)>t.CODEWORD_SKEW_SIZE)return i;l+=c}c=-c,a=!a}return l},t.checkCodewordSkew=function(e,r,s){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=s+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,s){if(e.length===0)throw Ut.getFormatInstance();var a=1<<r+1,i=t.correctErrors(e,s,a);t.verifyCodewordCount(e,a);var o=eBe.decode(e,""+r);return o.setErrorsCorrected(i),o.setErasures(s.length),o},t.correctErrors=function(e,r,s){if(r!=null&&r.length>s/2+t.MAX_ERRORS||s<0||s>t.MAX_EC_CODEWORDS)throw ci.getChecksumInstance();return t.errorCorrection.decode(e,s,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw Ut.getFormatInstance();var s=e[0];if(s>e.length)throw Ut.getFormatInstance();if(s===0)if(r<e.length)e[0]=e.length-r;else throw Ut.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),s=0,a=r.length-1;!((e&1)!==s&&(s=e&1,a--,a<0));)r[a]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new TO,s=0;s<e.length;s++){r.format("Row %2d: ",s);for(var a=0;a<e[s].length;a++){var i=e[s][a];i.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new DFe,t})(),rBe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fN=(function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var s=t.decode(e,r,!1);if(s==null||s.length===0||s[0]==null)throw ht.getNotFoundInstance();return s[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(s){throw s instanceof Ut||s instanceof ci?ht.getNotFoundInstance():s}},t.decode=function(e,r,s){var a,i,o=new Array,l=EFe.detectMultiple(e,r,s);try{for(var c=rBe(l.getPoints()),d=c.next();!d.done;d=c.next()){var u=d.value,h=tBe.decode(l.getBits(),u[4],u[5],u[6],u[7],t.getMinCodewordWidth(u),t.getMaxCodewordWidth(u)),f=new Ro(h.getText(),h.getRawBytes(),void 0,u,Fr.PDF_417);f.putMetadata(ho.ERROR_CORRECTION_LEVEL,h.getECLevel());var m=h.getOther();m!=null&&f.putMetadata(ho.PDF417_EXTRA_METADATA,m),o.push(f)}}catch(y){a={error:y}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return o.map(function(y){return y})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?kn.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*Hn.MODULES_IN_CODEWORD/Hn.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*Hn.MODULES_IN_CODEWORD/Hn.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*Hn.MODULES_IN_CODEWORD/Hn.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*Hn.MODULES_IN_CODEWORD/Hn.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t})(),nBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),zV=(function(t){nBe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e})(Ml),VV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ute=(function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(qs.TRY_HARDER)!==void 0,s=e==null?null:e.get(qs.POSSIBLE_FORMATS),a=new Array;if(s!=null){var i=s.some(function(o){return o===Fr.UPC_A||o===Fr.UPC_E||o===Fr.EAN_13||o===Fr.EAN_8||o===Fr.CODABAR||o===Fr.CODE_39||o===Fr.CODE_93||o===Fr.CODE_128||o===Fr.ITF||o===Fr.RSS_14||o===Fr.RSS_EXPANDED});i&&!r&&a.push(new Tx(e)),s.includes(Fr.QR_CODE)&&a.push(new hN),s.includes(Fr.DATA_MATRIX)&&a.push(new uN),s.includes(Fr.AZTEC)&&a.push(new cN),s.includes(Fr.PDF_417)&&a.push(new fN),i&&r&&a.push(new Tx(e))}a.length===0&&(r||a.push(new Tx(e)),a.push(new hN),a.push(new uN),a.push(new cN),a.push(new fN),r&&a.push(new Tx(e))),this.readers=a},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var s=VV(this.readers),a=s.next();!a.done;a=s.next()){var i=a.value;i.reset()}}catch(o){e={error:o}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,s;if(this.readers===null)throw new zV("No readers where selected, nothing can be read.");try{for(var a=VV(this.readers),i=a.next();!i.done;i=a.next()){var o=i.value;try{return o.decode(e,this.hints)}catch(l){if(l instanceof zV)continue}}}catch(l){r={error:l}}finally{try{i&&!i.done&&(s=a.return)&&s.call(a)}finally{if(r)throw r.error}}throw new ht("No MultiFormat Readers were able to detect the code.")},t})(),sBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})();(function(t){sBe(e,t);function e(r,s){r===void 0&&(r=null),s===void 0&&(s=500);var a=this,i=new Ute;return i.setHints(r),a=t.call(this,i,s)||this,a}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(Zg);var aBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})();(function(t){aBe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new fN,r)||this}return e})(Zg);var iBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})();(function(t){iBe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new hN,r)||this}return e})(Zg);var xP;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(xP||(xP={}));const iw=xP;var zte=(function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new tm(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var s=r[r.length-1],a=this.field,i=r.length;i<=e;i++){var o=s.multiply(new tm(a,Int32Array.from([1,a.exp(i-1+a.getGeneratorBase())])));r.push(o),s=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new Br("No error correction bytes");var s=e.length-r;if(s<=0)throw new Br("No data bytes provided");var a=this.buildGenerator(r),i=new Int32Array(s);Hs.arraycopy(e,0,i,0,s);var o=new tm(this.field,i);o=o.multiplyByMonomial(r,1);for(var l=o.divide(a)[1],c=l.getCoefficients(),d=r-c.length,u=0;u<d;u++)e[s+u]=0;Hs.arraycopy(c,0,e,s+d,c.length)},t})(),i1=(function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,s=e.getArray(),a=e.getWidth(),i=e.getHeight(),o=0;o<i-1;o++)for(var l=s[o],c=0;c<a-1;c++){var d=l[c];d===l[c+1]&&d===s[o+1][c]&&d===s[o+1][c+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,s=e.getArray(),a=e.getWidth(),i=e.getHeight(),o=0;o<i;o++)for(var l=0;l<a;l++){var c=s[o];l+6<a&&c[l]===1&&c[l+1]===0&&c[l+2]===1&&c[l+3]===1&&c[l+4]===1&&c[l+5]===0&&c[l+6]===1&&(t.isWhiteHorizontal(c,l-4,l)||t.isWhiteHorizontal(c,l+7,l+11))&&r++,o+6<i&&s[o][l]===1&&s[o+1][l]===0&&s[o+2][l]===1&&s[o+3][l]===1&&s[o+4][l]===1&&s[o+5][l]===0&&s[o+6][l]===1&&(t.isWhiteVertical(s,l,o-4,o)||t.isWhiteVertical(s,l,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,s){r=Math.max(r,0),s=Math.min(s,e.length);for(var a=r;a<s;a++)if(e[a]===1)return!1;return!0},t.isWhiteVertical=function(e,r,s,a){s=Math.max(s,0),a=Math.min(a,e.length);for(var i=s;i<a;i++)if(e[i][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,s=e.getArray(),a=e.getWidth(),i=e.getHeight(),o=0;o<i;o++)for(var l=s[o],c=0;c<a;c++)l[c]===1&&r++;var d=e.getHeight()*e.getWidth(),u=Math.floor(Math.abs(r*2-d)*10/d);return u*t.N4},t.getDataMaskBit=function(e,r,s){var a,i;switch(e){case 0:a=s+r&1;break;case 1:a=s&1;break;case 2:a=r%3;break;case 3:a=(s+r)%3;break;case 4:a=Math.floor(s/2)+Math.floor(r/3)&1;break;case 5:i=s*r,a=(i&1)+i%3;break;case 6:i=s*r,a=(i&1)+i%3&1;break;case 7:i=s*r,a=i%3+(s+r&1)&1;break;default:throw new Br("Invalid mask pattern: "+e)}return a===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var s=0,a=r?e.getHeight():e.getWidth(),i=r?e.getWidth():e.getHeight(),o=e.getArray(),l=0;l<a;l++){for(var c=0,d=-1,u=0;u<i;u++){var h=r?o[l][u]:o[u][l];h===d?c++:(c>=5&&(s+=t.N1+(c-5)),c=1,d=h)}c>=5&&(s+=t.N1+(c-5))}return s},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t})(),oBe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lBe=(function(){function t(e,r){this.width=e,this.height=r;for(var s=new Array(r),a=0;a!==r;a++)s[a]=new Uint8Array(e);this.bytes=s}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,s){this.bytes[r][e]=s},t.prototype.setBoolean=function(e,r,s){this.bytes[r][e]=s?1:0},t.prototype.clear=function(e){var r,s;try{for(var a=oBe(this.bytes),i=a.next();!i.done;i=a.next()){var o=i.value;Ai.fill(o,e)}}catch(l){r={error:l}}finally{try{i&&!i.done&&(s=a.return)&&s.call(a)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var s=0,a=this.height;s<a;++s)for(var i=this.bytes[s],o=r.bytes[s],l=0,c=this.width;l<c;++l)if(i[l]!==o[l])return!1;return!0},t.prototype.toString=function(){for(var e=new bn,r=0,s=this.height;r<s;++r){for(var a=this.bytes[r],i=0,o=this.width;i<o;++i)switch(a[i]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t})(),gP=(function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new bn;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t})(),cBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),Zs=(function(t){cBe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e})(Ml),WV=(function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,s,a,i){t.clearMatrix(i),t.embedBasicPatterns(s,i),t.embedTypeInfo(r,a,i),t.maybeEmbedVersionInfo(s,i),t.embedDataBits(e,a,i)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,s){var a=new Yi;t.makeTypeInfoBits(e,r,a);for(var i=0,o=a.getSize();i<o;++i){var l=a.get(a.getSize()-1-i),c=t.TYPE_INFO_COORDINATES[i],d=c[0],u=c[1];if(s.setBoolean(d,u,l),i<8){var h=s.getWidth()-i-1,f=8;s.setBoolean(h,f,l)}else{var h=8,f=s.getHeight()-7+(i-8);s.setBoolean(h,f,l)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var s=new Yi;t.makeVersionInfoBits(e,s);for(var a=17,i=0;i<6;++i)for(var o=0;o<3;++o){var l=s.get(a);a--,r.setBoolean(i,r.getHeight()-11+o,l),r.setBoolean(r.getHeight()-11+o,i,l)}}},t.embedDataBits=function(e,r,s){for(var a=0,i=-1,o=s.getWidth()-1,l=s.getHeight()-1;o>0;){for(o===6&&(o-=1);l>=0&&l<s.getHeight();){for(var c=0;c<2;++c){var d=o-c;if(t.isEmpty(s.get(d,l))){var u=void 0;a<e.getSize()?(u=e.get(a),++a):u=!1,r!==255&&i1.getDataMaskBit(r,d,l)&&(u=!u),s.setBoolean(d,l,u)}}l+=i}i=-i,l+=i,o-=2}if(a!==e.getSize())throw new Zs("Not all bits consumed: "+a+"/"+e.getSize())},t.findMSBSet=function(e){return 32-kn.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new Br("0 polynomial");var s=t.findMSBSet(r);for(e<<=s-1;t.findMSBSet(e)>=s;)e^=r<<t.findMSBSet(e)-s;return e},t.makeTypeInfoBits=function(e,r,s){if(!gP.isValidMaskPattern(r))throw new Zs("Invalid mask pattern");var a=e.getBits()<<3|r;s.appendBits(a,5);var i=t.calculateBCHCode(a,t.TYPE_INFO_POLY);s.appendBits(i,10);var o=new Yi;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),s.xor(o),s.getSize()!==15)throw new Zs("should not happen but we got: "+s.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var s=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(s,12),r.getSize()!==18)throw new Zs("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var s=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,s),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,s)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Zs;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,s){for(var a=0;a<8;++a){if(!t.isEmpty(s.get(e+a,r)))throw new Zs;s.setNumber(e+a,r,0)}},t.embedVerticalSeparationPattern=function(e,r,s){for(var a=0;a<7;++a){if(!t.isEmpty(s.get(e,r+a)))throw new Zs;s.setNumber(e,r+a,0)}},t.embedPositionAdjustmentPattern=function(e,r,s){for(var a=0;a<5;++a)for(var i=t.POSITION_ADJUSTMENT_PATTERN[a],o=0;o<5;++o)s.setNumber(e+o,r+a,i[o])},t.embedPositionDetectionPattern=function(e,r,s){for(var a=0;a<7;++a)for(var i=t.POSITION_DETECTION_PATTERN[a],o=0;o<7;++o)s.setNumber(e+o,r+a,i[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var s=8;t.embedHorizontalSeparationPattern(0,s-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-s,s-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-s,e);var a=7;t.embedVerticalSeparationPattern(a,0,e),t.embedVerticalSeparationPattern(e.getHeight()-a-1,0,e),t.embedVerticalSeparationPattern(a,e.getHeight()-a,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var s=e.getVersionNumber()-1,a=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s],i=0,o=a.length;i!==o;i++){var l=a[i];if(l>=0)for(var c=0;c!==o;c++){var d=a[c];d>=0&&t.isEmpty(r.get(d,l))&&t.embedPositionAdjustmentPattern(d-2,l-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t})(),dBe=(function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t})(),HV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return i1.applyMaskPenaltyRule1(e)+i1.applyMaskPenaltyRule2(e)+i1.applyMaskPenaltyRule3(e)+i1.applyMaskPenaltyRule4(e)},t.encode=function(e,r,s){s===void 0&&(s=null);var a=t.DEFAULT_BYTE_MODE_ENCODING,i=s!==null&&s.get(iw.CHARACTER_SET)!==void 0;i&&(a=s.get(iw.CHARACTER_SET).toString());var o=this.chooseMode(e,a),l=new Yi;if(o===Js.BYTE&&(i||t.DEFAULT_BYTE_MODE_ENCODING!==a)){var c=Ci.getCharacterSetECIByName(a);c!==void 0&&this.appendECI(c,l)}this.appendModeInfo(o,l);var d=new Yi;this.appendBytes(e,o,d,a);var u;if(s!==null&&s.get(iw.QR_VERSION)!==void 0){var h=Number.parseInt(s.get(iw.QR_VERSION).toString(),10);u=Gp.getVersionForNumber(h);var f=this.calculateBitsNeeded(o,l,d,u);if(!this.willFit(f,u,r))throw new Zs("Data too big for requested version")}else u=this.recommendVersion(r,o,l,d);var m=new Yi;m.appendBitArray(l);var y=o===Js.BYTE?d.getSizeInBytes():e.length;this.appendLengthInfo(y,u,o,m),m.appendBitArray(d);var g=u.getECBlocksForLevel(r),v=u.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(v,m);var b=this.interleaveWithECBytes(m,u.getTotalCodewords(),v,g.getNumBlocks()),w=new gP;w.setECLevel(r),w.setMode(o),w.setVersion(u);var N=u.getDimensionForVersion(),_=new lBe(N,N),C=this.chooseMaskPattern(b,r,u,_);return w.setMaskPattern(C),WV.buildMatrix(b,r,u,C,_),w.setMatrix(_),w},t.recommendVersion=function(e,r,s,a){var i=this.calculateBitsNeeded(r,s,a,Gp.getVersionForNumber(1)),o=this.chooseVersion(i,e),l=this.calculateBitsNeeded(r,s,a,o);return this.chooseVersion(l,e)},t.calculateBitsNeeded=function(e,r,s,a){return r.getSize()+e.getCharacterCountBits(a)+s.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),Ci.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Js.KANJI;for(var s=!1,a=!1,i=0,o=e.length;i<o;++i){var l=e.charAt(i);if(t.isDigit(l))s=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)a=!0;else return Js.BYTE}return a?Js.ALPHANUMERIC:s?Js.NUMERIC:Js.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=Xc.encode(e,Ci.SJIS)}catch{return!1}var s=r.length;if(s%2!==0)return!1;for(var a=0;a<s;a+=2){var i=r[a]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0},t.chooseMaskPattern=function(e,r,s,a){for(var i=Number.MAX_SAFE_INTEGER,o=-1,l=0;l<gP.NUM_MASK_PATTERNS;l++){WV.buildMatrix(e,r,s,l,a);var c=this.calculateMaskPenalty(a);c<i&&(i=c,o=l)}return o},t.chooseVersion=function(e,r){for(var s=1;s<=40;s++){var a=Gp.getVersionForNumber(s);if(t.willFit(e,a,r))return a}throw new Zs("Data too big")},t.willFit=function(e,r,s){var a=r.getTotalCodewords(),i=r.getECBlocksForLevel(s),o=i.getTotalECCodewords(),l=a-o,c=(e+7)/8;return l>=c},t.terminateBits=function(e,r){var s=e*8;if(r.getSize()>s)throw new Zs("data bits cannot fit in the QR Code"+r.getSize()+" > "+s);for(var a=0;a<4&&r.getSize()<s;++a)r.appendBit(!1);var i=r.getSize()&7;if(i>0)for(var a=i;a<8;a++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),a=0;a<o;++a)r.appendBits((a&1)===0?236:17,8);if(r.getSize()!==s)throw new Zs("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,s,a,i,o){if(a>=s)throw new Zs("Block ID too large");var l=e%s,c=s-l,d=Math.floor(e/s),u=d+1,h=Math.floor(r/s),f=h+1,m=d-h,y=u-f;if(m!==y)throw new Zs("EC bytes mismatch");if(s!==c+l)throw new Zs("RS blocks mismatch");if(e!==(h+m)*c+(f+y)*l)throw new Zs("Total bytes mismatch");a<c?(i[0]=h,o[0]=m):(i[0]=f,o[0]=y)},t.interleaveWithECBytes=function(e,r,s,a){var i,o,l,c;if(e.getSizeInBytes()!==s)throw new Zs("Number of bits and data bytes does not match");for(var d=0,u=0,h=0,f=new Array,m=0;m<a;++m){var y=new Int32Array(1),g=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,s,a,m,y,g);var v=y[0],b=new Uint8Array(v);e.toBytes(8*d,b,0,v);var w=t.generateECBytes(b,g[0]);f.push(new dBe(b,w)),u=Math.max(u,v),h=Math.max(h,w.length),d+=y[0]}if(s!==d)throw new Zs("Data bytes does not match offset");for(var N=new Yi,m=0;m<u;++m)try{for(var _=(i=void 0,HV(f)),C=_.next();!C.done;C=_.next()){var E=C.value,b=E.getDataBytes();m<b.length&&N.appendBits(b[m],8)}}catch(O){i={error:O}}finally{try{C&&!C.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}for(var m=0;m<h;++m)try{for(var A=(l=void 0,HV(f)),I=A.next();!I.done;I=A.next()){var E=I.value,w=E.getErrorCorrectionBytes();m<w.length&&N.appendBits(w[m],8)}}catch(O){l={error:O}}finally{try{I&&!I.done&&(c=A.return)&&c.call(A)}finally{if(l)throw l.error}}if(r!==N.getSizeInBytes())throw new Zs("Interleaving error: "+r+" and "+N.getSizeInBytes()+" differ.");return N},t.generateECBytes=function(e,r){for(var s=e.length,a=new Int32Array(s+r),i=0;i<s;i++)a[i]=e[i]&255;new zte(Al.QR_CODE_FIELD_256).encode(a,r);for(var o=new Uint8Array(r),i=0;i<r;i++)o[i]=a[s+i];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,s,a){var i=s.getCharacterCountBits(r);if(e>=1<<i)throw new Zs(e+" is bigger than "+((1<<i)-1));a.appendBits(e,i)},t.appendBytes=function(e,r,s,a){switch(r){case Js.NUMERIC:t.appendNumericBytes(e,s);break;case Js.ALPHANUMERIC:t.appendAlphanumericBytes(e,s);break;case Js.BYTE:t.append8BitBytes(e,s,a);break;case Js.KANJI:t.appendKanjiBytes(e,s);break;default:throw new Zs("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var s=e.length,a=0;a<s;){var i=t.getDigit(e.charAt(a));if(a+2<s){var o=t.getDigit(e.charAt(a+1)),l=t.getDigit(e.charAt(a+2));r.appendBits(i*100+o*10+l,10),a+=3}else if(a+1<s){var o=t.getDigit(e.charAt(a+1));r.appendBits(i*10+o,7),a+=2}else r.appendBits(i,4),a++}},t.appendAlphanumericBytes=function(e,r){for(var s=e.length,a=0;a<s;){var i=t.getAlphanumericCode(e.charCodeAt(a));if(i===-1)throw new Zs;if(a+1<s){var o=t.getAlphanumericCode(e.charCodeAt(a+1));if(o===-1)throw new Zs;r.appendBits(i*45+o,11),a+=2}else r.appendBits(i,6),a++}},t.append8BitBytes=function(e,r,s){var a;try{a=Xc.encode(e,s)}catch(c){throw new Zs(c)}for(var i=0,o=a.length;i!==o;i++){var l=a[i];r.appendBits(l,8)}},t.appendKanjiBytes=function(e,r){var s;try{s=Xc.encode(e,Ci.SJIS)}catch(h){throw new Zs(h)}for(var a=s.length,i=0;i<a;i+=2){var o=s[i]&255,l=s[i+1]&255,c=o<<8&4294967295|l,d=-1;if(c>=33088&&c<=40956?d=c-33088:c>=57408&&c<=60351&&(d=c-49472),d===-1)throw new Zs("Invalid byte sequence");var u=(d>>8)*192+(d&255);r.appendBits(u,13)}},t.appendECI=function(e,r){r.appendBits(Js.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Ci.UTF8.getName(),t})();var uBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})();(function(t){uBe(e,t);function e(r,s,a,i,o,l,c,d){var u=t.call(this,l,c)||this;if(u.yuvData=r,u.dataWidth=s,u.dataHeight=a,u.left=i,u.top=o,i+l>s||o+c>a)throw new Br("Crop rectangle does not fit within image data.");return d&&u.reverseHorizontal(l,c),u}return e.prototype.getRow=function(r,s){if(r<0||r>=this.getHeight())throw new Br("Requested row is outside the image: "+r);var a=this.getWidth();(s==null||s.length<a)&&(s=new Uint8ClampedArray(a));var i=(r+this.top)*this.dataWidth+this.left;return Hs.arraycopy(this.yuvData,i,s,0,a),s},e.prototype.getMatrix=function(){var r=this.getWidth(),s=this.getHeight();if(r===this.dataWidth&&s===this.dataHeight)return this.yuvData;var a=r*s,i=new Uint8ClampedArray(a),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Hs.arraycopy(this.yuvData,o,i,0,a),i;for(var l=0;l<s;l++){var c=l*r;Hs.arraycopy(this.yuvData,o,i,c,r),o+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,s,a,i){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+s,a,i,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(r*s),i=this.yuvData,o=this.top*this.dataWidth+this.left,l=0;l<s;l++){for(var c=l*r,d=0;d<r;d++){var u=i[o+d*e.THUMBNAIL_SCALE_FACTOR]&255;a[c+d]=4278190080|u*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return a},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,s){for(var a=this.yuvData,i=0,o=this.top*this.dataWidth+this.left;i<s;i++,o+=this.dataWidth)for(var l=o+r/2,c=o,d=o+r-1;c<l;c++,d--){var u=a[c];a[c]=a[d],a[d]=u}},e.prototype.invert=function(){return new I5(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(jb);var hBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})();(function(t){hBe(e,t);function e(r,s,a,i,o,l,c){var d=t.call(this,s,a)||this;if(d.dataWidth=i,d.dataHeight=o,d.left=l,d.top=c,r.BYTES_PER_ELEMENT===4){for(var u=s*a,h=new Uint8ClampedArray(u),f=0;f<u;f++){var m=r[f],y=m>>16&255,g=m>>7&510,v=m&255;h[f]=(y+g+v)/4&255}d.luminances=h}else d.luminances=r;if(i===void 0&&(d.dataWidth=s),o===void 0&&(d.dataHeight=a),l===void 0&&(d.left=0),c===void 0&&(d.top=0),d.left+s>d.dataWidth||d.top+a>d.dataHeight)throw new Br("Crop rectangle does not fit within image data.");return d}return e.prototype.getRow=function(r,s){if(r<0||r>=this.getHeight())throw new Br("Requested row is outside the image: "+r);var a=this.getWidth();(s==null||s.length<a)&&(s=new Uint8ClampedArray(a));var i=(r+this.top)*this.dataWidth+this.left;return Hs.arraycopy(this.luminances,i,s,0,a),s},e.prototype.getMatrix=function(){var r=this.getWidth(),s=this.getHeight();if(r===this.dataWidth&&s===this.dataHeight)return this.luminances;var a=r*s,i=new Uint8ClampedArray(a),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Hs.arraycopy(this.luminances,o,i,0,a),i;for(var l=0;l<s;l++){var c=l*r;Hs.arraycopy(this.luminances,o,i,c,r),o+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,s,a,i){return new e(this.luminances,a,i,this.dataWidth,this.dataHeight,this.left+r,this.top+s)},e.prototype.invert=function(){return new I5(this)},e})(jb);var fBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),mBe=(function(t){fBe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e})(Ci),pBe=(function(){function t(){}return t.ISO_8859_1=Ci.ISO8859_1,t})(),vP,xBe=301,gBe=function(t,e){for(var r=1,s=0;s<255;s++)e[s]=r,t[r]=s,r*=2,r>=256&&(r^=xBe);return{LOG:t,ALOG:e}};vP=gBe([],[]),vP.LOG;vP.ALOG;var qV;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(qV||(qV={}));var GV=129,Vte=230,vBe=231,yBe=235,bBe=236,wBe=237,jBe=238,NBe=239,SBe=240,fk=254,_Be=254,KV="[)>05",YV="[)>06",XV="",ys=0,oo=1,Zo=2,ji=3,Vi=4,Po=5,CBe=(function(){function t(){}return t.prototype.getEncodingMode=function(){return ys},t.prototype.encode=function(e){var r=$d.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var s=e.getCurrentChar(),a=$d.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode())switch(a){case Po:e.writeCodeword(vBe),e.signalEncoderChange(Po);return;case oo:e.writeCodeword(Vte),e.signalEncoderChange(oo);return;case ji:e.writeCodeword(jBe),e.signalEncoderChange(ji);break;case Zo:e.writeCodeword(NBe),e.signalEncoderChange(Zo);break;case Vi:e.writeCodeword(SBe),e.signalEncoderChange(Vi);break;default:throw new Error("Illegal mode: "+a)}else $d.isExtendedASCII(s)?(e.writeCodeword(yBe),e.writeCodeword(s-128+1),e.pos++):(e.writeCodeword(s+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if($d.isDigit(e)&&$d.isDigit(r)){var s=(e-48)*10+(r-48);return s+130}throw new Error("not digits: "+e+r)},t})(),kBe=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Po},t.prototype.encode=function(e){var r=new bn;for(r.append(0);e.hasMoreCharacters();){var s=e.getCurrentChar();r.append(s),e.pos++;var a=$d.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(ys);break}}var i=r.length()-1,o=1,l=e.getCodewordCount()+i+o;e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l>0;if(e.hasMoreCharacters()||c)if(i<=249)r.setCharAt(0,Rn.getCharAt(i));else if(i<=1555)r.setCharAt(0,Rn.getCharAt(Math.floor(i/250)+249)),r.insert(1,Rn.getCharAt(i%250));else throw new Error("Message length not in valid ranges: "+i);for(var d=0,s=r.length();d<s;d++)e.writeCodeword(this.randomize255State(r.charAt(d).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var s=149*r%255+1,a=e+s;return a<=255?a:a-256},t})(),OO=(function(){function t(){}return t.prototype.getEncodingMode=function(){return oo},t.prototype.encodeMaximal=function(e){for(var r=new bn,s=0,a=e.pos,i=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,s=this.encodeChar(o,r),r.length()%3===0&&(a=e.pos,i=r.length())}if(i!==r.length()){var l=Math.floor(r.length()/3*2),c=Math.floor(e.getCodewordCount()+l+1);e.updateSymbolInfo(c);var d=e.getSymbolInfo().getDataCapacity()-c,u=Math.floor(r.length()%3);(u===2&&d!==2||u===1&&(s>3||d!==1))&&(e.pos=a)}r.length()>0&&e.writeCodeword(Vte),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new bn;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++;var a=this.encodeChar(s,r),i=Math.floor(r.length()/3)*2,o=e.getCodewordCount()+i;e.updateSymbolInfo(o);var l=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var c=new bn;for(r.length()%3===2&&l!==2&&(a=this.backtrackOneCharacter(e,r,c,a));r.length()%3===1&&(a>3||l!==1);)a=this.backtrackOneCharacter(e,r,c,a);break}var d=r.length();if(d%3===0){var u=$d.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(u!==this.getEncodingMode()){e.signalEncoderChange(ys);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,s,a){var i=r.length(),o=r.toString().substring(0,i-a);r.setLengthToZero(),r.append(o),e.pos--;var l=e.getCurrentChar();return a=this.encodeChar(l,s),e.resetSymbolInfo(),a},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var s=r.toString().substring(3);r.setLengthToZero(),r.append(s)},t.prototype.handleEOD=function(e,r){var s=Math.floor(r.length()/3*2),a=r.length()%3,i=e.getCodewordCount()+s;e.updateSymbolInfo(i);var o=e.getSymbolInfo().getDataCapacity()-i;if(a===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(fk)}else if(o===1&&a===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(fk),e.pos--}else if(a===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(o>0||e.hasMoreCharacters())&&e.writeCodeword(fk)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(ys)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var s=2;return s+=this.encodeChar(e-128,r),s},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,s=r/256,a=r%256,i=new bn;return i.append(s),i.append(a),i.toString()},t})(),ABe=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Vi},t.prototype.encode=function(e){for(var r=new bn;e.hasMoreCharacters();){var s=e.getCurrentChar();this.encodeChar(s,r),e.pos++;var a=r.length();if(a>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var i=r.toString().substring(4);r.setLengthToZero(),r.append(i);var o=$d.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(ys);break}}}r.append(Rn.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var s=r.length();if(s===0)return;if(s===1){e.updateSymbolInfo();var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),i=e.getRemainingCharacters();if(i>a&&(e.updateSymbolInfo(e.getCodewordCount()+1),a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),i<=a&&a<=2)return}if(s>4)throw new Error("Count must not exceed 4");var o=s-1,l=this.encodeToCodewords(r.toString()),c=!e.hasMoreCharacters(),d=c&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();a>=3&&(d=!1,e.updateSymbolInfo(e.getCodewordCount()+l.length))}d?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(l)}finally{e.signalEncoderChange(ys)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(Rn.getCharAt(e-64)):$d.illegalCharacter(Rn.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var s=e.charAt(0).charCodeAt(0),a=r>=2?e.charAt(1).charCodeAt(0):0,i=r>=3?e.charAt(2).charCodeAt(0):0,o=r>=4?e.charAt(3).charCodeAt(0):0,l=(s<<18)+(a<<12)+(i<<6)+o,c=l>>16&255,d=l>>8&255,u=l&255,h=new bn;return h.append(c),r>=2&&h.append(d),r>=3&&h.append(u),h.toString()},t})(),EBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),PBe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ts=(function(){function t(e,r,s,a,i,o,l,c){l===void 0&&(l=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=s,this.matrixWidth=a,this.matrixHeight=i,this.dataRegions=o,this.rsBlockData=l,this.rsBlockError=c}return t.lookup=function(e,r,s,a,i){var o,l;r===void 0&&(r=0),s===void 0&&(s=null),a===void 0&&(a=null),i===void 0&&(i=!0);try{for(var c=PBe(OBe),d=c.next();!d.done;d=c.next()){var u=d.value;if(!(r===1&&u.rectangular)&&!(r===2&&!u.rectangular)&&!(s!=null&&(u.getSymbolWidth()<s.getWidth()||u.getSymbolHeight()<s.getHeight()))&&!(a!=null&&(u.getSymbolWidth()>a.getWidth()||u.getSymbolHeight()>a.getHeight()))&&e<=u.dataCapacity)return u}}catch(h){o={error:h}}finally{try{d&&!d.done&&(l=c.return)&&l.call(c)}finally{if(o)throw o.error}}if(i)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t})(),TBe=(function(t){EBe(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e})(ts),OBe=[new ts(!1,3,5,8,8,1),new ts(!1,5,7,10,10,1),new ts(!0,5,7,16,6,1),new ts(!1,8,10,12,12,1),new ts(!0,10,11,14,6,2),new ts(!1,12,12,14,14,1),new ts(!0,16,14,24,10,1),new ts(!1,18,14,16,16,1),new ts(!1,22,18,18,18,1),new ts(!0,22,18,16,10,2),new ts(!1,30,20,20,20,1),new ts(!0,32,24,16,14,2),new ts(!1,36,24,22,22,1),new ts(!1,44,28,24,24,1),new ts(!0,49,28,22,14,2),new ts(!1,62,36,14,14,4),new ts(!1,86,42,16,16,4),new ts(!1,114,48,18,18,4),new ts(!1,144,56,20,20,4),new ts(!1,174,68,22,22,4),new ts(!1,204,84,24,24,4,102,42),new ts(!1,280,112,14,14,16,140,56),new ts(!1,368,144,16,16,16,92,36),new ts(!1,456,192,18,18,16,114,48),new ts(!1,576,224,20,20,16,144,56),new ts(!1,696,272,22,22,16,174,68),new ts(!1,816,336,24,24,16,136,56),new ts(!1,1050,408,18,18,36,175,68),new ts(!1,1304,496,20,20,36,163,62),new TBe],IBe=(function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(l){return l.charCodeAt(0)}),s=new bn,a=0,i=r.length;a<i;a++){var o=String.fromCharCode(r[a]&255);if(o==="?"&&e.charAt(a)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");s.append(o)}this.msg=s.toString(),this.shape=0,this.codewords=new bn,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=ts.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t})(),$Be=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),DBe=(function(t){$Be(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return ji},e.prototype.encode=function(r){for(var s=new bn;r.hasMoreCharacters();){var a=r.getCurrentChar();r.pos++,this.encodeChar(a,s);var i=s.length();if(i%3===0){this.writeNextTriplet(r,s);var o=$d.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(ys);break}}}this.handleEOD(r,s)},e.prototype.encodeChar=function(r,s){switch(r){case 13:s.append(0);break;case 42:s.append(1);break;case 62:s.append(2);break;case 32:s.append(3);break;default:r>=48&&r<=57?s.append(r-48+4):r>=65&&r<=90?s.append(r-65+14):$d.illegalCharacter(Rn.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,s){r.updateSymbolInfo();var a=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),i=s.length();r.pos-=i,(r.getRemainingCharacters()>1||a>1||r.getRemainingCharacters()!==a)&&r.writeCodeword(_Be),r.getNewEncoding()<0&&r.signalEncoderChange(ys)},e})(OO),MBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),RBe=(function(t){MBe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Zo},e.prototype.encodeChar=function(r,s){if(r===32)return s.append(3),1;if(r>=48&&r<=57)return s.append(r-48+4),1;if(r>=97&&r<=122)return s.append(r-97+14),1;if(r<32)return s.append(0),s.append(r),2;if(r<=47)return s.append(1),s.append(r-33),2;if(r<=64)return s.append(1),s.append(r-58+15),2;if(r>=91&&r<=95)return s.append(1),s.append(r-91+22),2;if(r===96)return s.append(2),s.append(0),2;if(r<=90)return s.append(2),s.append(r-65+1),2;if(r<=127)return s.append(2),s.append(r-123+27),2;s.append("1");var a=2;return a+=this.encodeChar(r-128,s),a},e})(OO),$d=(function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,s=GV+r;return s<=254?s:s-254},t.encodeHighLevel=function(e,r,s,a,i){r===void 0&&(r=0),s===void 0&&(s=null),a===void 0&&(a=null),i===void 0&&(i=!1);var o=new OO,l=[new CBe,o,new RBe,new DBe,new ABe,new kBe],c=new IBe(e);c.setSymbolShape(r),c.setSizeConstraints(s,a),e.startsWith(KV)&&e.endsWith(XV)?(c.writeCodeword(bBe),c.setSkipAtEnd(2),c.pos+=KV.length):e.startsWith(YV)&&e.endsWith(XV)&&(c.writeCodeword(wBe),c.setSkipAtEnd(2),c.pos+=YV.length);var d=ys;for(i&&(o.encodeMaximal(c),d=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)l[d].encode(c),c.getNewEncoding()>=0&&(d=c.getNewEncoding(),c.resetEncoderSignal());var u=c.getCodewordCount();c.updateSymbolInfo();var h=c.getSymbolInfo().getDataCapacity();u<h&&d!==ys&&d!==Po&&d!==Vi&&c.writeCodeword("");var f=c.getCodewords();for(f.length()<h&&f.append(GV);f.length()<h;)f.append(this.randomize253State(f.length()+1));return c.getCodewords().toString()},t.lookAheadTest=function(e,r,s){var a=this.lookAheadTestIntern(e,r,s);if(s===ji&&a===ji){for(var i=Math.min(r+3,e.length),o=r;o<i;o++)if(!this.isNativeX12(e.charCodeAt(o)))return ys}else if(s===Vi&&a===Vi){for(var i=Math.min(r+4,e.length),o=r;o<i;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return ys}return a},t.lookAheadTestIntern=function(e,r,s){if(r>=e.length)return s;var a;s===ys?a=[0,1,1,1,1,1.25]:(a=[1,2,2,2,2,2.25],a[s]=0);for(var i=0,o=new Uint8Array(6),l=[];;){if(r+i===e.length){Ai.fill(o,0),Ai.fill(l,0);var c=this.findMinimums(a,l,kn.MAX_VALUE,o),d=this.getMinimumCount(o);if(l[ys]===c)return ys;if(d===1){if(o[Po]>0)return Po;if(o[Vi]>0)return Vi;if(o[Zo]>0)return Zo;if(o[ji]>0)return ji}return oo}var u=e.charCodeAt(r+i);if(i++,this.isDigit(u)?a[ys]+=.5:this.isExtendedASCII(u)?(a[ys]=Math.ceil(a[ys]),a[ys]+=2):(a[ys]=Math.ceil(a[ys]),a[ys]++),this.isNativeC40(u)?a[oo]+=2/3:this.isExtendedASCII(u)?a[oo]+=8/3:a[oo]+=4/3,this.isNativeText(u)?a[Zo]+=2/3:this.isExtendedASCII(u)?a[Zo]+=8/3:a[Zo]+=4/3,this.isNativeX12(u)?a[ji]+=2/3:this.isExtendedASCII(u)?a[ji]+=13/3:a[ji]+=10/3,this.isNativeEDIFACT(u)?a[Vi]+=3/4:this.isExtendedASCII(u)?a[Vi]+=17/4:a[Vi]+=13/4,this.isSpecialB256(u)?a[Po]+=4:a[Po]++,i>=4){if(Ai.fill(o,0),Ai.fill(l,0),this.findMinimums(a,l,kn.MAX_VALUE,o),l[ys]<this.min(l[Po],l[oo],l[Zo],l[ji],l[Vi]))return ys;if(l[Po]<l[ys]||l[Po]+1<this.min(l[oo],l[Zo],l[ji],l[Vi]))return Po;if(l[Vi]+1<this.min(l[Po],l[oo],l[Zo],l[ji],l[ys]))return Vi;if(l[Zo]+1<this.min(l[Po],l[oo],l[Vi],l[ji],l[ys]))return Zo;if(l[ji]+1<this.min(l[Po],l[oo],l[Vi],l[Zo],l[ys]))return ji;if(l[oo]+1<this.min(l[ys],l[Po],l[Vi],l[Zo])){if(l[oo]<l[ji])return oo;if(l[oo]===l[ji]){for(var h=r+i+1;h<e.length;){var f=e.charCodeAt(h);if(this.isX12TermSep(f))return ji;if(!this.isNativeX12(f))break;h++}return oo}}}}},t.min=function(e,r,s,a,i){var o=Math.min(e,Math.min(r,Math.min(s,a)));return i===void 0?o:Math.min(o,i)},t.findMinimums=function(e,r,s,a){for(var i=0;i<6;i++){var o=r[i]=Math.ceil(e[i]);s>o&&(s=o,Ai.fill(a,0)),s===o&&(a[i]=a[i]+1)}return s},t.getMinimumCount=function(e){for(var r=0,s=0;s<6;s++)r+=e[s];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var s=e.length,a=r;a<s&&this.isDigit(e.charCodeAt(a));)a++;return a-r},t.illegalCharacter=function(e){var r=kn.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t})(),mk=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZV=(function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return Xc.encode(e,this.charset)!=null}catch{return!1}},t})(),LBe=(function(){function t(e,r,s){var a,i,o,l,c,d;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function($){return new ZV(mBe.forName($))}),this.encoders=[];var u=[];u.push(new ZV(pBe.ISO_8859_1));for(var h=r!=null&&r.name.startsWith("UTF"),f=0;f<e.length;f++){var m=!1;try{for(var y=(a=void 0,mk(u)),g=y.next();!g.done;g=y.next()){var v=g.value,b=e.charAt(f),w=b.charCodeAt(0);if(w===s||v.canEncode(b)){m=!0;break}}}catch($){a={error:$}}finally{try{g&&!g.done&&(i=y.return)&&i.call(y)}finally{if(a)throw a.error}}if(!m)try{for(var N=(o=void 0,mk(this.ENCODERS)),_=N.next();!_.done;_=N.next()){var v=_.value;if(v.canEncode(e.charAt(f))){u.push(v),m=!0;break}}}catch($){o={error:$}}finally{try{_&&!_.done&&(l=N.return)&&l.call(N)}finally{if(o)throw o.error}}m||(h=!0)}if(u.length===1&&!h)this.encoders=[u[0]];else{this.encoders=[];var C=0;try{for(var E=mk(u),A=E.next();!A.done;A=E.next()){var v=A.value;this.encoders[C++]=v}}catch($){c={error:$}}finally{try{A&&!A.done&&(d=E.return)&&d.call(E)}finally{if(c)throw c.error}}}var I=-1;if(r!=null){for(var f=0;f<this.encoders.length;f++)if(this.encoders[f]!=null&&r.name===this.encoders[f].name){I=f;break}}this.priorityEncoderIndex=I}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return Xc.encode(Rn.getCharAt(e),this.encoders[r].name)},t})(),FBe=3,BBe=(function(){function t(e,r,s){this.fnc1=s;var a=new LBe(e,r,s);if(a.length()===1)for(var i=0;i<this.bytes.length;i++){var o=e.charAt(i).charCodeAt(0);this.bytes[i]=o===s?1e3:o}else this.bytes=this.encodeMinimally(e,a,s)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var s=0;s<r;s++)if(this.isECI(e+s))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var s=new bn,a=e;a<r;a++){if(this.isECI(a))throw new Error("value at "+a+" is not a character but an ECI");s.append(this.charAt(a))}return s.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,s){(e[r][s.encoderIndex]==null||e[r][s.encoderIndex].cachedTotalSize>s.cachedTotalSize)&&(e[r][s.encoderIndex]=s)},t.prototype.addEdges=function(e,r,s,a,i,o){var l=e.charAt(a).charCodeAt(0),c=0,d=r.length();r.getPriorityEncoderIndex()>=0&&(l===o||r.canEncode(l,r.getPriorityEncoderIndex()))&&(c=r.getPriorityEncoderIndex(),d=c+1);for(var u=c;u<d;u++)(l===o||r.canEncode(l,u))&&this.addEdge(s,a+1,new JV(l,r,u,i,o))},t.prototype.encodeMinimally=function(e,r,s){var a=e.length,i=new JV[a+1][r.length()];this.addEdges(e,r,i,0,null,s);for(var o=1;o<=a;o++){for(var l=0;l<r.length();l++)i[o][l]!=null&&o<a&&this.addEdges(e,r,i,o,i[o][l],s);for(var l=0;l<r.length();l++)i[o-1][l]=null}for(var c=-1,d=kn.MAX_VALUE,l=0;l<r.length();l++)if(i[a][l]!=null){var u=i[a][l];u.cachedTotalSize<d&&(d=u.cachedTotalSize,c=l)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var h=[],f=i[a][c];f!=null;){if(f.isFNC1())h.unshift(1e3);else for(var m=r.encode(f.c,f.encoderIndex),o=m.length-1;o>=0;o--)h.unshift(m[o]&255);var y=f.previous===null?0:f.previous.encoderIndex;y!==f.encoderIndex&&h.unshift(256+r.getECIValue(f.encoderIndex)),f=f.previous}for(var g=[],o=0;o<g.length;o++)g[o]=h[o];return g},t})(),JV=(function(){function t(e,r,s,a,i){this.c=e,this.encoderSet=r,this.encoderIndex=s,this.previous=a,this.fnc1=i,this.c=e===i?1e3:e;var o=this.isFNC1()?1:r.encode(e,s).length,l=a===null?0:a.encoderIndex;l!==s&&(o+=FBe),a!=null&&(o+=a.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t})(),UBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})();var QV;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(QV||(QV={}));(function(t){UBe(e,t);function e(r,s,a,i,o){var l=t.call(this,r,s,a)||this;return l.shape=i,l.macroId=o,l}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(BBe);var zBe=(function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t})(),eW=(function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t})(),VBe=(function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t})(),WBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),IO=(function(t){WBe(e,t);function e(r,s,a){var i=t.call(this,r)||this;return i.value=s,i.bitCount=a,i}return e.prototype.appendTo=function(r,s){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,s){return new e(this,r,s)},e.prototype.addBinaryShift=function(r,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,s)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+kn.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e})(VBe),HBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),qBe=(function(t){HBe(e,t);function e(r,s,a){var i=t.call(this,r,0,0)||this;return i.binaryShiftStart=s,i.binaryShiftByteCount=a,i}return e.prototype.appendTo=function(r,s){for(var a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):a===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(s[this.binaryShiftStart+a],8)},e.prototype.addBinaryShift=function(r,s){return new e(this,r,s)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(IO);function GBe(t,e,r){return new qBe(t,e,r)}function qv(t,e,r){return new IO(t,e,r)}var KBe=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],rm=0,mN=1,Wc=2,Wte=3,Cu=4,YBe=new IO(null,0,0),pk=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],XBe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function ZBe(t){var e,r;try{for(var s=XBe(t),a=s.next();!a.done;a=s.next()){var i=a.value;Ai.fill(i,-1)}}catch(o){e={error:o}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return t[rm][Cu]=0,t[mN][Cu]=0,t[mN][rm]=28,t[Wte][Cu]=0,t[Wc][Cu]=0,t[Wc][rm]=15,t}var Hte=ZBe(Ai.createInt32Array(6,6)),JBe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QBe=(function(){function t(e,r,s,a){this.token=e,this.mode=r,this.binaryShiftByteCount=s,this.bitCount=a}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var s=this.bitCount,a=this.token;if(e!==this.mode){var i=pk[this.mode][e];a=qv(a,i&65535,i>>16),s+=i>>16}var o=e===Wc?4:5;return a=qv(a,r,o),new t(a,e,0,s+o)},t.prototype.shiftAndAppend=function(e,r){var s=this.token,a=this.mode===Wc?4:5;return s=qv(s,Hte[this.mode][e],a),s=qv(s,r,5),new t(s,this.mode,0,this.bitCount+a+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,s=this.mode,a=this.bitCount;if(this.mode===Cu||this.mode===Wc){var i=pk[s][rm];r=qv(r,i&65535,i>>16),a+=i>>16,s=rm}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new t(r,s,this.binaryShiftByteCount+1,a+o);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=GBe(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(pk[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,s,a=[],i=this.endBinaryShift(e.length).token;i!==null;i=i.getPrevious())a.unshift(i);var o=new Yi;try{for(var l=JBe(a),c=l.next();!c.done;c=l.next()){var d=c.value;d.appendTo(o,e)}}catch(u){r={error:u}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return Rn.format("%s bits=%d bytes=%d",KBe[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(YBe,rm,0,0),t})();function eUe(t){var e=Rn.getCharCode(" "),r=Rn.getCharCode("."),s=Rn.getCharCode(",");t[rm][e]=1;for(var a=Rn.getCharCode("Z"),i=Rn.getCharCode("A"),o=i;o<=a;o++)t[rm][o]=o-i+2;t[mN][e]=1;for(var l=Rn.getCharCode("z"),c=Rn.getCharCode("a"),o=c;o<=l;o++)t[mN][o]=o-c+2;t[Wc][e]=1;for(var d=Rn.getCharCode("9"),u=Rn.getCharCode("0"),o=u;o<=d;o++)t[Wc][o]=o-u+2;t[Wc][s]=12,t[Wc][r]=13;for(var h=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],f=0;f<h.length;f++)t[Wte][Rn.getCharCode(h[f])]=f;for(var m=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],f=0;f<m.length;f++)Rn.getCharCode(m[f])>0&&(t[Cu][Rn.getCharCode(m[f])]=f);return t}var xk=eUe(Ai.createInt32Array(5,256)),ow=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tUe=(function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=Rn.getCharCode(" "),r=Rn.getCharCode(`
`),s=eW.singletonList(QBe.INITIAL_STATE),a=0;a<this.text.length;a++){var i=void 0,o=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case Rn.getCharCode("\r"):i=o===r?2:0;break;case Rn.getCharCode("."):i=o===e?3:0;break;case Rn.getCharCode(","):i=o===e?4:0;break;case Rn.getCharCode(":"):i=o===e?5:0;break;default:i=0}i>0?(s=t.updateStateListForPair(s,a,i),a++):s=this.updateStateListForChar(s,a)}var l=eW.min(s,function(c,d){return c.getBitCount()-d.getBitCount()});return l.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var s,a,i=[];try{for(var o=ow(e),l=o.next();!l.done;l=o.next()){var c=l.value;this.updateStateForChar(c,r,i)}}catch(d){s={error:d}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(s)throw s.error}}return t.simplifyStates(i)},t.prototype.updateStateForChar=function(e,r,s){for(var a=this.text[r]&255,i=xk[e.getMode()][a]>0,o=null,l=0;l<=Cu;l++){var c=xk[l][a];if(c>0){if(o==null&&(o=e.endBinaryShift(r)),!i||l===e.getMode()||l===Wc){var d=o.latchAndAppend(l,c);s.push(d)}if(!i&&Hte[e.getMode()][l]>=0){var u=o.shiftAndAppend(l,c);s.push(u)}}}if(e.getBinaryShiftByteCount()>0||xk[e.getMode()][a]===0){var h=e.addBinaryShiftChar(r);s.push(h)}},t.updateStateListForPair=function(e,r,s){var a,i,o=[];try{for(var l=ow(e),c=l.next();!c.done;c=l.next()){var d=c.value;this.updateStateForPair(d,r,s,o)}}catch(u){a={error:u}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,s,a){var i=e.endBinaryShift(r);if(a.push(i.latchAndAppend(Cu,s)),e.getMode()!==Cu&&a.push(i.shiftAndAppend(Cu,s)),s===3||s===4){var o=i.latchAndAppend(Wc,16-s).latchAndAppend(Wc,1);a.push(o)}if(e.getBinaryShiftByteCount()>0){var l=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);a.push(l)}},t.simplifyStates=function(e){var r,s,a,i,o=[];try{for(var l=ow(e),c=l.next();!c.done;c=l.next()){var d=c.value,u=!0,h=function(v){if(v.isBetterThanOrEqualTo(d))return u=!1,"break";d.isBetterThanOrEqualTo(v)&&(o=o.filter(function(b){return b!==v}))};try{for(var f=(a=void 0,ow(o)),m=f.next();!m.done;m=f.next()){var y=m.value,g=h(y);if(g==="break")break}}catch(v){a={error:v}}finally{try{m&&!m.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}u&&o.push(d)}}catch(v){r={error:v}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(r)throw r.error}}return o},t})(),rUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,s){var a=new tUe(e).encode(),i=kn.truncDivision(a.getSize()*r,100)+11,o=a.getSize()+i,l,c,d,u,h;if(s!==t.DEFAULT_AZTEC_LAYERS){if(l=s<0,c=Math.abs(s),c>(l?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Br(Rn.format("Illegal value %s for layers",s));d=t.totalBitsInLayer(c,l),u=t.WORD_SIZE[c];var f=d-d%u;if(h=t.stuffBits(a,u),h.getSize()+i>f)throw new Br("Data to large for user specified layer");if(l&&h.getSize()>u*64)throw new Br("Data to large for user specified layer")}else{u=0,h=null;for(var m=0;;m++){if(m>t.MAX_NB_BITS)throw new Br("Data too large for an Aztec code");if(l=m<=3,c=l?m+1:m,d=t.totalBitsInLayer(c,l),!(o>d)){(h==null||u!==t.WORD_SIZE[c])&&(u=t.WORD_SIZE[c],h=t.stuffBits(a,u));var f=d-d%u;if(!(l&&h.getSize()>u*64)&&h.getSize()+i<=f)break}}}var y=t.generateCheckWords(h,d,u),g=h.getSize()/u,v=t.generateModeMessage(l,c,g),b=(l?11:14)+c*4,w=new Int32Array(b),N;if(l){N=b;for(var m=0;m<w.length;m++)w[m]=m}else{N=b+1+2*kn.truncDivision(kn.truncDivision(b,2)-1,15);for(var _=kn.truncDivision(b,2),C=kn.truncDivision(N,2),m=0;m<_;m++){var E=m+kn.truncDivision(m,15);w[_-m-1]=C-E-1,w[_+m]=C+E+1}}for(var A=new zu(N),m=0,I=0;m<c;m++){for(var $=(c-m)*4+(l?9:12),O=0;O<$;O++)for(var P=O*2,M=0;M<2;M++)y.get(I+P+M)&&A.set(w[m*2+M],w[m*2+O]),y.get(I+$*2+P+M)&&A.set(w[m*2+O],w[b-1-m*2-M]),y.get(I+$*4+P+M)&&A.set(w[b-1-m*2-M],w[b-1-m*2-O]),y.get(I+$*6+P+M)&&A.set(w[b-1-m*2-O],w[m*2+M]);I+=$*8}if(t.drawModeMessage(A,l,N,v),l)t.drawBullsEye(A,kn.truncDivision(N,2),5);else{t.drawBullsEye(A,kn.truncDivision(N,2),7);for(var m=0,O=0;m<kn.truncDivision(b,2)-1;m+=15,O+=16)for(var M=kn.truncDivision(N,2)&1;M<N;M+=2)A.set(kn.truncDivision(N,2)-O,M),A.set(kn.truncDivision(N,2)+O,M),A.set(M,kn.truncDivision(N,2)-O),A.set(M,kn.truncDivision(N,2)+O)}var R=new zBe;return R.setCompact(l),R.setSize(N),R.setLayers(c),R.setCodeWords(g),R.setMatrix(A),R},t.drawBullsEye=function(e,r,s){for(var a=0;a<s;a+=2)for(var i=r-a;i<=r+a;i++)e.set(i,r-a),e.set(i,r+a),e.set(r-a,i),e.set(r+a,i);e.set(r-s,r-s),e.set(r-s+1,r-s),e.set(r-s,r-s+1),e.set(r+s,r-s),e.set(r+s,r-s+1),e.set(r+s,r+s-1)},t.generateModeMessage=function(e,r,s){var a=new Yi;return e?(a.appendBits(r-1,2),a.appendBits(s-1,6),a=t.generateCheckWords(a,28,4)):(a.appendBits(r-1,5),a.appendBits(s-1,11),a=t.generateCheckWords(a,40,4)),a},t.drawModeMessage=function(e,r,s,a){var i=kn.truncDivision(s,2);if(r)for(var o=0;o<7;o++){var l=i-3+o;a.get(o)&&e.set(l,i-5),a.get(o+7)&&e.set(i+5,l),a.get(20-o)&&e.set(l,i+5),a.get(27-o)&&e.set(i-5,l)}else for(var o=0;o<10;o++){var l=i-5+o+kn.truncDivision(o,5);a.get(o)&&e.set(l,i-7),a.get(o+10)&&e.set(i+7,l),a.get(29-o)&&e.set(l,i+7),a.get(39-o)&&e.set(i-7,l)}},t.generateCheckWords=function(e,r,s){var a,i,o=e.getSize()/s,l=new zte(t.getGF(s)),c=kn.truncDivision(r,s),d=t.bitsToWords(e,s,c);l.encode(d,c-o);var u=r%s,h=new Yi;h.appendBits(0,u);try{for(var f=rUe(Array.from(d)),m=f.next();!m.done;m=f.next()){var y=m.value;h.appendBits(y,s)}}catch(g){a={error:g}}finally{try{m&&!m.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}return h},t.bitsToWords=function(e,r,s){var a=new Int32Array(s),i,o;for(i=0,o=e.getSize()/r;i<o;i++){for(var l=0,c=0;c<r;c++)l|=e.get(i*r+c)?1<<r-c-1:0;a[i]=l}return a},t.getGF=function(e){switch(e){case 4:return Al.AZTEC_PARAM;case 6:return Al.AZTEC_DATA_6;case 8:return Al.AZTEC_DATA_8;case 10:return Al.AZTEC_DATA_10;case 12:return Al.AZTEC_DATA_12;default:throw new Br("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var s=new Yi,a=e.getSize(),i=(1<<r)-2,o=0;o<a;o+=r){for(var l=0,c=0;c<r;c++)(o+c>=a||e.get(o+c))&&(l|=1<<r-1-c);(l&i)===i?(s.appendBits(l&i,r),o--):(l&i)===0?(s.appendBits(l|1,r),o--):s.appendBits(l,r)}return s},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var nUe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),sUe=(function(t){nUe(e,t);function e(r){var s=t.call(this,r.width,r.height)||this;return s.canvas=r,s.tempCanvasElement=null,s.buffer=e.makeBufferFromCanvasImageData(r),s}return e.makeBufferFromCanvasImageData=function(r){var s;try{s=r.getContext("2d",{willReadFrequently:!0})}catch{s=r.getContext("2d")}if(!s)throw new Error("Couldn't get canvas context.");var a=s.getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(a.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,s,a){for(var i=new Uint8ClampedArray(s*a),o=0,l=0,c=r.length;o<c;o+=4,l++){var d=void 0,u=r[o+3];if(u===0)d=255;else{var h=r[o],f=r[o+1],m=r[o+2];d=306*h+601*f+117*m+512>>10}i[l]=d}return i},e.prototype.getRow=function(r,s){if(r<0||r>=this.getHeight())throw new Br("Requested row is outside the image: "+r);var a=this.getWidth(),i=r*a;return s===null?s=this.buffer.slice(i,i+a):(s.length<a&&(s=new Uint8ClampedArray(a)),s.set(this.buffer.slice(i,i+a))),s},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,s,a,i){return t.prototype.crop.call(this,r,s,a,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new I5(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var s=this.getTempCanvasElement();if(!s)throw new Error("Could not create a Canvas element.");var a=r*e.DEGREE_TO_RADIANS,i=this.canvas.width,o=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(a))*i+Math.abs(Math.sin(a))*o),c=Math.ceil(Math.abs(Math.sin(a))*i+Math.abs(Math.cos(a))*o);s.width=l,s.height=c;var d=s.getContext("2d");if(!d)throw new Error("Could not create a Canvas Context element.");return d.translate(l/2,c/2),d.rotate(a),d.drawImage(this.canvas,i/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(s),this},e.DEGREE_TO_RADIANS=Math.PI/180,e})(jb);function qte(){return typeof navigator<"u"}function aUe(){return qte()&&!!navigator.mediaDevices}function iUe(){return!!(aUe()&&navigator.mediaDevices.enumerateDevices)}var Ix=function(){return Ix=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Ix.apply(this,arguments)},_a=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})},Ca=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(s)throw new TypeError("Generator is already executing.");for(;r;)try{if(s=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,a=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(u){d=[6,u],a=0}finally{s=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},gk=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oUe={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},Jg=(function(){function t(e,r,s){r===void 0&&(r=new Map),s===void 0&&(s={}),this.reader=e,this.hints=r,this.options=Ix(Ix({},oUe),s)}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(qs.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),t.addVideoSource=function(e,r){try{e.srcObject=r}catch{console.error("got interrupted by new loading request")}},t.mediaStreamSetTorch=function(e,r){return _a(this,void 0,void 0,function(){return Ca(this,function(s){switch(s.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:r?"flash":"off",torch:!!r}]})];case 1:return s.sent(),[2]}})})},t.mediaStreamIsTorchCompatible=function(e){var r,s,a=e.getVideoTracks();try{for(var i=gk(a),o=i.next();!o.done;o=i.next()){var l=o.value;if(t.mediaStreamIsTorchCompatibleTrack(l))return!0}}catch(c){r={error:c}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}return!1},t.mediaStreamIsTorchCompatibleTrack=function(e){try{var r=e.getCapabilities();return"torch"in r}catch(s){return console.error(s),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},t.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},t.getMediaElement=function(e,r){var s=document.getElementById(e);if(!s)throw new Ya("element with id '".concat(e,"' not found"));if(s.nodeName.toLowerCase()!==r.toLowerCase())throw new Ya("element with id '".concat(e,"' must be an ").concat(r," element"));return s},t.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return t.getMediaElement(e,"video");if(!e&&typeof document<"u"){var r=document.createElement("video");return r.width=200,r.height=200,r}throw new Error("Couldn't get videoElement from videoSource!")},t.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return t.getMediaElement(e,"img");if(typeof e>"u"){var r=document.createElement("img");return r.width=200,r.height=200,r}throw new Error("Couldn't get imageElement from imageSource!")},t.prepareVideoElement=function(e){var r=t.createVideoElement(e);return r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.createBinaryBitmapFromCanvas=function(e){var r=new sUe(e),s=new Pte(r);return new Ete(s)},t.drawImageOnCanvas=function(e,r){e.drawImage(r,0,0)},t.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},t.createCaptureCanvas=function(e){if(!e)throw new Ya("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var r=document.createElement("canvas"),s=t.getMediaElementDimensions(e),a=s.width,i=s.height;return r.style.width=a+"px",r.style.height=i+"px",r.width=a,r.height=i,r},t.tryPlayVideo=function(e){return _a(this,void 0,void 0,function(){var r;return Ca(this,function(s){switch(s.label){case 0:if(e?.ended)return console.error("Trying to play video that has ended."),[2,!1];if(t.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,e.play()];case 2:return s.sent(),[2,!0];case 3:return r=s.sent(),console.warn("It was not possible to play the video.",r),[2,!1];case 4:return[2]}})})},t.createCanvasFromMediaElement=function(e){var r=t.createCaptureCanvas(e),s=r.getContext("2d");if(!s)throw new Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(s,e),r},t.createBinaryBitmapFromMediaElem=function(e){var r=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(r)},t.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},t.listVideoInputDevices=function(){return _a(this,void 0,void 0,function(){var e,r,s,a,i,o,l,c,d,u,h,f;return Ca(this,function(m){switch(m.label){case 0:if(!qte())throw new Error("Can't enumerate devices, navigator is not present.");if(!iUe())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=m.sent(),r=[];try{for(s=gk(e),a=s.next();!a.done;a=s.next())i=a.value,o=i.kind==="video"?"videoinput":i.kind,o==="videoinput"&&(l=i.deviceId||i.id,c=i.label||"Video device ".concat(r.length+1),d=i.groupId,u={deviceId:l,label:c,kind:o,groupId:d},r.push(u))}catch(y){h={error:y}}finally{try{a&&!a.done&&(f=s.return)&&f.call(s)}finally{if(h)throw h.error}}return[2,r]}})})},t.findDeviceById=function(e){return _a(this,void 0,void 0,function(){var r;return Ca(this,function(s){switch(s.label){case 0:return[4,t.listVideoInputDevices()];case 1:return r=s.sent(),r?[2,r.find(function(a){return a.deviceId===e})]:[2]}})})},t.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},t.releaseAllStreams=function(){t.streamTracker.length!==0&&t.streamTracker.forEach(function(e){e.getTracks().forEach(function(r){return r.stop()})}),t.streamTracker=[]},t.playVideoOnLoadAsync=function(e,r){return _a(this,void 0,void 0,function(){var s;return Ca(this,function(a){switch(a.label){case 0:return[4,t.tryPlayVideo(e)];case 1:return s=a.sent(),s?[2,!0]:[2,new Promise(function(i,o){var l=setTimeout(function(){t.isVideoPlaying(e)||(o(!1),e.removeEventListener("canplay",c))},r),c=function(){t.tryPlayVideo(e).then(function(d){clearTimeout(l),e.removeEventListener("canplay",c),i(d)})};e.addEventListener("canplay",c)})]}})})},t.attachStreamToVideo=function(e,r,s){return s===void 0&&(s=5e3),_a(this,void 0,void 0,function(){var a;return Ca(this,function(i){switch(i.label){case 0:return a=t.prepareVideoElement(r),t.addVideoSource(a,e),[4,t.playVideoOnLoadAsync(a,s)];case 1:return i.sent(),[2,a]}})})},t._waitImageLoad=function(e){return new Promise(function(r,s){var a=1e4,i=setTimeout(function(){t.isImageLoaded(e)||(e.removeEventListener("load",o),s())},a),o=function(){clearTimeout(i),e.removeEventListener("load",o),r()};e.addEventListener("load",o)})},t.checkCallbackFnOrThrow=function(e){if(!e)throw new Ya("`callbackFn` is a required parameter, you cannot capture results without it.")},t.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(r){return r.stop()}),e=void 0},t.prototype.decode=function(e){var r=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(r)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},t.prototype.decodeFromCanvas=function(e){var r=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(r)},t.prototype.decodeFromImageElement=function(e){return _a(this,void 0,void 0,function(){var r;return Ca(this,function(s){switch(s.label){case 0:if(!e)throw new Ya("An image element must be provided.");return r=t.prepareImageElement(e),[4,this._decodeOnLoadImage(r)];case 1:return[2,s.sent()]}})})},t.prototype.decodeFromImageUrl=function(e){return _a(this,void 0,void 0,function(){var r;return Ca(this,function(s){switch(s.label){case 0:if(!e)throw new Ya("An URL must be provided.");r=t.prepareImageElement(),r.src=e,s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.decodeFromImageElement(r)];case 2:return[2,s.sent()];case 3:return t.destroyImageElement(r),[7];case 4:return[2]}})})},t.prototype.decodeFromConstraints=function(e,r,s){return _a(this,void 0,void 0,function(){var a,i;return Ca(this,function(o){switch(o.label){case 0:return t.checkCallbackFnOrThrow(s),[4,this.getUserMedia(e)];case 1:a=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.decodeFromStream(a,r,s)];case 3:return[2,o.sent()];case 4:throw i=o.sent(),t.disposeMediaStream(a),i;case 5:return[2]}})})},t.prototype.decodeFromStream=function(e,r,s){return _a(this,void 0,void 0,function(){var a,i,o,l,c,d,u,h,f,m=this;return Ca(this,function(y){switch(y.label){case 0:return t.checkCallbackFnOrThrow(s),a=this.options.tryPlayVideoTimeout,[4,t.attachStreamToVideo(e,r,a)];case 1:return i=y.sent(),o=function(){t.disposeMediaStream(e),t.cleanVideoSource(i)},l=this.scan(i,s,o),c=e.getVideoTracks(),d=Ix(Ix({},l),{stop:function(){l.stop()},streamVideoConstraintsApply:function(g,v){return _a(this,void 0,void 0,function(){var b,w,N,_,C,E,A;return Ca(this,function(I){switch(I.label){case 0:b=v?c.filter(v):c,I.label=1;case 1:I.trys.push([1,6,7,8]),w=gk(b),N=w.next(),I.label=2;case 2:return N.done?[3,5]:(_=N.value,[4,_.applyConstraints(g)]);case 3:I.sent(),I.label=4;case 4:return N=w.next(),[3,2];case 5:return[3,8];case 6:return C=I.sent(),E={error:C},[3,8];case 7:try{N&&!N.done&&(A=w.return)&&A.call(w)}finally{if(E)throw E.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(g){return c.find(g).getConstraints()},streamVideoSettingsGet:function(g){return c.find(g).getSettings()},streamVideoCapabilitiesGet:function(g){return c.find(g).getCapabilities()}}),u=t.mediaStreamIsTorchCompatible(e),u&&(h=c?.find(function(g){return t.mediaStreamIsTorchCompatibleTrack(g)}),f=function(g){return _a(m,void 0,void 0,function(){return Ca(this,function(v){switch(v.label){case 0:return[4,t.mediaStreamSetTorch(h,g)];case 1:return v.sent(),[2]}})})},d.switchTorch=f,d.stop=function(){return _a(m,void 0,void 0,function(){return Ca(this,function(g){switch(g.label){case 0:return l.stop(),[4,f(!1)];case 1:return g.sent(),[2]}})})}),[2,d]}})})},t.prototype.decodeFromVideoDevice=function(e,r,s){return _a(this,void 0,void 0,function(){var a,i;return Ca(this,function(o){switch(o.label){case 0:return t.checkCallbackFnOrThrow(s),e?a={deviceId:{exact:e}}:a={facingMode:"environment"},i={video:a},[4,this.decodeFromConstraints(i,r,s)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromVideoElement=function(e,r){return _a(this,void 0,void 0,function(){var s,a;return Ca(this,function(i){switch(i.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new Ya("A video element must be provided.");return s=t.prepareVideoElement(e),a=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(s,a)];case 1:return i.sent(),[2,this.scan(s,r)]}})})},t.prototype.decodeFromVideoUrl=function(e,r){return _a(this,void 0,void 0,function(){var s,a,i,o;return Ca(this,function(l){switch(l.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new Ya("An URL must be provided.");return s=t.prepareVideoElement(),s.src=e,a=function(){t.cleanVideoSource(s)},i=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(s,i)];case 1:return l.sent(),o=this.scan(s,r,a),[2,o]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return _a(this,void 0,void 0,function(){var s;return Ca(this,function(a){switch(a.label){case 0:return[4,this.getUserMedia(e)];case 1:return s=a.sent(),[4,this.decodeOnceFromStream(s,r)];case 2:return[2,a.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return _a(this,void 0,void 0,function(){var s,a,i;return Ca(this,function(o){switch(o.label){case 0:return s=!!r,[4,t.attachStreamToVideo(e,r)];case 1:a=o.sent(),o.label=2;case 2:return o.trys.push([2,,4,5]),[4,this.scanOneResult(a)];case 3:return i=o.sent(),[2,i];case 4:return s||t.cleanVideoSource(a),[7];case 5:return[2]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return _a(this,void 0,void 0,function(){var s,a;return Ca(this,function(i){switch(i.label){case 0:return e?s={deviceId:{exact:e}}:s={facingMode:"environment"},a={video:s},[4,this.decodeOnceFromConstraints(a,r)];case 1:return[2,i.sent()]}})})},t.prototype.decodeOnceFromVideoElement=function(e){return _a(this,void 0,void 0,function(){var r,s;return Ca(this,function(a){switch(a.label){case 0:if(!e)throw new Ya("A video element must be provided.");return r=t.prepareVideoElement(e),s=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,s)];case 1:return a.sent(),[4,this.scanOneResult(r)];case 2:return[2,a.sent()]}})})},t.prototype.decodeOnceFromVideoUrl=function(e){return _a(this,void 0,void 0,function(){var r,s;return Ca(this,function(a){switch(a.label){case 0:if(!e)throw new Ya("An URL must be provided.");r=t.prepareVideoElement(),r.src=e,s=this.decodeOnceFromVideoElement(r),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,s];case 2:return[2,a.sent()];case 3:return t.cleanVideoSource(r),[7];case 4:return[2]}})})},t.prototype.scanOneResult=function(e,r,s,a){var i=this;return r===void 0&&(r=!0),s===void 0&&(s=!0),a===void 0&&(a=!0),new Promise(function(o,l){i.scan(e,function(c,d,u){if(c){o(c),u.stop();return}if(d){if(d instanceof ht&&r||d instanceof ci&&s||d instanceof Ut&&a)return;u.stop(),l(d)}})})},t.prototype.scan=function(e,r,s){var a=this;t.checkCallbackFnOrThrow(r);var i=t.createCaptureCanvas(e),o;try{o=i.getContext("2d",{willReadFrequently:!0})}catch{o=i.getContext("2d")}if(!o)throw new Error("Couldn't create canvas for visual element scan.");var l=function(){o=void 0,i=void 0},c=!1,d,u=function(){c=!0,clearTimeout(d),l(),s&&s()},h={stop:u},f=function(){if(!c)try{t.drawImageOnCanvas(o,e);var m=a.decodeFromCanvas(i);r(m,void 0,h),d=setTimeout(f,a.options.delayBetweenScanSuccess)}catch(b){r(void 0,b,h);var y=b instanceof ci,g=b instanceof Ut,v=b instanceof ht;if(y||g||v){d=setTimeout(f,a.options.delayBetweenScanAttempts);return}l(),s&&s(b)}};return f(),h},t.prototype._decodeOnLoadImage=function(e){return _a(this,void 0,void 0,function(){var r;return Ca(this,function(s){switch(s.label){case 0:return r=t.isImageLoaded(e),r?[3,2]:[4,t._waitImageLoad(e)];case 1:s.sent(),s.label=2;case 2:return[2,this.decode(e)]}})})},t.prototype.getUserMedia=function(e){return _a(this,void 0,void 0,function(){var r;return Ca(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=s.sent(),t.streamTracker.push(r),[2,r]}})})},t.streamTracker=[],t})(),lUe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})();(function(t){lUe(e,t);function e(r,s){return t.call(this,new cN,r,s)||this}return e})(Jg);var cUe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})();(function(t){cUe(e,t);function e(r,s){return t.call(this,new Tx(r),r,s)||this}return e})(Jg);var dUe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})();(function(t){dUe(e,t);function e(r,s){return t.call(this,new uN,r,s)||this}return e})(Jg);var uUe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})(),tW=(function(t){uUe(e,t);function e(r,s){var a=this,i=new Ute;return i.setHints(r),a=t.call(this,i,r,s)||this,a.reader=i,a}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(r){this.hints.set(qs.POSSIBLE_FORMATS,r),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e.prototype.setHints=function(r){this.hints=r,this.reader.setHints(this.hints)},e})(Jg),hUe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})();(function(t){hUe(e,t);function e(r,s){return t.call(this,new fN,r,s)||this}return e})(Jg);var fUe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}})();(function(t){fUe(e,t);function e(r,s){return t.call(this,new hN,r,s)||this}return e})(Jg);function mUe({isOpen:t,onClose:e}){const{theme:r}=fn(),s=r==="dark",a=s?"text-white":"text-gray-900",i=s?"text-[#a3a3a3]":"text-gray-600",o=s?"border-[#2a2a2a]":"border-gray-200",l=s?"bg-[#1e1e1e]":"bg-gray-50",[c,d]=S.useState("camera"),[u,h]=S.useState(""),[f,m]=S.useState(null),[y,g]=S.useState(!1),v="admin_waivers",b=S.useRef(null),w=S.useRef(null),N=S.useRef(null),_=Z=>{const X=Z.match(/WV-\d+/);if(X){const Q=X[0];try{const ne=localStorage.getItem(v),ie=(ne?JSON.parse(ne):[]).find(pe=>pe.id===Q);ie?(m({...ie,status:"verified",date:new Date().toLocaleDateString()}),me.success("Waiver verified successfully!")):me.error("Waiver not found")}catch(ne){console.error("Failed to verify waiver code",ne),me.error("Verification error")}}else/^https?:\/\//.test(Z)?(window.open(Z,"_blank"),me.success("Opened link from QR")):me.info(`Scanned: ${Z}`);g(!1);try{N.current?.stop(),w.current?.reset()}catch{}},C=async()=>{try{g(!0),w.current||(w.current=new tW);const Z=await w.current.decodeFromVideoDevice(void 0,b.current,(X,Q)=>{X&&_(X.getText())});N.current=Z}catch(Z){console.error("Failed to start camera scanning",Z),me.error("Camera access failed"),g(!1)}},E=()=>{try{N.current?.stop(),w.current?.reset()}catch{}g(!1)},A=S.useRef(null),I=()=>A.current?.click(),$=async Z=>{const X=Z.target.files?.[0];if(!X)return;const Q=URL.createObjectURL(X);g(!0);try{w.current||(w.current=new tW);const ne=await w.current.decodeFromImageUrl(Q);_(ne.getText())}catch(ne){console.error("No QR found in image",ne),me.error("No QR code found in image"),g(!1)}finally{URL.revokeObjectURL(Q),A.current&&(A.current.value="")}},O="admin_waiver_templates",[P,M]=S.useState([]),[R,W]=S.useState("");S.useEffect(()=>{if(t)try{const Z=localStorage.getItem(O),X=Z?JSON.parse(Z):[];M(X),W(X[0]?.id||"")}catch(Z){console.error("Failed to load templates for QR mode",Z),M([]),W("")}},[t]);const Y=Z=>Z?`${window.location.origin}/waiver-form/${Z}`:"",K=P.find(Z=>Z.id===R),L=Y(K?.id),F=async()=>{if(L)try{await navigator.clipboard.writeText(L),me.success("Copied waiver form link")}catch(Z){console.error("Failed to copy link",Z),me.error("Failed to copy link")}},ee=()=>{L&&(window.open(L,"_blank"),me.success("Opening waiver form..."))},se=()=>{y?E():C()},q=()=>{if(!u){me.error("Please enter a waiver code");return}g(!0);try{const Z=localStorage.getItem(v),Q=(Z?JSON.parse(Z):[]).find(ne=>ne.id===u);Q?(m({...Q,status:"verified",date:new Date().toLocaleDateString()}),me.success("Waiver verified successfully!")):me.error("Waiver not found")}catch(Z){console.error("Verification error",Z),me.error("Verification error")}g(!1),h("")},z=()=>{m(null),h(""),d("camera")};return n.jsx(or,{open:t,onOpenChange:e,children:n.jsxs(lr,{className:`max-w-2xl ${s?"bg-[#161616] border-[#2a2a2a]":""}`,children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:a,children:"Scan Waiver"}),n.jsx(xr,{className:i,children:"Scan QR code or enter waiver code to verify check-in"})]}),n.jsx("div",{className:"space-y-6",children:f?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:`p-6 rounded-lg border ${s?"bg-emerald-500/10 border-emerald-500/30":"bg-green-50 border-green-200"}`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${s?"bg-emerald-500/20":"bg-green-100"}`,children:n.jsx(Tt,{className:`w-6 h-6 ${s?"text-emerald-400":"text-green-600"}`})}),n.jsxs("div",{children:[n.jsx("h3",{className:`text-lg ${s?"text-emerald-300":"text-green-900"}`,children:"Waiver Verified"}),n.jsx("p",{className:`text-sm ${s?"text-emerald-400/70":"text-green-700"}`,children:"Customer checked in successfully"})]})]}),n.jsx(tt,{className:s?"bg-emerald-500/20":"bg-green-200"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:`flex items-center gap-2 mb-1 ${i}`,children:[n.jsx(ca,{className:"w-4 h-4"}),n.jsx("p",{className:"text-xs",children:"Customer"})]}),n.jsx("p",{className:`text-sm ${s?"text-emerald-200":"text-green-900"}`,children:f.customer})]}),n.jsxs("div",{children:[n.jsxs("div",{className:`flex items-center gap-2 mb-1 ${i}`,children:[n.jsx(hw,{className:"w-4 h-4"}),n.jsx("p",{className:"text-xs",children:"Waiver ID"})]}),n.jsx("p",{className:`text-sm font-mono ${s?"text-emerald-200":"text-green-900"}`,children:f.id})]}),n.jsxs("div",{children:[n.jsxs("div",{className:`flex items-center gap-2 mb-1 ${i}`,children:[n.jsx(Gn,{className:"w-4 h-4"}),n.jsx("p",{className:"text-xs",children:"Email"})]}),n.jsx("p",{className:`text-sm ${s?"text-emerald-200":"text-green-900"}`,children:f.email})]}),n.jsxs("div",{children:[n.jsxs("div",{className:`flex items-center gap-2 mb-1 ${i}`,children:[n.jsx(Gs,{className:"w-4 h-4"}),n.jsx("p",{className:"text-xs",children:"Phone"})]}),n.jsx("p",{className:`text-sm ${s?"text-emerald-200":"text-green-900"}`,children:f.phone})]}),n.jsxs("div",{children:[n.jsxs("div",{className:`flex items-center gap-2 mb-1 ${i}`,children:[n.jsx(Nn,{className:"w-4 h-4"}),n.jsx("p",{className:"text-xs",children:"Booking"})]}),n.jsx("p",{className:`text-sm ${s?"text-emerald-200":"text-green-900"}`,children:f.booking})]}),n.jsxs("div",{children:[n.jsxs("div",{className:`flex items-center gap-2 mb-1 ${i}`,children:[n.jsx(Nn,{className:"w-4 h-4"}),n.jsx("p",{className:"text-xs",children:"Game"})]}),n.jsx("p",{className:`text-sm ${s?"text-emerald-200":"text-green-900"}`,children:f.game})]})]})]}),n.jsxs(J,{variant:"outline",onClick:z,className:"w-full h-11",children:[n.jsx(Gc,{className:"w-4 h-4 mr-2"}),"Scan Another Waiver"]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[n.jsxs("button",{onClick:()=>d("qr"),className:`p-4 rounded-lg border-2 transition-all ${c==="qr"?s?"border-[#4f46e5] bg-[#4f46e5]/10":"border-blue-600 bg-blue-50":s?"border-[#2a2a2a] hover:border-[#3a3a3a]":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(hw,{className:`w-6 h-6 mx-auto mb-2 ${c==="qr"?s?"text-[#6366f1]":"text-blue-600":i}`}),n.jsx("p",{className:`text-sm ${a}`,children:"Show QR"})]}),n.jsxs("button",{onClick:()=>d("camera"),className:`p-4 rounded-lg border-2 transition-all ${c==="camera"?s?"border-[#4f46e5] bg-[#4f46e5]/10":"border-blue-600 bg-blue-50":s?"border-[#2a2a2a] hover:border-[#3a3a3a]":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(Kp,{className:`w-6 h-6 mx-auto mb-2 ${c==="camera"?s?"text-[#6366f1]":"text-blue-600":i}`}),n.jsx("p",{className:`text-sm ${a}`,children:"Camera"})]}),n.jsxs("button",{onClick:()=>d("upload"),className:`p-4 rounded-lg border-2 transition-all ${c==="upload"?s?"border-[#4f46e5] bg-[#4f46e5]/10":"border-blue-600 bg-blue-50":s?"border-[#2a2a2a] hover:border-[#3a3a3a]":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(Qo,{className:`w-6 h-6 mx-auto mb-2 ${c==="upload"?s?"text-[#6366f1]":"text-blue-600":i}`}),n.jsx("p",{className:`text-sm ${a}`,children:"Upload"})]}),n.jsxs("button",{onClick:()=>d("manual"),className:`p-4 rounded-lg border-2 transition-all ${c==="manual"?s?"border-[#4f46e5] bg-[#4f46e5]/10":"border-blue-600 bg-blue-50":s?"border-[#2a2a2a] hover:border-[#3a3a3a]":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(hw,{className:`w-6 h-6 mx-auto mb-2 ${c==="manual"?s?"text-[#6366f1]":"text-blue-600":i}`}),n.jsx("p",{className:`text-sm ${a}`,children:"Manual"})]})]}),n.jsx(tt,{className:o}),c==="qr"&&n.jsx("div",{className:"space-y-4",children:P.length===0?n.jsx("div",{className:`p-4 rounded-lg border ${o} ${l}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(us,{className:`w-4 h-4 ${s?"text-yellow-300":"text-yellow-600"}`}),n.jsx("p",{className:`text-sm ${i}`,children:"No templates found. Create a waiver template to show a QR code."})]})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:a,children:"Waiver Template"}),n.jsxs(Kt,{value:R,onValueChange:W,children:[n.jsx(Xt,{className:"h-11",children:n.jsx(Yt,{placeholder:"Select a template"})}),n.jsx(Zt,{children:P.map(Z=>n.jsx(Ce,{value:Z.id,children:Z.name},Z.id))})]})]}),n.jsx("div",{className:`rounded-lg border ${o} ${l} p-6 flex flex-col items-center justify-center gap-4`,children:L?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`p-4 rounded-lg ${s?"bg-[#0f0f0f]":"bg-white"} border ${o}`,children:n.jsx(w9e,{value:L,size:180,bgColor:s?"#0f0f0f":"#ffffff",fgColor:s?"#ffffff":"#000000"})}),n.jsxs("p",{className:`text-sm ${i}`,children:["Scan to sign: ",n.jsx("span",{className:a,children:K?.name})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(J,{variant:"outline",className:"h-11",onClick:F,children:[n.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Copy Link"]}),n.jsxs(J,{className:`h-11 ${s?"text-white hover:bg-[#4338ca]":""}`,style:{backgroundColor:s?"#4f46e5":void 0},onClick:ee,children:[n.jsx(al,{className:"w-4 h-4 mr-2"}),"Open Form"]})]})]}):n.jsx("p",{className:`text-sm ${i}`,children:"Select a template to generate QR code."})})]})}),c==="camera"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:`aspect-video rounded-lg border-2 border-dashed ${o} ${l} flex items-center justify-center overflow-hidden`,children:y?n.jsx("video",{ref:b,className:"w-full h-full object-cover",muted:!0,playsInline:!0}):n.jsxs("div",{className:"text-center",children:[n.jsx(Kp,{className:`w-16 h-16 mx-auto mb-4 ${i}`}),n.jsx("p",{className:a,children:"Camera Preview"}),n.jsx("p",{className:`text-sm ${i}`,children:"Click scan to activate camera"})]})}),n.jsxs(J,{style:{backgroundColor:s?"#4f46e5":void 0},className:`w-full h-11 ${s?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700"}`,onClick:se,disabled:y,children:[n.jsx(Kae,{className:"w-4 h-4 mr-2"}),y?"Stop Scanning":"Start Scanning"]})]}),c==="upload"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:`aspect-video rounded-lg border-2 border-dashed ${o} ${l} flex items-center justify-center cursor-pointer hover:border-current transition-colors`,onClick:I,children:n.jsxs("div",{className:"text-center",children:[n.jsx(Qo,{className:`w-16 h-16 mx-auto mb-4 ${i}`}),n.jsx("p",{className:a,children:"Drop QR code image here"}),n.jsx("p",{className:`text-sm ${i}`,children:"or click to browse"})]})}),n.jsx("input",{ref:A,type:"file",accept:"image/*",className:"hidden",onChange:$})]}),c==="manual"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"waiver-code",className:a,children:"Waiver Code"}),n.jsx(ge,{id:"waiver-code",value:u,onChange:Z=>h(Z.target.value.toUpperCase()),placeholder:"WV-1001",className:"h-11 font-mono",onKeyPress:Z=>Z.key==="Enter"&&q()})]}),n.jsxs(J,{style:{backgroundColor:s?"#4f46e5":void 0},className:`w-full h-11 ${s?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700"}`,onClick:q,disabled:y||!u,children:[n.jsx(Tt,{className:"w-4 h-4 mr-2"}),y?"Verifying...":"Verify Waiver"]})]})]})}),n.jsx(wn,{children:n.jsx(J,{variant:f?"default":"outline",onClick:f?z:e,style:{backgroundColor:s&&f?"#4f46e5":void 0},className:`h-11 ${s&&f?"text-white hover:bg-[#4338ca]":f?"bg-blue-600 hover:bg-blue-700":""}`,children:f?"Done":"Cancel"})})]})})}const rW=[{id:"WV-1001",customer:"Sarah Johnson",email:"sarah.j@email.com",booking:"BK-1001",game:"Mystery Manor",signedDate:"Oct 29, 2025",status:"signed",templateName:"Standard Liability Waiver"},{id:"WV-1002",customer:"Mike Chen",email:"mike.c@email.com",booking:"BK-1002",game:"Space Odyssey",signedDate:"Oct 29, 2025",status:"signed",templateName:"Standard Liability Waiver"},{id:"WV-1003",customer:"Emily Davis",email:"emily.d@email.com",booking:"BK-1003",game:"Zombie Outbreak",signedDate:"Oct 28, 2025",status:"signed",templateName:"Standard Liability Waiver"},{id:"WV-1004",customer:"Alex Thompson",email:"alex.t@email.com",booking:"BK-1004",game:"Treasure Hunt",signedDate:"Oct 28, 2025",status:"signed",templateName:"Minor Participant Waiver"},{id:"WV-1005",customer:"David Kim",email:"david.k@email.com",booking:"BK-1006",game:"Prison Break",signedDate:"-",status:"pending",templateName:"Standard Liability Waiver"},{id:"WV-1006",customer:"Jessica Brown",email:"jessica.b@email.com",booking:"BK-1007",game:"Wizards Quest",signedDate:"Oct 27, 2025",status:"signed",templateName:"Photo Release Waiver"}],nW=[{id:"TPL-001",name:"Standard Liability Waiver",description:"General release and indemnity agreement for all participants",type:"Liability",content:["I, {FULL_NAME}, born on {DATE_OF_BIRTH}, agree to participate in the activity.","I acknowledge the risks involved and release the organizer from liability.","Contact: {EMAIL} | {PHONE}. Emergency Contact: {EMERGENCY_CONTACT}.","Signed on {DATE}."].join(`
`),status:"active",requiredFields:["Full Name","Date of Birth","Email","Phone","Emergency Contact"],assignedGames:["All Games"],createdDate:"Oct 1, 2025",lastModified:"Oct 15, 2025",usageCount:234},{id:"TPL-002",name:"Minor Participant Waiver",description:"Waiver for participants under 18 years old - requires parent/guardian signature",type:"Minor Consent",content:["Minor: {MINOR_NAME}, DOB {DATE_OF_BIRTH}.","Parent/Guardian: {PARENT_GUARDIAN_NAME}. Email: {PARENT_EMAIL}. Phone: {PARENT_PHONE}.","I consent to my minor participating and accept the terms.","Signed on {DATE}."].join(`
`),status:"active",requiredFields:["Minor Name","Date of Birth","Parent/Guardian Name","Parent Email","Parent Phone"],assignedGames:["All Games"],createdDate:"Oct 1, 2025",lastModified:"Oct 10, 2025",usageCount:87},{id:"TPL-003",name:"Photo Release Waiver",description:"Permission to use photos and videos for marketing purposes",type:"Photo/Video Release",content:["I, {FULL_NAME}, grant permission to use photos/videos for marketing.","Contact: {EMAIL}. Signature: {SIGNATURE}. Date: {DATE}."].join(`
`),status:"active",requiredFields:["Full Name","Email","Signature"],assignedGames:["All Games"],createdDate:"Oct 5, 2025",lastModified:"Oct 20, 2025",usageCount:156},{id:"TPL-004",name:"Medical Disclosure Form",description:"Health conditions and medical information disclosure",type:"Medical",content:["Medical Conditions: {MEDICAL_CONDITIONS}.","Allergies: {ALLERGIES}. Medications: {MEDICATIONS}.","Emergency Contact: {EMERGENCY_CONTACT}. Date: {DATE}."].join(`
`),status:"active",requiredFields:["Full Name","Medical Conditions","Allergies","Medications","Emergency Contact"],assignedGames:["Zombie Outbreak","Prison Break"],createdDate:"Oct 8, 2025",lastModified:"Oct 18, 2025",usageCount:45},{id:"TPL-005",name:"COVID-19 Health Screening",description:"Health screening questionnaire for COVID-19 symptoms",type:"Health Screening",content:["Name: {FULL_NAME}. Temperature: {TEMPERATURE_CHECK}.","Symptoms: {SYMPTOM_CHECKLIST}. Date: {DATE}."].join(`
`),status:"inactive",requiredFields:["Full Name","Temperature Check","Symptom Checklist"],assignedGames:[],createdDate:"Sep 20, 2025",lastModified:"Sep 25, 2025",usageCount:312}];function pUe(){const{theme:t}=fn(),e=t==="dark",r=e?"text-white":"text-gray-900",s=e?"text-[#a3a3a3]":"text-gray-600",a=e?"border-[#2a2a2a]":"border-gray-200",i=e?"bg-[#161616]":"bg-white",o=e?"hover:bg-[#1e1e1e]":"hover:bg-gray-50",l=e?"hover:shadow-[0_0_15px_rgba(79,70,229,0.1)]":"hover:shadow-md",[c,d]=S.useState("records"),[u,h]=S.useState(!1),[f,m]=S.useState(!1),[y,g]=S.useState(null),[v,b]=S.useState(null),[w,N]=S.useState(!1),[_,C]=S.useState(nW),[E,A]=S.useState(rW),[I,$]=S.useState(!1),[O,P]=S.useState(!1),[M,R]=S.useState(null),[W,Y]=S.useState(""),[K,L]=S.useState("all"),F="admin_waivers",ee="admin_waiver_templates";S.useEffect(()=>{try{const ke=localStorage.getItem(ee);if(ke){const lt=JSON.parse(ke);Array.isArray(lt)&&C(lt)}else localStorage.setItem(ee,JSON.stringify(nW))}catch(ke){console.error("Failed to load waiver templates from localStorage",ke)}try{const ke=localStorage.getItem(F);if(ke){const lt=JSON.parse(ke);Array.isArray(lt)&&A(lt)}else localStorage.setItem(F,JSON.stringify(rW))}catch(ke){console.error("Failed to load waivers from localStorage",ke)}},[]),S.useEffect(()=>{try{localStorage.setItem(ee,JSON.stringify(_))}catch(ke){console.error("Failed to save waiver templates to localStorage",ke)}},[_]),S.useEffect(()=>{try{localStorage.setItem(F,JSON.stringify(E))}catch(ke){console.error("Failed to save waivers to localStorage",ke)}},[E]);const se=E.filter(ke=>{const lt=ke.customer.toLowerCase().includes(W.toLowerCase())||ke.email.toLowerCase().includes(W.toLowerCase())||ke.id.toLowerCase().includes(W.toLowerCase()),Ve=K==="all"||ke.status===K;return lt&&Ve}),q=()=>{g(null),N(!0),h(!0)},z=ke=>{g(ke),N(!0),h(!0)},Z=ke=>{g(ke),m(!0)},X=ke=>{const lt={...ke,id:`TPL-${String(_.length+1).padStart(3,"0")}`,name:`${ke.name} (Copy)`,status:"draft",createdDate:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),lastModified:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),usageCount:0};C([..._,lt]),me.success("Template duplicated successfully!")},Q=ke=>{C(_.filter(lt=>lt.id!==ke)),me.success("Template deleted successfully!")},ne=ke=>{const lt=new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});C(_.map(Ve=>Ve.id===ke?{...Ve,status:Ve.status==="active"?"inactive":"active",lastModified:lt}:Ve)),me.success("Template status updated!")},ce=ke=>{b(ke),m(!0)},ie=ke=>{R(ke),$(!0)},pe=()=>{P(!0)},ae=ke=>{window.open(`/waiver-form/${ke.id}`,"_blank"),me.success("Opening waiver form...")},be=ke=>`${window.location.origin}/waiver-form/${ke.id}`,we=async ke=>{try{const lt=be(ke);await navigator.clipboard.writeText(lt),me.success("Copied waiver form link to clipboard")}catch(lt){console.error("Failed to copy link",lt),me.error("Failed to copy link")}},Ie=async ke=>{try{const Ve=`<iframe src="${be(ke)}" width="100%" height="800" style="border:0"></iframe>`;await navigator.clipboard.writeText(Ve),me.success("Copied embed code")}catch(lt){console.error("Failed to copy embed code",lt),me.error("Failed to copy embed code")}},Ee=ke=>{try{const lt=be(ke),Ve=`Waiver Form Link for ${ke.name}

${lt}

Embed:
<iframe src="${lt}" width="100%" height="800" style="border:0"></iframe>
`,Ke=new Blob([Ve],{type:"text/plain;charset=utf-8"}),yt=document.createElement("a");yt.href=URL.createObjectURL(Ke),yt.download=`${ke.id}-waiver-link.txt`,yt.click(),URL.revokeObjectURL(yt.href),me.success("Downloaded waiver form link")}catch(lt){console.error("Failed to download link file",lt),me.error("Failed to download link file")}},H=()=>{const ke=E.filter(lt=>lt.status==="pending");if(ke.length===0){me.info("No pending waivers to remind");return}me.success(`Sent reminders to ${ke.length} pending ${ke.length===1?"waiver":"waivers"}`)},Le=(ke,lt="all")=>{try{const Ve=lt==="filtered"?se:E;if(Ve.length===0){me.info("No waivers to export");return}if(ke==="csv"){const Ke=["Waiver ID","Customer","Email","Booking ID","Game","Signed Date","Status","Template"],yt=Ve.map(Nt=>[Nt.id,Nt.customer,Nt.email,Nt.booking,Nt.game,Nt.signedDate,Nt.status,Nt.templateName]),Mt=Nt=>{const Or=String(Nt??"").replace(/"/g,'""');return/[",\n]/.test(Or)?`"${Or}"`:Or},Gt=[Ke.map(Mt).join(","),...yt.map(Nt=>Nt.map(Mt).join(","))].join(`
`),qt=new Blob([Gt],{type:"text/csv;charset=utf-8"}),At=URL.createObjectURL(qt),Dt=document.createElement("a");Dt.href=At,Dt.download=lt==="filtered"?"waivers_filtered.csv":"waivers_all.csv",Dt.click(),URL.revokeObjectURL(At),me.success(`Exported ${lt==="filtered"?"filtered":"all"} waivers to CSV`);return}if(ke==="pdf"){const Ke=new wr,yt=15,Mt=20;Ve.forEach((Gt,qt)=>{qt>0&&Ke.addPage();let At=Mt;Ke.setFont("helvetica","normal"),Ke.setFontSize(16),Ke.text("Waiver Record",yt,At),At+=10,Ke.setFontSize(11),[`Waiver ID: ${Gt.id}`,`Template: ${Gt.templateName}`,`Customer: ${Gt.customer}`,`Email: ${Gt.email}`,`Booking: ${Gt.booking}`,`Game: ${Gt.game}`,`Status: ${Gt.status}`,`Signed Date: ${Gt.signedDate}`].forEach(Ht=>{Ke.text(Ht,yt,At),At+=8}),At+=4,Ke.setFontSize(12),Ke.text("Waiver Content",yt,At),At+=6,Ke.setFontSize(11);const $r=_.find(Ht=>Ht.name===Gt.templateName)?.content||"(No content available)";Ke.splitTextToSize($r,180).forEach(Ht=>{At>280&&(Ke.addPage(),At=Mt),Ke.text(Ht,yt,At),At+=7})}),Ke.save(lt==="filtered"?"waivers_filtered.pdf":"waivers_all.pdf"),me.success(`Exported ${lt==="filtered"?"filtered":"all"} waivers to PDF`);return}}catch(Ve){console.error("Failed to export waivers",Ve),me.error("Failed to export waivers")}},Ye=ke=>{try{const lt=new wr,Ve=15;let Ke=20;lt.setFont("helvetica","normal"),lt.setFontSize(16),lt.text("Waiver Record",Ve,Ke),Ke+=10,lt.setFontSize(11),[`Waiver ID: ${ke.id}`,`Template: ${ke.templateName}`,`Customer: ${ke.customer}`,`Email: ${ke.email}`,`Booking: ${ke.booking}`,`Game: ${ke.game}`,`Status: ${ke.status}`,`Signed Date: ${ke.signedDate}`].forEach(Mt=>{lt.text(Mt,Ve,Ke),Ke+=8}),lt.save(`${ke.id}.pdf`),me.success("Downloaded waiver PDF")}catch(lt){console.error("Failed to download waiver",lt),me.error("Failed to download waiver")}},xt=ke=>{me.success(`Reminder sent to ${ke.email}`)},qe=ke=>{A(lt=>lt.filter(Ve=>Ve.id!==ke)),me.success("Waiver deleted")},ft={total:E.length,signed:E.filter(ke=>ke.status==="signed").length,pending:E.filter(ke=>ke.status==="pending").length,thisMonth:124};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(ui,{title:"Waivers",description:"Manage liability waivers and customer agreements",sticky:!0,action:n.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[n.jsxs(J,{variant:"outline",onClick:pe,className:"h-11 flex-1 sm:flex-initial",children:[n.jsx(hw,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Scan Waiver"})]}),n.jsxs(J,{variant:"outline",onClick:()=>ie(),className:"h-11 flex-1 sm:flex-initial",children:[n.jsx(CP,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Attendee List"})]}),n.jsxs(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",onClick:q,children:[n.jsx(An,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Create Template"})]})]})}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(ve,{className:`${i} border ${a} shadow-sm ${l} transition-all`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Total Waivers"}),n.jsx("p",{className:`text-2xl mt-2 ${r}`,children:ft.total})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx($s,{className:`w-6 h-6 ${e?"text-[#6366f1]":"text-blue-600"}`})})]})})}),n.jsx(ve,{className:`${i} border ${a} shadow-sm ${l} transition-all`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Signed"}),n.jsx("p",{className:`text-2xl mt-2 ${r}`,children:ft.signed})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-emerald-500/20":"bg-green-100"}`,children:n.jsx(Rse,{className:`w-6 h-6 ${e?"text-emerald-400":"text-green-600"}`})})]})})}),n.jsx(ve,{className:`${i} border ${a} shadow-sm ${l} transition-all`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Pending"}),n.jsx("p",{className:`text-2xl mt-2 ${r}`,children:ft.pending})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-yellow-500/20":"bg-yellow-100"}`,children:n.jsx(Qt,{className:`w-6 h-6 ${e?"text-yellow-400":"text-yellow-600"}`})})]})})}),n.jsx(ve,{className:`${i} border ${a} shadow-sm ${l} transition-all`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"This Month"}),n.jsx("p",{className:`text-2xl mt-2 ${r}`,children:ft.thisMonth})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-purple-500/20":"bg-purple-100"}`,children:n.jsx(Nn,{className:`w-6 h-6 ${e?"text-purple-400":"text-purple-600"}`})})]})})})]}),n.jsxs(ta,{value:c,onValueChange:ke=>d(ke),children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(pa,{className:"w-full sm:w-auto",children:[n.jsxs(Ft,{value:"records",className:"gap-2 flex-1 sm:flex-initial",children:[n.jsx($s,{className:"w-4 h-4"}),"Waiver Records"]}),n.jsxs(Ft,{value:"templates",className:"gap-2 flex-1 sm:flex-initial",children:[n.jsx(zse,{className:"w-4 h-4"}),"Templates (",_.length,")"]})]})}),n.jsxs(Bt,{value:"records",className:"mt-6",children:[n.jsx(ve,{className:`${i} border ${a} shadow-sm mb-4`,children:n.jsx(Te,{className:"p-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ba,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${e?"text-[#737373]":"text-gray-400"}`}),n.jsx(ge,{placeholder:"Search by customer, email, or waiver ID...",value:W,onChange:ke=>Y(ke.target.value),className:"pl-10 h-11"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Kt,{value:K,onValueChange:L,children:[n.jsxs(Xt,{className:"w-[160px] h-11",children:[n.jsx(Ld,{className:"w-4 h-4 mr-2"}),n.jsx(Yt,{placeholder:"Status"})]}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"all",children:"All Status"}),n.jsx(Ce,{value:"signed",children:"Signed"}),n.jsx(Ce,{value:"pending",children:"Pending"})]})]}),(W||K!=="all")&&n.jsxs(J,{variant:"outline",onClick:()=>{Y(""),L("all")},className:"h-11",children:[n.jsx(In,{className:"w-4 h-4 mr-2"}),"Clear"]})]})]})})}),n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsx(st,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(at,{className:r,children:"Waiver Records"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(J,{variant:"outline",size:"sm",className:"h-9",onClick:H,children:[n.jsx(vu,{className:"w-4 h-4 mr-2"}),"Send Reminders"]}),n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsxs(J,{variant:"outline",size:"sm",className:"h-9",children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Export All"]})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{onClick:()=>Le("csv","all"),children:[n.jsx($s,{className:"w-4 h-4 mr-2"}),"Export CSV (All)"]}),n.jsxs(Et,{onClick:()=>Le("pdf","all"),children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Export PDF (All)"]}),n.jsx(Pu,{}),n.jsxs(Et,{onClick:()=>Le("csv","filtered"),children:[n.jsx($s,{className:"w-4 h-4 mr-2"}),"Export CSV (Filtered)"]}),n.jsxs(Et,{onClick:()=>Le("pdf","filtered"),children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Export PDF (Filtered)"]})]})]})]})]})}),n.jsx(Te,{className:"p-0 sm:p-6 sm:pt-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Vp,{children:[n.jsx(Wp,{children:n.jsxs(Ma,{className:a,children:[n.jsx(Gr,{className:s,children:"Waiver ID"}),n.jsx(Gr,{className:s,children:"Customer"}),n.jsx(Gr,{className:s,children:"Booking ID"}),n.jsx(Gr,{className:s,children:"Game"}),n.jsx(Gr,{className:s,children:"Signed Date"}),n.jsx(Gr,{className:s,children:"Status"}),n.jsx(Gr,{className:`text-right ${s}`,children:"Actions"})]})}),n.jsx(Hp,{children:se.length===0?n.jsx(Ma,{children:n.jsx($t,{colSpan:7,className:`text-center py-8 ${s}`,children:"No waivers found"})}):se.map(ke=>n.jsxs(Ma,{className:`${a} ${o} transition-colors`,children:[n.jsx($t,{className:r,children:ke.id}),n.jsx($t,{children:n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${r}`,children:ke.customer}),n.jsx("p",{className:`text-xs ${s}`,children:ke.email})]})}),n.jsx($t,{className:r,children:ke.booking}),n.jsx($t,{className:r,children:ke.game}),n.jsx($t,{className:s,children:ke.signedDate}),n.jsx($t,{children:n.jsx(ze,{variant:"secondary",className:ke.status==="signed"?e?"bg-emerald-500/20 text-emerald-400 border-0":"bg-green-100 text-green-700 border-0":e?"bg-yellow-500/20 text-yellow-400 border-0":"bg-yellow-100 text-yellow-700 border-0",children:ke.status})}),n.jsx($t,{className:"text-right",children:n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"icon",className:"h-8 w-8",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{onClick:()=>ce(ke),children:[n.jsx(Ln,{className:"w-4 h-4 mr-2"}),"View Waiver"]}),n.jsxs(Et,{onClick:()=>Ye(ke),children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Download PDF"]}),ke.status==="pending"&&n.jsxs(Et,{onClick:()=>xt(ke),children:[n.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Send Reminder"]}),n.jsx(Pu,{}),n.jsxs(Et,{className:e?"text-red-400":"text-red-600",onClick:()=>qe(ke.id),children:[n.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]},ke.id))})]})})})]})]}),n.jsx(Bt,{value:"templates",className:"mt-6",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(ke=>n.jsxs(ve,{className:`${i} border ${a} shadow-sm ${l} transition-all`,children:[n.jsx(st,{className:"p-6 pb-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx($s,{className:`w-4 h-4 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsx("h3",{className:`truncate ${r}`,children:ke.name})]}),n.jsx("p",{className:`text-xs line-clamp-2 ${s}`,children:ke.description})]}),n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"icon",className:"h-8 w-8 flex-shrink-0",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{onClick:()=>z(ke),children:[n.jsx(Sk,{className:"w-4 h-4 mr-2"}),"Edit"]}),n.jsxs(Et,{onClick:()=>X(ke),children:[n.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Duplicate"]}),n.jsx(Et,{onClick:()=>ne(ke.id),children:ke.status==="active"?n.jsxs(n.Fragment,{children:[n.jsx(cie,{className:"w-4 h-4 mr-2"}),"Deactivate"]}):n.jsxs(n.Fragment,{children:[n.jsx(iie,{className:"w-4 h-4 mr-2"}),"Activate"]})}),n.jsx(Pu,{}),n.jsxs(Et,{className:e?"text-red-400":"text-red-600",onClick:()=>Q(ke.id),children:[n.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})}),n.jsxs(Te,{className:"space-y-3 p-6 pt-0",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx(ze,{variant:"secondary",className:ke.status==="active"?e?"bg-emerald-500/20 text-emerald-400 border-0":"bg-green-100 text-green-700 border-0":ke.status==="inactive"?e?"bg-[#2a2a2a] text-[#a3a3a3] border-0":"bg-gray-100 text-gray-700 border-0":e?"bg-yellow-500/20 text-yellow-400 border-0":"bg-yellow-100 text-yellow-700 border-0",children:ke.status}),n.jsx("span",{className:s,children:ke.type})]}),n.jsxs("div",{className:"space-y-2 text-xs",children:[n.jsxs("div",{className:`flex items-center gap-2 ${s}`,children:[n.jsx(Wr,{className:"w-3 h-3"}),n.jsxs("span",{children:[ke.usageCount," times used"]})]}),n.jsxs("div",{className:`flex items-center gap-2 ${s}`,children:[n.jsx(ku,{className:"w-3 h-3"}),n.jsx("span",{className:"truncate",children:ke.assignedGames.join(", ")})]}),n.jsxs("div",{className:`flex items-center gap-2 ${s}`,children:[n.jsx(Qt,{className:"w-3 h-3"}),n.jsxs("span",{children:["Updated ",ke.lastModified]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>Z(ke),children:[n.jsx(Ln,{className:"w-4 h-4 mr-1"}),"Preview"]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>z(ke),children:[n.jsx(Sk,{className:"w-4 h-4 mr-1"}),"Edit"]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>ae(ke),children:[n.jsx(al,{className:"w-4 h-4 mr-1"}),"Open Form"]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>ie(),children:[n.jsx(Wr,{className:"w-4 h-4 mr-1"}),"Attendees"]}),n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsxs(J,{variant:"outline",size:"sm",className:"h-9",children:[n.jsx(al,{className:"w-4 h-4 mr-1"}),"Share Link"]})}),n.jsxs(As,{align:"end",children:[n.jsxs(Et,{onClick:()=>we(ke),children:[n.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Copy Public Link"]}),n.jsxs(Et,{onClick:()=>Ie(ke),children:[n.jsx($s,{className:"w-4 h-4 mr-2"}),"Copy Embed Code"]}),n.jsxs(Et,{onClick:()=>Ee(ke),children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Download Link (.txt)"]})]})]})]})]})]},ke.id))})})]}),u&&n.jsx(c9e,{template:y,isOpen:u,onClose:()=>{h(!1),g(null)},onSave:ke=>{const lt=new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});w&&y?(C(_.map(Ve=>Ve.id===ke.id?{...ke,lastModified:lt}:Ve)),me.success("Template updated successfully!")):(C([..._,{...ke,createdDate:ke.createdDate||lt,lastModified:lt}]),me.success("Template created successfully!")),h(!1),g(null)}}),f&&n.jsx(d9e,{template:y,waiver:v,isOpen:f,onClose:()=>{m(!1),g(null),b(null)}}),I&&n.jsx(h9e,{booking:M,isOpen:I,onClose:()=>{$(!1),R(null)}}),O&&n.jsx(mUe,{isOpen:O,onClose:()=>P(!1)})]})}function Pp(t){if(!t)return"00:00";if(t.match(/^\d{1,2}:\d{2}$/))return t;const e=t.match(/(\d{1,2}):(\d{2})\s*(AM|PM)/i);if(!e)return"00:00";let[,r,s,a]=e,i=parseInt(r,10);return a.toUpperCase()==="PM"&&i!==12?i+=12:a.toUpperCase()==="AM"&&i===12&&(i=0),`${i.toString().padStart(2,"0")}:${s}`}function Gte(t,e){const r=t.toISOString().split("T")[0];return e.some(s=>s.date===r&&s.blockType==="full-day")}function xUe(t,e,r){const s=t.toISOString().split("T")[0],a=Pp(e);return r.some(i=>{if(i.date!==s)return!1;if(i.blockType==="full-day"||!i.startTime&&!i.endTime)return!0;if(i.startTime&&i.endTime){const o=Pp(i.startTime),l=Pp(i.endTime);return a>=o&&a<=l}return!1})}function $O(t,e){if(!e||e.length===0)return null;const r=t.toISOString().split("T")[0];return e.find(a=>a.date===r)||null}function Kte(t,e,r){if($O(t,r)||!e||e.length===0)return!0;const a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()];return e.some(i=>i.toLowerCase()===a.toLowerCase()||i.toLowerCase()===a.substring(0,3).toLowerCase())}function gUe(t,e,r=[],s=[],a=[]){if(Gte(t,r))return[];const i=$O(t,a);if(!Kte(t,e.operatingDays,a))return[];if(e.advanceBooking){const b=new Date;b.setHours(0,0,0,0);const w=new Date(b);if(w.setDate(w.getDate()+e.advanceBooking),t>w)return[]}const o=Pp(i?i.startTime:e.startTime||"10:00"),l=Pp(i?i.endTime:e.endTime||"22:00"),c=e.slotInterval||90,[d,u]=o.split(":").map(Number),[h,f]=l.split(":").map(Number),m=[],y=t.toISOString().split("T")[0];let g=d,v=u;for(;g<h||g===h&&v<f;){const b=`${g.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}`,w=g===0?12:g>12?g-12:g,N=g>=12?"PM":"AM",_=`${w}:${v.toString().padStart(2,"0")} ${N}`,C=s.some(A=>A.date===y&&A.time===b),E=xUe(t,_,r);m.push({time:_,available:!C&&!E,spots:C||E?0:8,reason:E?"Time slot blocked":C?"Fully booked":void 0}),v+=c,v>=60&&(g+=Math.floor(v/60),v=v%60)}return m}var vUe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yUe=vUe.reduce((t,e)=>{const r=Pg(`Primitive.${e}`),s=S.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),bUe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wUe="VisuallyHidden",Yte=S.forwardRef((t,e)=>n.jsx(yUe.span,{...t,ref:e,style:{...bUe,...t.style}}));Yte.displayName=wUe;var jUe=Yte;const d0=S.forwardRef((t,e)=>n.jsx(jUe,{ref:e,...t}));d0.displayName="VisuallyHidden";var M5="Collapsible",[NUe,Xte]=Mo(M5),[SUe,DO]=NUe(M5),Zte=S.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=t,[c,d]=uc({prop:s,defaultProp:a??!1,onChange:o,caller:M5});return n.jsx(SUe,{scope:r,disabled:i,contentId:oc(),open:c,onOpenToggle:S.useCallback(()=>d(u=>!u),[d]),children:n.jsx(Tr.div,{"data-state":RO(c),"data-disabled":i?"":void 0,...l,ref:e})})});Zte.displayName=M5;var Jte="CollapsibleTrigger",Qte=S.forwardRef((t,e)=>{const{__scopeCollapsible:r,...s}=t,a=DO(Jte,r);return n.jsx(Tr.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":RO(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:e,onClick:Vt(t.onClick,a.onOpenToggle)})});Qte.displayName=Jte;var MO="CollapsibleContent",ere=S.forwardRef((t,e)=>{const{forceMount:r,...s}=t,a=DO(MO,t.__scopeCollapsible);return n.jsx(fo,{present:r||a.open,children:({present:i})=>n.jsx(_Ue,{...s,ref:e,present:i})})});ere.displayName=MO;var _Ue=S.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:s,children:a,...i}=t,o=DO(MO,r),[l,c]=S.useState(s),d=S.useRef(null),u=Zr(e,d),h=S.useRef(0),f=h.current,m=S.useRef(0),y=m.current,g=o.open||l,v=S.useRef(g),b=S.useRef(void 0);return S.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),ti(()=>{const w=d.current;if(w){b.current=b.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const N=w.getBoundingClientRect();h.current=N.height,m.current=N.width,v.current||(w.style.transitionDuration=b.current.transitionDuration,w.style.animationName=b.current.animationName),c(s)}},[o.open,s]),n.jsx(Tr.div,{"data-state":RO(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:u,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:g&&a})});function RO(t){return t?"open":"closed"}var CUe=Zte,kUe=Qte,AUe=ere,Jd="Accordion",EUe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[LO,PUe,TUe]=Fy(Jd),[R5]=Mo(Jd,[TUe,Xte]),FO=Xte(),tre=fe.forwardRef((t,e)=>{const{type:r,...s}=t,a=s,i=s;return n.jsx(LO.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?n.jsx(DUe,{...i,ref:e}):n.jsx($Ue,{...a,ref:e})})});tre.displayName=Jd;var[rre,OUe]=R5(Jd),[nre,IUe]=R5(Jd,{collapsible:!1}),$Ue=fe.forwardRef((t,e)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},collapsible:i=!1,...o}=t,[l,c]=uc({prop:r,defaultProp:s??"",onChange:a,caller:Jd});return n.jsx(rre,{scope:t.__scopeAccordion,value:fe.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:fe.useCallback(()=>i&&c(""),[i,c]),children:n.jsx(nre,{scope:t.__scopeAccordion,collapsible:i,children:n.jsx(sre,{...o,ref:e})})})}),DUe=fe.forwardRef((t,e)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},...i}=t,[o,l]=uc({prop:r,defaultProp:s??[],onChange:a,caller:Jd}),c=fe.useCallback(u=>l((h=[])=>[...h,u]),[l]),d=fe.useCallback(u=>l((h=[])=>h.filter(f=>f!==u)),[l]);return n.jsx(rre,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:n.jsx(nre,{scope:t.__scopeAccordion,collapsible:!0,children:n.jsx(sre,{...i,ref:e})})})}),[MUe,L5]=R5(Jd),sre=fe.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:s,dir:a,orientation:i="vertical",...o}=t,l=fe.useRef(null),c=Zr(l,e),d=PUe(r),h=u0(a)==="ltr",f=Vt(t.onKeyDown,m=>{if(!EUe.includes(m.key))return;const y=m.target,g=d().filter(I=>!I.ref.current?.disabled),v=g.findIndex(I=>I.ref.current===y),b=g.length;if(v===-1)return;m.preventDefault();let w=v;const N=0,_=b-1,C=()=>{w=v+1,w>_&&(w=N)},E=()=>{w=v-1,w<N&&(w=_)};switch(m.key){case"Home":w=N;break;case"End":w=_;break;case"ArrowRight":i==="horizontal"&&(h?C():E());break;case"ArrowDown":i==="vertical"&&C();break;case"ArrowLeft":i==="horizontal"&&(h?E():C());break;case"ArrowUp":i==="vertical"&&E();break}const A=w%b;g[A].ref.current?.focus()});return n.jsx(MUe,{scope:r,disabled:s,direction:a,orientation:i,children:n.jsx(LO.Slot,{scope:r,children:n.jsx(Tr.div,{...o,"data-orientation":i,ref:c,onKeyDown:s?void 0:f})})})}),pN="AccordionItem",[RUe,BO]=R5(pN),are=fe.forwardRef((t,e)=>{const{__scopeAccordion:r,value:s,...a}=t,i=L5(pN,r),o=OUe(pN,r),l=FO(r),c=oc(),d=s&&o.value.includes(s)||!1,u=i.disabled||t.disabled;return n.jsx(RUe,{scope:r,open:d,disabled:u,triggerId:c,children:n.jsx(CUe,{"data-orientation":i.orientation,"data-state":ure(d),...l,...a,ref:e,disabled:u,open:d,onOpenChange:h=>{h?o.onItemOpen(s):o.onItemClose(s)}})})});are.displayName=pN;var ire="AccordionHeader",ore=fe.forwardRef((t,e)=>{const{__scopeAccordion:r,...s}=t,a=L5(Jd,r),i=BO(ire,r);return n.jsx(Tr.h3,{"data-orientation":a.orientation,"data-state":ure(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:e})});ore.displayName=ire;var yP="AccordionTrigger",lre=fe.forwardRef((t,e)=>{const{__scopeAccordion:r,...s}=t,a=L5(Jd,r),i=BO(yP,r),o=IUe(yP,r),l=FO(r);return n.jsx(LO.ItemSlot,{scope:r,children:n.jsx(kUe,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...s,ref:e})})});lre.displayName=yP;var cre="AccordionContent",dre=fe.forwardRef((t,e)=>{const{__scopeAccordion:r,...s}=t,a=L5(Jd,r),i=BO(cre,r),o=FO(r);return n.jsx(AUe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...s,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});dre.displayName=cre;function ure(t){return t?"open":"closed"}var LUe=tre,FUe=are,BUe=ore,UUe=lre,zUe=dre;function hre({...t}){return n.jsx(LUe,{"data-slot":"accordion",...t})}function o1({className:t,...e}){return n.jsx(FUe,{"data-slot":"accordion-item",className:nr("border-b last:border-b-0",t),...e})}function l1({className:t,children:e,...r}){return n.jsx(BUe,{className:"flex",children:n.jsxs(UUe,{"data-slot":"accordion-trigger",className:nr("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,n.jsx(Dd,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function c1({className:t,children:e,...r}){return n.jsx(zUe,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...r,children:n.jsx("div",{className:nr("pt-0 pb-4",t),children:e})})}const VUe={SAVE10:{discount:10,type:"percentage"},SAVE20:{discount:20,type:"percentage"},FIRST:{discount:5,type:"fixed"},WELCOME:{discount:15,type:"percentage"},VIP:{discount:25,type:"percentage"}};function Vu({onApply:t,onRemove:e,appliedCode:r,appliedDiscount:s,appliedType:a,className:i=""}){const[o,l]=S.useState(""),[c,d]=S.useState(!1),u=()=>{if(!o.trim()){me.error("Please enter a promo code");return}d(!0),setTimeout(()=>{const f=o.toUpperCase(),m=VUe[f];m?(t(f,m.discount,m.type),me.success(`Promo code applied! ${m.discount}${m.type==="percentage"?"%":"$"} discount`),l("")):me.error("Invalid promo code"),d(!1)},500)},h=()=>{e&&(e(),me.info("Promo code removed"))};return r&&s?n.jsxs("div",{className:`flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg ${i}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_k,{className:"w-4 h-4 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-green-900",children:r}),n.jsx("p",{className:"text-xs text-green-600",children:a==="fixed"?`$${s} discount applied`:`${s}% discount applied`})]})]}),e&&n.jsx(J,{variant:"ghost",size:"sm",onClick:h,className:"h-8 text-red-600 hover:text-red-700 hover:bg-red-50",children:n.jsx(In,{className:"w-4 h-4"})})]}):n.jsxs("div",{className:`space-y-2 ${i}`,children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(_k,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx(ge,{value:o,onChange:f=>l(f.target.value),onKeyPress:f=>f.key==="Enter"&&u(),placeholder:"Enter promo code",className:"pl-10 h-11",disabled:c})]}),n.jsx(J,{onClick:u,disabled:c||!o.trim(),className:"h-11 px-6",variant:"outline",children:c?"Applying...":"Apply"})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Try: SAVE10, SAVE20, WELCOME, VIP, or FIRST"})]})}const WUe={GIFT50:{amount:50,balance:50},GIFT100:{amount:100,balance:100},HOLIDAY25:{amount:25,balance:25},BIRTHDAY75:{amount:75,balance:75},THANKYOU150:{amount:150,balance:150}};function Wu({onApply:t,onRemove:e,appliedCode:r,appliedAmount:s,className:a=""}){const[i,o]=S.useState(""),[l,c]=S.useState(!1),d=()=>{if(!i.trim()){me.error("Please enter a gift card code");return}c(!0),setTimeout(()=>{const h=i.toUpperCase(),f=WUe[h];f?(t(h,f.balance),me.success(`Gift card applied! $${f.balance.toFixed(2)} available`),o("")):me.error("Invalid gift card code"),c(!1)},500)},u=()=>{e&&(e(),me.info("Gift card removed"))};return r&&s?n.jsxs("div",{className:`flex items-center justify-between p-3 bg-purple-50 border border-purple-200 rounded-lg ${a}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Oo,{className:"w-4 h-4 text-purple-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-purple-900",children:r}),n.jsxs("p",{className:"text-xs text-purple-600",children:["$",s.toFixed(2)," gift card balance"]})]})]}),e&&n.jsx(J,{variant:"ghost",size:"sm",onClick:u,className:"h-8 text-red-600 hover:text-red-700 hover:bg-red-50",children:n.jsx(In,{className:"w-4 h-4"})})]}):n.jsxs("div",{className:`space-y-2 ${a}`,children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Oo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx(ge,{value:i,onChange:h=>o(h.target.value),onKeyPress:h=>h.key==="Enter"&&d(),placeholder:"Enter gift card code",className:"pl-10 h-11",disabled:l})]}),n.jsx(J,{onClick:d,disabled:l||!i.trim(),className:"h-11 px-6",variant:"outline",children:l?"Applying...":"Apply"})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Try: GIFT50, GIFT100, HOLIDAY25, BIRTHDAY75, or THANKYOU150"})]})}class Sb{static normalizeGameForWidget(e){const r=e.settings||{};return{id:e.id,name:e.name,slug:e.slug,description:e.description||"An exciting experience awaits!",tagline:e.tagline||"",difficulty:e.difficulty||"Medium",duration:e.duration||60,minPlayers:e.min_players||2,maxPlayers:e.max_players||8,min_players:e.min_players||2,max_players:e.max_players||8,price:e.price||0,childPrice:e.child_price,child_price:e.child_price,minAge:e.min_age,successRate:e.success_rate||50,image:e.image_url,imageUrl:e.image_url,coverImage:e.image_url,status:"active",settings:r,blockedDates:r.blockedDates||[],availability:r.availability||{},operatingDays:r.operatingDays||["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],startTime:r.startTime||"09:00",endTime:r.endTime||"21:00",slotInterval:r.slotInterval||60,advanceBooking:r.advanceBooking||30,requiresWaiver:r.requiresWaiver||!1,selectedWaiver:r.selectedWaiver||null,cancellationWindow:r.cancellationWindow||24,specialInstructions:r.specialInstructions||"",galleryImages:r.galleryImages||[],videos:r.videos||[],language:r.language||["English"],minChildren:r.minChildren||0,maxChildren:r.maxChildren||0,location:r.location||"",faqs:r.faqs||[],cancellationPolicies:r.cancellationPolicies||[]}}static mergeWidgetConfig(e,r){const s=e.settings?.widgetConfig||{},a=Array.isArray(s.games)?s.games:[],i=r.map(c=>this.normalizeGameForWidget(c)),o=i.map(c=>{const d=a.find(u=>u.id===c.id);return d?{...c,...d,id:c.id}:c});return{config:{venueId:e.id,venueName:e.name,primaryColor:e.primary_color,baseUrl:e.base_url,...s,games:o},games:i}}static async getVenueByEmbedKey(e){try{const{data:r,error:s}=await Pr.rpc("get_venue_by_embed_key",{p_embed_key:e});return s?(console.error("Error fetching venue by embed key:",s),null):!r||r.length===0?(console.warn(`No venue found for embed key: ${e}`),null):r[0]}catch(r){return console.error("Exception fetching venue:",r),null}}static async getVenueGames(e){try{const{data:r,error:s}=await Pr.rpc("get_venue_games",{p_venue_id:e});return s?(console.error("Error fetching venue games:",s),[]):r||[]}catch(r){return console.error("Exception fetching venue games:",r),[]}}static async getVenueWidgetConfig(e){const r=await this.getVenueByEmbedKey(e);if(!r)return null;const s=await this.getVenueGames(r.id),{config:a,games:i}=this.mergeWidgetConfig(r,s);return{venue:r,games:i,widgetConfig:a}}static async createWidgetBooking(e){try{const{data:r,error:s}=await Pr.rpc("create_widget_booking",{p_venue_id:e.venue_id,p_game_id:e.game_id,p_customer_name:e.customer_name,p_customer_email:e.customer_email,p_customer_phone:e.customer_phone,p_booking_date:e.booking_date,p_start_time:e.start_time,p_end_time:e.end_time,p_party_size:e.party_size,p_ticket_types:e.ticket_types,p_total_amount:e.total_amount,p_final_amount:e.final_amount,p_promo_code:e.promo_code||null,p_notes:e.notes||null});if(s)throw console.error("Error creating widget booking:",s),new Error(s.message||"Failed to create booking");if(!r||r.length===0)throw new Error("No booking data returned");return r[0]}catch(r){throw console.error("Exception creating widget booking:",r),r}}static async getVenueBookings(e){try{const{data:r,error:s}=await Pr.from("bookings").select(`
          *,
          customer:customers(*),
          game:games(*),
          venue:venues(*)
        `).eq("venue_id",e).order("created_at",{ascending:!1});return s?(console.error("Error fetching venue bookings:",s),[]):r||[]}catch(r){return console.error("Exception fetching venue bookings:",r),[]}}static async getBookingByConfirmationCode(e){try{const{data:r,error:s}=await Pr.from("bookings").select(`
          *,
          customer:customers(*),
          game:games(*),
          venue:venues(*)
        `).eq("confirmation_code",e).single();return s?(console.error("Error fetching booking by confirmation code:",s),null):r}catch(r){return console.error("Exception fetching booking:",r),null}}static async updateBookingStatus(e,r){try{const{data:s,error:a}=await Pr.from("bookings").update({status:r,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(a)throw console.error("Error updating booking status:",a),new Error(a.message);return s}catch(s){throw console.error("Exception updating booking status:",s),s}}static async getBookedSlots(e,r){try{const{data:s,error:a}=await Pr.from("bookings").select("booking_time, end_time, players").eq("game_id",e).eq("booking_date",r).in("status",["pending","confirmed","checked_in"]);return a?(console.error("Error fetching booked slots:",a),[]):s||[]}catch(s){return console.error("Exception fetching booked slots:",s),[]}}}function _b({primaryColor:t="#2563eb",config:e}){const[r,s]=S.useState(e?.defaultSelectedDateDay??15),[a,i]=S.useState(null),[o,l]=S.useState(e?.games?.[0]?.id??null),[c,d]=S.useState(4),[u,h]=S.useState(!1),[f,m]=S.useState(!1),[y,g]=S.useState("booking"),[v,b]=S.useState(null),[w,N]=S.useState({name:"",email:"",phone:"",cardNumber:"",cardExpiry:"",cardCVV:"",cardName:""}),[_,C]=S.useState(0),[E,A]=S.useState(""),[I,$]=S.useState(!1),[O,P]=S.useState(null),[M,R]=S.useState(!1),[W,Y]=S.useState(null),[K,L]=S.useState(!1),[F,ee]=S.useState(!1),se=String(e?.previewRole||"customer").toLowerCase(),q=e?.timezoneLabel||"Local Time",z=typeof e?.slotDurationMinutes=="number"?e.slotDurationMinutes:90,Z=(e?.showPromoCodeInput??!0)&&se!=="staff",X=e?.showGiftCardInput??!0,Q=e?.customSettings||{},ne=(Array.isArray(e?.games)?e.games:[]).map($e=>{const nt=typeof $e?.difficulty=="number"?$e.difficulty<=2?"Easy":$e.difficulty===3?"Medium":$e.difficulty===4?"Hard":"Extreme":$e?.difficultyLabel||$e?.difficulty||"Medium",sr={Easy:2,Medium:3,Hard:4,Extreme:5};return{id:$e?.id,name:$e?.name,duration:$e?.duration||"60 min",price:typeof $e?.price=="number"?$e.price:typeof $e?.basePrice=="number"?$e.basePrice:0,rating:$e?.rating??0,reviewCount:$e?.reviews??0,difficulty:nt,difficultyLevel:typeof $e?.difficulty=="number"?$e.difficulty:sr[String(nt)]??3,players:$e?.players||"",minAge:$e?.minAge,ageRecommendation:$e?.ageRange||"",image:$e?.image||$e?.imageUrl||$e?.coverImage||"https://images.unsplash.com/photo-1576086213369-97a306d36557?w=800&h=500&fit=crop",gallery:$e?.galleryImages||$e?.gallery||[],description:$e?.description||"",longDescription:$e?.longDescription||$e?.description||"",highlights:$e?.highlights||[],story:$e?.story||"",whatToExpect:$e?.whatToExpect||[],requirements:$e?.requirements||[],successTips:$e?.successTips||[],faq:$e?.faq||[],reviews:$e?.reviewsList||[],gameType:$e?.gameType||"physical",operatingDays:$e?.operatingDays||["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],startTime:$e?.startTime||"10:00",endTime:$e?.endTime||"22:00",slotInterval:$e?.slotInterval||60,advanceBooking:$e?.advanceBooking||30}}),ce=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ie=o&&ne.find($e=>$e.id===o)||ne[0],[pe,ae]=S.useState(new Date().getMonth()),[be,we]=S.useState(new Date().getFullYear()),Ie=S.useMemo(()=>{if(!ie)return[];const $e=new Date(be,pe,r),nt=e?.blockedDates||[],sr=e?.customAvailableDates||[];return gUe($e,{operatingDays:ie.operatingDays,startTime:ie.startTime,endTime:ie.endTime,slotInterval:ie.slotInterval,duration:typeof ie.duration=="string"?parseInt(ie.duration):ie.duration,advanceBooking:ie.advanceBooking},nt,[],sr)},[r,pe,be,ie,e]),Ee=e?.streetAddress||e?.address||ie?.location?.address,H=e?.city||ie?.location?.city,Le=e?.state||ie?.location?.state,Ye=e?.zipCode||e?.postalCode||ie?.location?.zip||ie?.location?.postalCode,xt=e?.country||ie?.location?.country,qe=[Ee,H,Le,Ye,xt].filter(Boolean).join(", "),ft=ie?.image||ie?.coverImage||"https://images.unsplash.com/photo-1576086213369-97a306d36557?w=1200&h=630&fit=crop",ke=e?.phoneNumber||ie?.location?.phone||"",lt=e?.emailAddress||ie?.contactEmail||"";S.useEffect(()=>{!o&&ne.length>0&&l(ne[0].id)},[e,ne,o]),S.useEffect(()=>{const $e=e?.seoTitle||`${e?.businessName||"Booking"} | Calendar`;if(typeof document<"u"){document.title=$e;const nt=(_t,Lr)=>{if(!Lr)return;let Ze=document.querySelector(`meta[name="${_t}"]`);Ze||(Ze=document.createElement("meta"),Ze.setAttribute("name",_t),document.head.appendChild(Ze)),Ze.setAttribute("content",Lr)},sr=(_t,Lr)=>{if(!Lr)return;let Ze=document.querySelector(`meta[property="${_t}"]`);Ze||(Ze=document.createElement("meta"),Ze.setAttribute("property",_t),document.head.appendChild(Ze)),Ze.setAttribute("content",Lr)},dr=e?.metaDescription||"Browse and book experiences",Rr=Array.isArray(e?.seoKeywords)?e.seoKeywords.join(", "):e?.seoKeywords||"";nt("description",dr),nt("keywords",Rr),sr("og:title",$e),sr("og:description",dr),sr("og:image",ft),sr("og:type","website"),nt("twitter:card","summary_large_image"),nt("twitter:title",$e),nt("twitter:description",dr),nt("twitter:image",ft);const Jt=document.getElementById("calendar-widget-jsonld");if(e?.enableLocalBusinessSchema){const _t=qe?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(qe)}`:void 0,Lr={"@context":"https://schema.org","@type":"LocalBusiness",name:e?.businessName||ie?.name||"Booking",image:ft,description:dr,address:Ee||H||Le||Ye||xt?{"@type":"PostalAddress",streetAddress:Ee,addressLocality:H,addressRegion:Le,postalCode:Ye,addressCountry:xt}:void 0,telephone:e?.phoneNumber,email:e?.emailAddress,hasMap:_t},Ze=Jt||document.createElement("script");Ze.type="application/ld+json",Ze.id="calendar-widget-jsonld",Ze.textContent=JSON.stringify(Lr,null,2),Jt||document.head.appendChild(Ze)}else Jt&&Jt.remove()}return()=>{const nt=document.getElementById("calendar-widget-jsonld");nt&&nt.remove()}},[e,ie?.name,ft,qe,Ee,H,Le,Ye,xt]),S.useEffect(()=>{try{const $e=localStorage.getItem("bookings");if($e){const nt=JSON.parse($e);C(Array.isArray(nt)?nt.length:0)}}catch($e){console.error("Error loading bookings from localStorage:",$e)}},[]);const Ve=($e,nt,sr)=>{P({code:$e,discount:nt,type:sr}),$(!1)},Ke=()=>{P(null)},yt=($e,nt)=>{Y({code:$e,amount:nt}),R(!1)},Mt=()=>{Y(null)},Gt=()=>(ie?.price??0)*c,qt=()=>O?O.type==="fixed"?O.discount:Gt()*O.discount/100:0,At=()=>{if(!W)return 0;const $e=Gt()-qt();return Math.min(W.amount,$e)},Dt=Gt()-qt()-At(),Nt=`BK-${Math.random().toString(36).substring(2,10).toUpperCase()}`,$r=a!==null;w.name!==""&&w.email!==""&&w.phone;const Or=w.cardNumber!==""&&w.cardExpiry!==""&&w.cardCVV!==""&&w.cardName!=="",Ht=()=>{g("booking"),s(15),i(null),l(ne[0]?.id??null),d(4),N({name:"",email:"",phone:"",cardNumber:"",cardExpiry:"",cardCVV:"",cardName:""}),P(null),Y(null),$(!1),R(!1)},bt=async()=>{if(!Or){alert("Please complete checkout details");return}try{if(!e?.venueId){me.error("Venue configuration is missing"),console.error("Missing venueId in config:",e);return}if(!ie?.id){me.error("Please select a game");return}if(!a){me.error("Please select a time");return}if(!w.name||!w.email){me.error("Please fill in customer details");return}const $e=new Date(new Date().getFullYear(),10,Number(r)).toISOString().slice(0,10);let nt=a,sr="";const dr=a.match(/(\d{1,2}):(\d{2})\s*(AM|PM)?/i);if(dr){let _t=parseInt(dr[1]);const Lr=parseInt(dr[2]),Ze=dr[3];Ze&&(Ze.toUpperCase()==="PM"&&_t!==12?_t+=12:Ze.toUpperCase()==="AM"&&_t===12&&(_t=0)),nt=`${String(_t).padStart(2,"0")}:${String(Lr).padStart(2,"0")}`;const Ae=new Date;Ae.setHours(_t,Lr,0,0);const wt=new Date(Ae.getTime()+(ie?.duration||60)*6e4);sr=`${String(wt.getHours()).padStart(2,"0")}:${String(wt.getMinutes()).padStart(2,"0")}`}else{me.error("Invalid time format"),console.error("Could not parse time:",a);return}const Rr=[{id:"standard",name:"Standard Ticket",price:ie?.price||0,quantity:c,subtotal:Gt()}];console.log("Creating booking with:",{venue_id:e.venueId,game_id:ie.id,booking_date:$e,start_time:nt,end_time:sr,original_selected_time:a});const Jt=await Sb.createWidgetBooking({venue_id:e.venueId,game_id:ie.id,customer_name:w.name,customer_email:w.email,customer_phone:w.phone||"",booking_date:$e,start_time:nt,end_time:sr,party_size:c,ticket_types:Rr,total_amount:Gt(),final_amount:Dt,promo_code:O?.code,notes:`Calendar Widget Booking - ${ie?.name}`});Jt&&(A(Jt.confirmation_code),me.success("Booking confirmed!"),console.log(" Booking created:",Jt),g("success"))}catch($e){console.error(" Error creating booking:",$e),me.error($e.message||"Failed to create booking")}},an=$e=>n.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(nt=>n.jsx(yn,{className:`w-3 h-3 transition-all ${nt<=$e?"fill-orange-400 text-orange-400 scale-100":"fill-gray-200 text-gray-200 scale-90"}`},nt))}),er=$e=>{switch($e.toLowerCase()){case"easy":return"bg-green-100 text-green-700 border-green-300";case"medium":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"hard":return"bg-red-100 text-red-700 border-red-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}};return ne.length===0?n.jsx("div",{className:"w-full min-h-screen bg-gray-50",children:n.jsx("div",{className:"max-w-3xl mx-auto p-6",children:n.jsxs(ve,{className:"p-6",children:[n.jsx("h2",{className:"text-xl text-gray-900 mb-2",children:"No experiences configured"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Add games in the settings to display the calendar booking widget."}),n.jsx("div",{className:"text-sm text-gray-700",children:"Open Settings  Games and create your first experience."})]})})}):n.jsxs("div",{className:"w-full min-h-screen bg-gray-50",style:{fontFamily:e?.fontFamily||void 0},children:[n.jsx(or,{open:F,onOpenChange:ee,children:n.jsxs(lr,{className:"sm:max-w-[425px]",children:[n.jsx(Nr,{children:n.jsx(cr,{children:"Health & Safety"})}),n.jsx("div",{className:"p-4",children:n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx(K0,{className:"w-6 h-6 text-green-500 mr-4"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold",children:"Enhanced Cleaning"}),n.jsx("p",{className:"text-sm text-gray-500",children:"We've increased the frequency of cleaning and disinfecting our facilities, especially high-touch surfaces."})]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(Wr,{className:"w-6 h-6 text-green-500 mr-4"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold",children:"Private Experiences"}),n.jsx("p",{className:"text-sm text-gray-500",children:"All our escape room games are private, meaning you'll only be playing with the people you came with."})]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(Md,{className:"w-6 h-6 text-green-500 mr-4"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold",children:"Well-being"}),n.jsx("p",{className:"text-sm text-gray-500",children:"If you're feeling unwell, please stay home. We're happy to reschedule your booking for a future date."})]})]})]})})]})}),n.jsx(or,{open:K,onOpenChange:L,children:n.jsxs(lr,{className:"sm:max-w-[425px]",children:[n.jsx(Nr,{children:n.jsx(cr,{children:"Secure Booking"})}),n.jsxs("div",{className:"p-4",children:[n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Your security and privacy are our top priorities. We use industry-leading technology to protect your information."}),n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx(K0,{className:"w-6 h-6 text-green-500 mr-4"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold",children:"SSL Encryption"}),n.jsx("p",{className:"text-sm text-gray-500",children:"All data transmitted between your browser and our servers is encrypted using 256-bit SSL technology, the same security used by major banks."})]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(K0,{className:"w-6 h-6 text-green-500 mr-4"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold",children:"PCI DSS Compliant"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Our payment processing is fully compliant with Payment Card Industry Data Security Standards, ensuring your card information is handled with the highest security."})]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(K0,{className:"w-6 h-6 text-green-500 mr-4"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold",children:"Data Protection"}),n.jsx("p",{className:"text-sm text-gray-500",children:"We never store your complete credit card information on our servers. All payment data is tokenized and processed through secure, certified payment gateways."})]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(K0,{className:"w-6 h-6 text-green-500 mr-4"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold",children:"Privacy Guaranteed"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Your personal information is kept confidential and will never be shared with third parties without your explicit consent."})]})]})]}),n.jsx("div",{className:"mt-6 bg-green-50 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-green-700",children:[n.jsx("strong",{children:"Your trust matters:"})," We're committed to maintaining the highest standards of security and transparency in all our transactions."]})})]})]})}),n.jsxs("div",{className:"flex justify-end items-center gap-4 p-4",children:[n.jsxs(ze,{variant:"secondary",className:"bg-gray-100 text-gray-700 border",children:["TZ: ",q]}),n.jsxs(ze,{variant:"secondary",className:"bg-gray-100 text-gray-700 border",children:["Role: ",se]}),e.showSecuredBadge&&n.jsxs(J,{variant:"outline",onClick:()=>L(!0),children:[n.jsx(K0,{className:"w-4 h-4 mr-2"}),"Secured"]}),e.showHealthSafety&&n.jsxs(J,{variant:"outline",onClick:()=>ee(!0),children:[n.jsx(Md,{className:"w-4 h-4 mr-2"}),"Health & Safety"]})]}),n.jsxs("div",{className:"mb-6",children:[Q.logoUrl&&Q.logoPosition==="top"&&n.jsx("img",{src:Q.logoUrl,alt:"logo",style:{width:Q.logoSize,height:Q.logoSize},className:"mx-auto mb-2"}),n.jsxs("div",{className:"flex items-center justify-center gap-3",children:[Q.logoUrl&&Q.logoPosition==="left"&&n.jsx("img",{src:Q.logoUrl,alt:"logo",style:{width:Q.logoSize,height:Q.logoSize}}),n.jsx("h1",{className:"font-bold mb-2",style:{fontFamily:Q.headlineFont||void 0,fontSize:typeof Q.headlineSize=="number"?Q.headlineSize:28,color:Q.headlineColor||void 0,textAlign:Q.headlineAlign||"center"},children:Q.headlineText||e.widgetTitle}),Q.logoUrl&&Q.logoPosition==="right"&&n.jsx("img",{src:Q.logoUrl,alt:"logo",style:{width:Q.logoSize,height:Q.logoSize}})]}),Q.logoUrl&&Q.logoPosition==="bottom"&&n.jsx("img",{src:Q.logoUrl,alt:"logo",style:{width:Q.logoSize,height:Q.logoSize},className:"mx-auto mt-2"}),Q.descriptionHtml?n.jsx("div",{className:"mt-1 text-gray-700",style:{textAlign:Q.headlineAlign||"center"},dangerouslySetInnerHTML:{__html:Q.descriptionHtml}}):n.jsx("p",{className:"text-center mb-2",children:e.widgetDescription})]}),n.jsx(or,{open:u,onOpenChange:h,children:n.jsxs(lr,{className:"!w-screen !h-screen !max-w-none !max-h-none sm:!w-[95vw] sm:!h-[95vh] sm:!max-w-[1200px] sm:!max-h-[95vh] !rounded-none sm:!rounded-xl overflow-hidden p-0 bg-gradient-to-b from-white to-gray-50 flex flex-col",children:[n.jsx("button",{onClick:()=>h(!1),className:"absolute top-4 right-4 z-50 w-10 h-10 rounded-full bg-white shadow-lg hover:shadow-xl flex items-center justify-center transition-all hover:scale-110 border border-gray-200","aria-label":"Close dialog",children:n.jsx(In,{className:"w-5 h-5 text-gray-600"})}),n.jsx(d0,{children:n.jsxs(Nr,{children:[n.jsx(cr,{children:ie.name}),n.jsxs(xr,{children:["Complete guide to ",ie.name," escape room - ",ie.difficulty," difficulty, ",ie.duration," duration, suitable for ages ",ie.ageRecommendation,". Book your adventure now!"]})]})}),n.jsx("div",{className:"flex-1 overflow-hidden",children:n.jsxs(Ps,{className:"h-full w-full",children:[n.jsxs("div",{className:"relative w-full h-[400px] sm:h-[500px] overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx(Fn,{src:ie.image,alt:ie.name,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/80"})]}),n.jsxs("div",{className:"relative h-full flex flex-col justify-end p-6 sm:p-10 lg:p-12",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[ie.featured&&n.jsx(ze,{className:"bg-amber-500 hover:bg-amber-600 text-white border-0 px-3 py-1 text-sm",children:" Featured"}),n.jsxs(ze,{className:"bg-white/20 hover:bg-white/30 text-white border border-white/30 backdrop-blur-sm px-3 py-1 text-sm",children:[n.jsx(yn,{className:"w-3 h-3 fill-white mr-1"}),ie.rating," (",ie.reviewCount," reviews)"]})]}),n.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl text-white mb-3 sm:mb-4",children:ie.name}),n.jsx("p",{className:"text-base sm:text-lg text-gray-200 mb-6 sm:mb-8 max-w-3xl",children:ie.description}),n.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-xl px-4 py-2.5 flex items-center gap-2",children:[n.jsx(Qt,{className:"w-5 h-5 text-white"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-300",children:"Duration"}),n.jsx("div",{className:"text-sm text-white",children:ie.duration})]})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-xl px-4 py-2.5 flex items-center gap-2",children:[n.jsx(Wr,{className:"w-5 h-5 text-white"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-300",children:"Players"}),n.jsx("div",{className:"text-sm text-white",children:ie.players})]})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-xl px-4 py-2.5 flex items-center gap-2",children:[n.jsx(Gf,{className:"w-5 h-5 text-white"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-300",children:"Difficulty"}),n.jsx("div",{className:"text-sm text-white",children:ie.difficulty})]})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-xl px-4 py-2.5 flex items-center gap-2",children:[n.jsx(Dh,{className:"w-5 h-5 text-white"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-300",children:"Type"}),n.jsx("div",{className:"text-sm text-white",children:ie.gameType})]})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-xl px-4 py-2.5 flex items-center gap-2",children:[n.jsx(El,{className:"w-5 h-5 text-white"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-300",children:"Location"}),n.jsx("div",{className:"text-sm text-white",children:"Downtown"})]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(J,{className:"bg-white/10 hover:bg-white/20 text-white border border-white/30 backdrop-blur-md transition-all",variant:"outline",children:[n.jsx(Au,{className:"w-4 h-4 mr-2"}),"View Gallery"]}),n.jsxs(J,{className:"bg-white/10 hover:bg-white/20 text-white border border-white/30 backdrop-blur-md transition-all",variant:"outline",children:[n.jsx(Au,{className:"w-4 h-4 mr-2"}),"Watch Video"]})]})]})]}),n.jsxs("div",{className:"space-y-8 sm:space-y-10 p-4 sm:p-6 lg:p-8 pb-20",children:[n.jsx("section",{"aria-label":"Photo gallery",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ie.gallery.map(($e,nt)=>n.jsxs("div",{className:"group aspect-video rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 relative",children:[n.jsx(Fn,{src:$e,alt:`${ie.name} escape room - View ${nt+1}`,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},nt))})}),n.jsxs("section",{"aria-labelledby":"overview-heading",className:"scroll-mt-20",children:[n.jsx("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:`${t}15`},children:n.jsx(ma,{className:"w-5 h-5",style:{color:t}})}),n.jsx("h2",{id:"overview-heading",className:"text-2xl sm:text-3xl text-gray-900",children:"Overview"})]})}),n.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl p-6 sm:p-8 shadow-sm border border-gray-100",children:[n.jsx("p",{className:"text-base sm:text-lg text-gray-700 leading-relaxed mb-6",children:ie.longDescription}),n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 p-4 sm:p-5 rounded-r-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(rs,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),n.jsxs("p",{className:"text-sm sm:text-base text-gray-700",children:[n.jsx("strong",{className:"text-blue-900",children:"At a Glance:"})," ",ie.description]})]})})]})]}),n.jsxs("section",{"aria-labelledby":"detailed-info-heading",className:"scroll-mt-20",children:[n.jsx(d0,{children:n.jsx("h2",{id:"detailed-info-heading",children:"Detailed Activity Information"})}),n.jsxs(hre,{type:"single",collapsible:!0,defaultValue:"activity-details",className:"space-y-4",children:[n.jsxs(o1,{value:"activity-details",className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden","data-seo-section":"activity-details",children:[n.jsx(l1,{className:"px-6 py-4 hover:bg-gray-50 transition-colors [&[data-state=open]]:bg-gray-50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-blue-100",children:n.jsx(Hne,{className:"w-5 h-5 text-blue-600"})}),n.jsx("span",{className:"text-lg text-gray-900",children:"Activity Details"})]})}),n.jsx(c1,{className:"px-6 pb-6",children:n.jsxs("div",{className:"space-y-6 pt-2",children:[n.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[n.jsxs("div",{itemScope:!0,itemType:"https://schema.org/Duration",children:[n.jsxs("h3",{className:"text-base text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(Qt,{className:"w-5 h-5",style:{color:t}}),"Duration"]}),n.jsx("p",{className:"text-gray-700",itemProp:"duration",children:n.jsx("strong",{className:"text-xl",style:{color:t},children:ie.duration})}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Total experience time including briefing and debriefing"})]}),n.jsxs("div",{itemScope:!0,itemType:"https://schema.org/QuantitativeValue",children:[n.jsxs("h3",{className:"text-base text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(Wr,{className:"w-5 h-5",style:{color:t}}),"Group Size"]}),n.jsx("p",{className:"text-gray-700",itemProp:"value",children:n.jsx("strong",{className:"text-xl",style:{color:t},children:ie.players})}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Private experience - your group only"})]})]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-base text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(Gf,{className:"w-5 h-5",style:{color:t}}),"Difficulty Level"]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map($e=>n.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center transition-all ${$e<=ie.difficulty?"bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-md":"bg-gray-200 text-gray-400"}`,children:n.jsx("span",{className:"text-xs",children:$e})},$e))}),n.jsxs("span",{className:"text-gray-700",children:[n.jsxs("strong",{style:{color:t},children:[ie.difficulty,"/5"]})," - ",ie.difficulty<=2?"Beginner Friendly":ie.difficulty<=3?"Moderate Challenge":"Advanced Puzzlers"]})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:ie.difficulty<=2?"Perfect for first-time escape room enthusiasts and families":ie.difficulty<=3?"Suitable for those with some escape room experience":"Recommended for experienced escape room teams"})]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-base text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Tt,{className:"w-5 h-5 text-green-600"}),"What's Included"]}),n.jsx("ul",{className:"space-y-3",children:ie.whatToExpect.map(($e,nt)=>n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx(Tt,{className:"w-5 h-5 flex-shrink-0 mt-0.5 text-green-600"}),n.jsx("span",{className:"text-gray-700",children:$e})]},nt))})]}),n.jsx(tt,{}),n.jsxs("div",{itemScope:!0,itemType:"https://schema.org/Place",children:[n.jsxs("h3",{className:"text-base text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(El,{className:"w-5 h-5",style:{color:t}}),"Meeting Point"]}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 p-4 rounded-r-lg",children:[n.jsxs("p",{className:"text-gray-700",itemProp:"address",children:[n.jsx("strong",{children:"123 Adventure Street, Downtown District"}),n.jsx("br",{}),"New York, NY 10001"]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Please arrive ",n.jsx("strong",{className:"text-blue-900",children:"15 minutes before"})," your scheduled time for check-in and game briefing"]})]})]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-base text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(cae,{className:"w-5 h-5",style:{color:t}}),"Available Languages"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:["English","Spanish","French","German"].map($e=>n.jsx(ze,{variant:"secondary",className:"text-sm px-3 py-1",children:$e},$e))}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Game master can provide hints and instructions in multiple languages"})]}),n.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-4 rounded-r-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(us,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),n.jsx("div",{children:n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("strong",{className:"text-amber-900",children:"Age Requirement:"})," Recommended for ages ",ie.ageRecommendation,". Children under 16 must be accompanied by an adult."]})})]})})]})})]}),n.jsxs(o1,{value:"additional-info",className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden","data-seo-section":"additional-information",children:[n.jsx(l1,{className:"px-6 py-4 hover:bg-gray-50 transition-colors [&[data-state=open]]:bg-gray-50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-purple-100",children:n.jsx(rs,{className:"w-5 h-5 text-purple-600"})}),n.jsx("span",{className:"text-lg text-gray-900",children:"Additional Information"})]})}),n.jsx(c1,{className:"px-6 pb-6",children:n.jsxs("div",{className:"space-y-6 pt-2",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-base text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Xn,{className:"w-5 h-5 text-blue-600"}),"Accessibility & Accommodations"]}),n.jsxs("ul",{className:"space-y-2 text-gray-700",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),n.jsx("span",{children:"Wheelchair accessible facility with elevator access"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),n.jsx("span",{children:"Accessible restroom facilities available"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),n.jsx("span",{children:"Service animals are welcome"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),n.jsx("span",{children:"Special accommodations available - contact us in advance"})]})]})]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-base text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Md,{className:"w-5 h-5 text-red-500"}),"Health & Safety Protocols"]}),n.jsxs("ul",{className:"space-y-2 text-gray-700",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),n.jsx("span",{children:"Rooms sanitized and disinfected between each group"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),n.jsx("span",{children:"Emergency exits clearly marked and accessible at all times"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),n.jsx("span",{children:"Game master monitoring via live camera feed"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),n.jsx("span",{children:"First aid certified staff on-site during all operating hours"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),n.jsx("span",{children:"Climate-controlled environment for your comfort"})]})]})]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-base text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(ca,{className:"w-5 h-5",style:{color:t}}),"What to Bring & Wear"]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsxs("h4",{className:"text-sm text-green-900 mb-2 flex items-center gap-2",children:[n.jsx(Tt,{className:"w-4 h-4"}),"Recommended"]}),n.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[n.jsx("li",{children:" Comfortable casual clothing"}),n.jsx("li",{children:" Closed-toe shoes (required)"}),n.jsx("li",{children:" Enthusiasm and team spirit!"}),n.jsx("li",{children:" Your confirmation email/QR code"})]})]}),n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[n.jsxs("h4",{className:"text-sm text-red-900 mb-2 flex items-center gap-2",children:[n.jsx(ds,{className:"w-4 h-4"}),"Not Recommended"]}),n.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[n.jsx("li",{children:" Loose jewelry or accessories"}),n.jsx("li",{children:" High heels or open-toed shoes"}),n.jsx("li",{children:" Large bags (lockers provided)"}),n.jsx("li",{children:" Outside food or beverages"})]})]})]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-3 bg-blue-50 border-l-4 border-blue-500 p-3 rounded-r-lg",children:[n.jsx("strong",{className:"text-blue-900",children:"Note:"})," You may need to kneel, reach, crawl, or perform light physical activity. All puzzles can be solved through teamwork and creativity."]})]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-base text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(us,{className:"w-5 h-5 text-amber-600"}),"Important Restrictions"]}),n.jsxs("ul",{className:"space-y-2 text-gray-700",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(ds,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-red-500"}),n.jsx("span",{children:"Not suitable for individuals with severe claustrophobia"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(ds,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-red-500"}),n.jsx("span",{children:"No outside food, drinks, or smoking permitted in game rooms"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(ds,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-red-500"}),n.jsx("span",{children:"Photography/video recording not allowed inside game room (lobby photos OK)"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(ds,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-red-500"}),n.jsx("span",{children:"All participants must sign waiver (minors need parent/guardian signature)"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(ds,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-red-500"}),n.jsx("span",{children:"Pregnant individuals should consult with staff before participating"})]})]})]}),n.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-l-4 border-purple-500 p-4 rounded-r-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Kp,{className:"w-5 h-5 text-purple-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm text-purple-900 mb-1",children:"Photography Policy"}),n.jsx("p",{className:"text-sm text-gray-700",children:"Photos and videos welcome in our lobby! Inside the game room, photography is not permitted to preserve the mystery for future players. We'll take a professional victory photo for successful teams!"})]})]})})]})})]}),n.jsxs(o1,{value:"faqs",className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden","data-seo-section":"frequently-asked-questions",itemScope:!0,itemType:"https://schema.org/FAQPage",children:[n.jsx(l1,{className:"px-6 py-4 hover:bg-gray-50 transition-colors [&[data-state=open]]:bg-gray-50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-green-100",children:n.jsx(Wf,{className:"w-5 h-5 text-green-600"})}),n.jsx("span",{className:"text-lg text-gray-900",children:"Frequently Asked Questions"})]})}),n.jsx(c1,{className:"px-6 pb-6",children:n.jsxs("div",{className:"space-y-5 pt-2",children:[ie.faq.map(($e,nt)=>n.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-lg p-5 border border-gray-200",itemScope:!0,itemProp:"mainEntity",itemType:"https://schema.org/Question",children:[n.jsxs("h3",{className:"text-base text-gray-900 mb-2 flex items-start gap-2",itemProp:"name",children:[n.jsx(Wf,{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:t}}),n.jsx("span",{children:$e.question})]}),n.jsx("div",{itemScope:!0,itemProp:"acceptedAnswer",itemType:"https://schema.org/Answer",children:n.jsx("p",{className:"text-gray-700 ml-7",itemProp:"text",children:$e.answer})})]},nt)),n.jsx(tt,{className:"my-4"}),n.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-lg p-5 border border-gray-200",itemScope:!0,itemProp:"mainEntity",itemType:"https://schema.org/Question",children:[n.jsxs("h3",{className:"text-base text-gray-900 mb-2 flex items-start gap-2",itemProp:"name",children:[n.jsx(Wf,{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:t}}),n.jsx("span",{children:"Do I need to book in advance?"})]}),n.jsx("div",{itemScope:!0,itemProp:"acceptedAnswer",itemType:"https://schema.org/Answer",children:n.jsx("p",{className:"text-gray-700 ml-7",itemProp:"text",children:"Yes, advance booking is required. We recommend booking at least 2-3 days in advance, especially for weekends and evenings. Walk-ins are accepted only if we have availability."})})]}),n.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-lg p-5 border border-gray-200",itemScope:!0,itemProp:"mainEntity",itemType:"https://schema.org/Question",children:[n.jsxs("h3",{className:"text-base text-gray-900 mb-2 flex items-start gap-2",itemProp:"name",children:[n.jsx(Wf,{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:t}}),n.jsx("span",{children:"Can I change my booking date/time?"})]}),n.jsx("div",{itemScope:!0,itemProp:"acceptedAnswer",itemType:"https://schema.org/Answer",children:n.jsx("p",{className:"text-gray-700 ml-7",itemProp:"text",children:"Yes! You can reschedule your booking free of charge up to 48 hours before your scheduled time. Contact us via phone or email with your booking reference."})})]}),n.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-lg p-5 border border-gray-200",itemScope:!0,itemProp:"mainEntity",itemType:"https://schema.org/Question",children:[n.jsxs("h3",{className:"text-base text-gray-900 mb-2 flex items-start gap-2",itemProp:"name",children:[n.jsx(Wf,{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:t}}),n.jsx("span",{children:"Is this escape room scary or horror-themed?"})]}),n.jsx("div",{itemScope:!0,itemProp:"acceptedAnswer",itemType:"https://schema.org/Answer",children:n.jsx("p",{className:"text-gray-700 ml-7",itemProp:"text",children:ie.difficulty<=2?"This room has a mysterious atmosphere but is designed to be family-friendly without jump scares or intense horror elements.":"While this room has some atmospheric elements, it focuses on puzzles and mystery rather than horror. There are no actors or jump scares."})})]})]})})]}),n.jsxs(o1,{value:"cancellation",className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden","data-seo-section":"cancellation-refund-policy",children:[n.jsx(l1,{className:"px-6 py-4 hover:bg-gray-50 transition-colors [&[data-state=open]]:bg-gray-50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-orange-100",children:n.jsx(Gc,{className:"w-5 h-5 text-orange-600"})}),n.jsx("span",{className:"text-lg text-gray-900",children:"Cancellation & Refund Policy"})]})}),n.jsx(c1,{className:"px-6 pb-6",children:n.jsxs("div",{className:"space-y-6 pt-2",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-base text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Qt,{className:"w-5 h-5",style:{color:t}}),"Cancellation Timeline & Refunds"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-r-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Tt,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm text-green-900 mb-1",children:"48+ Hours Before"}),n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("strong",{children:"Free cancellation"})," - Full 100% refund to original payment method or free rescheduling to any available time slot"]})]})]})}),n.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-4 rounded-r-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(us,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm text-amber-900 mb-1",children:"24-48 Hours Before"}),n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("strong",{children:"50% refund"})," or ",n.jsx("strong",{children:"free rescheduling"})," - Your choice of partial refund or move to another available date/time"]})]})]})}),n.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ds,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm text-red-900 mb-1",children:"Less than 24 Hours"}),n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("strong",{children:"No refund"})," - However, you may reschedule ",n.jsx("strong",{children:"one time"})," for a $25 rescheduling fee (subject to availability)"]})]})]})}),n.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(rs,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm text-blue-900 mb-1",children:"No-Show Policy"}),n.jsxs("p",{className:"text-sm text-gray-700",children:["If you don't arrive for your scheduled booking and haven't contacted us, ",n.jsx("strong",{children:"no refund or rescheduling"})," will be offered. Full booking fee is forfeited."]})]})]})})]})]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-base text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Gs,{className:"w-5 h-5",style:{color:t}}),"How to Cancel or Reschedule"]}),n.jsx("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-lg p-5 border border-gray-200",children:n.jsxs("ol",{className:"space-y-3",children:[n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:`${t}15`},children:n.jsx("span",{className:"text-sm",style:{color:t},children:"1"})}),n.jsxs("div",{children:[n.jsx("strong",{className:"text-gray-900",children:"Contact Us"}),n.jsx("p",{className:"text-sm text-gray-700 mt-1",children:ke||lt?n.jsxs(n.Fragment,{children:[ke&&n.jsxs(n.Fragment,{children:["Call us at ",n.jsx("strong",{className:"text-blue-600",children:ke})]}),ke&&lt&&n.jsx(n.Fragment,{children:" or "}),lt&&n.jsxs(n.Fragment,{children:["email ",n.jsx("strong",{className:"text-blue-600",children:lt})]})]}):n.jsx(n.Fragment,{children:"Contact us to cancel or reschedule  details are in your confirmation email."})})]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:`${t}15`},children:n.jsx("span",{className:"text-sm",style:{color:t},children:"2"})}),n.jsxs("div",{children:[n.jsx("strong",{className:"text-gray-900",children:"Provide Booking Details"}),n.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Have your booking reference number, name, and scheduled date/time ready"})]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:`${t}15`},children:n.jsx("span",{className:"text-sm",style:{color:t},children:"3"})}),n.jsxs("div",{children:[n.jsx("strong",{className:"text-gray-900",children:"Choose Option"}),n.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Select to either cancel for a refund (if eligible) or reschedule to a new date/time"})]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:`${t}15`},children:n.jsx("span",{className:"text-sm",style:{color:t},children:"4"})}),n.jsxs("div",{children:[n.jsx("strong",{className:"text-gray-900",children:"Receive Confirmation"}),n.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"You'll receive email confirmation of your cancellation/refund or new booking details"})]})]})]})})]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-base text-gray-900 mb-4",children:"Important Notes"}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(rs,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-blue-600"}),n.jsx("span",{children:"Refunds are processed to the original payment method within 5-7 business days"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(rs,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-blue-600"}),n.jsx("span",{children:"Gift card purchases and promotional bookings may have different cancellation terms"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(rs,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-blue-600"}),n.jsx("span",{children:"Group bookings (10+ people) may have special cancellation policies - contact us for details"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(rs,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-blue-600"}),n.jsx("span",{children:"We reserve the right to cancel bookings due to unforeseen circumstances and will offer full refund or alternative dates"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(rs,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-blue-600"}),n.jsx("span",{children:"Weather-related closures: Full refund or free rescheduling if we must close due to severe weather"})]})]})]}),n.jsx("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 border-l-4 border-red-500 p-4 rounded-r-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Gs,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm text-red-900 mb-1",children:"Running Late or Emergency?"}),n.jsx("p",{className:"text-sm text-gray-700",children:ke?n.jsxs(n.Fragment,{children:["If you're running late or have an emergency, please call us immediately at ",n.jsx("strong",{className:"text-red-900",children:ke}),". We'll do our best to accommodate you, though we cannot guarantee your full playing time if you arrive late."]}):n.jsx(n.Fragment,{children:"If you're running late or have an emergency, please reach out to us. We'll do our best to accommodate you, though we cannot guarantee your full playing time if you arrive late."})})]})]})}),e?.cancellationPolicy&&n.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-5 border border-gray-200",children:[n.jsx("h3",{className:"text-base text-gray-900 mb-2",children:"Business Cancellation Policy"}),n.jsx("p",{className:"text-sm text-gray-700",children:e.cancellationPolicy})]})]})})]})]})]}),e?.showLocationBlock!==!1&&(qe||e?.phoneNumber||e?.emailAddress||e?.parkingInfo)&&n.jsxs("section",{"aria-labelledby":"location-heading",className:"scroll-mt-20",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:`${t}15`},children:n.jsx(El,{className:"w-5 h-5",style:{color:t}})}),n.jsx("h2",{id:"location-heading",className:"text-2xl sm:text-3xl text-gray-900",children:"Location & Directions"})]}),n.jsx("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl p-6 sm:p-8 shadow-sm border border-gray-100 space-y-4",children:n.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(El,{className:"w-5 h-5",style:{color:t}}),"Address"]}),Ee&&n.jsx("p",{className:"text-gray-700 mb-2",children:Ee}),(H||Le||Ye)&&n.jsx("p",{className:"text-gray-700 mb-2",children:[H,Le,Ye].filter(Boolean).join(", ")}),xt&&n.jsx("p",{className:"text-gray-700 mb-4",children:xt}),(e?.nearbyLandmarks||e?.landmarkInfo)&&n.jsx("p",{className:"text-sm text-gray-600",children:e.nearbyLandmarks||e.landmarkInfo}),qe&&n.jsx("p",{className:"pt-2",children:n.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(qe)}`,target:"_blank",rel:"noreferrer",className:"text-sm font-medium hover:underline",style:{color:t},children:"Get directions"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg text-gray-900 mb-3",children:"Parking & Transportation"}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e?.parkingInfo&&n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 mt-0.5 flex-shrink-0",style:{color:t}}),n.jsx("span",{children:e.parkingInfo})]}),e?.phoneNumber&&n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 mt-0.5 flex-shrink-0",style:{color:t}}),n.jsxs("span",{children:["Questions? Call us at ",e.phoneNumber]})]}),e?.emailAddress&&n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 mt-0.5 flex-shrink-0",style:{color:t}}),n.jsxs("span",{children:["Email: ",e.emailAddress]})]}),!(e?.parkingInfo||e?.phoneNumber||e?.emailAddress)&&n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(rs,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-gray-500"}),n.jsx("span",{children:"Parking and transport details will be shared upon booking."})]})]})]})]})})]}),n.jsxs("section",{"aria-labelledby":"included-heading",className:"scroll-mt-20",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-green-100",children:n.jsx(Tt,{className:"w-5 h-5 text-green-600"})}),n.jsx("h2",{id:"included-heading",className:"text-2xl sm:text-3xl text-gray-900",children:"What's Included"})]}),n.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:["Professional game master guidance throughout","Private escape room for your group only","All puzzles, clues, and props included","Pre-game briefing and safety orientation","Victory photo opportunity after escape","Complimentary water and refreshments","Climate-controlled comfortable environment","Free Wi-Fi in lobby and waiting area"].map(($e,nt)=>n.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white rounded-lg border border-gray-200",children:[n.jsx(Tt,{className:"w-5 h-5 flex-shrink-0 mt-0.5 text-green-600"}),n.jsx("span",{className:"text-gray-700",children:$e})]},nt))})]}),n.jsxs("section",{"aria-labelledby":"policy-heading",className:"scroll-mt-20",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-orange-100",children:n.jsx($s,{className:"w-5 h-5 text-orange-600"})}),n.jsx("h2",{id:"policy-heading",className:"text-2xl sm:text-3xl text-gray-900",children:"Booking & Cancellation Policy"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl p-6 sm:p-8 shadow-sm border border-gray-100 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(Qt,{className:"w-5 h-5",style:{color:t}}),"Cancellation & Rescheduling"]}),n.jsxs("ul",{className:"space-y-3 text-gray-700",children:[n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:`${t}15`},children:n.jsx("span",{className:"text-sm",style:{color:t},children:"1"})}),n.jsxs("div",{children:[n.jsx("strong",{className:"text-gray-900",children:"Free cancellation:"})," Cancel or reschedule up to 48 hours before your booking for a full refund"]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:`${t}15`},children:n.jsx("span",{className:"text-sm",style:{color:t},children:"2"})}),n.jsxs("div",{children:[n.jsx("strong",{className:"text-gray-900",children:"24-48 hours notice:"})," 50% refund or free rescheduling to another available time"]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:`${t}15`},children:n.jsx("span",{className:"text-sm",style:{color:t},children:"3"})}),n.jsxs("div",{children:[n.jsx("strong",{className:"text-gray-900",children:"Less than 24 hours:"})," No refund, but you can reschedule once for a $25 fee"]})]})]})]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg text-gray-900 mb-3",children:"Late Arrival Policy"}),n.jsx("p",{className:"text-gray-700 mb-3",children:"Please arrive 15 minutes before your scheduled time for check-in and briefing."}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 ml-5 list-disc",children:[n.jsx("li",{children:"Arriving late may reduce your playing time (game still ends at scheduled time)"}),n.jsx("li",{children:"If you're more than 15 minutes late, we may need to reschedule your booking"}),n.jsx("li",{children:"No refunds for time lost due to late arrival"}),n.jsx("li",{children:ke?n.jsxs(n.Fragment,{children:["Please call us if you're running late: ",ke]}):n.jsx(n.Fragment,{children:"Please contact us if you're running late."})})]})]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg text-gray-900 mb-3",children:"Group Booking Policy"}),n.jsxs("ul",{className:"space-y-2 text-gray-700",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-5 h-5 mt-0.5 flex-shrink-0",style:{color:t}}),n.jsxs("span",{children:["Minimum of ",ie.players.split("-")[0]," players required"]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-5 h-5 mt-0.5 flex-shrink-0",style:{color:t}}),n.jsx("span",{children:"You can add or remove players up to 24 hours before your booking"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-5 h-5 mt-0.5 flex-shrink-0",style:{color:t}}),n.jsx("span",{children:"Private room guaranteed - you won't be grouped with strangers"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-5 h-5 mt-0.5 flex-shrink-0",style:{color:t}}),n.jsx("span",{children:"Corporate and team building discounts available for groups of 10+"})]})]})]}),e?.cancellationPolicy&&n.jsxs("div",{className:"mt-4 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[n.jsx("h4",{className:"text-sm text-gray-900 mb-1",children:"Business Cancellation Policy"}),n.jsx("p",{className:"text-sm text-gray-700",children:e.cancellationPolicy})]})]})]}),n.jsxs("section",{"aria-labelledby":"safety-heading",className:"scroll-mt-20",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-blue-100",children:n.jsx(Xn,{className:"w-5 h-5 text-blue-600"})}),n.jsx("h2",{id:"safety-heading",className:"text-2xl sm:text-3xl text-gray-900",children:"Safety & Accessibility"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl p-6 sm:p-8 shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"grid sm:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg text-gray-900 mb-3",children:"Health & Safety"}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),n.jsx("span",{children:"Regular sanitization between games"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),n.jsx("span",{children:"Emergency exit available at all times"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),n.jsx("span",{children:"Game master monitoring via camera"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),n.jsx("span",{children:"First aid trained staff on-site"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg text-gray-900 mb-3",children:"Accessibility"}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),n.jsx("span",{children:"Wheelchair accessible facility"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),n.jsx("span",{children:"Elevator access to all floors"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),n.jsx("span",{children:"Accessible restrooms available"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-green-600"}),n.jsx("span",{children:"Service animals welcome"})]})]})]})]}),n.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg",children:n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("strong",{className:"text-blue-900",children:"Note:"})," If you have specific accessibility needs or health concerns, please contact us before booking at (555) 123-4567 so we can ensure the best experience for your group."]})})]})]}),n.jsxs("section",{"aria-labelledby":"additional-heading",className:"scroll-mt-20",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:`${t}15`},children:n.jsx(rs,{className:"w-5 h-5",style:{color:t}})}),n.jsx("h2",{id:"additional-heading",className:"text-2xl sm:text-3xl text-gray-900",children:"Good to Know"})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200",children:[n.jsxs("h3",{className:"text-base text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(Kp,{className:"w-5 h-5",style:{color:t}}),"Photography Policy"]}),n.jsx("p",{className:"text-sm text-gray-700",children:"Photos and videos are allowed in the lobby area. Inside the game room, photography is not permitted to preserve the experience for future players. We'll take a victory photo for you after completion!"})]}),n.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200",children:[n.jsxs("h3",{className:"text-base text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(ca,{className:"w-5 h-5",style:{color:t}}),"What to Wear"]}),n.jsx("p",{className:"text-sm text-gray-700",children:"Comfortable casual clothing recommended. Closed-toe shoes required. You may need to kneel, reach, or crawl. Avoid loose jewelry that could get caught. Temperature controlled environment."})]}),n.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200",children:[n.jsxs("h3",{className:"text-base text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(Ua,{className:"w-5 h-5",style:{color:t}}),"What to Bring"]}),n.jsx("p",{className:"text-sm text-gray-700",children:"Just bring yourself and your team! All puzzles and clues are provided. Lockers available for personal belongings. We recommend leaving valuables at home or in your vehicle."})]}),n.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200",children:[n.jsxs("h3",{className:"text-base text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(Wr,{className:"w-5 h-5",style:{color:t}}),"Age Restrictions"]}),n.jsxs("p",{className:"text-sm text-gray-700",children:["Recommended for ages ",ie.ageRecommendation,". Children under 16 must be accompanied by an adult. All participants must sign a waiver (parents/guardians sign for minors)."]})]})]})]}),n.jsxs("section",{"aria-labelledby":"details-heading",className:"scroll-mt-20",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:`${t}15`},children:n.jsx(Dh,{className:"w-5 h-5",style:{color:t}})}),n.jsx("h2",{id:"details-heading",className:"text-2xl sm:text-3xl text-gray-900",children:"Key Details"})]}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[n.jsxs("div",{className:"group text-center p-4 sm:p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 border border-blue-200",children:[n.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 mx-auto mb-3 rounded-full bg-white flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:n.jsx(Qt,{className:"w-6 h-6 sm:w-7 sm:h-7 text-blue-600"})}),n.jsx("div",{className:"text-xs sm:text-sm text-blue-700 mb-1",children:"Duration"}),n.jsx("div",{className:"text-base sm:text-lg text-blue-900",children:ie.duration})]}),n.jsxs("div",{className:"group text-center p-4 sm:p-6 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 border border-purple-200",children:[n.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 mx-auto mb-3 rounded-full bg-white flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:n.jsx(Wr,{className:"w-6 h-6 sm:w-7 sm:h-7 text-purple-600"})}),n.jsx("div",{className:"text-xs sm:text-sm text-purple-700 mb-1",children:"Group Size"}),n.jsx("div",{className:"text-base sm:text-lg text-purple-900",children:ie.players})]}),n.jsxs("div",{className:"group text-center p-4 sm:p-6 bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 border border-orange-200",children:[n.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 mx-auto mb-3 rounded-full bg-white flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:n.jsx(Gf,{className:"w-6 h-6 sm:w-7 sm:h-7 text-orange-600"})}),n.jsx("div",{className:"text-xs sm:text-sm text-orange-700 mb-1",children:"Difficulty"}),n.jsx("div",{className:"text-base sm:text-lg text-orange-900 mb-2",children:ie.difficulty}),n.jsx("div",{className:"flex justify-center",children:an(ie.difficultyLevel)})]}),n.jsxs("div",{className:"group text-center p-4 sm:p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 border border-green-200",children:[n.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 mx-auto mb-3 rounded-full bg-white flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:n.jsx(Xn,{className:"w-6 h-6 sm:w-7 sm:h-7 text-green-600"})}),n.jsx("div",{className:"text-xs sm:text-sm text-green-700 mb-1",children:"Min Age"}),n.jsx("div",{className:"text-base sm:text-lg text-green-900",children:ie.ageRecommendation})]})]})]}),n.jsx("section",{"aria-labelledby":"story-heading",className:"scroll-mt-20",children:n.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white p-6 sm:p-8 lg:p-10 rounded-2xl shadow-2xl",children:[n.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-purple-500/10 rounded-full blur-3xl"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center",children:n.jsx(Au,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{id:"story-heading",className:"text-2xl sm:text-3xl",children:"The Story"})]}),n.jsx("p",{className:"text-base sm:text-lg leading-relaxed text-gray-200",children:ie.story})]})]})}),n.jsxs("section",{"aria-labelledby":"expect-heading",className:"scroll-mt-20",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:`${t}15`},children:n.jsx(Gd,{className:"w-5 h-5",style:{color:t}})}),n.jsx("h2",{id:"expect-heading",className:"text-2xl sm:text-3xl text-gray-900",children:"What to Expect"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:ie.whatToExpect.map(($e,nt)=>n.jsxs("div",{className:"group flex items-start gap-3 p-4 sm:p-5 bg-gradient-to-br from-white to-gray-50 rounded-xl border border-gray-200 hover:border-green-300 hover:shadow-lg transition-all duration-300",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:n.jsx(Tt,{className:"w-4 h-4 text-green-600"})}),n.jsx("span",{className:"text-sm sm:text-base text-gray-700 leading-relaxed",children:$e})]},nt))})]}),n.jsxs("section",{"aria-labelledby":"highlights-heading",className:"scroll-mt-20",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:`${t}15`},children:n.jsx(Md,{className:"w-5 h-5",style:{color:t}})}),n.jsx("h2",{id:"highlights-heading",className:"text-2xl sm:text-3xl text-gray-900",children:"Experience Highlights"})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:ie.highlights.map(($e,nt)=>n.jsxs("div",{className:"group relative overflow-hidden text-center p-4 sm:p-5 bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 rounded-xl border border-blue-200 hover:border-purple-300 hover:shadow-lg transition-all duration-300",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/0 to-purple-400/0 group-hover:from-blue-400/5 group-hover:to-purple-400/5 transition-all duration-300"}),n.jsx(ma,{className:"w-5 h-5 mx-auto mb-2 text-purple-500 opacity-50 group-hover:opacity-100 transition-opacity"}),n.jsx("div",{className:"relative text-sm sm:text-base text-gray-900",children:$e})]},nt))})]}),n.jsxs("section",{"aria-labelledby":"requirements-heading",className:"scroll-mt-20",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-amber-100",children:n.jsx(Xn,{className:"w-5 h-5 text-amber-600"})}),n.jsx("h2",{id:"requirements-heading",className:"text-2xl sm:text-3xl text-gray-900",children:"Requirements & Guidelines"})]}),n.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-5 sm:p-7 shadow-sm",children:n.jsx("ul",{className:"space-y-3",children:ie.requirements.map(($e,nt)=>n.jsxs("li",{className:"flex items-start gap-3 text-sm sm:text-base text-gray-700",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-amber-100 flex items-center justify-center flex-shrink-0 mt-0.5",children:n.jsx(rs,{className:"w-4 h-4 text-amber-600"})}),n.jsx("span",{className:"leading-relaxed",children:$e})]},nt))})})]}),n.jsxs("section",{"aria-labelledby":"tips-heading",className:"scroll-mt-20",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-green-100",children:n.jsx(Is,{className:"w-5 h-5 text-green-600"})}),n.jsx("h2",{id:"tips-heading",className:"text-2xl sm:text-3xl text-gray-900",children:"Tips for Success"})]}),n.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 rounded-xl p-5 sm:p-7 shadow-sm",children:n.jsx("ul",{className:"space-y-4",children:ie.successTips.map(($e,nt)=>n.jsxs("li",{className:"flex items-start gap-4 text-sm sm:text-base text-gray-700",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 text-white flex items-center justify-center shadow-md",children:nt+1}),n.jsx("span",{className:"leading-relaxed pt-1",children:$e})]},nt))})})]}),n.jsxs("section",{"aria-labelledby":"reviews-heading",className:"scroll-mt-20",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-yellow-100",children:n.jsx(yn,{className:"w-5 h-5 fill-yellow-500 text-yellow-500"})}),n.jsx("h2",{id:"reviews-heading",className:"text-2xl sm:text-3xl text-gray-900",children:"Customer Reviews"})]}),n.jsx("div",{className:"space-y-4 sm:space-y-5",children:ie.reviews.map(($e,nt)=>n.jsxs("div",{className:"group bg-white p-5 sm:p-7 rounded-xl border border-gray-200 shadow-sm hover:shadow-xl transition-all duration-300 hover:border-gray-300",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white shadow-md",children:n.jsx("span",{className:"text-lg",children:$e.name.charAt(0)})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-base sm:text-lg text-gray-900",children:$e.name}),n.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:$e.date})]})]}),n.jsx("div",{className:"flex items-center gap-1 bg-yellow-50 px-3 py-1.5 rounded-full border border-yellow-200",children:Array.from({length:$e.rating}).map((sr,dr)=>n.jsx(yn,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},dr))})]}),n.jsxs("p",{className:"text-sm sm:text-base text-gray-700 leading-relaxed italic",children:['"',$e.comment,'"']})]},nt))})]}),n.jsxs("section",{"aria-labelledby":"faq-heading",className:"scroll-mt-20",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:`${t}15`},children:n.jsx(Wf,{className:"w-5 h-5",style:{color:t}})}),n.jsx("h2",{id:"faq-heading",className:"text-2xl sm:text-3xl text-gray-900",children:"Frequently Asked Questions"})]}),n.jsx("div",{className:"space-y-3 sm:space-y-4",children:ie.faq.map(($e,nt)=>n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-all duration-300",children:[n.jsxs("button",{onClick:()=>b(v===nt?null:nt),className:"w-full p-4 sm:p-5 flex items-center justify-between text-left hover:bg-gray-50 transition-colors group",children:[n.jsx("span",{className:"text-sm sm:text-base text-gray-900 pr-4 group-hover:text-blue-600 transition-colors",children:$e.question}),n.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300",style:{backgroundColor:v===nt?`${t}15`:"transparent"},children:v===nt?n.jsx(dW,{className:"w-5 h-5 transition-transform duration-300",style:{color:t}}):n.jsx(Dd,{className:"w-5 h-5 text-gray-400 group-hover:text-gray-600 transition-colors"})})]}),v===nt&&n.jsx("div",{className:"px-4 sm:px-5 pb-4 sm:pb-5 text-sm sm:text-base text-gray-600 leading-relaxed animate-in slide-in-from-top-2 duration-200",children:n.jsx("div",{className:"pt-3 border-t border-gray-100",children:$e.answer})})]},nt))})]}),n.jsx("section",{"aria-labelledby":"pricing-heading",className:"scroll-mt-20",children:n.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 text-white p-8 sm:p-12 rounded-2xl shadow-2xl text-center",children:[n.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-white/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"}),n.jsxs("div",{className:"relative z-10",children:[n.jsx(ma,{className:"w-12 h-12 mx-auto mb-4 text-yellow-300"}),n.jsx("h2",{id:"pricing-heading",className:"text-2xl sm:text-3xl lg:text-4xl mb-3",children:"Ready for the Adventure?"}),n.jsx("p",{className:"text-base sm:text-lg text-blue-100 mb-6",children:"Book your escape room experience today"}),n.jsxs("div",{className:"inline-block bg-white/20 backdrop-blur-sm rounded-2xl px-8 py-4 mb-8",children:[n.jsx("div",{className:"text-sm text-blue-100 mb-1",children:"Starting from"}),n.jsxs("div",{className:"text-5xl sm:text-6xl lg:text-7xl mb-1",children:["$",ie.price]}),n.jsx("div",{className:"text-lg sm:text-xl text-blue-100",children:"per person"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsxs(J,{onClick:()=>h(!1),size:"lg",className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-6 text-lg shadow-xl hover:shadow-2xl hover:scale-105 transition-all",children:[n.jsx(Ua,{className:"w-5 h-5 mr-2"}),"Book Now"]}),n.jsxs(J,{onClick:()=>h(!1),size:"lg",variant:"outline",className:"bg-white/10 backdrop-blur-sm text-white border-white/30 hover:bg-white/20 px-8 py-6 text-lg",children:[n.jsx(rs,{className:"w-5 h-5 mr-2"}),"View Calendar"]})]})]})]})})]})]})})]})}),y==="booking"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"relative h-[250px] sm:h-[350px] lg:h-[450px] bg-gray-900 overflow-hidden",children:[n.jsx(Fn,{src:ie.image,alt:`${ie.name} escape room experience`,className:"w-full h-full object-cover opacity-70"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 sm:p-8 lg:p-12 text-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl mb-3 sm:mb-4",children:ie.name}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 lg:gap-6 text-sm sm:text-base lg:text-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-full",children:[n.jsx(Qt,{className:"w-4 h-4 sm:w-5 sm:h-5"}),n.jsx("span",{children:ie.duration})]}),n.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-full",children:[n.jsx(Wr,{className:"w-4 h-4 sm:w-5 sm:h-5"}),n.jsx("span",{children:ie.players})]}),n.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-full",children:[n.jsx(Gf,{className:"w-4 h-4 sm:w-5 sm:h-5"}),n.jsxs("span",{children:["Age ",ie.ageRecommendation]})]}),n.jsx(ze,{className:`${er(ie.difficulty)} border-0 text-sm sm:text-base px-3 py-1.5`,children:ie.difficulty})]})]})})]}),n.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[n.jsxs("div",{className:"mb-6 sm:mb-8",children:[n.jsx("h2",{className:"text-xl sm:text-2xl text-gray-900 mb-4 sm:mb-6",children:"Choose Your Adventure"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:ne.map($e=>n.jsxs("div",{onClick:()=>l($e.id),className:`group rounded-2xl border-2 overflow-hidden transition-all duration-300 hover:shadow-xl cursor-pointer bg-white ${o===$e.id?"shadow-xl border-blue-600":"border-gray-200 hover:border-gray-300"}`,children:[n.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[n.jsx(ze,{className:`absolute top-3 left-3 ${er($e.difficulty)} border-0 shadow-md z-10`,children:$e.difficulty}),n.jsx(Fn,{src:$e.image,alt:`${$e.name} escape room`,className:"w-full h-full object-cover"})]}),n.jsxs("div",{className:"p-5",children:[n.jsx("h3",{className:"text-lg text-gray-900 mb-2",children:$e.name}),n.jsxs("div",{className:"flex items-center gap-1 mb-4 text-sm",children:[n.jsx(yn,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),n.jsx("span",{className:"text-gray-900",children:$e.rating}),n.jsxs("span",{className:"text-gray-500",children:["(",$e.reviewCount,")"]})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:"w-4 h-4"}),n.jsx("span",{children:$e.duration})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wr,{className:"w-4 h-4"}),n.jsx("span",{children:$e.players})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(Gf,{className:"w-4 h-4"}),n.jsxs("span",{children:["Age ",$e.ageRecommendation]})]}),n.jsx("div",{className:"flex items-center gap-1",children:an($e.difficultyLevel)})]})]}),n.jsxs("div",{className:"flex items-center justify-between gap-3 pt-4 border-t border-gray-100",children:[n.jsxs("div",{className:"text-xl text-blue-600",children:["$",$e.price,n.jsx("span",{className:"text-sm text-gray-500",children:"/person"})]}),n.jsxs(J,{onClick:nt=>{nt.stopPropagation(),l($e.id),h(!0)},variant:"outline",size:"sm",className:"text-sm whitespace-nowrap border-blue-600 text-blue-600 hover:bg-blue-50",children:[n.jsx(rs,{className:"w-4 h-4 mr-1"}),"See Details"]})]})]})]},$e.id))})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[n.jsxs(ve,{className:"p-6 sm:p-8 bg-white shadow-sm border border-gray-200 rounded-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6 gap-2",children:[n.jsx("h2",{className:"text-lg sm:text-xl text-gray-900",children:"Select Date"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(J,{variant:"outline",size:"icon",className:"h-10 w-10 rounded-lg border-gray-300 hover:bg-gray-50",onClick:()=>{pe===0?(ae(11),we(be-1)):ae(pe-1)},children:n.jsx(qn,{className:"w-4 h-4"})}),n.jsx("span",{className:"text-sm sm:text-base text-gray-900 px-2 whitespace-nowrap min-w-[140px] text-center",children:new Date(be,pe).toLocaleDateString("en-US",{month:"long",year:"numeric"})}),n.jsx(J,{variant:"outline",size:"icon",className:"h-10 w-10 rounded-lg border-gray-300 hover:bg-gray-50",onClick:()=>{pe===11?(ae(0),we(be+1)):ae(pe+1)},children:n.jsx(Ds,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"grid grid-cols-7 gap-2 sm:gap-3",children:[ce.map($e=>n.jsx("div",{className:"text-center text-sm text-gray-600 py-2",children:$e},$e)),Array.from({length:new Date(be,pe+1,0).getDate()}).map(($e,nt)=>{const sr=nt+1,dr=new Date(be,pe,sr),Rr=r===sr,Jt=new Date,_t=dr.toDateString()===Jt.toDateString(),Lr=dr<new Date(Jt.getFullYear(),Jt.getMonth(),Jt.getDate()),Ze=e?.blockedDates||[],Ae=e?.customAvailableDates||[],wt=Gte(dr,Ze),He=Kte(dr,ie?.operatingDays,Ae);$O(dr,Ae);const jt=!Lr&&!wt&&He;return n.jsxs("button",{onClick:()=>jt&&s(sr),disabled:!jt,className:`
                            aspect-square rounded-xl text-base transition-all flex items-center justify-center relative
                            ${_t&&!Rr?"text-white shadow-md":Rr?"text-gray-900 border-2 shadow-sm bg-white hover:bg-gray-50":jt?"text-gray-700 hover:bg-gray-50 border border-green-300 bg-green-50":"text-gray-400 cursor-not-allowed border border-red-200 bg-red-50 opacity-60"}
                          `,style:{backgroundColor:_t&&!Rr?t:Rr?void 0:jt?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",borderColor:Rr?t:jt?"rgba(34, 197, 94, 0.3)":"rgba(239, 68, 68, 0.3)"},title:jt?"Available":wt?"Date blocked by admin":He?"Past date":"Not operating on this day",children:[sr,jt&&!Rr&&!_t&&n.jsx("span",{className:"absolute bottom-1 w-1 h-1 rounded-full bg-green-500"}),!jt&&!Lr&&n.jsx("span",{className:"absolute bottom-1 w-1 h-1 rounded-full bg-red-500"})]},nt)})]}),n.jsxs("div",{className:"mt-4 flex items-center justify-center gap-4 text-xs text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"}),n.jsx("span",{children:"Available"})]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:"w-3 h-3 rounded-full bg-red-500"}),n.jsx("span",{children:"Blocked/Unavailable"})]})]})]}),r&&n.jsxs(ve,{className:"p-6 sm:p-8 bg-white shadow-sm border border-gray-200 rounded-2xl",children:[n.jsxs("h2",{className:"text-lg sm:text-xl text-gray-900 mb-1 sm:mb-2",children:["Available Times - ",new Date(be,pe,r).toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),n.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Timezone: ",q]}),Ie.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 mb-4",children:n.jsx(In,{className:"w-8 h-8 text-red-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Available Times"}),n.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"This date is not available for booking. It may be blocked by the admin or outside operating hours. Please select another date."})]}):n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4",children:Ie.map($e=>n.jsxs("button",{onClick:()=>$e.available&&i($e.time),disabled:!$e.available,className:`
                            p-4 sm:p-5 rounded-xl border-2 text-center transition-all
                            ${a===$e.time?"shadow-lg transform scale-105":$e.available?"border-gray-200 hover:border-gray-300 hover:shadow-md hover:scale-102":"border-gray-100 cursor-not-allowed opacity-50"}
                          `,style:{backgroundColor:a===$e.time?t:void 0,borderColor:a===$e.time?t:void 0},children:[n.jsx("div",{className:`text-sm sm:text-base mb-2 ${a===$e.time?"text-white":$e.available?"text-gray-900":"text-gray-400"}`,children:$e.time}),n.jsx("div",{className:`text-xs flex items-center justify-center gap-1 ${a===$e.time?"text-white/90":$e.available?"text-green-600":"text-red-500"}`,children:$e.available?n.jsxs(n.Fragment,{children:[n.jsx(Wr,{className:"w-3 h-3"}),n.jsxs("span",{children:[$e.spots," spots"]})]}):n.jsx("span",{children:"Sold out"})}),n.jsxs("div",{className:`mt-2 text-[11px] ${a===$e.time?"text-white/80":"text-gray-500"}`,children:["Duration: ",z," min"]})]},$e.time))})]})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsx("div",{className:"lg:sticky lg:top-4",children:n.jsx(ve,{className:"p-6 sm:p-8 bg-gradient-to-br from-white to-gray-50 shadow-2xl border-2 rounded-2xl max-h-[calc(100vh-2rem)] overflow-y-auto",style:{borderColor:`${t}20`},children:n.jsxs("div",{className:"space-y-6 pb-20 sm:pb-6",children:[n.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b-2",style:{borderColor:`${t}20`},children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:`${t}15`},children:n.jsx(Ua,{className:"w-5 h-5",style:{color:t}})}),n.jsx("h2",{className:"text-xl text-gray-900",children:"Your Booking"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:[n.jsxs("label",{className:"text-sm text-gray-700 mb-3 flex items-center gap-2",children:[n.jsx(Wr,{className:"w-4 h-4",style:{color:t}}),n.jsx("span",{className:"",children:"Number of Players"})]}),n.jsxs("div",{className:"flex items-center justify-between gap-4 mt-3",children:[n.jsx(J,{variant:"outline",size:"icon",onClick:()=>d(Math.max(2,c-1)),className:"h-12 w-12 rounded-full hover:scale-110 transition-transform",style:{borderColor:t,color:t},children:"-"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl text-gray-900",style:{color:t},children:c}),n.jsx("div",{className:"text-xs text-gray-500",children:"players"})]}),n.jsx(J,{variant:"outline",size:"icon",onClick:()=>d(Math.min(10,c+1)),className:"h-12 w-12 rounded-full hover:scale-110 transition-transform",style:{borderColor:t,color:t},children:"+"})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-600 flex items-center gap-2",children:[n.jsx(Dh,{className:"w-4 h-4",style:{color:t}}),"Game"]}),n.jsx("span",{className:"text-gray-900 text-right truncate max-w-[55%]",children:ie.name})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-600 flex items-center gap-2",children:[n.jsx(Nn,{className:"w-4 h-4",style:{color:t}}),"Date"]}),n.jsxs("span",{className:"text-gray-900",children:["Nov ",r,", 2025"]})]}),a&&n.jsxs(n.Fragment,{children:[n.jsx(tt,{}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-600 flex items-center gap-2",children:[n.jsx(Qt,{className:"w-4 h-4",style:{color:t}}),"Time"]}),n.jsx("span",{className:"text-gray-900",children:a})]})]})]})}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-5 border-2",style:{borderColor:`${t}30`},children:[n.jsxs("div",{className:"flex justify-between mb-3 text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal"}),n.jsxs("span",{className:"text-gray-900",children:["$",ie.price,"  ",c]})]}),n.jsx(tt,{className:"my-3"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-base text-gray-900",children:"Total"}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-3xl",style:{color:t},children:["$",Dt]}),n.jsx("div",{className:"text-xs text-gray-500",children:"USD"})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(J,{onClick:()=>h(!0),variant:"outline",className:"w-full h-12 text-base border-2 hover:bg-gray-50",style:{borderColor:`${t}30`,color:t},children:[n.jsx(rs,{className:"w-4 h-4 mr-2"}),"See Full Details"]}),n.jsxs(J,{onClick:()=>g("cart"),disabled:!$r,className:"w-full text-white h-14 text-lg shadow-xl hover:shadow-2xl transform hover:scale-[1.02] transition-all relative overflow-hidden group",style:{backgroundColor:$r?t:void 0,opacity:$r?1:.5},children:[n.jsx("div",{className:"absolute inset-0 bg-white/20 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),n.jsx(Ua,{className:"w-5 h-5 mr-2 relative z-10"}),n.jsx("span",{className:"relative z-10",children:a?"Continue to Cart":"Select Time to Continue"})]}),!a&&n.jsx("p",{className:"text-xs text-center text-gray-500 mt-2",children:"Please select a time slot to continue"})]})]})})})})]})]})]}),y==="cart"&&n.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-8",children:[n.jsxs(J,{onClick:()=>g("booking"),variant:"outline",className:"mb-6",children:[n.jsx(qn,{className:"w-4 h-4 mr-2"}),"Back to Booking"]}),n.jsxs(ve,{className:"p-4 md:p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(Ua,{className:"w-6 h-6",style:{color:t}}),n.jsx("h2",{className:"text-gray-900",children:"Your Cart"})]}),n.jsx("div",{className:"space-y-4 mb-6",children:n.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"w-24 h-24 flex-shrink-0 rounded-lg overflow-hidden",children:n.jsx(Fn,{src:ie.image,alt:ie.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-gray-900 mb-2",children:ie.name}),n.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[n.jsxs("div",{children:["Date: Nov ",r,", 2025 at ",a]}),n.jsxs("div",{children:["Players: ",c,"  $",ie.price]})]})]}),n.jsxs("div",{className:"text-gray-900",style:{color:t},children:["$",Dt]})]})}),n.jsx(tt,{className:"my-6"}),(Z||X)&&n.jsxs("div",{className:"mb-6 space-y-4",children:[Z&&n.jsxs("div",{children:[!O&&!I&&n.jsx("button",{onClick:()=>$(!0),className:"text-sm md:text-base hover:underline",style:{color:t},children:"Add promo code"}),I&&!O&&n.jsx(Vu,{onApply:Ve,className:"mb-4"}),O&&n.jsx(Vu,{onApply:Ve,onRemove:Ke,appliedCode:O.code,appliedDiscount:O.discount,appliedType:O.type,className:"mb-4"})]}),X&&n.jsxs("div",{children:[!W&&!M&&n.jsx("button",{onClick:()=>R(!0),className:"text-sm md:text-base hover:underline",style:{color:t},children:"Apply gift card"}),M&&!W&&n.jsx(Wu,{onApply:yt,className:"mb-4"}),W&&n.jsx(Wu,{onApply:yt,onRemove:Mt,appliedCode:W.code,appliedAmount:W.amount,className:"mb-4"})]})]}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal"}),n.jsxs("span",{className:"text-gray-900",children:["$",Gt()]})]}),O&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-green-600",children:["Promo Code (",O.code,")"]}),n.jsxs("span",{className:"text-green-600",children:["-$",qt().toFixed(2)]})]}),W&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-green-600",children:["Gift Card (",W.code,")"]}),n.jsxs("span",{className:"text-green-600",children:["-$",At().toFixed(2)]})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("span",{className:"text-gray-900",children:"Total"}),n.jsxs("span",{className:"text-2xl text-gray-900",style:{color:t},children:["$",Dt.toFixed(2)]})]})]}),n.jsx(J,{onClick:()=>g("checkout"),className:"w-full text-white h-12",style:{backgroundColor:t},children:"Proceed to Checkout"})]})]}),y==="checkout"&&n.jsxs("div",{className:"max-w-6xl mx-auto p-3 sm:p-4 md:p-8",children:[n.jsxs(J,{onClick:()=>g("cart"),variant:"outline",className:"mb-4 sm:mb-6 min-h-[44px] px-4",children:[n.jsx(qn,{className:"w-4 h-4 mr-2"}),"Back to Cart"]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 md:gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[n.jsxs(ve,{className:"p-3 sm:p-4 md:p-6 bg-white border border-gray-200 shadow-sm",children:[n.jsx("h2",{className:"text-gray-900 mb-4 sm:mb-6 text-lg sm:text-xl",children:"Contact Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(re,{htmlFor:"name",className:"text-gray-700",children:"Full Name"}),n.jsxs("div",{className:"relative mt-2",children:[n.jsx(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx(ge,{id:"name",type:"text",placeholder:"John Doe",value:w.name,onChange:$e=>N({...w,name:$e.target.value}),className:"pl-10 h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"email",className:"text-gray-700",children:"Email"}),n.jsxs("div",{className:"relative mt-2",children:[n.jsx(Gn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx(ge,{id:"email",type:"email",placeholder:"john@example.com",value:w.email,onChange:$e=>N({...w,email:$e.target.value}),className:"pl-10 h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"phone",className:"text-gray-700",children:"Phone Number"}),n.jsxs("div",{className:"relative mt-2",children:[n.jsx(Gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx(ge,{id:"phone",type:"tel",placeholder:"(555) 123-4567",value:w.phone,onChange:$e=>N({...w,phone:$e.target.value}),className:"pl-10 h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]})]})]})]}),n.jsxs(ve,{className:"p-3 sm:p-4 md:p-6 bg-white border border-gray-200 shadow-sm",children:[n.jsx("h2",{className:"text-gray-900 mb-4 sm:mb-6 text-lg sm:text-xl",children:"Payment Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(re,{htmlFor:"cardName",className:"text-gray-700",children:"Name on Card"}),n.jsx(ge,{id:"cardName",type:"text",placeholder:"John Doe",value:w.cardName,onChange:$e=>N({...w,cardName:$e.target.value}),className:"h-12 mt-2 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"cardNumber",className:"text-gray-700",children:"Card Number"}),n.jsxs("div",{className:"relative mt-2",children:[n.jsx(fa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx(ge,{id:"cardNumber",type:"text",placeholder:"1234 5678 9012 3456",value:w.cardNumber,onChange:$e=>N({...w,cardNumber:$e.target.value}),maxLength:19,className:"pl-10 h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(re,{htmlFor:"expiry",className:"text-gray-700",children:"Expiry Date"}),n.jsx(ge,{id:"expiry",type:"text",placeholder:"MM/YY",value:w.cardExpiry,onChange:$e=>N({...w,cardExpiry:$e.target.value}),maxLength:5,className:"h-12 mt-2 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"cvv",className:"text-gray-700",children:"CVV"}),n.jsx(ge,{id:"cvv",type:"text",placeholder:"123",value:w.cardCVV,onChange:$e=>N({...w,cardCVV:$e.target.value}),maxLength:4,className:"h-12 mt-2 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-gray-700 flex items-start gap-2 mt-6",children:[n.jsx(da,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),n.jsx("p",{children:"Your payment information is encrypted and secure"})]})]})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs(ve,{className:"p-3 sm:p-4 md:p-6 bg-white border border-gray-200 shadow-sm",children:[n.jsx("h3",{className:"text-gray-900 mb-4 text-lg sm:text-xl",children:"Order Summary"}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Game:"}),n.jsx("span",{className:"text-gray-900",children:ie.name})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Date:"}),n.jsxs("span",{className:"text-gray-900",children:["Nov ",r,", 2025"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Time:"}),n.jsx("span",{className:"text-gray-900",children:a})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Players:"}),n.jsx("span",{className:"text-gray-900",children:c})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("span",{className:"text-gray-900",children:"Total"}),n.jsxs("span",{className:"text-2xl text-gray-900",style:{color:t},children:["$",Dt]})]})]}),n.jsxs(J,{onClick:bt,disabled:!Or,className:"w-full text-white min-h-[44px] h-12 sm:h-14 text-sm sm:text-base",style:{backgroundColor:Or?t:void 0},children:[n.jsx(fa,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Complete Payment $",Dt]})]})})]})]}),y==="success"&&n.jsx("div",{className:"max-w-4xl mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 md:py-12",children:[n.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-6",style:{backgroundColor:`${t}15`},children:n.jsx(Tt,{className:"w-12 h-12",style:{color:t}})}),n.jsx("h2",{className:"text-3xl text-gray-900 mb-2 text-center",children:"Booking Confirmed!"}),n.jsx("p",{className:"text-gray-600 mb-8 text-center",children:"Your escape room adventure is all set"}),n.jsx(ve,{className:"w-full p-4 md:p-6 mb-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Booking Number"}),n.jsx("span",{className:"text-gray-900",children:E||Nt})]}),n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Game"}),n.jsx("span",{className:"text-gray-900",children:ie.name})]}),n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Date & Time"}),n.jsxs("span",{className:"text-gray-900",children:["Nov ",r,", 2025 at ",a]})]}),n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Players"}),n.jsxs("span",{className:"text-gray-900",children:[c," people"]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("span",{className:"text-gray-900",children:"Total Paid"}),n.jsxs("span",{className:"text-2xl text-gray-900",style:{color:t},children:["$",Dt]})]})]})}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 w-full",children:n.jsxs("p",{className:"text-sm text-gray-700 text-center",children:["A confirmation email has been sent to ",n.jsx("strong",{children:w.email})]})}),n.jsx(J,{onClick:Ht,className:"text-white px-8",style:{backgroundColor:t},children:"Book Another Experience"})]})})]})}function fre({primaryColor:t="#2563eb",config:e}){const[r,s]=S.useState(null),[a,i]=S.useState(void 0),[o,l]=S.useState(null),[c,d]=S.useState(4),[u,h]=S.useState(!1),[f,m]=S.useState([]),[y,g]=S.useState("browse"),[v,b]=S.useState({name:"",email:"",phone:"",cardNumber:"",cardExpiry:"",cardCVV:"",cardName:""}),[w,N]=S.useState(!1),[_,C]=S.useState(null),[E,A]=S.useState(!1),[I,$]=S.useState(null),[O,P]=S.useState([]);S.useEffect(()=>(()=>{const ce=Py.getAllGames();console.log(" ListWidget loaded",ce.length,"games from admin"),P(ce);const ie=()=>{const pe=Py.getAllGames();console.log(" ListWidget games updated in real-time!",pe.length),P(pe)};return DataSyncEvents.subscribe("games-updated",ie),()=>{DataSyncEvents.unsubscribe("games-updated",ie)}})(),[]);const M=O.length>0?O.map(ne=>({id:ne.id.toString(),name:ne.name,description:ne.description||"Amazing escape room experience",duration:ne.duration,difficulty:ne.difficulty||"Medium",minAge:10,maxPlayers:ne.capacity,price:ne.basePrice,rating:4.8,reviews:156,image:ne.imageUrl,tags:["Family Friendly","Adventure","Puzzle"]})):[{id:"1",name:"Mystery Manor",tagline:"Uncover the secrets of an abandoned Victorian mansion",duration:60,difficulty:"Medium",rating:4.9,reviews:234,price:30,featured:!0,image:"https://images.unsplash.com/photo-1576086213369-97a306d36557?w=600&h=400&fit=crop",gallery:["https://images.unsplash.com/photo-1576086213369-97a306d36557?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1560184897-ae75f418493e?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1513002749550-c59d786b8e6c?w=800&h=600&fit=crop"],videoThumb:"https://images.unsplash.com/photo-1576086213369-97a306d36557?w=600&h=400&fit=crop",availability:["10:00 AM","1:00 PM","4:00 PM","7:00 PM"],features:["Beginner Friendly","Atmospheric","Award Winning"],players:"2-8 players"},{id:"2",name:"Space Odyssey",tagline:"Race against time to save your crew in deep space",duration:75,difficulty:"Hard",rating:4.8,reviews:189,price:35,featured:!1,image:"https://images.unsplash.com/photo-1614732414444-096e5f1122d5?w=600&h=400&fit=crop",gallery:["https://images.unsplash.com/photo-1614732414444-096e5f1122d5?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1446776653964-20c1d3a81b06?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1462331940025-496dfbfc7564?w=800&h=600&fit=crop"],videoThumb:"https://images.unsplash.com/photo-1614732414444-096e5f1122d5?w=600&h=400&fit=crop",availability:["11:00 AM","2:00 PM","5:00 PM","8:00 PM"],features:["Advanced","Team Building","High Tech"],players:"4-10 players"},{id:"3",name:"Zombie Outbreak",tagline:"Find the cure before the apocalypse spreads worldwide",duration:60,difficulty:"Medium",rating:4.7,reviews:312,price:30,featured:!0,image:"https://images.unsplash.com/photo-1509248961158-e54f6934749c?w=600&h=400&fit=crop",gallery:["https://images.unsplash.com/photo-1509248961158-e54f6934749c?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1509281373149-e957c6296406?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1518709414768-a88981a4515d?w=800&h=600&fit=crop"],videoThumb:"https://images.unsplash.com/photo-1509248961158-e54f6934749c?w=600&h=400&fit=crop",availability:["10:00 AM","12:00 PM","3:00 PM","6:00 PM","9:00 PM"],features:["Action Packed","Horror Elements","Popular"],players:"3-8 players"}],R=M.find(ne=>ne.id===r),W=(ne,ce,ie)=>{C({code:ne,discount:ce,type:ie}),N(!1)},Y=()=>{C(null)},K=(ne,ce)=>{$({code:ne,amount:ce}),A(!1)},L=()=>{$(null)},F=()=>R?R.price*c:0,ee=()=>_?_.type==="fixed"?_.discount:F()*_.discount/100:0,se=()=>{if(!I)return 0;const ne=F()-ee();return Math.min(I.amount,ne)},q=F()-ee()-se(),z=`BK-${Math.random().toString(36).substring(2,10).toUpperCase()}`,Z=()=>y==="booking"?a&&o:y==="cart"?v.name&&v.email&&v.phone:y==="checkout"?v.cardNumber&&v.cardExpiry&&v.cardCVV&&v.cardName:!0,X=()=>{g("browse"),s(null),i(void 0),l(null),d(4),b({name:"",email:"",phone:"",cardNumber:"",cardExpiry:"",cardCVV:"",cardName:""}),C(null),$(null),N(!1),A(!1)},Q=async()=>{try{if(!customerInfo.name||!customerInfo.email||!customerInfo.phone){alert("Please fill in all customer details");return}if(!r||!a||!o){alert("Please complete booking details");return}const ne=M.find(Le=>Le.id===r),ce={gameName:ne?.name||"",gameId:r||"",date:a?a.toISOString().split("T")[0]:"",time:o||"",customerName:customerInfo.name,customerEmail:customerInfo.email,customerPhone:customerInfo.phone,participants:c,ticketTypes:[{id:"standard",name:"Standard Ticket",price:ne?.price||0,quantity:c,subtotal:(ne?.price||0)*c}],totalPrice:q,promoCode:_?.code,giftCardCredit:I?.amount},ie=e?.venueId||e?.venue?.id,pe=ne?.id;if(!ie||!pe){me.error("Missing venue or game information");return}const ae=o+":00",[be,we]=o.split(":"),Ee=`${String((parseInt(be)+1)%24).padStart(2,"0")}:${we}:00`,H=await Sb.createWidgetBooking({venue_id:ie,game_id:pe,customer_name:customerInfo.name,customer_email:customerInfo.email,customer_phone:customerInfo.phone,booking_date:a.toISOString().split("T")[0],start_time:ae,end_time:Ee,party_size:c,ticket_types:ce.ticketTypes,total_amount:q,final_amount:q,promo_code:_?.code});H&&(console.log(" Booking created:",H),me.success("Booking confirmed!"),g("success"))}catch(ne){console.error(" Error saving booking:",ne),alert("Error saving booking. Please try again.")}};return n.jsxs("div",{className:"w-full min-h-screen bg-gray-50",children:[n.jsx(or,{open:u,onOpenChange:h,children:n.jsxs(lr,{className:"!w-screen !h-screen !max-w-none !max-h-none sm:!w-[90vw] sm:!h-[90vh] sm:!max-w-[900px] sm:!max-h-[90vh] !rounded-none sm:!rounded-lg overflow-y-auto p-4 sm:p-6",children:[n.jsxs(d0,{children:[n.jsx(cr,{children:"Image Gallery"}),n.jsx(xr,{children:"View photos of escape room experiences"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:f.map((ne,ce)=>n.jsx("div",{className:"aspect-video rounded-lg overflow-hidden",children:n.jsx(Fn,{src:ne,alt:`Gallery image ${ce+1}`,className:"w-full h-full object-cover"})},ce))})]})}),y==="browse"&&n.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6 lg:p-8 pb-24 sm:pb-8",children:[n.jsxs("div",{className:"mb-4 sm:mb-6 lg:mb-8",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl text-gray-900 mb-2",children:"Escape Room Experiences"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Choose your adventure and book instantly"})]}),n.jsx("div",{className:"space-y-3 sm:space-y-4 lg:space-y-6",children:M.map(ne=>n.jsx(ve,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-0 lg:gap-6",children:[n.jsxs("div",{className:"lg:col-span-4 relative group h-48 sm:h-56 lg:h-auto",children:[n.jsx(Fn,{src:ne.image,alt:ne.name,className:"w-full h-full object-cover"}),ne.featured&&n.jsxs(ze,{className:"absolute top-2 left-2 sm:top-3 sm:left-3 text-xs",style:{backgroundColor:t,color:"white"},children:[n.jsx(yn,{className:"w-3 h-3 mr-1 fill-white"}),"Featured"]}),n.jsx("button",{onClick:()=>{m(ne.gallery),h(!0)},className:"absolute top-2 right-2 sm:top-3 sm:right-3 bg-white/90 backdrop-blur-sm p-2 rounded-full hover:bg-white transition-colors",children:n.jsx(qc,{className:"w-4 h-4 text-gray-700"})}),n.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:n.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full p-3 sm:p-4 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(Au,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-900"})})})]}),n.jsx("div",{className:"lg:col-span-8 p-4 sm:p-6",children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"mb-3 sm:mb-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2 gap-2",children:[n.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl text-gray-900",children:ne.name}),n.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[n.jsx(yn,{className:"w-4 h-4 sm:w-5 sm:h-5 fill-yellow-400 text-yellow-400"}),n.jsx("span",{className:"text-sm sm:text-base text-gray-900",children:ne.rating}),n.jsxs("span",{className:"text-gray-500 text-xs sm:text-sm hidden sm:inline",children:["(",ne.reviews,")"]})]})]}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:ne.tagline})]}),n.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mb-3 sm:mb-4",children:ne.features.map((ce,ie)=>{const pe=[Dh,Gd,Md],ae=pe[ie%pe.length];return n.jsxs(ze,{variant:"secondary",className:"bg-gray-100 text-xs",children:[n.jsx(ae,{className:"w-3 h-3 mr-1"}),ce]},ce)})}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-3 sm:mb-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Duration"}),n.jsxs("div",{className:"flex items-center gap-1 text-sm sm:text-base text-gray-900",children:[n.jsx(Qt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),n.jsxs("span",{children:[ne.duration," min"]})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Difficulty"}),n.jsx("div",{className:"text-sm sm:text-base text-gray-900",children:ne.difficulty})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Players"}),n.jsxs("div",{className:"flex items-center gap-1 text-sm sm:text-base text-gray-900",children:[n.jsx(Wr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),n.jsx("span",{children:ne.players})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Price"}),n.jsxs("div",{className:"text-lg sm:text-xl text-gray-900",style:{color:t},children:["$",ne.price]})]})]}),n.jsxs("div",{className:"mt-auto flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-2 sm:gap-3",children:[n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600",children:[ne.availability.length," time slots available"]}),n.jsxs(J,{onClick:()=>{s(ne.id),g("booking")},className:"text-white h-10 sm:h-12 px-6 sm:px-8 text-sm sm:text-base shadow-lg hover:shadow-xl transform hover:scale-105 transition-all whitespace-nowrap",style:{backgroundColor:t},children:["Book Now",n.jsx(Ds,{className:"w-4 h-4 sm:w-5 sm:h-5 ml-2"})]})]})]})})]})},ne.id))})]}),y==="booking"&&R&&n.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6 lg:p-8 pb-24 sm:pb-8",children:[n.jsxs(J,{onClick:()=>g("browse"),variant:"outline",className:"mb-4 sm:mb-6 h-9 sm:h-10 text-sm",children:[n.jsx(qn,{className:"w-4 h-4 mr-2"}),"Back to Experiences"]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ve,{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"mb-4 sm:mb-6",children:[n.jsx("h2",{className:"text-xl sm:text-2xl text-gray-900 mb-2",children:R.name}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:R.tagline})]}),n.jsx(tt,{className:"my-4 sm:my-6"}),n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:"text-sm sm:text-base",children:"Select Date"}),n.jsx("div",{className:"border rounded-lg p-2 sm:p-3 inline-block w-full sm:w-auto",children:n.jsx(Uu,{mode:"single",selected:a,onSelect:i,disabled:ne=>ne<new Date(new Date().setHours(0,0,0,0)),className:"rounded-md"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"flex items-center gap-2 text-sm sm:text-base",children:[n.jsx(Wr,{className:"w-4 h-4"}),"Number of Players"]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(J,{variant:"outline",onClick:()=>d(Math.max(2,c-1)),className:"h-10 w-10 sm:h-12 sm:w-12 text-center",children:"-"}),n.jsx("span",{className:"text-xl sm:text-2xl text-gray-900 min-w-[50px] sm:min-w-[60px] text-center",children:c}),n.jsx(J,{variant:"outline",onClick:()=>d(Math.min(10,c+1)),className:"h-10 w-10 sm:h-12 sm:w-12 text-center",children:"+"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:"text-sm sm:text-base",children:"Select Time"}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-3",children:R.availability.map(ne=>n.jsx("button",{onClick:()=>l(ne),className:`p-2.5 sm:p-3 rounded-lg border-2 transition-all text-center ${o===ne?"shadow-md":"border-gray-200 hover:border-gray-300"}`,style:{borderColor:o===ne?t:void 0,backgroundColor:o===ne?`${t}10`:void 0},children:n.jsx("div",{className:"text-xs sm:text-sm text-gray-900",children:ne})},ne))})]})]})]})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsx(ve,{className:"p-4 sm:p-6 lg:sticky lg:top-4 max-h-[calc(100vh-2rem)] overflow-y-auto",children:n.jsxs("div",{className:"space-y-4 sm:space-y-6 pb-20 sm:pb-6",children:[n.jsx("h3",{className:"text-base sm:text-lg text-gray-900",children:"Booking Summary"}),n.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Experience:"}),n.jsx("span",{className:"text-gray-900 text-right truncate max-w-[60%]",children:R.name})]}),a&&n.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Date:"}),n.jsx("span",{className:"text-gray-900",children:On(a,"dd/MM/yyyy")})]}),o&&n.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Time:"}),n.jsx("span",{className:"text-gray-900",children:o})]}),n.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Players:"}),n.jsx("span",{className:"text-gray-900",children:c})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("span",{className:"text-sm sm:text-base text-gray-900",children:"Total:"}),n.jsxs("span",{className:"text-xl sm:text-2xl text-gray-900",style:{color:t},children:["$",q]})]})]}),n.jsxs(J,{onClick:()=>g("cart"),disabled:!Z(),className:"w-full text-white h-11 sm:h-12 text-sm sm:text-base",style:{backgroundColor:Z()?t:void 0},children:[n.jsx(Ua,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})]})})})]})]}),y==="cart"&&R&&n.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8 pb-24 sm:pb-8",children:[n.jsxs(J,{onClick:()=>g("booking"),variant:"outline",className:"mb-4 sm:mb-6 h-9 sm:h-10 text-sm",children:[n.jsx(qn,{className:"w-4 h-4 mr-2"}),"Back"]}),n.jsxs(ve,{className:"p-4 sm:p-6",children:[n.jsxs("h2",{className:"text-lg sm:text-xl text-gray-900 mb-4 sm:mb-6 flex items-center gap-2",children:[n.jsx(Ua,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Your Cart"]}),n.jsx("div",{className:"p-3 sm:p-4 bg-white border border-gray-200 rounded-lg mb-4 sm:mb-6",children:n.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[n.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-lg overflow-hidden flex-shrink-0",children:n.jsx(Fn,{src:R.image,alt:R.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-sm sm:text-base text-gray-900 mb-1 truncate",children:R.name}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-0.5 sm:space-y-1",children:[n.jsxs("div",{children:["Date: ",a&&On(a,"dd/MM/yyyy")," at ",o]}),n.jsxs("div",{children:["Players: ",c,"  $",R.price]})]})]}),n.jsxs("div",{className:"text-sm sm:text-base text-gray-900 flex-shrink-0",style:{color:t},children:["$",q]})]})}),n.jsx(tt,{className:"my-4 sm:my-6"}),n.jsx("h3",{className:"text-base sm:text-lg text-gray-900 mb-3 sm:mb-4",children:"Your Information"}),n.jsxs("div",{className:"space-y-3 sm:space-y-4 mb-4 sm:mb-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"flex items-center gap-2 text-sm text-gray-700",children:[n.jsx(ca,{className:"w-4 h-4"}),"Full Name"]}),n.jsx(ge,{value:v.name,onChange:ne=>b({...v,name:ne.target.value}),placeholder:"John Doe",className:"h-10 sm:h-12 text-sm sm:text-base bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"flex items-center gap-2 text-sm text-gray-700",children:[n.jsx(Gn,{className:"w-4 h-4"}),"Email Address"]}),n.jsx(ge,{type:"email",value:v.email,onChange:ne=>b({...v,email:ne.target.value}),placeholder:"john@example.com",className:"h-10 sm:h-12 text-sm sm:text-base bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"flex items-center gap-2 text-sm text-gray-700",children:[n.jsx(Gs,{className:"w-4 h-4"}),"Phone Number"]}),n.jsx(ge,{type:"tel",value:v.phone,onChange:ne=>b({...v,phone:ne.target.value}),placeholder:"+1 (555) 123-4567",className:"h-10 sm:h-12 text-sm sm:text-base bg-gray-100 border-gray-300 placeholder:text-gray-500"})]})]}),n.jsx(tt,{className:"my-4 sm:my-6"}),n.jsxs("div",{className:"space-y-3 sm:space-y-4 mb-4 sm:mb-6",children:[n.jsxs("div",{children:[!_&&!w&&n.jsx("button",{onClick:()=>N(!0),className:"text-sm text-blue-600 hover:underline",children:"Add promo code"}),w&&!_&&n.jsx(Vu,{onApply:W,className:"mb-4"}),_&&n.jsx(Vu,{onApply:W,onRemove:Y,appliedCode:_.code,appliedDiscount:_.discount,appliedType:_.type,className:"mb-4"})]}),n.jsxs("div",{children:[!I&&!E&&n.jsx("button",{onClick:()=>A(!0),className:"text-sm text-blue-600 hover:underline",children:"Apply gift card"}),E&&!I&&n.jsx(Wu,{onApply:K,className:"mb-4"}),I&&n.jsx(Wu,{onApply:K,onRemove:L,appliedCode:I.code,appliedAmount:I.amount,className:"mb-4"})]})]}),n.jsxs("div",{className:"space-y-2 sm:space-y-3 mb-4 sm:mb-6",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),n.jsxs("span",{className:"text-gray-900",children:["$",F()]})]}),ee()>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-green-600",children:"Promo Code Discount:"}),n.jsxs("span",{className:"text-green-600",children:["-$",ee().toFixed(2)]})]}),se()>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-purple-600",children:"Gift Card:"}),n.jsxs("span",{className:"text-purple-600",children:["-$",se().toFixed(2)]})]})]}),n.jsx(tt,{className:"my-4 sm:my-6"}),n.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6 p-3 sm:p-4 bg-white border border-gray-200 rounded-lg shadow-sm",children:[n.jsx("span",{className:"text-sm sm:text-base text-gray-900",children:"Total Amount"}),n.jsxs("span",{className:"text-2xl sm:text-3xl text-gray-900",style:{color:t},children:["$",q.toFixed(2)]})]}),n.jsx(J,{onClick:()=>g("checkout"),disabled:!Z(),className:"w-full text-white h-11 sm:h-12 text-sm sm:text-base",style:{backgroundColor:Z()?t:void 0},children:"Proceed to Checkout"})]})]}),y==="checkout"&&R&&n.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6 lg:p-8 pb-24 sm:pb-8",children:[n.jsxs(J,{onClick:()=>g("cart"),variant:"outline",className:"mb-4 sm:mb-6 h-9 sm:h-10 text-sm",children:[n.jsx(qn,{className:"w-4 h-4 mr-2"}),"Back to Cart"]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ve,{className:"p-4 sm:p-6",children:[n.jsxs("h2",{className:"text-lg sm:text-xl text-gray-900 mb-4 sm:mb-6 flex items-center gap-2",children:[n.jsx(da,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Secure Payment"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:"text-gray-700",children:"Cardholder Name"}),n.jsx(ge,{value:v.cardName,onChange:ne=>b({...v,cardName:ne.target.value}),placeholder:"John Doe",className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:"text-gray-700",children:"Card Number"}),n.jsx(ge,{value:v.cardNumber,onChange:ne=>b({...v,cardNumber:ne.target.value}),placeholder:"1234 5678 9012 3456",maxLength:19,className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:"text-gray-700",children:"Expiry Date"}),n.jsx(ge,{value:v.cardExpiry,onChange:ne=>b({...v,cardExpiry:ne.target.value}),placeholder:"MM/YY",maxLength:5,className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:"text-gray-700",children:"CVV"}),n.jsx(ge,{value:v.cardCVV,onChange:ne=>b({...v,cardCVV:ne.target.value}),placeholder:"123",maxLength:4,className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-gray-700 flex items-start gap-2 mt-6",children:[n.jsx(da,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),n.jsx("p",{children:"Your payment information is encrypted and secure"})]})]})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs(ve,{className:"p-4 md:p-6 sticky top-4",children:[n.jsx("h3",{className:"text-gray-900 mb-4",children:"Order Summary"}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Experience:"}),n.jsx("span",{className:"text-gray-900",children:R.name})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Date:"}),n.jsx("span",{className:"text-gray-900",children:a&&On(a,"dd/MM/yyyy")})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Time:"}),n.jsx("span",{className:"text-gray-900",children:o})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Players:"}),n.jsx("span",{className:"text-gray-900",children:c})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("span",{className:"text-gray-900",children:"Total"}),n.jsxs("span",{className:"text-2xl text-gray-900",style:{color:t},children:["$",q]})]})]}),n.jsxs(J,{onClick:Q,disabled:!Z(),className:"w-full text-white h-12",style:{backgroundColor:Z()?t:void 0},children:[n.jsx(fa,{className:"w-4 h-4 mr-2"}),"Complete Payment $",q]})]})})]})]}),y==="success"&&R&&n.jsx("div",{className:"max-w-4xl mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 md:py-12",children:[n.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-6",style:{backgroundColor:`${t}15`},children:n.jsx(Tt,{className:"w-12 h-12",style:{color:t}})}),n.jsx("h2",{className:"text-3xl text-gray-900 mb-2 text-center",children:"Booking Confirmed!"}),n.jsx("p",{className:"text-gray-600 mb-8 text-center",children:"Your escape room adventure is all set"}),n.jsx(ve,{className:"w-full p-4 md:p-6 mb-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Booking Number"}),n.jsx("span",{className:"text-gray-900",children:z})]}),n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Experience"}),n.jsx("span",{className:"text-gray-900",children:R.name})]}),n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Date & Time"}),n.jsxs("span",{className:"text-gray-900",children:[a&&On(a,"dd/MM/yyyy")," at ",o]})]}),n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Players"}),n.jsxs("span",{className:"text-gray-900",children:[c," people"]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("span",{className:"text-gray-900",children:"Total Paid"}),n.jsxs("span",{className:"text-2xl text-gray-900",style:{color:t},children:["$",q]})]})]})}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 w-full",children:n.jsxs("p",{className:"text-sm text-gray-700 text-center",children:["A confirmation email has been sent to ",n.jsx("strong",{children:v.email})]})}),n.jsx(J,{onClick:X,className:"text-white px-8",style:{backgroundColor:t},children:"Book Another Experience"})]})})]})}function mre({primaryColor:t="#2563eb",config:e}){const[r,s]=S.useState(void 0),[a,i]=S.useState("booking"),[o,l]=S.useState({game:"",date:"",time:"",players:4,name:"",email:"",phone:"",cardNumber:"",cardExpiry:"",cardCVV:"",cardName:""}),[c,d]=S.useState(!1),[u,h]=S.useState(null),[f,m]=S.useState([]);S.useEffect(()=>(()=>{const Q=sl.getAllGames();console.log(" QuickBookWidget loaded",Q.length,"games from admin"),m(Q);const ne=()=>{const ce=sl.getAllGames();console.log(" QuickBookWidget games updated in real-time!",ce.length),m(ce)};return $o.subscribe("games-updated",ne),()=>{$o.unsubscribe("games-updated",ne)}})(),[]);const[y,g]=S.useState(!1),[v,b]=S.useState(null),[w,N]=S.useState(!1),[_,C]=S.useState(null),E=f.length>0?f.map(X=>({id:X.id.toString(),name:X.name,price:X.basePrice,duration:`${X.duration} min`,rating:4.8,reviews:156,image:X.imageUrl,description:X.description||"Amazing escape room experience"})):[{id:"1",name:"Mystery Manor",price:30,duration:"60 min",rating:4.9,reviews:234,image:"https://images.unsplash.com/photo-1576086213369-97a306d36557?w=400&h=300&fit=crop",description:"Uncover the dark secrets hidden in this Victorian mansion",video:!0},{id:"2",name:"Space Odyssey",price:35,duration:"75 min",rating:4.8,reviews:189,image:"https://images.unsplash.com/photo-1614732414444-096e5f1122d5?w=400&h=300&fit=crop",description:"Save your crew from a malfunctioning spaceship",video:!0},{id:"3",name:"Zombie Outbreak",price:30,duration:"60 min",rating:4.7,reviews:312,image:"https://images.unsplash.com/photo-1509248961158-e54f6934749c?w=400&h=300&fit=crop",description:"Find the cure before the apocalypse spreads",video:!1}],A=["10:00 AM","12:00 PM","2:00 PM","4:00 PM","6:00 PM","8:00 PM"],I=E.find(X=>X.id===o.game),$=(X,Q,ne)=>{b({code:X,discount:Q,type:ne}),g(!1)},O=()=>{b(null)},P=(X,Q)=>{C({code:X,amount:Q}),N(!1)},M=()=>{C(null)},R=()=>I?I.price*o.players:0,W=()=>v?v.type==="fixed"?v.discount:R()*v.discount/100:0,Y=()=>{if(!_)return 0;const X=R()-W();return Math.min(_.amount,X)},K=R()-W()-Y(),L=`BK-${Math.random().toString(36).substring(2,10).toUpperCase()}`,F=o.game&&o.date&&o.time,ee=o.name&&o.email&&o.phone,se=o.cardNumber&&o.cardExpiry&&o.cardCVV&&o.cardName,q=()=>{i("booking"),s(void 0),l({game:"",date:"",time:"",players:4,name:"",email:"",phone:"",cardNumber:"",cardExpiry:"",cardCVV:"",cardName:""}),b(null),C(null),g(!1),N(!1)},z=E.find(X=>X.id===u),Z=()=>{try{if(!o.name||!o.email||!o.phone){alert("Please fill in all customer details");return}if(!u||!o.date||!o.time){alert("Please complete booking details");return}const X={gameName:z?.name||"",gameId:u,date:o.date,time:o.time,customerName:o.name,customerEmail:o.email,customerPhone:o.phone,participants:o.players,ticketTypes:[{id:"standard",name:"Standard Ticket",price:z?.price||0,quantity:o.players,subtotal:(z?.price||0)*o.players}],totalPrice:K,promoCode:v?.code,giftCardCredit:_?.amount},Q=sl.saveBooking(X);console.log(" QuickBookWidget booking saved:",Q.id),console.log(" Total bookings:",sl.getAllBookings().length),i("success")}catch(X){console.error(" Error saving booking:",X),alert("Error saving booking. Please try again.")}};return n.jsxs("div",{className:"w-full min-h-screen bg-gray-50",children:[n.jsx(or,{open:c,onOpenChange:d,children:n.jsx(lr,{className:"!w-screen !h-screen !max-w-none !max-h-none sm:!w-[90vw] sm:!h-auto sm:!max-w-[700px] sm:!max-h-[90vh] !rounded-none sm:!rounded-lg overflow-y-auto p-4 sm:p-6",children:z&&n.jsxs(n.Fragment,{children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:"text-lg sm:text-xl lg:text-2xl",children:z.name}),n.jsxs(xr,{className:"sr-only",children:["View details about ",z.name," escape room"]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 sm:gap-2 mt-2 text-xs sm:text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(yn,{className:"w-3 h-3 sm:w-4 sm:h-4 fill-yellow-400 text-yellow-400"}),n.jsx("span",{children:z.rating}),n.jsxs("span",{className:"text-gray-500 hidden sm:inline",children:["(",z.reviews," reviews)"]})]}),n.jsx("span",{children:""}),n.jsx("span",{children:z.duration}),n.jsx("span",{children:""}),n.jsxs("span",{style:{color:t},children:["$",z.price,"/person"]})]})]}),n.jsxs("div",{className:"mt-3 sm:mt-4",children:[n.jsx("div",{className:"aspect-video rounded-lg overflow-hidden mb-3 sm:mb-4",children:n.jsx(Fn,{src:z.image,alt:z.name,className:"w-full h-full object-cover"})}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:z.description})]})]})})}),a==="booking"&&n.jsx("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8 pb-24 sm:pb-8",children:n.jsxs(ve,{className:"p-4 sm:p-6 overflow-y-auto",children:[n.jsx("h2",{className:"text-base sm:text-lg lg:text-xl text-gray-900 mb-4 sm:mb-6",children:"Quick Book Your Experience"}),n.jsxs("div",{className:"mb-6",children:[n.jsx(re,{className:"mb-3 block",children:"Select Game"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:E.map(X=>n.jsxs("div",{onClick:()=>l({...o,game:X.id}),className:`relative cursor-pointer rounded-lg border-2 overflow-hidden transition-all hover:shadow-lg ${o.game===X.id?"shadow-lg":"border-gray-200"}`,style:{borderColor:o.game===X.id?t:void 0},children:[n.jsxs("div",{className:"aspect-video relative group",children:[n.jsx(Fn,{src:X.image,alt:X.name,className:"w-full h-full object-cover"}),n.jsx("button",{onClick:Q=>{Q.stopPropagation(),h(X.id),d(!0)},className:"absolute top-2 right-2 bg-white/90 backdrop-blur-sm p-2 rounded-full hover:bg-white transition-colors",children:n.jsx(qc,{className:"w-4 h-4 text-gray-700"})}),X.video&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full p-3",children:n.jsx(Au,{className:"w-6 h-6 text-gray-900"})})})]}),n.jsxs("div",{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("h3",{className:"text-sm text-gray-900",children:X.name}),o.game===X.id&&n.jsx(Tt,{className:"w-5 h-5",style:{color:t}})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(yn,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),n.jsx("span",{children:X.rating})]}),n.jsxs("span",{children:["$",X.price]})]})]})]},X.id))})]}),n.jsx(tt,{className:"my-6"}),n.jsxs("div",{className:"space-y-6 mb-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"flex items-center gap-2",children:[n.jsx(Nn,{className:"w-4 h-4"}),"Date"]}),n.jsx("div",{className:"border rounded-lg p-3 inline-block",children:n.jsx(Uu,{mode:"single",selected:r,onSelect:X=>{s(X),X&&l({...o,date:On(X,"yyyy-MM-dd")})},disabled:X=>X<new Date(new Date().setHours(0,0,0,0)),className:"rounded-md"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"flex items-center gap-2",children:[n.jsx(Wr,{className:"w-4 h-4"}),"Players"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(J,{variant:"outline",onClick:()=>l({...o,players:Math.max(2,o.players-1)}),className:"h-12 w-12 text-center",children:"-"}),n.jsx("span",{className:"text-2xl text-gray-900 min-w-[60px] text-center",children:o.players}),n.jsx(J,{variant:"outline",onClick:()=>l({...o,players:Math.min(10,o.players+1)}),className:"h-12 w-12 text-center",children:"+"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:"w-4 h-4"}),"Time"]}),n.jsxs("select",{value:o.time,onChange:X=>l({...o,time:X.target.value}),className:"w-full h-12 rounded-lg border-2 border-gray-200 px-3 text-gray-900",children:[n.jsx("option",{value:"",children:"Select time"}),A.map(X=>n.jsx("option",{value:X,children:X},X))]})]})]}),I&&n.jsxs(n.Fragment,{children:[n.jsx(tt,{className:"my-6"}),n.jsxs("div",{className:"flex justify-between items-center mb-6 p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Total"}),n.jsx("div",{className:"text-gray-900",children:I.name})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[o.players,"  $",I.price]}),n.jsxs("div",{className:"text-2xl text-gray-900",style:{color:t},children:["$",K]})]})]})]}),n.jsxs(J,{onClick:()=>i("cart"),disabled:!F,className:"w-full text-white h-12",style:{backgroundColor:F?t:void 0},children:[n.jsx(Ua,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})]})}),a==="cart"&&n.jsxs("div",{className:"max-w-4xl mx-auto p-3 sm:p-4 md:p-8",children:[n.jsxs(J,{onClick:()=>i("booking"),variant:"outline",className:"mb-4 sm:mb-6 min-h-[44px]",children:[n.jsx(qn,{className:"w-4 h-4 mr-2"}),"Back to Booking"]}),n.jsxs(ve,{className:"p-3 sm:p-4 md:p-6 bg-white border border-gray-200 shadow-sm",children:[n.jsxs("h2",{className:"text-gray-900 mb-6 flex items-center gap-2",children:[n.jsx(Ua,{className:"w-6 h-6"}),"Your Cart"]}),I&&n.jsx("div",{className:"p-4 bg-gray-50 rounded-lg mb-6",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0",children:n.jsx(Fn,{src:I.image,alt:I.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-gray-900 mb-1",children:I.name}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("div",{children:["Date: ",r&&On(r,"dd/MM/yyyy")," at ",o.time]}),n.jsxs("div",{children:["Players: ",o.players,"  $",I.price]})]})]}),n.jsxs("div",{className:"text-gray-900",style:{color:t},children:["$",K]})]})}),n.jsx(tt,{className:"my-6"}),n.jsx("h3",{className:"text-gray-900 mb-4",children:"Your Information"}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"flex items-center gap-2 text-gray-700",children:[n.jsx(ca,{className:"w-4 h-4"}),"Full Name"]}),n.jsx(ge,{value:o.name,onChange:X=>l({...o,name:X.target.value}),placeholder:"John Doe",className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"flex items-center gap-2 text-gray-700",children:[n.jsx(Gn,{className:"w-4 h-4"}),"Email Address"]}),n.jsx(ge,{type:"email",value:o.email,onChange:X=>l({...o,email:X.target.value}),placeholder:"john@example.com",className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"flex items-center gap-2 text-gray-700",children:[n.jsx(Gs,{className:"w-4 h-4"}),"Phone Number"]}),n.jsx(ge,{type:"tel",value:o.phone,onChange:X=>l({...o,phone:X.target.value}),placeholder:"+1 (555) 123-4567",className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]})]}),n.jsx(tt,{className:"my-6"}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{children:[!v&&!y&&n.jsx("button",{onClick:()=>g(!0),className:"text-sm text-blue-600 hover:underline",children:"Add promo code"}),y&&!v&&n.jsx(Vu,{onApply:$}),v&&n.jsx(Vu,{onApply:$,onRemove:O,appliedCode:v.code,appliedDiscount:v.discount,appliedType:v.type})]}),n.jsxs("div",{children:[!_&&!w&&n.jsx("button",{onClick:()=>N(!0),className:"text-sm text-blue-600 hover:underline",children:"Apply gift card"}),w&&!_&&n.jsx(Wu,{onApply:P}),_&&n.jsx(Wu,{onApply:P,onRemove:M,appliedCode:_.code,appliedAmount:_.amount})]})]}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),n.jsxs("span",{className:"text-gray-900",children:["$",R()]})]}),W()>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-green-600",children:"Promo Code Discount:"}),n.jsxs("span",{className:"text-green-600",children:["-$",W().toFixed(2)]})]}),Y()>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-purple-600",children:"Gift Card:"}),n.jsxs("span",{className:"text-purple-600",children:["-$",Y().toFixed(2)]})]})]}),n.jsx(tt,{className:"my-6"}),n.jsxs("div",{className:"flex justify-between items-center mb-6 p-4 bg-white border border-gray-200 rounded-lg shadow-sm",children:[n.jsx("span",{className:"text-gray-900",children:"Total Amount"}),n.jsxs("span",{className:"text-3xl text-gray-900",style:{color:t},children:["$",K.toFixed(2)]})]}),n.jsx(J,{onClick:()=>i("checkout"),disabled:!ee,className:"w-full text-white h-12",style:{backgroundColor:ee?t:void 0},children:"Proceed to Checkout"})]})]}),a==="checkout"&&I&&n.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-8",children:[n.jsxs(J,{onClick:()=>i("cart"),variant:"outline",className:"mb-6",children:[n.jsx(qn,{className:"w-4 h-4 mr-2"}),"Back to Cart"]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ve,{className:"p-4 md:p-6",children:[n.jsxs("h2",{className:"text-gray-900 mb-6 flex items-center gap-2",children:[n.jsx(da,{className:"w-6 h-6"}),"Secure Payment"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:"text-gray-700",children:"Cardholder Name"}),n.jsx(ge,{value:o.cardName,onChange:X=>l({...o,cardName:X.target.value}),placeholder:"John Doe",className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:"text-gray-700",children:"Card Number"}),n.jsx(ge,{value:o.cardNumber,onChange:X=>l({...o,cardNumber:X.target.value}),placeholder:"1234 5678 9012 3456",maxLength:19,className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:"text-gray-700",children:"Expiry Date"}),n.jsx(ge,{value:o.cardExpiry,onChange:X=>l({...o,cardExpiry:X.target.value}),placeholder:"MM/YY",maxLength:5,className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:"text-gray-700",children:"CVV"}),n.jsx(ge,{value:o.cardCVV,onChange:X=>l({...o,cardCVV:X.target.value}),placeholder:"123",maxLength:4,className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-gray-700 flex items-start gap-2 mt-6",children:[n.jsx(da,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),n.jsx("p",{children:"Your payment information is encrypted and secure"})]})]})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs(ve,{className:"p-4 md:p-6 sticky top-4",children:[n.jsx("h3",{className:"text-gray-900 mb-4",children:"Order Summary"}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Game:"}),n.jsx("span",{className:"text-gray-900",children:I.name})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Date:"}),n.jsx("span",{className:"text-gray-900",children:r&&On(r,"dd/MM/yyyy")})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Time:"}),n.jsx("span",{className:"text-gray-900",children:o.time})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Players:"}),n.jsx("span",{className:"text-gray-900",children:o.players})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("span",{className:"text-gray-900",children:"Total"}),n.jsxs("span",{className:"text-2xl text-gray-900",style:{color:t},children:["$",K]})]})]}),n.jsxs(J,{onClick:Z,disabled:!se,className:"w-full text-white h-12",style:{backgroundColor:se?t:void 0},children:[n.jsx(fa,{className:"w-4 h-4 mr-2"}),"Complete Payment $",K]})]})})]})]}),a==="success"&&I&&n.jsx("div",{className:"max-w-4xl mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 md:py-12",children:[n.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-6",style:{backgroundColor:`${t}15`},children:n.jsx(Tt,{className:"w-12 h-12",style:{color:t}})}),n.jsx("h2",{className:"text-3xl text-gray-900 mb-2 text-center",children:"Booking Confirmed!"}),n.jsx("p",{className:"text-gray-600 mb-8 text-center",children:"Your escape room adventure is all set"}),n.jsx(ve,{className:"w-full p-4 md:p-6 mb-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Booking Number"}),n.jsx("span",{className:"text-gray-900",children:L})]}),n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Game"}),n.jsx("span",{className:"text-gray-900",children:I.name})]}),n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Date & Time"}),n.jsxs("span",{className:"text-gray-900",children:[r&&On(r,"dd/MM/yyyy")," at ",o.time]})]}),n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Players"}),n.jsxs("span",{className:"text-gray-900",children:[o.players," people"]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("span",{className:"text-gray-900",children:"Total Paid"}),n.jsxs("span",{className:"text-2xl text-gray-900",style:{color:t},children:["$",K]})]})]})}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 w-full",children:n.jsxs("p",{className:"text-sm text-gray-700 text-center",children:["A confirmation email has been sent to ",n.jsx("strong",{children:o.email})]})}),n.jsx(J,{onClick:q,className:"text-white px-8",style:{backgroundColor:t},children:"Book Another Experience"})]})})]})}function pre({primaryColor:t="#2563eb",config:e}){const[r,s]=S.useState(1),[a,i]=S.useState(!1),[o,l]=S.useState(null),[c,d]=S.useState(void 0),[u,h]=S.useState(!1),[f,m]=S.useState({game:"",date:"",time:"",players:4,name:"",email:"",phone:"",addOns:[],cardNumber:"",cardExpiry:"",cardCVV:"",cardName:""}),[y,g]=S.useState([]);S.useEffect(()=>(()=>{const F=Py.getAllGames();console.log(" MultiStepWidget loaded",F.length,"games from admin"),g(F);const ee=()=>{const se=Py.getAllGames();console.log(" MultiStepWidget games updated in real-time!",se.length),g(se)};return DataSyncEvents.subscribe("games-updated",ee),()=>{DataSyncEvents.unsubscribe("games-updated",ee)}})(),[]);const v=y.length>0?y.map(L=>({id:L.id.toString(),name:L.name,duration:L.duration,price:L.basePrice,rating:4.8,reviews:156,image:L.imageUrl,gallery:[L.imageUrl],description:L.description||"Amazing escape room experience",maxPlayers:L.capacity,minPlayers:2})):[{id:"1",name:"Mystery Manor",duration:60,price:30,rating:4.9,reviews:234,image:"https://images.unsplash.com/photo-1576086213369-97a306d36557?w=600&h=400&fit=crop",gallery:["https://images.unsplash.com/photo-1576086213369-97a306d36557?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1560184897-ae75f418493e?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?w=800&h=600&fit=crop"],tagline:"Uncover the secrets of an abandoned Victorian mansion"},{id:"2",name:"Space Odyssey",duration:75,price:35,rating:4.8,reviews:189,image:"https://images.unsplash.com/photo-1614732414444-096e5f1122d5?w=600&h=400&fit=crop",gallery:["https://images.unsplash.com/photo-1614732414444-096e5f1122d5?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1446776653964-20c1d3a81b06?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1462331940025-496dfbfc7564?w=800&h=600&fit=crop"],tagline:"Save your crew from catastrophic ship malfunction"},{id:"3",name:"Zombie Outbreak",duration:60,price:30,rating:4.7,reviews:312,image:"https://images.unsplash.com/photo-1509248961158-e54f6934749c?w=600&h=400&fit=crop",gallery:["https://images.unsplash.com/photo-1509248961158-e54f6934749c?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1509281373149-e957c6296406?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1518709414768-a88981a4515d?w=800&h=600&fit=crop"],tagline:"Survive the apocalypse and find the cure"}],b=[{time:"10:00 AM",available:!0},{time:"12:00 PM",available:!0},{time:"2:00 PM",available:!1},{time:"4:00 PM",available:!0},{time:"6:00 PM",available:!0},{time:"8:00 PM",available:!0}],w=[{id:"photo",name:"Professional Photo Package",price:15,description:"High-quality photos of your experience"},{id:"video",name:"Video Recording",price:25,description:"Full video recording of your game"},{id:"hints",name:"Extra Hint Pack",price:5,description:"Get 3 additional hints during gameplay"}],N=[{number:1,name:"Select Game",icon:Nn},{number:2,name:"Date & Time",icon:Qt},{number:3,name:"Add-ons & Cart",icon:Ua},{number:4,name:"Your Details",icon:ca},{number:5,name:"Payment",icon:fa}],_=5,C=r/_*100,E=v.find(L=>L.id===f.game),A=E?E.price*f.players:0,I=f.addOns.reduce((L,F)=>{const ee=w.find(se=>se.id===F);return L+(ee?.price||0)},0),$=A+I,O=L=>{l(L),i(!0)},P=v.find(L=>L.id===o),M=()=>{switch(r){case 1:return f.game!=="";case 2:return f.date!==""&&f.time!=="";case 3:return!0;case 4:return f.name!==""&&f.email!==""&&f.phone!=="";case 5:return f.cardNumber!==""&&f.cardExpiry!==""&&f.cardCVV!==""&&f.cardName!=="";default:return!1}},R=()=>{r<_&&M()&&s(r+1)},W=()=>{r>1&&s(r-1)},Y=async()=>{if(M())try{const L=v.find(ie=>ie.id===f.game),F=e?.venueId||e?.venue?.id,ee=f.game;if(!F||!ee){me.error("Missing venue or game information"),console.error("Missing IDs:",{venueId:F,gameId:ee,config:e});return}const se=f.date instanceof Date?f.date.toISOString().split("T")[0]:f.date,q=f.time+":00",[z,Z]=f.time.split(":"),Q=`${String((parseInt(z)+1)%24).padStart(2,"0")}:${Z}:00`,ne=[{id:"standard",name:"Standard Ticket",price:L?.price||0,quantity:f.players,subtotal:(L?.price||0)*f.players}],ce=await Sb.createWidgetBooking({venue_id:F,game_id:ee,customer_name:f.name,customer_email:f.email,customer_phone:f.phone,booking_date:se,start_time:q,end_time:Q,party_size:f.players,ticket_types:ne,total_amount:$,final_amount:$,notes:`Add-ons: ${f.addOns.join(", ")}`});ce&&(console.log(" Booking created:",ce),me.success("Booking confirmed!"),h(!0))}catch(L){console.error(" Error creating booking:",L),me.error(L.message||"Failed to create booking. Please try again.")}},K=`BK-${Math.random().toString(36).substring(2,10).toUpperCase()}`;return n.jsxs("div",{className:"w-full min-h-screen bg-gray-50",children:[n.jsx(or,{open:u,onOpenChange:h,children:n.jsxs(lr,{className:"!w-screen !h-screen !max-w-none !max-h-none sm:!w-[90vw] sm:!h-auto sm:!max-w-[800px] sm:!max-h-[90vh] !rounded-none sm:!rounded-lg overflow-y-auto p-4 sm:p-6",children:[n.jsxs(d0,{children:[n.jsx(cr,{children:"Booking Confirmation"}),n.jsx(xr,{children:"Your escape room booking has been confirmed successfully"})]}),n.jsxs("div",{className:"flex flex-col items-center justify-center py-6 sm:py-8 px-2 sm:px-4",children:[n.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mb-4 sm:mb-6",style:{backgroundColor:`${t}15`},children:n.jsx(Tt,{className:"w-10 h-10 sm:w-12 sm:h-12",style:{color:t}})}),n.jsx("h2",{className:"text-2xl sm:text-3xl text-gray-900 mb-2 text-center",children:"Booking Confirmed!"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6 sm:mb-8 text-center",children:"Your escape room adventure is all set"}),n.jsx(ve,{className:"w-full max-w-2xl p-4 sm:p-6 mb-4 sm:mb-6",children:n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center pb-3 sm:pb-4 border-b text-sm sm:text-base",children:[n.jsx("span",{className:"text-gray-600",children:"Booking Number"}),n.jsx("span",{className:"text-gray-900 text-xs sm:text-base",children:K})]}),n.jsxs("div",{className:"flex justify-between items-center pb-3 sm:pb-4 border-b text-sm sm:text-base",children:[n.jsx("span",{className:"text-gray-600",children:"Game"}),n.jsx("span",{className:"text-gray-900 text-right truncate max-w-[60%]",children:E?.name})]}),n.jsxs("div",{className:"flex justify-between items-center pb-3 sm:pb-4 border-b text-sm sm:text-base",children:[n.jsx("span",{className:"text-gray-600",children:"Date & Time"}),n.jsxs("span",{className:"text-gray-900 text-xs sm:text-base text-right",children:["Nov ",c,", 2025 at ",f.time]})]}),n.jsxs("div",{className:"flex justify-between items-center pb-3 sm:pb-4 border-b text-sm sm:text-base",children:[n.jsx("span",{className:"text-gray-600",children:"Players"}),n.jsxs("span",{className:"text-gray-900",children:[f.players," people"]})]}),f.addOns.length>0&&n.jsxs("div",{className:"pb-3 sm:pb-4 border-b",children:[n.jsx("div",{className:"text-sm sm:text-base text-gray-600 mb-2",children:"Add-ons"}),n.jsx("div",{className:"space-y-1",children:f.addOns.map(L=>{const F=w.find(ee=>ee.id===L);return n.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[n.jsx("span",{className:"text-gray-700 truncate max-w-[70%]",children:F?.name}),n.jsxs("span",{className:"text-gray-900",children:["$",F?.price]})]},L)})})]}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("span",{className:"text-sm sm:text-base text-gray-900",children:"Total Paid"}),n.jsxs("span",{className:"text-xl sm:text-2xl text-gray-900",style:{color:t},children:["$",$]})]})]})}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 sm:p-4 mb-4 sm:mb-6 max-w-2xl w-full",children:n.jsxs("p",{className:"text-xs sm:text-sm text-gray-700 text-center",children:["A confirmation email has been sent to ",n.jsx("strong",{children:f.email})]})}),n.jsx(J,{onClick:()=>{h(!1),s(1),m({game:"",date:"",time:"",players:4,name:"",email:"",phone:"",addOns:[],cardNumber:"",cardExpiry:"",cardCVV:"",cardName:""}),d(void 0)},className:"text-white px-6 sm:px-8 h-10 sm:h-12 text-sm sm:text-base",style:{backgroundColor:t},children:"Book Another Experience"})]})]})}),n.jsx(or,{open:a,onOpenChange:i,children:n.jsxs(lr,{className:"!w-screen !h-screen !max-w-none !max-h-none sm:!w-[90vw] sm:!h-[90vh] sm:!max-w-[900px] sm:!max-h-[90vh] !rounded-none sm:!rounded-lg overflow-y-auto p-4 sm:p-6",children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:"text-lg sm:text-xl",children:P?.name}),n.jsx(xr,{className:"text-sm sm:text-base",children:P?.tagline})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mt-3 sm:mt-4",children:P?.gallery.map((L,F)=>n.jsx("div",{className:"aspect-video rounded-lg overflow-hidden",children:n.jsx(Fn,{src:L,alt:`${P.name} - Image ${F+1}`,className:"w-full h-full object-cover"})},F))})]})}),n.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:n.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-3 sm:py-4 lg:py-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[n.jsx("h2",{className:"text-base sm:text-lg lg:text-xl text-gray-900",children:"Complete Your Booking"}),n.jsxs(ze,{variant:"secondary",className:"text-blue-700 text-xs sm:text-sm",style:{backgroundColor:`${t}15`,color:t},children:["Step ",r," of ",_]})]}),n.jsx($h,{value:C,className:"h-1.5 sm:h-2 mb-3 sm:mb-4 lg:mb-6",style:{"--progress-background":t}}),n.jsx("div",{className:"hidden lg:grid lg:grid-cols-5 gap-4",children:N.map(L=>{const F=L.icon,ee=r>L.number,se=r===L.number;return n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-all flex-shrink-0 ${ee?"text-white":se?"border-2":"bg-gray-100 text-gray-400"}`,style:{backgroundColor:ee?t:se?"white":void 0,borderColor:se?t:void 0,color:se?t:void 0},children:ee?n.jsx(jn,{className:"w-5 h-5"}):n.jsx(F,{className:"w-5 h-5"})}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsx("p",{className:`text-sm truncate ${se||ee?"text-gray-900":"text-gray-500"}`,children:L.name})})]},L.number)})})]})}),n.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-4 sm:py-6 lg:py-8 pb-24 sm:pb-8",children:[n.jsxs("div",{className:"min-h-[60vh] sm:min-h-0",children:[r===1&&n.jsxs(ve,{className:"p-4 sm:p-6 bg-white shadow-sm border-gray-200",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4 sm:mb-6",children:[n.jsx("h3",{className:"text-base sm:text-lg text-gray-900",children:"Choose Your Adventure"}),n.jsx(ze,{variant:"secondary",className:"bg-red-50 text-red-700 border-red-200 text-xs",children:"Required"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:v.map(L=>n.jsxs("div",{onClick:()=>m({...f,game:L.id}),className:`cursor-pointer rounded-lg border-2 transition-all hover:shadow-lg ${f.game===L.id?"shadow-lg":"border-gray-200"}`,style:{borderColor:f.game===L.id?t:void 0},children:[n.jsxs("div",{className:"relative h-40 sm:h-48 lg:h-56 rounded-t-lg overflow-hidden group",children:[n.jsx(Fn,{src:L.image,alt:L.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),n.jsx("div",{className:"absolute top-2 right-2 sm:top-3 sm:right-3 flex gap-2",children:n.jsx("button",{onClick:F=>{F.stopPropagation(),O(L.id)},className:"bg-white/90 backdrop-blur-sm p-1.5 sm:p-2 rounded-full hover:bg-white transition-colors",children:n.jsx(qc,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-700"})})})]}),n.jsxs("div",{className:"p-3 sm:p-4",children:[n.jsxs("div",{className:"mb-2 sm:mb-3",children:[n.jsx("h4",{className:"text-sm sm:text-base text-gray-900 mb-1",children:L.name}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 line-clamp-2",children:L.tagline})]}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-gray-600 mb-2 sm:mb-3",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(yn,{className:"w-3 h-3 sm:w-4 sm:h-4 fill-yellow-400 text-yellow-400"}),n.jsx("span",{children:L.rating}),n.jsxs("span",{className:"text-gray-400 hidden sm:inline",children:["(",L.reviews,")"]})]}),n.jsx("span",{className:"hidden sm:inline",children:""}),n.jsxs("span",{children:[L.duration," min"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"text-lg sm:text-xl lg:text-2xl text-gray-900",style:{color:t},children:["$",L.price,n.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:" /person"})]}),f.game===L.id&&n.jsx(jn,{className:"w-5 h-5 sm:w-6 sm:h-6",style:{color:t}})]})]})]},L.id))})]}),r===2&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(ve,{className:"p-4 md:p-6 bg-white shadow-sm border-gray-200",children:[n.jsx("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h3",{className:"text-gray-900",children:"Select Date"}),n.jsx(ze,{variant:"secondary",className:"bg-red-50 text-red-700 border-red-200",children:"Required"})]})}),n.jsx(Uu,{mode:"single",selected:c,onSelect:L=>{d(L),m({...f,date:L?On(L,"yyyy-MM-dd"):""})}})]}),n.jsxs(ve,{className:"p-4 md:p-6 bg-white shadow-sm border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsxs("h3",{className:"text-gray-900",children:["Available Times",c?` - ${On(c,"MMM d, yyyy")}`:""]}),n.jsx(ze,{variant:"secondary",className:"bg-red-50 text-red-700 border-red-200",children:"Required"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:b.map(L=>n.jsxs("button",{onClick:()=>L.available&&m({...f,time:L.time}),disabled:!L.available,className:`p-3 md:p-4 rounded-lg border-2 text-sm transition-all relative ${f.time===L.time?"border-blue-600 shadow-md":L.available?"border-gray-200 hover:border-gray-300 hover:shadow-sm":"border-gray-100 bg-gray-50 cursor-not-allowed"}`,style:{borderColor:f.time===L.time?t:void 0,backgroundColor:f.time===L.time?`${t}10`:void 0},children:[n.jsx("div",{className:"text-gray-900 text-center",children:L.time}),L.available?n.jsx("div",{className:"text-xs text-green-600 mt-1 text-center",children:"Available"}):n.jsx("div",{className:"text-xs text-red-600 mt-1 text-center",children:"Sold out"})]},L.time))})]})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsx("div",{className:"sticky top-4",children:n.jsxs(ve,{className:"p-4 md:p-6 bg-white shadow-lg border-gray-200",children:[n.jsx("h3",{className:"text-gray-900 mb-4",children:"Booking Summary"}),n.jsxs("div",{className:"mb-6",children:[n.jsxs(re,{className:"text-sm text-gray-700 mb-3 flex items-center gap-2",children:[n.jsx(Wr,{className:"w-4 h-4"}),"Number of Players"]}),n.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[n.jsx(J,{variant:"outline",size:"icon",onClick:()=>m({...f,players:Math.max(2,f.players-1)}),children:"-"}),n.jsx("span",{className:"text-2xl text-gray-900 min-w-[40px] text-center",children:f.players}),n.jsx(J,{variant:"outline",size:"icon",onClick:()=>m({...f,players:Math.min(10,f.players+1)}),children:"+"})]})]}),n.jsxs("div",{className:"space-y-3 mb-6 pb-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Game:"}),n.jsx("span",{className:"text-gray-900",children:E?.name||"Not selected"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Date:"}),n.jsx("span",{className:"text-gray-900",children:c?On(c,"MMM d, yyyy"):"Not selected"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Time:"}),n.jsx("span",{className:"text-gray-900",children:f.time||"Not selected"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Players:"}),n.jsx("span",{className:"text-gray-900",children:f.players})]})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Price per person:"}),n.jsxs("span",{className:"text-gray-900",children:["$",E?.price||0]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),n.jsxs("span",{className:"text-gray-900",children:["$",A]})]})]}),n.jsx(tt,{className:"my-4"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-900",children:"Total:"}),n.jsxs("span",{className:"text-2xl text-gray-900",style:{color:t},children:["$",A]})]})]})})})]}),r===3&&n.jsxs(ve,{className:"p-4 md:p-6 bg-white shadow-sm border-gray-200",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4 md:mb-6",children:[n.jsx("h3",{className:"text-gray-900",children:"Enhance Your Experience"}),n.jsx(ze,{variant:"secondary",className:"text-gray-600",children:"Optional"})]}),n.jsx("div",{className:"space-y-4 mb-8",children:w.map(L=>{const F=f.addOns.includes(L.id);return n.jsx("div",{onClick:()=>{m(F?{...f,addOns:f.addOns.filter(ee=>ee!==L.id)}:{...f,addOns:[...f.addOns,L.id]})},className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${F?"shadow-md":"border-gray-200 hover:border-gray-300"}`,style:{borderColor:F?t:void 0,backgroundColor:F?`${t}05`:void 0},children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h4",{className:"text-gray-900",children:L.name}),F&&n.jsx(jn,{className:"w-5 h-5",style:{color:t}})]}),n.jsx("p",{className:"text-sm text-gray-600",children:L.description})]}),n.jsxs("p",{className:"text-xl text-gray-900 ml-4",style:{color:t},children:["+$",L.price]})]})},L.id)})}),n.jsx(tt,{className:"my-6"}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Ua,{className:"w-5 h-5"}),"Cart Summary"]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 space-y-3 shadow-sm",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:E?.name}),n.jsxs("span",{className:"text-gray-900",children:["$",E?.price,"  ",f.players]})]}),f.addOns.length>0&&n.jsxs(n.Fragment,{children:[n.jsx(tt,{}),f.addOns.map(L=>{const F=w.find(ee=>ee.id===L);return n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:F?.name}),n.jsxs("span",{className:"text-gray-900",children:["$",F?.price]})]},L)})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("span",{className:"text-gray-900",children:"Total"}),n.jsxs("span",{className:"text-2xl text-gray-900",style:{color:t},children:["$",$]})]})]})]})]}),r===4&&n.jsxs(ve,{className:"p-4 md:p-6 bg-white shadow-sm border-gray-200",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4 md:mb-6",children:[n.jsx("h3",{className:"text-gray-900",children:"Your Information"}),n.jsx(ze,{variant:"secondary",className:"bg-red-50 text-red-700 border-red-200",children:"Required"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"flex items-center gap-2 text-gray-700",children:[n.jsx(ca,{className:"w-4 h-4"}),"Full Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ge,{type:"text",placeholder:"John Doe",value:f.name,onChange:L=>m({...f,name:L.target.value}),className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"flex items-center gap-2 text-gray-700",children:[n.jsx(Gn,{className:"w-4 h-4"}),"Email Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ge,{type:"email",placeholder:"john@example.com",value:f.email,onChange:L=>m({...f,email:L.target.value}),className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"flex items-center gap-2 text-gray-700",children:[n.jsx(Gs,{className:"w-4 h-4"}),"Phone Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ge,{type:"tel",placeholder:"+1 (555) 123-4567",value:f.phone,onChange:L=>m({...f,phone:L.target.value}),className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]})]})]}),r===5&&n.jsxs(ve,{className:"p-4 md:p-6 bg-white shadow-sm border-gray-200",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4 md:mb-6",children:[n.jsxs("h3",{className:"text-gray-900 flex items-center gap-2",children:[n.jsx(da,{className:"w-5 h-5"}),"Secure Payment"]}),n.jsx(ze,{variant:"secondary",className:"bg-red-50 text-red-700 border-red-200",children:"Required"})]}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"text-gray-700",children:["Cardholder Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ge,{type:"text",placeholder:"John Doe",value:f.cardName,onChange:L=>m({...f,cardName:L.target.value}),className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"text-gray-700",children:["Card Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ge,{type:"text",placeholder:"1234 5678 9012 3456",value:f.cardNumber,onChange:L=>m({...f,cardNumber:L.target.value}),maxLength:19,className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"text-gray-700",children:["Expiry Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ge,{type:"text",placeholder:"MM/YY",value:f.cardExpiry,onChange:L=>m({...f,cardExpiry:L.target.value}),maxLength:5,className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"text-gray-700",children:["CVV ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ge,{type:"text",placeholder:"123",value:f.cardCVV,onChange:L=>m({...f,cardCVV:L.target.value}),maxLength:4,className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]})]})]}),n.jsx(tt,{className:"my-6 bg-gray-200"}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 space-y-2 mb-6 shadow-sm",children:[n.jsx("h4",{className:"text-gray-900 mb-3",children:"Order Summary"}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Game"}),n.jsx("span",{className:"text-gray-900",children:E?.name})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Date & Time"}),n.jsxs("span",{className:"text-gray-900",children:["Nov ",c,", 2025 at ",f.time]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Players"}),n.jsxs("span",{className:"text-gray-900",children:[f.players,"  $",E?.price]})]}),f.addOns.length>0&&n.jsxs(n.Fragment,{children:[n.jsx(tt,{className:"my-2"}),f.addOns.map(L=>{const F=w.find(ee=>ee.id===L);return n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:F?.name}),n.jsxs("span",{className:"text-gray-900",children:["$",F?.price]})]},L)})]}),n.jsx(tt,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("span",{className:"text-gray-900",children:"Total"}),n.jsxs("span",{className:"text-2xl text-gray-900",style:{color:t},children:["$",$]})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-gray-700 flex items-start gap-2",children:[n.jsx(da,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),n.jsx("p",{children:"Your payment information is encrypted and secure"})]})]})]}),n.jsxs("div",{className:"sticky bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg mt-8 -mx-4 md:-mx-6 px-4 md:px-6 py-4 z-10",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center",children:[r>1&&n.jsxs(J,{onClick:W,variant:"outline",className:"w-full sm:w-auto h-12 border-2 hover:bg-gray-50 order-2 sm:order-1",children:[n.jsx(qn,{className:"w-5 h-5 mr-2"}),"Back"]}),n.jsx("div",{className:"flex-1 order-1 sm:order-2 w-full",children:r<_?n.jsxs(J,{onClick:R,disabled:!M(),className:"w-full h-14 text-white text-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:M()?t:"#9ca3af",opacity:M()?1:.6},children:[!M()&&r===1&&"Select a game to continue",!M()&&r===2&&"Select date and time to continue",!M()&&r===4&&"Fill in all required fields",!M()&&r===5&&"Enter payment details",M()&&"Continue to Next Step",n.jsx(Ds,{className:"w-5 h-5 ml-2"})]}):n.jsxs(J,{onClick:Y,disabled:!M(),className:"w-full h-14 text-white text-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:M()?t:"#9ca3af",opacity:M()?1:.6},children:[n.jsx(da,{className:"w-5 h-5 mr-2"}),M()?`Complete Payment - $${$}`:"Enter payment details to complete"]})})]}),!M()&&n.jsxs("div",{className:"text-center mt-3 text-sm text-gray-500",children:[r===1&&"Please select an escape room game to continue",r===2&&"Please select both date and time slot to proceed",r===3&&"Optional: Add enhancements or continue to the next step",r===4&&"Please fill in your name, email, and phone number",r===5&&"Please enter your complete payment information"]})]})]})]})}function xre({primaryColor:t="#2563eb",config:e}){const[r,s]=S.useState(null),[a,i]=S.useState(void 0),[o,l]=S.useState(""),[c,d]=S.useState(4),[u,h]=S.useState("browse"),[f,m]=S.useState({name:"",email:"",phone:"",cardNumber:"",cardExpiry:"",cardCVV:"",cardName:""}),[y,g]=S.useState([]);S.useEffect(()=>{const A=sl.getAllGames();g(A),console.log(" ResolvexWidget: Admin games loaded:",A.length);const I=()=>{const $=sl.getAllGames();g($),console.log(" ResolvexWidget: Admin games updated:",$.length)};return $o.subscribe("games-updated",I),()=>{$o.unsubscribe("games-updated",I)}},[]);const v=y.length>0?y.map(A=>({id:A.id,name:A.name,description:A.description||"Exciting escape room adventure",image:A.imageUrl||"https://images.unsplash.com/photo-1571386630530-12fa47ebed6f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080",rating:A.difficulty||4,category:"Adventure",players:`2-${A.capacity}`,duration:A.duration,price:A.basePrice,location:"Main Location"})):[{id:"1",name:"Mystery Manor",description:"Uncover hidden truths in this Victorian mystery.",image:"https://images.unsplash.com/photo-1571386630530-12fa47ebed6f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080",rating:5,category:"Mystery",players:"2-8",duration:"60 min",price:30,location:"Main Street Location"},{id:"2",name:"Space Odyssey",description:"Race against time in deep space.",image:"https://images.unsplash.com/photo-1640525381904-4d92e378fbb9?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080",rating:4,category:"Sci-Fi",players:"4-10",duration:"75 min",price:35,location:"Downtown Location"},{id:"3",name:"Pirate's Treasure",description:"Ahoy! Adventure awaits on the high seas.",image:"https://images.unsplash.com/photo-1633465091434-117f2bcffd9d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080",rating:4,category:"Adventure",players:"3-8",duration:"90 min",price:32,location:"Harbor District"},{id:"4",name:"Zombie Apocalypse",description:"Survive the undead outbreak and find the cure.",image:"https://images.unsplash.com/photo-1509248961158-e54f6934749c?w=1080",rating:5,category:"Horror",players:"3-8",duration:"60 min",price:30,location:"Warehouse District"},{id:"5",name:"Ancient Temple",description:"Discover ancient secrets and escape the curse.",image:"https://images.unsplash.com/photo-1518709414768-a88981a4515d?w=1080",rating:4,category:"Adventure",players:"2-6",duration:"60 min",price:28,location:"City Center"},{id:"6",name:"Cyber Heist",description:"Hack the system and escape with the data.",image:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?w=1080",rating:5,category:"Thriller",players:"4-8",duration:"75 min",price:35,location:"Tech District"}],b=["10:00 AM","12:00 PM","2:00 PM","4:00 PM","6:00 PM","8:00 PM"],w=A=>Array.from({length:5},(I,$)=>n.jsx(yn,{className:`w-3 h-3 ${$<A?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},$)),N=r?r.price*c:0,_=`BK-${Math.random().toString(36).substring(2,10).toUpperCase()}`,C=()=>u==="booking"?a&&o:u==="cart"?f.name&&f.email&&f.phone:u==="checkout"?f.cardNumber&&f.cardExpiry&&f.cardCVV&&f.cardName:!0,E=()=>{h("browse"),s(null),i(void 0),l(""),d(4),m({name:"",email:"",phone:"",cardNumber:"",cardExpiry:"",cardCVV:"",cardName:""})};return n.jsxs("div",{className:"w-full min-h-screen bg-gray-900",children:[u==="browse"&&n.jsx("div",{className:"p-4 sm:p-6 lg:p-8 pb-24 sm:pb-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-4 sm:mb-6 lg:mb-8",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl text-white mb-2",children:"Choose Your Adventure"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:"Select an escape room experience"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:v.map(A=>n.jsxs("div",{onClick:()=>{s(A),h("booking")},className:"group relative rounded-xl overflow-hidden cursor-pointer h-[350px] sm:h-[400px] lg:h-[450px] transform transition-all duration-300 hover:scale-105 hover:shadow-2xl",children:[n.jsx(Fn,{src:A.image,alt:A.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-black/20"}),n.jsx("div",{className:"absolute top-2 left-2 sm:top-3 sm:left-3 bg-black/60 backdrop-blur-sm rounded-full px-2 sm:px-3 py-1 sm:py-1.5 flex items-center gap-0.5 sm:gap-1",children:w(A.rating)}),n.jsx("div",{className:"absolute top-2 right-2 sm:top-3 sm:right-3 bg-white/95 backdrop-blur-sm rounded-full px-2 sm:px-3 py-1",children:n.jsx("span",{className:"text-xs text-gray-900",children:A.category})}),n.jsxs("div",{className:"absolute bottom-2 left-2 right-2 sm:bottom-3 sm:left-3 sm:right-3",children:[n.jsx("h3",{className:"text-base sm:text-lg text-white mb-1",children:A.name}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-300 mb-2 sm:mb-3 line-clamp-2",children:A.description}),n.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3 text-xs text-gray-300 mb-2 sm:mb-3",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Wr,{className:"w-3 h-3"}),n.jsx("span",{children:A.players})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Qt,{className:"w-3 h-3"}),n.jsx("span",{children:A.duration})]}),n.jsxs("div",{className:"flex items-center gap-1 hidden sm:flex",children:[n.jsx(El,{className:"w-3 h-3"}),n.jsx("span",{className:"truncate max-w-[120px]",children:A.location})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs("span",{className:"text-green-400 text-xl sm:text-2xl",children:["$",A.price]}),n.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"/person"})]}),n.jsx("button",{className:"bg-white text-gray-900 px-4 py-2 sm:px-6 sm:py-3 rounded-lg text-sm sm:text-base shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all whitespace-nowrap",children:"Book Now"})]})]})]},A.id))})]})}),u==="booking"&&r&&n.jsx("div",{className:"p-4 sm:p-6 lg:p-8 bg-gray-50 min-h-screen pb-24 sm:pb-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs(J,{onClick:()=>h("browse"),variant:"outline",className:"mb-4 sm:mb-6 h-9 sm:h-10 text-sm",children:[n.jsx(qn,{className:"w-4 h-4 mr-2"}),"Back to Games"]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ve,{className:"p-4 sm:p-6 mb-4 sm:mb-6",children:[n.jsxs("div",{className:"flex gap-3 sm:gap-4 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-20 h-20 sm:w-32 sm:h-32 rounded-lg overflow-hidden flex-shrink-0",children:n.jsx(Fn,{src:r.image,alt:r.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h2",{className:"text-base sm:text-lg lg:text-xl text-gray-900 mb-1 sm:mb-2 truncate",children:r.name}),n.jsx("p",{className:"text-gray-600 text-xs sm:text-sm mb-2 sm:mb-3 line-clamp-2",children:r.description}),n.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3 text-xs sm:text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Wr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),r.players]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Qt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),r.duration]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(El,{className:"w-3 h-3 sm:w-4 sm:h-4"}),n.jsx("span",{className:"truncate max-w-[120px]",children:r.location})]})]})]})]}),n.jsx(tt,{className:"my-4 sm:my-6"}),n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:"text-sm sm:text-base",children:"Select Date"}),n.jsx("div",{className:"border rounded-lg p-2 sm:p-3 inline-block w-full sm:w-auto",children:n.jsx(Uu,{mode:"single",selected:a,onSelect:i,disabled:A=>A<new Date(new Date().setHours(0,0,0,0)),className:"rounded-md"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"flex items-center gap-2",children:[n.jsx(Wr,{className:"w-4 h-4"}),"Number of Players"]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(J,{variant:"outline",onClick:()=>d(Math.max(2,c-1)),className:"h-12 w-12 text-center",children:"-"}),n.jsx("span",{className:"text-2xl text-gray-900 min-w-[60px] text-center",children:c}),n.jsx(J,{variant:"outline",onClick:()=>d(Math.min(10,c+1)),className:"h-12 w-12 text-center",children:"+"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Select Time"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:b.map(A=>n.jsx("button",{onClick:()=>l(A),className:`p-3 rounded-lg border-2 transition-all text-center ${o===A?"shadow-md":"border-gray-200 hover:border-gray-300"}`,style:{borderColor:o===A?t:void 0,backgroundColor:o===A?`${t}10`:void 0},children:n.jsx("div",{className:"text-sm text-gray-900",children:A})},A))})]})]})]})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsx("div",{className:"lg:sticky lg:top-4 max-h-[calc(100vh-2rem)] overflow-y-auto",children:n.jsxs(ve,{className:"p-4 md:p-6",children:[n.jsx("h3",{className:"text-gray-900 mb-4",children:"Booking Summary"}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Game:"}),n.jsx("span",{className:"text-gray-900",children:r.name})]}),a&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Date:"}),n.jsx("span",{className:"text-gray-900",children:On(a,"dd/MM/yyyy")})]}),o&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Time:"}),n.jsx("span",{className:"text-gray-900",children:o})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Players:"}),n.jsx("span",{className:"text-gray-900",children:c})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("span",{className:"text-gray-900",children:"Total:"}),n.jsxs("span",{className:"text-2xl text-gray-900",style:{color:t},children:["$",N]})]})]}),n.jsxs(J,{onClick:()=>h("cart"),disabled:!C(),className:"w-full text-white",style:{backgroundColor:C()?t:void 0},children:[n.jsx(Ua,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})]})})})]})]})}),u==="cart"&&r&&n.jsx("div",{className:"p-4 md:p-8 bg-gray-50 min-h-screen",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs(J,{onClick:()=>h("booking"),variant:"outline",className:"mb-6",children:[n.jsx(qn,{className:"w-4 h-4 mr-2"}),"Back"]}),n.jsxs(ve,{className:"p-4 md:p-6",children:[n.jsxs("h2",{className:"text-gray-900 mb-6 flex items-center gap-2",children:[n.jsx(Ua,{className:"w-6 h-6"}),"Your Cart"]}),n.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-lg mb-6",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0",children:n.jsx(Fn,{src:r.image,alt:r.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-gray-900 mb-1",children:r.name}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("div",{children:["Date: ",a&&On(a,"dd/MM/yyyy")," at ",o]}),n.jsxs("div",{children:["Players: ",c,"  $",r.price]})]})]}),n.jsxs("div",{className:"text-gray-900",style:{color:t},children:["$",N]})]})}),n.jsx(tt,{className:"my-6"}),n.jsx("h3",{className:"text-gray-900 mb-4",children:"Your Information"}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"flex items-center gap-2 text-gray-700",children:[n.jsx(ca,{className:"w-4 h-4"}),"Full Name"]}),n.jsx(ge,{value:f.name,onChange:A=>m({...f,name:A.target.value}),placeholder:"John Doe",className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"flex items-center gap-2 text-gray-700",children:[n.jsx(Gn,{className:"w-4 h-4"}),"Email Address"]}),n.jsx(ge,{type:"email",value:f.email,onChange:A=>m({...f,email:A.target.value}),placeholder:"john@example.com",className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"flex items-center gap-2 text-gray-700",children:[n.jsx(Gs,{className:"w-4 h-4"}),"Phone Number"]}),n.jsx(ge,{type:"tel",value:f.phone,onChange:A=>m({...f,phone:A.target.value}),placeholder:"+1 (555) 123-4567",className:"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]})]}),n.jsx(tt,{className:"my-6"}),n.jsxs("div",{className:"flex justify-between items-center mb-6 p-4 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"text-gray-900",children:"Total Amount"}),n.jsxs("span",{className:"text-3xl text-gray-900",style:{color:t},children:["$",N]})]}),n.jsx(J,{onClick:()=>h("checkout"),disabled:!C(),className:"w-full text-white h-12",style:{backgroundColor:C()?t:void 0},children:"Proceed to Checkout"})]})]})}),u==="checkout"&&r&&n.jsx("div",{className:"p-4 md:p-8 bg-gray-50 min-h-screen",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs(J,{onClick:()=>h("cart"),variant:"outline",className:"mb-6",children:[n.jsx(qn,{className:"w-4 h-4 mr-2"}),"Back to Cart"]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ve,{className:"p-4 md:p-6",children:[n.jsxs("h2",{className:"text-gray-900 mb-6 flex items-center gap-2",children:[n.jsx(da,{className:"w-6 h-6"}),"Secure Payment"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Cardholder Name"}),n.jsx(ge,{value:f.cardName,onChange:A=>m({...f,cardName:A.target.value}),placeholder:"John Doe",className:"h-12"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Card Number"}),n.jsx(ge,{value:f.cardNumber,onChange:A=>m({...f,cardNumber:A.target.value}),placeholder:"1234 5678 9012 3456",maxLength:19,className:"h-12"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Expiry Date"}),n.jsx(ge,{value:f.cardExpiry,onChange:A=>m({...f,cardExpiry:A.target.value}),placeholder:"MM/YY",maxLength:5,className:"h-12"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"CVV"}),n.jsx(ge,{value:f.cardCVV,onChange:A=>m({...f,cardCVV:A.target.value}),placeholder:"123",maxLength:4,className:"h-12"})]})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-gray-700 flex items-start gap-2 mt-6",children:[n.jsx(da,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),n.jsx("p",{children:"Your payment information is encrypted and secure"})]})]})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsx("div",{className:"lg:sticky lg:top-4 max-h-[calc(100vh-2rem)] overflow-y-auto",children:n.jsxs(ve,{className:"p-4 md:p-6",children:[n.jsx("h3",{className:"text-gray-900 mb-4",children:"Order Summary"}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Game:"}),n.jsx("span",{className:"text-gray-900",children:r.name})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Date:"}),n.jsx("span",{className:"text-gray-900",children:a&&On(a,"dd/MM/yyyy")})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Time:"}),n.jsx("span",{className:"text-gray-900",children:o})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Players:"}),n.jsx("span",{className:"text-gray-900",children:c})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("span",{className:"text-gray-900",children:"Total"}),n.jsxs("span",{className:"text-2xl text-gray-900",style:{color:t},children:["$",N]})]})]}),n.jsxs(J,{onClick:()=>{try{const A={gameName:r?.name||"",gameId:r?.id||"",date:a?On(a,"yyyy-MM-dd"):"",time:o,customerName:f.name,customerEmail:f.email,customerPhone:f.phone,participants:c,ticketTypes:[{id:"standard",name:"Standard Ticket",price:r?.price||0,quantity:c,subtotal:(r?.price||0)*c}],totalPrice:N},I=sl.saveBooking(A);console.log(" Resolvex booking saved:",I.id),h("success")}catch(A){console.error(" Error saving Resolvex booking:",A),alert("Error saving booking. Please try again.")}},disabled:!C(),className:"w-full text-white h-12",style:{backgroundColor:C()?t:void 0},children:[n.jsx(fa,{className:"w-4 h-4 mr-2"}),"Complete Payment $",N]})]})})})]})]})}),u==="success"&&r&&n.jsx("div",{className:"p-4 md:p-8 bg-gray-50 min-h-screen",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 md:py-12",children:[n.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-6",style:{backgroundColor:`${t}15`},children:n.jsx(Tt,{className:"w-12 h-12",style:{color:t}})}),n.jsx("h2",{className:"text-3xl text-gray-900 mb-2 text-center",children:"Booking Confirmed!"}),n.jsx("p",{className:"text-gray-600 mb-8 text-center",children:"Your escape room adventure is all set"}),n.jsx(ve,{className:"w-full p-4 md:p-6 mb-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Booking Number"}),n.jsx("span",{className:"text-gray-900",children:_})]}),n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Game"}),n.jsx("span",{className:"text-gray-900",children:r.name})]}),n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Date & Time"}),n.jsxs("span",{className:"text-gray-900",children:[a&&On(a,"dd/MM/yyyy")," at ",o]})]}),n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Players"}),n.jsxs("span",{className:"text-gray-900",children:[c," people"]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("span",{className:"text-gray-900",children:"Total Paid"}),n.jsxs("span",{className:"text-2xl text-gray-900",style:{color:t},children:["$",N]})]})]})}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 w-full",children:n.jsxs("p",{className:"text-sm text-gray-700 text-center",children:["A confirmation email has been sent to ",n.jsx("strong",{children:f.email})]})}),n.jsx(J,{onClick:E,className:"text-white px-8",style:{backgroundColor:t},children:"Book Another Experience"})]})})})]})}const gre=S.createContext(void 0);function Ow({children:t,initialTheme:e="light"}){const[r,s]=S.useState(e),[a,i]=S.useState({light:"#2563eb",dark:"#2563eb"}),o=()=>r==="light"?a.light:a.dark;return n.jsx(gre.Provider,{value:{widgetTheme:r,setWidgetTheme:s,primaryColor:a,setPrimaryColor:i,getCurrentPrimaryColor:o},children:t})}function vre(){const t=S.useContext(gre);if(t===void 0)throw new Error("useWidgetTheme must be used within a WidgetThemeProvider");return t}function yre({primaryColor:t,gameName:e="Mystery Manor",gameDescription:r="Uncover the dark secrets hidden in an abandoned Victorian mansion",config:s,gamePrice:a=30}){const{widgetTheme:i,getCurrentPrimaryColor:o}=vre(),l=t||o()||"#2563eb",c=i==="dark",[d,u]=S.useState(15),[h,f]=S.useState(null),[m,y]=S.useState(4),[g,v]=S.useState("booking"),[b,w]=S.useState(!1),[N,_]=S.useState(!1),[C,E]=S.useState(null),[A,I]=S.useState({name:"",email:"",phone:"",cardNumber:"",cardExpiry:"",cardCVV:"",cardName:""}),[$,O]=S.useState(!1),[P,M]=S.useState(null),[R,W]=S.useState(!1),[Y,K]=S.useState(null),[L,F]=S.useState(!1),[ee,se]=S.useState(""),q={name:e,description:r,price:a,duration:"60 min",difficulty:"Medium",difficultyLevel:3,players:"2-8 players",gameType:"physical",minAge:10,ageRecommendation:"10+",rating:4.9,reviewCount:234,location:"Downtown Location",image:"https://images.unsplash.com/photo-1576086213369-97a306d36557?w=1200&h=800&fit=crop",gallery:["https://images.unsplash.com/photo-1576086213369-97a306d36557?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1560184897-ae75f418493e?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1513002749550-c59d786b8e6c?w=800&h=600&fit=crop"],highlights:["Perfect for beginners","Family friendly","Award-winning design","Immersive storyline"],longDescription:"Step into the eerie halls of Mystery Manor, a Victorian mansion shrouded in darkness and secrets. As amateur detectives, your team has been hired to investigate the mysterious disappearance of the manor's last owner. Legend has it that the mansion is cursed, and those who enter never leave. You have 60 minutes to unravel the mystery, find the hidden clues, and escape before you become part of the manor's dark history.",story:"In 1897, the wealthy Blackwood family mysteriously vanished from their grand Victorian estate. The mansion has been abandoned ever since, with locals reporting strange noises and eerie lights in the windows.",whatToExpect:["Atmospheric Victorian-era setting with authentic period details","Mind-bending puzzles that require teamwork and communication","Hidden compartments and secret passages to discover","An engaging storyline that unfolds as you progress","Professional game master guidance throughout your adventure"],requirements:["Minimum age: 10 years old (children under 16 must be accompanied by an adult)","Recommended group size: 4-6 players for optimal experience","No prior escape room experience necessary","Comfortable clothing and closed-toe shoes recommended","Please arrive 15 minutes before your scheduled time"],faq:[{question:"Is this escape room scary?",answer:"Mystery Manor has a spooky atmosphere but is not designed to be frightening. It's more mysterious and intriguing than scary, making it perfect for families and first-timers."},{question:"What if we get stuck?",answer:"Your game master monitors your progress and can provide hints via a screen in the room. You can request hints at any time - there's no penalty for asking for help!"},{question:"Can we bring our own food or drinks?",answer:"We have a waiting lounge where you can enjoy food and drinks before or after your game. However, food and drinks are not allowed inside the escape room itself."}],reviews:[{name:"Sarah M.",rating:5,date:"November 2025",comment:"Amazing experience! Perfect for our family outing. The puzzles were challenging but doable with teamwork."},{name:"Mike T.",rating:5,date:"October 2025",comment:"Best escape room we've ever done! The atmosphere was incredible and the story kept us engaged throughout."}]},z=Array.isArray(s?.games)&&s.games.length>0?s.games[0]:null,Z=z?.coverImage||z?.imageUrl||z?.image||q.image,X=Array.isArray(z?.galleryImages)&&z.galleryImages.length>0?z.galleryImages:q.gallery,Q=[{time:"10:00 AM",available:!0,spots:6},{time:"11:30 AM",available:!0,spots:3},{time:"1:00 PM",available:!1,spots:0},{time:"2:30 PM",available:!0,spots:8},{time:"4:00 PM",available:!0,spots:5},{time:"5:30 PM",available:!0,spots:2},{time:"7:00 PM",available:!1,spots:0},{time:"8:30 PM",available:!0,spots:4}],ne=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ce=q.price*m,ie=P?P.type==="fixed"?P.discount:ce*P.discount/100:0,pe=Y?Y.amount:0,ae=Math.max(0,ce-ie-pe),be=h!==null,we=A.name&&A.email&&A.phone,Ie=A.cardNumber&&A.cardExpiry&&A.cardCVV&&A.cardName,Ee=async()=>{if(!(!Ie||L))try{F(!0);const Ve=s?.venueId||s?.venue?.id,Ke=z?.id||s?.gameId;if(!Ve||!Ke){me.error("Missing venue or game information"),console.error("Missing IDs:",{venueId:Ve,gameId:Ke,config:s});return}const yt=`2025-11-${String(d).padStart(2,"0")}`,[Mt,Gt]=h.split(":"),qt=`${Mt.padStart(2,"0")}:${Gt.padStart(2,"0")}:00`,Dt=`${String((parseInt(Mt)+1)%24).padStart(2,"0")}:${Gt.padStart(2,"0")}:00`,Nt=[{id:"standard",name:"Standard Ticket",price:q.price,quantity:m,subtotal:ce}],$r=await Sb.createWidgetBooking({venue_id:Ve,game_id:Ke,customer_name:A.name,customer_email:A.email,customer_phone:A.phone,booking_date:yt,start_time:qt,end_time:Dt,party_size:m,ticket_types:Nt,total_amount:ce,final_amount:ae,promo_code:P?.code,notes:`Payment: ${A.cardNumber.slice(-4)}`});$r&&(se($r.confirmation_code),v("success"),me.success("Booking confirmed!"),console.log(" Booking created:",$r))}catch(Ve){console.error(" Error creating booking:",Ve),me.error(Ve.message||"Failed to create booking. Please try again.")}finally{F(!1)}},H=()=>{v("booking"),u(15),f(null),y(4),se(""),M(null),K(null),I({name:"",email:"",phone:"",cardNumber:"",cardExpiry:"",cardCVV:"",cardName:""})},Le=s?.streetAddress||s?.address||q?.location?.address,Ye=s?.city||q?.location?.city,xt=s?.state||q?.location?.state,qe=s?.zipCode||s?.postalCode||q?.location?.zip||q?.location?.postalCode,ft=s?.country||q?.location?.country,ke=[Le,Ye,xt,qe,ft].filter(Boolean).join(", ");S.useEffect(()=>{const Ve=s?.seoTitle||`${q.name} | ${s?.businessName||"Booking"}`;if(typeof document<"u"){document.title=Ve;const Ke=(At,Dt)=>{if(!Dt)return;let Nt=document.querySelector(`meta[name="${At}"]`);Nt||(Nt=document.createElement("meta"),Nt.setAttribute("name",At),document.head.appendChild(Nt)),Nt.setAttribute("content",Dt)},yt=(At,Dt)=>{if(!Dt)return;let Nt=document.querySelector(`meta[property="${At}"]`);Nt||(Nt=document.createElement("meta"),Nt.setAttribute("property",At),document.head.appendChild(Nt)),Nt.setAttribute("content",Dt)},Mt=s?.metaDescription||q.description,Gt=Array.isArray(s?.seoKeywords)?s.seoKeywords.join(", "):s?.seoKeywords||"";Ke("description",Mt),Ke("keywords",Gt),yt("og:title",Ve),yt("og:description",Mt),yt("og:image",Z),yt("og:type","website"),Ke("twitter:card","summary_large_image"),Ke("twitter:title",Ve),Ke("twitter:description",Mt),Ke("twitter:image",Z);const qt=document.getElementById("calendar-singlegame-jsonld");if(s?.enableLocalBusinessSchema){const At=ke?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(ke)}`:void 0,Dt={"@context":"https://schema.org","@type":"LocalBusiness",name:s?.businessName||q.name,image:Z,description:Mt,address:Le||Ye||xt||qe||ft?{"@type":"PostalAddress",streetAddress:Le,addressLocality:Ye,addressRegion:xt,postalCode:qe,addressCountry:ft}:void 0,telephone:s?.phoneNumber,email:s?.emailAddress,hasMap:At},Nt=qt||document.createElement("script");Nt.type="application/ld+json",Nt.id="calendar-singlegame-jsonld",Nt.textContent=JSON.stringify(Dt,null,2),qt||document.head.appendChild(Nt)}else qt&&qt.remove()}return()=>{const Ke=document.getElementById("calendar-singlegame-jsonld");Ke&&Ke.remove()}},[s,Z,q.description,q.name,ke,Le,Ye,xt,qe,ft]);const lt=Ve=>{switch(Ve){case"Easy":return"bg-green-500 text-white";case"Medium":return"bg-yellow-500 text-white";case"Hard":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}};return n.jsxs("div",{className:`w-full min-h-screen ${c?"bg-[#161616]":"bg-gray-50"} transition-colors`,children:[n.jsx(or,{open:b,onOpenChange:w,children:n.jsxs(lr,{className:`!w-screen !h-screen !max-w-none !max-h-none sm:!w-[95vw] sm:!h-[95vh] sm:!max-w-[1200px] sm:!max-h-[95vh] !rounded-none sm:!rounded-xl overflow-hidden p-0 ${c?"bg-gradient-to-b from-[#161616] to-[#0a0a0a]":"bg-gradient-to-b from-white to-gray-50"} flex flex-col`,children:[n.jsx("button",{onClick:()=>w(!1),className:`absolute top-4 right-4 z-50 w-10 h-10 rounded-full ${c?"bg-[#1a1a1a] border-[#2a2a2a]":"bg-white border-gray-200"} shadow-lg hover:shadow-xl flex items-center justify-center transition-all hover:scale-110 border`,"aria-label":"Close dialog",children:n.jsx(In,{className:`w-5 h-5 ${c?"text-gray-300":"text-gray-600"}`})}),n.jsx(d0,{children:n.jsxs(Nr,{children:[n.jsx(cr,{children:q.name}),n.jsxs(xr,{children:["Complete guide to ",q.name," escape room - ",q.difficulty," difficulty, ",q.duration," duration, suitable for ages ",q.ageRecommendation,"."]})]})}),n.jsx("div",{className:"flex-1 overflow-hidden",children:n.jsxs(Ps,{className:"h-full w-full",children:[n.jsxs("div",{className:"relative w-full h-[400px] sm:h-[500px] overflow-hidden",children:[n.jsx(Fn,{src:Z,alt:q.name,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 sm:p-8 lg:p-12 text-white",children:n.jsxs("div",{className:"max-w-5xl mx-auto",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[n.jsx(ze,{className:`${lt(q.difficulty)} border-0 shadow-lg px-3 py-1.5`,children:q.difficulty}),n.jsxs("div",{className:"flex items-center gap-1.5 bg-white/10 backdrop-blur-md px-3 py-1.5 rounded-full border border-white/20",children:[n.jsx(yn,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),n.jsx("span",{className:"text-sm",children:q.rating}),n.jsxs("span",{className:"text-xs text-gray-200",children:["(",q.reviewCount,")"]})]})]}),n.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl mb-4",children:q.name}),n.jsx("p",{className:"text-lg sm:text-xl text-gray-100 mb-6 max-w-3xl",children:q.description}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full",children:[n.jsx(Qt,{className:"w-5 h-5"}),n.jsx("span",{children:q.duration})]}),n.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full",children:[n.jsx(Wr,{className:"w-5 h-5"}),n.jsxs("span",{children:[q.players," players"]})]}),n.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full",children:[n.jsx(Gf,{className:"w-5 h-5"}),n.jsxs("span",{children:["Age ",q.ageRecommendation]})]})]})]})})]}),n.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 space-y-8 sm:space-y-12",children:[n.jsxs("section",{children:[n.jsxs("h2",{className:"text-2xl sm:text-3xl text-gray-900 mb-6 flex items-center gap-3",children:[n.jsx(Kp,{className:"w-7 h-7",style:{color:l}}),"Photo Gallery"]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:X.map((Ve,Ke)=>n.jsx("div",{className:"aspect-video rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-105",children:n.jsx(Fn,{src:Ve,alt:`${q.name} - Image ${Ke+1}`,className:"w-full h-full object-cover"})},Ke))})]}),n.jsxs("section",{className:`${c?"bg-[#1a1a1a] border-[#2a2a2a]":"bg-white border-gray-200"} rounded-2xl p-6 sm:p-8 shadow-lg border`,children:[n.jsxs("h2",{className:`text-2xl sm:text-3xl ${c?"text-gray-100":"text-gray-900"} mb-4 flex items-center gap-3`,children:[n.jsx(Md,{className:"w-7 h-7",style:{color:l}}),"The Story"]}),n.jsx("p",{className:`text-base sm:text-lg ${c?"text-gray-300":"text-gray-700"} leading-relaxed mb-6`,children:q.longDescription}),n.jsx("p",{className:`text-base ${c?"text-gray-400":"text-gray-600"} leading-relaxed`,children:q.story})]}),n.jsxs("section",{children:[n.jsxs("h2",{className:"text-2xl sm:text-3xl text-gray-900 mb-6 flex items-center gap-3",children:[n.jsx(ma,{className:"w-7 h-7",style:{color:l}}),"Key Highlights"]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:q.highlights.map((Ve,Ke)=>n.jsxs("div",{className:"flex items-center gap-3 bg-white rounded-xl p-4 shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${l}15`},children:n.jsx(Gd,{className:"w-5 h-5",style:{color:l}})}),n.jsx("span",{className:"text-gray-800",children:Ve})]},Ke))})]}),n.jsxs("section",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 sm:p-8 border-2",style:{borderColor:`${l}20`},children:[n.jsxs("h2",{className:"text-2xl sm:text-3xl text-gray-900 mb-6 flex items-center gap-3",children:[n.jsx(rs,{className:"w-7 h-7",style:{color:l}}),"What to Expect"]}),n.jsx("ul",{className:"space-y-4",children:q.whatToExpect.map((Ve,Ke)=>n.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[n.jsx(Tt,{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:l}}),n.jsx("span",{className:"text-base",children:Ve})]},Ke))})]}),n.jsxs("section",{className:"bg-white rounded-2xl p-6 sm:p-8 shadow-lg border border-gray-200",children:[n.jsxs("h2",{className:"text-2xl sm:text-3xl text-gray-900 mb-6 flex items-center gap-3",children:[n.jsx(Xn,{className:"w-7 h-7",style:{color:l}}),"Requirements & Guidelines"]}),n.jsx("ul",{className:"space-y-4",children:q.requirements.map((Ve,Ke)=>n.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[n.jsx(Dh,{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:l}}),n.jsx("span",{className:"text-base",children:Ve})]},Ke))})]}),n.jsxs("section",{children:[n.jsxs("h2",{className:"text-2xl sm:text-3xl text-gray-900 mb-6 flex items-center gap-3",children:[n.jsx(Wf,{className:"w-7 h-7",style:{color:l}}),"Frequently Asked Questions"]}),n.jsx(hre,{type:"single",collapsible:!0,className:"space-y-3",children:q.faq.map((Ve,Ke)=>n.jsxs(o1,{value:`faq-${Ke}`,className:"bg-white rounded-xl border border-gray-200 px-6 shadow-sm hover:shadow-md transition-shadow",children:[n.jsx(l1,{className:"text-left text-base sm:text-lg text-gray-900 hover:no-underline py-4",children:Ve.question}),n.jsx(c1,{className:"text-gray-600 pb-4 text-base leading-relaxed",children:Ve.answer})]},Ke))})]}),n.jsxs("section",{children:[n.jsxs("h2",{className:"text-2xl sm:text-3xl text-gray-900 mb-6 flex items-center gap-3",children:[n.jsx(yn,{className:"w-7 h-7 fill-yellow-400 text-yellow-400"}),"Customer Reviews"]}),n.jsx("div",{className:"space-y-4",children:q.reviews.map((Ve,Ke)=>n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-900",children:Ve.name}),n.jsx("p",{className:"text-sm text-gray-500",children:Ve.date})]}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5}).map((yt,Mt)=>n.jsx(yn,{className:`w-4 h-4 ${Mt<Ve.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},Mt))})]}),n.jsx("p",{className:"text-gray-700",children:Ve.comment})]},Ke))})]})]})]})})]})}),n.jsx(or,{open:N,onOpenChange:_,children:n.jsxs(lr,{className:"!w-screen !h-screen !max-w-none !max-h-none sm:!w-[90vw] sm:!h-auto sm:!max-w-[1200px] !rounded-none sm:!rounded-lg p-0 overflow-hidden bg-black",children:[n.jsxs(d0,{children:[n.jsxs(cr,{children:[q.name," Video"]}),n.jsxs(xr,{children:["Watch the video trailer for ",q.name," escape room experience"]})]}),n.jsx("div",{className:"relative aspect-video w-full bg-black",children:n.jsx("video",{className:"w-full h-full",controls:!0,autoPlay:!0,src:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",children:"Your browser does not support the video tag."})})]})}),g==="booking"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"relative h-[280px] sm:h-[320px] bg-black overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0",children:n.jsx(Fn,{src:Z,alt:`${q.name} escape room experience`,className:"w-full h-full object-cover"})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-black/30"}),n.jsxs("div",{className:"relative h-full flex flex-col justify-between",children:[n.jsxs("div",{className:"flex items-start justify-between p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ze,{className:"bg-yellow-500 text-black border-0 px-2.5 py-1 text-xs",children:[n.jsx(ma,{className:"w-3 h-3 mr-1"}),"Featured"]}),n.jsxs("div",{className:"flex items-center gap-1 bg-white/20 backdrop-blur-md px-2.5 py-1 rounded-md",children:[n.jsx(yn,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),n.jsx("span",{className:"text-white text-xs",children:q.rating}),n.jsxs("span",{className:"text-gray-200 text-xs",children:["(",q.reviewCount,")"]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>w(!0),className:"bg-white/20 backdrop-blur-md text-white px-3 py-1.5 rounded-lg border border-white/30 hover:bg-white/30 transition-all flex items-center gap-1.5 text-xs",title:"View Gallery",children:[n.jsx(qc,{className:"w-3.5 h-3.5"}),n.jsx("span",{className:"hidden sm:inline",children:"Gallery"})]}),n.jsxs("button",{onClick:()=>_(!0),className:"bg-white/20 backdrop-blur-md text-white px-3 py-1.5 rounded-lg border border-white/30 hover:bg-white/30 transition-all flex items-center gap-1.5 text-xs",title:"Watch Video",children:[n.jsx(Au,{className:"w-3.5 h-3.5 fill-white"}),n.jsx("span",{className:"hidden sm:inline",children:"Video"})]})]})]}),n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl text-white mb-2 drop-shadow-lg tracking-tight",children:q.name}),n.jsx("p",{className:"text-sm sm:text-base text-gray-200 mb-4 max-w-2xl line-clamp-2",children:q.description}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[n.jsxs("div",{className:"flex items-center gap-1.5 bg-white/10 backdrop-blur-md px-3 py-1.5 rounded-lg border border-white/20",children:[n.jsx(Qt,{className:"w-3.5 h-3.5 text-white"}),n.jsx("span",{className:"text-xs text-white",children:q.duration})]}),n.jsxs("div",{className:"flex items-center gap-1.5 bg-white/10 backdrop-blur-md px-3 py-1.5 rounded-lg border border-white/20",children:[n.jsx(Wr,{className:"w-3.5 h-3.5 text-white"}),n.jsx("span",{className:"text-xs text-white",children:q.players})]}),n.jsxs("div",{className:"flex items-center gap-1.5 bg-white/10 backdrop-blur-md px-3 py-1.5 rounded-lg border border-white/20",children:[n.jsx(Dh,{className:"w-3.5 h-3.5 text-white"}),n.jsx("span",{className:"text-xs text-white",children:q.difficulty})]}),n.jsxs("div",{className:"flex items-center gap-1.5 bg-white/10 backdrop-blur-md px-3 py-1.5 rounded-lg border border-white/20",children:[n.jsx(Dh,{className:"w-3.5 h-3.5 text-white"}),n.jsx("span",{className:"text-xs text-white",children:q.gameType})]}),n.jsxs("div",{className:"flex items-center gap-1.5 bg-white/10 backdrop-blur-md px-3 py-1.5 rounded-lg border border-white/20",children:[n.jsx(El,{className:"w-3.5 h-3.5 text-white"}),n.jsx("span",{className:"text-xs text-white",children:q.location})]})]}),n.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[n.jsxs("button",{onClick:()=>w(!0),className:"bg-white/10 backdrop-blur-md text-white px-3 py-1.5 rounded-lg border border-white/30 hover:bg-white/20 transition-all flex items-center gap-1.5 text-xs",title:"View Gallery",children:[n.jsx(qc,{className:"w-3.5 h-3.5"}),n.jsx("span",{children:"View Gallery"})]}),n.jsxs("button",{onClick:()=>_(!0),className:"bg-white/10 backdrop-blur-md text-white px-3 py-1.5 rounded-lg border border-white/30 hover:bg-white/20 transition-all flex items-center gap-1.5 text-xs",title:"Watch Video",children:[n.jsx(Au,{className:"w-3.5 h-3.5 fill-white"}),n.jsx("span",{children:"Watch Video"})]})]})]})]})]}),n.jsx("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[n.jsxs(ve,{className:"p-6 sm:p-8 bg-white shadow-sm border border-gray-200 rounded-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6 gap-2",children:[n.jsx("h2",{className:"text-lg sm:text-xl text-gray-900",children:"Select Date"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(J,{variant:"outline",size:"icon",className:"h-10 w-10 rounded-lg border-gray-300 hover:bg-gray-50",children:n.jsx(qn,{className:"w-4 h-4"})}),n.jsx("span",{className:"text-sm sm:text-base text-gray-900 px-2 whitespace-nowrap min-w-[140px] text-center",children:"November 2025"}),n.jsx(J,{variant:"outline",size:"icon",className:"h-10 w-10 rounded-lg border-gray-300 hover:bg-gray-50",children:n.jsx(Ds,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"grid grid-cols-7 gap-2 sm:gap-3",children:[ne.map(Ve=>n.jsx("div",{className:"text-center text-sm text-gray-600 py-2",children:Ve},Ve)),Array.from({length:30}).map((Ve,Ke)=>{const yt=Ke+1,Mt=d===yt,Gt=yt>0,qt=yt===12;return n.jsx("button",{onClick:()=>Gt&&u(yt),disabled:!Gt,className:`
                            aspect-square rounded-xl text-base transition-all flex items-center justify-center
                            ${qt&&!Mt?"text-white shadow-md":Mt?"text-gray-900 border-2 shadow-sm bg-white hover:bg-gray-50":Gt?"text-gray-700 hover:bg-gray-50 border border-gray-200":"text-gray-300 cursor-not-allowed border border-gray-100"}
                          `,style:{backgroundColor:qt&&!Mt?l:void 0,borderColor:Mt?l:void 0},children:yt},Ke)})]})]}),d&&n.jsxs(ve,{className:"p-6 sm:p-8 bg-white shadow-sm border border-gray-200 rounded-2xl",children:[n.jsxs("h2",{className:"text-lg sm:text-xl text-gray-900 mb-4 sm:mb-6",children:["Available Times - Nov ",d]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4",children:Q.map(Ve=>n.jsxs("button",{onClick:()=>Ve.available&&f(Ve.time),disabled:!Ve.available,className:`
                            p-4 sm:p-5 rounded-xl border-2 text-center transition-all
                            ${h===Ve.time?"shadow-lg transform scale-105":Ve.available?"border-gray-200 hover:border-gray-300 hover:shadow-md hover:scale-102":"border-gray-100 cursor-not-allowed opacity-50"}
                          `,style:{backgroundColor:h===Ve.time?l:void 0,borderColor:h===Ve.time?l:void 0},children:[n.jsx("div",{className:`text-sm sm:text-base mb-2 ${h===Ve.time?"text-white":Ve.available?"text-gray-900":"text-gray-400"}`,children:Ve.time}),Ve.available?n.jsxs("div",{className:`text-xs ${h===Ve.time?"text-white/90":"text-green-600"}`,children:[Ve.spots," spots left"]}):n.jsx("div",{className:"text-xs text-red-500",children:"Sold Out"})]},Ve.time))})]})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsx("div",{className:"lg:sticky lg:top-4",children:n.jsx(ve,{className:"p-6 sm:p-8 bg-gradient-to-br from-white to-gray-50 shadow-2xl border-2 rounded-2xl max-h-[calc(100vh-2rem)] overflow-y-auto",style:{borderColor:`${l}20`},children:n.jsxs("div",{className:"space-y-6 pb-20 sm:pb-6",children:[n.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b-2",style:{borderColor:`${l}20`},children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:`${l}15`},children:n.jsx(Ua,{className:"w-5 h-5",style:{color:l}})}),n.jsx("h2",{className:"text-xl text-gray-900",children:"Your Booking"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:[n.jsxs("label",{className:"text-sm text-gray-700 mb-3 flex items-center gap-2",children:[n.jsx(Wr,{className:"w-4 h-4",style:{color:l}}),n.jsx("span",{className:"",children:"Number of Players"})]}),n.jsxs("div",{className:"flex items-center justify-between gap-4 mt-3",children:[n.jsx(J,{variant:"outline",size:"icon",onClick:()=>y(Math.max(2,m-1)),className:"h-12 w-12 rounded-full hover:scale-110 transition-transform",style:{borderColor:l,color:l},children:"-"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl text-gray-900",style:{color:l},children:m}),n.jsx("div",{className:"text-xs text-gray-500",children:"players"})]}),n.jsx(J,{variant:"outline",size:"icon",onClick:()=>y(Math.min(10,m+1)),className:"h-12 w-12 rounded-full hover:scale-110 transition-transform",style:{borderColor:l,color:l},children:"+"})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-600 flex items-center gap-2",children:[n.jsx(Dh,{className:"w-4 h-4",style:{color:l}}),"Game"]}),n.jsx("span",{className:"text-gray-900 text-right truncate max-w-[55%]",children:q.name})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-600 flex items-center gap-2",children:[n.jsx(Nn,{className:"w-4 h-4",style:{color:l}}),"Date"]}),n.jsxs("span",{className:"text-gray-900",children:["Nov ",d,", 2025"]})]}),h&&n.jsxs(n.Fragment,{children:[n.jsx(tt,{}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-600 flex items-center gap-2",children:[n.jsx(Qt,{className:"w-4 h-4",style:{color:l}}),"Time"]}),n.jsx("span",{className:"text-gray-900",children:h})]})]})]})}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-5 border-2",style:{borderColor:`${l}30`},children:[n.jsxs("div",{className:"flex justify-between mb-3 text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal"}),n.jsxs("span",{className:"text-gray-900",children:["$",q.price,"  ",m]})]}),n.jsx(tt,{className:"my-3"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-base text-gray-900",children:"Total"}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-3xl",style:{color:l},children:["$",ae]}),n.jsx("div",{className:"text-xs text-gray-500",children:"USD"})]})]})]}),s?.showLocationBlock!==!1&&(ke||s?.phoneNumber||s?.emailAddress)&&n.jsxs("div",{className:"rounded-xl p-5 border-2 bg-white",style:{borderColor:`${l}30`},children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(El,{className:"w-4 h-4",style:{color:l}}),n.jsx("span",{className:"text-sm text-gray-900",children:"Location & Info"})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[ke&&n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsx("span",{className:"text-gray-600",children:"Address"}),n.jsx("span",{className:"text-gray-900 text-right",children:ke})]}),s?.phoneNumber&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Phone"}),n.jsx("a",{href:`tel:${s.phoneNumber}`,className:"text-gray-900 hover:underline",children:s.phoneNumber})]}),s?.emailAddress&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Email"}),n.jsx("a",{href:`mailto:${s.emailAddress}`,className:"text-gray-900 hover:underline",children:s.emailAddress})]}),ke&&n.jsx("div",{className:"pt-2",children:n.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(ke)}`,target:"_blank",rel:"noreferrer",className:"text-sm font-medium hover:underline",style:{color:l},children:"Get directions"})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(J,{onClick:()=>w(!0),variant:"outline",className:"w-full h-12 text-base border-2 hover:bg-gray-50",style:{borderColor:`${l}30`,color:l},children:[n.jsx(rs,{className:"w-4 h-4 mr-2"}),"See Full Details"]}),n.jsxs(J,{onClick:()=>v("cart"),disabled:!be,className:"w-full text-white h-14 text-lg shadow-xl hover:shadow-2xl transform hover:scale-[1.02] transition-all relative overflow-hidden group",style:{backgroundColor:be?l:void 0,opacity:be?1:.5},children:[n.jsx("div",{className:"absolute inset-0 bg-white/20 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),n.jsx(Ua,{className:"w-5 h-5 mr-2 relative z-10"}),n.jsx("span",{className:"relative z-10",children:h?"Continue to Cart":"Select Time to Continue"})]}),!h&&n.jsx("p",{className:"text-xs text-center text-gray-500 mt-2",children:"Please select a time slot to continue"})]})]})})})})]})})]}),g==="cart"&&n.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-8",children:[n.jsxs(J,{onClick:()=>v("booking"),variant:"outline",className:"mb-6",children:[n.jsx(qn,{className:"w-4 h-4 mr-2"}),"Back to Booking"]}),n.jsxs(ve,{className:"p-4 md:p-6",children:[n.jsxs("h2",{className:"text-2xl text-gray-900 mb-6 flex items-center gap-2",children:[n.jsx(Ua,{className:"w-6 h-6"}),"Your Cart"]}),n.jsx("div",{className:"p-4 bg-gray-50 rounded-lg mb-6",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden flex-shrink-0",children:n.jsx(Fn,{src:Z,alt:q.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg text-gray-900 mb-1",children:q.name}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("div",{children:["Date: Nov ",d,", 2025 at ",h]}),n.jsxs("div",{children:["Players: ",m,"  $",q.price]})]})]}),n.jsxs("div",{className:"text-xl text-gray-900",style:{color:l},children:["$",ce]})]})}),n.jsx(tt,{className:"my-6"}),n.jsx("h3",{className:"text-xl text-gray-900 mb-4",children:"Your Information"}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"flex items-center gap-2",children:[n.jsx(ca,{className:"w-4 h-4"}),"Full Name"]}),n.jsx(ge,{value:A.name,onChange:Ve=>I({...A,name:Ve.target.value}),placeholder:"John Doe",className:"h-12"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"flex items-center gap-2",children:[n.jsx(Gn,{className:"w-4 h-4"}),"Email Address"]}),n.jsx(ge,{type:"email",value:A.email,onChange:Ve=>I({...A,email:Ve.target.value}),placeholder:"john@example.com",className:"h-12"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{className:"flex items-center gap-2",children:[n.jsx(Gs,{className:"w-4 h-4"}),"Phone Number"]}),n.jsx(ge,{type:"tel",value:A.phone,onChange:Ve=>I({...A,phone:Ve.target.value}),placeholder:"+1 (555) 123-4567",className:"h-12"})]})]}),n.jsx(tt,{className:"my-6"}),n.jsxs("div",{className:"space-y-2 mt-4 mb-6",children:[n.jsxs("div",{children:[!P&&!$&&n.jsx("button",{onClick:()=>O(!0),className:`text-sm hover:underline ${c?"text-[#6366f1]":"text-blue-500"}`,children:"Add promo code"}),$&&!P&&n.jsx(Vu,{onApply:(Ve,Ke,yt)=>{M({code:Ve,discount:Ke,type:yt}),O(!1)},className:"mb-2"}),P&&n.jsx(Vu,{onApply:(Ve,Ke,yt)=>{M({code:Ve,discount:Ke,type:yt})},onRemove:()=>M(null),appliedCode:P.code,appliedDiscount:P.discount,appliedType:P.type,className:"mb-2"})]}),n.jsxs("div",{children:[!Y&&!R&&n.jsx("button",{onClick:()=>W(!0),className:`text-sm hover:underline ${c?"text-[#6366f1]":"text-blue-500"}`,children:"Apply gift card"}),R&&!Y&&n.jsx(Wu,{onApply:(Ve,Ke)=>{K({code:Ve,amount:Ke}),W(!1)},className:"mb-2"}),Y&&n.jsx(Wu,{onApply:(Ve,Ke)=>{K({code:Ve,amount:Ke})},onRemove:()=>K(null),appliedCode:Y.code,appliedAmount:Y.amount,className:"mb-2"})]})]}),n.jsx(tt,{className:"my-6"}),n.jsxs("div",{className:"space-y-3 mb-6 p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between text-base",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal"}),n.jsxs("span",{className:"text-gray-900",children:["$",ce]})]}),P&&n.jsxs("div",{className:"flex justify-between text-base",children:[n.jsx("span",{className:"text-green-600",children:"Promo Code Discount"}),n.jsxs("span",{className:"text-green-600",children:["-$",ie]})]}),Y&&n.jsxs("div",{className:"flex justify-between text-base",children:[n.jsx("span",{className:"text-blue-600",children:"Gift Card Credit"}),n.jsxs("span",{className:"text-blue-600",children:["-$",pe]})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("span",{className:"text-xl text-gray-900",children:"Total Amount"}),n.jsxs("span",{className:"text-3xl text-gray-900",style:{color:l},children:["$",ae]})]})]}),n.jsxs(J,{onClick:()=>v("checkout"),disabled:!we,className:"w-full text-white h-14 text-lg shadow-lg hover:shadow-xl",style:{backgroundColor:we?l:void 0},children:["Proceed to Checkout",n.jsx(qn,{className:"w-5 h-5 ml-2 rotate-180"})]})]})]}),g==="checkout"&&n.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-8",children:[n.jsxs(J,{onClick:()=>v("cart"),variant:"outline",className:"mb-6",children:[n.jsx(qn,{className:"w-4 h-4 mr-2"}),"Back to Cart"]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ve,{className:"p-4 md:p-6",children:[n.jsxs("h2",{className:"text-2xl text-gray-900 mb-6 flex items-center gap-2",children:[n.jsx(da,{className:"w-6 h-6"}),"Secure Payment"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Cardholder Name"}),n.jsx(ge,{value:A.cardName,onChange:Ve=>I({...A,cardName:Ve.target.value}),placeholder:"John Doe",className:"h-12"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Card Number"}),n.jsx(ge,{value:A.cardNumber,onChange:Ve=>I({...A,cardNumber:Ve.target.value}),placeholder:"1234 5678 9012 3456",maxLength:19,className:"h-12"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Expiry Date"}),n.jsx(ge,{value:A.cardExpiry,onChange:Ve=>I({...A,cardExpiry:Ve.target.value}),placeholder:"MM/YY",maxLength:5,className:"h-12"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"CVV"}),n.jsx(ge,{value:A.cardCVV,onChange:Ve=>I({...A,cardCVV:Ve.target.value}),placeholder:"123",maxLength:4,className:"h-12"})]})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-gray-700 flex items-start gap-2 mt-6",children:[n.jsx(da,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),n.jsx("p",{children:"Your payment information is encrypted and secure"})]})]})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsx("div",{className:"lg:sticky lg:top-4",children:n.jsxs(ve,{className:"p-4 md:p-6",children:[n.jsx("h3",{className:"text-xl text-gray-900 mb-4",children:"Order Summary"}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Experience:"}),n.jsx("span",{className:"text-gray-900",children:q.name})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Date:"}),n.jsxs("span",{className:"text-gray-900",children:["Nov ",d,", 2025"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Time:"}),n.jsx("span",{className:"text-gray-900",children:h})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Players:"}),n.jsx("span",{className:"text-gray-900",children:m})]}),n.jsx(tt,{}),P&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-green-600",children:"Promo Discount:"}),n.jsxs("span",{className:"text-green-600",children:["-$",ie]})]}),Y&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-blue-600",children:"Gift Card:"}),n.jsxs("span",{className:"text-blue-600",children:["-$",pe]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("span",{className:"text-lg text-gray-900",children:"Total"}),n.jsxs("span",{className:"text-2xl text-gray-900",style:{color:l},children:["$",ae]})]})]}),n.jsxs(J,{onClick:Ee,disabled:!Ie||L,className:"w-full text-white h-14 text-lg shadow-lg hover:shadow-xl",style:{backgroundColor:Ie&&!L?l:void 0},children:[n.jsx(fa,{className:"w-5 h-5 mr-2"}),L?"Processing...":`Complete Payment $${ae}`]})]})})})]})]}),g==="success"&&n.jsx("div",{className:"max-w-4xl mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 md:py-12",children:[n.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center mb-6 animate-pulse",style:{backgroundColor:`${l}15`},children:n.jsx(Tt,{className:"w-16 h-16",style:{color:l}})}),n.jsx("h2",{className:"text-4xl text-gray-900 mb-3 text-center",children:"Booking Confirmed!"}),n.jsx("p",{className:"text-xl text-gray-600 mb-8 text-center",children:"Your escape room adventure is all set"}),n.jsx(ve,{className:"w-full p-6 md:p-8 mb-6 shadow-xl",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Booking Number"}),n.jsx("span",{className:"text-xl text-gray-900",children:ee})]}),n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Experience"}),n.jsx("span",{className:"text-gray-900",children:q.name})]}),n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Date & Time"}),n.jsxs("span",{className:"text-gray-900",children:["Nov ",d,", 2025 at ",h]})]}),n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Players"}),n.jsxs("span",{className:"text-gray-900",children:[m," people"]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsx("span",{className:"text-xl text-gray-900",children:"Total Paid"}),n.jsxs("span",{className:"text-3xl text-gray-900",style:{color:l},children:["$",ae]})]})]})}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 w-full",children:n.jsxs("p",{className:"text-sm text-gray-700 text-center",children:["A confirmation email has been sent to ",n.jsx("strong",{children:A.email})]})}),n.jsx(J,{onClick:H,className:"text-white px-8 h-14 text-lg shadow-lg",style:{backgroundColor:l},children:"Book Another Experience"})]})})]})}function UO({children:t,className:e=""}){return n.jsx("div",{className:`w-full h-full overflow-auto overscroll-contain ${e}`,children:n.jsx("div",{className:"min-h-full",children:t})})}function HUe({isOpen:t,onClose:e,primaryColor:r="#4f46e5",theme:s="light"}){const[a,i]=S.useState(s),[o,l]=S.useState("amount"),[c,d]=S.useState(null),[u,h]=S.useState(""),[f,m]=S.useState([{id:"1",name:"",email:""}]),[y,g]=S.useState(""),[v,b]=S.useState(""),[w,N]=S.useState(""),[_,C]=S.useState("general"),[E,A]=S.useState({cardNumber:"",expiryDate:"",cvv:"",billingEmail:""}),I=[50,100,150,200,250,500],$=[{id:"birthday",name:"Birthday",emoji:"",color:"#ec4899"},{id:"holiday",name:"Holiday",emoji:"",color:"#10b981"},{id:"celebration",name:"Celebration",emoji:"",color:"#f59e0b"},{id:"general",name:"General",emoji:"",color:"#6366f1"}],O=()=>{m([...f,{id:Date.now().toString(),name:"",email:""}])},P=X=>{f.length>1&&m(f.filter(Q=>Q.id!==X))},M=(X,Q,ne)=>{m(f.map(ce=>ce.id===X?{...ce,[Q]:ne}:ce))},R=()=>(c||parseInt(u)||0)*f.length,W=()=>{if(o==="amount"){if(!c&&!u){alert("Please select or enter an amount");return}l("recipients")}else if(o==="recipients"){if(f.some(Q=>!Q.name.trim()||!Q.email.trim())){alert("Please fill in all recipient details");return}l("customize")}else if(o==="customize"){if(!v.trim()){alert("Please enter your name");return}l("payment")}else if(o==="payment"){if(!E.cardNumber||!E.expiryDate||!E.cvv||!E.billingEmail){alert("Please fill in all payment details");return}try{const X=f.map(ce=>({name:ce.name,email:ce.email,status:"sent"})),Q={amount:c||parseInt(u),recipients:X,senderName:v,message:y,theme:_,deliveryDate:w},ne=sl.saveGiftVoucher(Q);console.log(" Gift voucher saved with real-time sync:",ne.id),console.log(" Total vouchers:",sl.getAllGiftVouchers().length),setTimeout(()=>{l("success")},1500)}catch(X){console.error(" Error saving gift voucher:",X),alert("Error saving gift voucher. Please try again.");return}}},Y=()=>{o==="recipients"?l("amount"):o==="customize"?l("recipients"):o==="payment"&&l("customize")},K=()=>{l("amount"),d(null),h(""),m([{id:"1",name:"",email:""}]),g(""),b(""),N(""),C("general"),A({cardNumber:"",expiryDate:"",cvv:"",billingEmail:""})};if(!t)return null;const L=a==="dark",F=L?"bg-[#0a0a0a]":"bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50",ee=L?"bg-[#161616]":"bg-white",se=L?"border-[#2a2a2a]":"border-gray-200",q=L?"text-white":"text-gray-900",z=L?"text-[#a3a3a3]":"text-gray-600",Z=L?"bg-[#1e1e1e] border-[#3a3a3a] text-white placeholder:text-[#737373]":"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500";return n.jsx(UO,{children:n.jsx("div",{className:`fixed inset-0 z-50 ${F} overflow-y-auto`,children:n.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("div",{className:`${ee} border ${se} rounded-xl shadow-lg p-4 sm:p-6 mb-6 sticky top-0 z-10 backdrop-blur-sm ${L?"bg-[#161616]/95":"bg-white/95"}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ma,{className:"w-5 h-5 text-yellow-500 animate-pulse"}),n.jsx(Oo,{className:"w-8 h-8",style:{color:r}}),n.jsx(ma,{className:"w-5 h-5 text-yellow-500 animate-pulse"})]}),n.jsxs("div",{children:[n.jsx("h1",{className:`text-2xl ${q}`,children:"Gift Vouchers"}),n.jsx("p",{className:`text-sm ${z}`,children:"Give unforgettable experiences"})]})]}),n.jsx("button",{onClick:e,className:`p-2 rounded-lg transition-colors ${L?"hover:bg-[#1e1e1e] text-[#737373] hover:text-white":"hover:bg-gray-100 text-gray-400 hover:text-gray-600"}`,children:n.jsx(In,{className:"w-6 h-6"})})]})}),o!=="success"&&n.jsx("div",{className:`${ee} border ${se} rounded-xl p-6 mb-6 shadow-lg`,children:n.jsx("div",{className:"flex items-center justify-between",children:["amount","recipients","customize","payment"].map((X,Q)=>{const ne=o===X,ce=["amount","recipients","customize","payment"].indexOf(o)>Q;return n.jsxs(fe.Fragment,{children:[n.jsxs("div",{className:"flex flex-col items-center flex-1",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all ${ce?"bg-green-500 border-green-500 text-white":ne?"border-2 text-white":L?"bg-[#1e1e1e] border-[#3a3a3a] text-[#737373]":"bg-gray-100 border-gray-300 text-gray-400"}`,style:ne?{backgroundColor:r,borderColor:r}:void 0,children:ce?n.jsx(jn,{className:"w-5 h-5"}):Q+1}),n.jsx("span",{className:`text-xs mt-2 capitalize ${ne?L?"text-white":"text-gray-900":z}`,children:X==="amount"?"Amount":X==="recipients"?"Recipients":X==="customize"?"Customize":"Payment"})]}),Q<3&&n.jsx("div",{className:`h-0.5 flex-1 ${ce?"bg-green-500":L?"bg-[#2a2a2a]":"bg-gray-200"}`})]},X)})})}),o==="amount"&&n.jsxs("div",{className:`${ee} border ${se} rounded-xl p-6 sm:p-8 shadow-xl`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:`${r}20`},children:n.jsx(Ua,{className:"w-6 h-6",style:{color:r}})}),n.jsxs("div",{children:[n.jsx("h2",{className:`text-2xl ${q}`,children:"Select Amount"}),n.jsx("p",{className:z,children:"Choose a voucher value"})]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:I.map(X=>n.jsxs("button",{onClick:()=>{d(X),h("")},className:`p-6 rounded-xl border-2 transition-all hover:scale-105 ${c===X?"border-2":L?"border-[#2a2a2a] hover:border-[#3a3a3a]":"border-gray-200 hover:border-gray-300"}`,style:c===X?{borderColor:r,backgroundColor:L?`${r}20`:`${r}10`}:void 0,children:[n.jsxs("div",{className:`text-3xl mb-1 ${q}`,children:["$",X]}),n.jsx("div",{className:`text-sm ${z}`,children:"Per voucher"})]},X))}),n.jsx(tt,{className:`my-6 ${L?"bg-[#2a2a2a]":"bg-gray-200"}`}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:L?"text-white":"text-gray-700",children:"Or enter custom amount"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:`absolute left-3 top-1/2 -translate-y-1/2 text-xl ${z}`,children:"$"}),n.jsx(ge,{type:"number",placeholder:"0",value:u,onChange:X=>{h(X.target.value),d(null)},className:`pl-8 text-xl h-14 ${Z}`})]}),n.jsx("p",{className:`text-sm ${z}`,children:"Minimum $10, Maximum $1000"})]}),n.jsx("div",{className:"flex justify-end gap-3 mt-8",children:n.jsxs(J,{onClick:W,size:"lg",style:{backgroundColor:r},className:"text-white hover:opacity-90",children:["Continue",n.jsx(Ds,{className:"w-4 h-4 ml-2"})]})})]}),o==="recipients"&&n.jsxs("div",{className:`${ee} border ${se} rounded-xl p-6 sm:p-8 shadow-xl`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:n.jsx(Gn,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),n.jsxs("div",{children:[n.jsx("h2",{className:`text-2xl ${q}`,children:"Add Recipients"}),n.jsx("p",{className:z,children:"Who should receive the vouchers?"})]})]}),n.jsx("div",{className:"space-y-4 mb-6 max-h-[400px] overflow-y-auto pr-2",children:f.map((X,Q)=>n.jsxs("div",{className:`p-4 rounded-lg border ${se} ${L?"bg-[#1e1e1e]":"bg-gray-50"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs(ze,{variant:"outline",className:"text-xs",children:["Recipient ",Q+1]}),f.length>1&&n.jsx("button",{onClick:()=>P(X.id),className:`p-1 rounded hover:bg-red-100 dark:hover:bg-red-900/20 ${z} hover:text-red-600`,children:n.jsx(In,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:L?"text-white":"text-gray-700",children:"Recipient Name"}),n.jsx(ge,{placeholder:"John Doe",value:X.name,onChange:ne=>M(X.id,"name",ne.target.value),className:Z})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:L?"text-white":"text-gray-700",children:"Email Address"}),n.jsx(ge,{type:"email",placeholder:"john@example.com",value:X.email,onChange:ne=>M(X.id,"email",ne.target.value),className:Z})]})]})]},X.id))}),n.jsxs(J,{onClick:O,variant:"outline",className:`w-full mb-6 ${L?"border-[#3a3a3a] hover:bg-[#1e1e1e]":"border-gray-300"}`,children:[n.jsx(An,{className:"w-4 h-4 mr-2"}),"Add Another Recipient"]}),n.jsx(tt,{className:`my-6 ${L?"bg-[#2a2a2a]":"bg-gray-200"}`}),n.jsx("div",{className:`p-4 rounded-lg ${L?"bg-[#4f46e5]/10 border border-[#4f46e5]/30":"bg-indigo-50 border border-indigo-200"}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:z,children:"Total vouchers"}),n.jsxs("p",{className:`text-2xl ${q}`,children:[f.length,"  $",c||u||0]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:z,children:"Total amount"}),n.jsxs("p",{className:"text-3xl",style:{color:r},children:["$",R()]})]})]})}),n.jsxs("div",{className:"flex justify-between gap-3 mt-8",children:[n.jsxs(J,{onClick:Y,variant:"outline",size:"lg",className:L?"border-[#3a3a3a]":"",children:[n.jsx(qn,{className:"w-4 h-4 mr-2"}),"Back"]}),n.jsxs(J,{onClick:W,size:"lg",style:{backgroundColor:r},className:"text-white hover:opacity-90",children:["Continue",n.jsx(Ds,{className:"w-4 h-4 ml-2"})]})]})]}),o==="customize"&&n.jsxs("div",{className:`${ee} border ${se} rounded-xl p-6 sm:p-8 shadow-xl`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-pink-100 dark:bg-pink-900/30 flex items-center justify-center",children:n.jsx(Md,{className:"w-6 h-6 text-pink-600 dark:text-pink-400"})}),n.jsxs("div",{children:[n.jsx("h2",{className:`text-2xl ${q}`,children:"Personalize Your Gift"}),n.jsx("p",{className:z,children:"Add a special touch"})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:L?"text-white":"text-gray-700",children:"Your Name"}),n.jsx(ge,{placeholder:"From: Your Name",value:v,onChange:X=>b(X.target.value),className:Z})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:L?"text-white":"text-gray-700",children:"Gift Theme"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:$.map(X=>n.jsxs("button",{onClick:()=>C(X.id),className:`p-4 rounded-lg border-2 transition-all hover:scale-105 ${_===X.id?"border-2":L?"border-[#2a2a2a]":"border-gray-200"}`,style:_===X.id?{borderColor:r,backgroundColor:L?`${r}20`:`${r}10`}:void 0,children:[n.jsx("div",{className:"text-3xl mb-2",children:X.emoji}),n.jsx("div",{className:`text-sm ${q}`,children:X.name})]},X.id))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:L?"text-white":"text-gray-700",children:"Personal Message (Optional)"}),n.jsx(mn,{placeholder:"Add a heartfelt message...",value:y,onChange:X=>g(X.target.value),rows:4,maxLength:250,className:Z}),n.jsxs("p",{className:`text-sm ${z}`,children:[y.length,"/250 characters"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:L?"text-white":"text-gray-700",children:"Delivery Date (Optional)"}),n.jsx(ge,{type:"date",value:w,onChange:X=>N(X.target.value),className:Z}),n.jsx("p",{className:`text-sm ${z}`,children:"Leave blank to send immediately"})]})]}),n.jsxs("div",{className:"flex justify-between gap-3 mt-8",children:[n.jsxs(J,{onClick:Y,variant:"outline",size:"lg",className:L?"border-[#3a3a3a]":"",children:[n.jsx(qn,{className:"w-4 h-4 mr-2"}),"Back"]}),n.jsxs(J,{onClick:W,size:"lg",style:{backgroundColor:r},className:"text-white hover:opacity-90",children:["Continue to Payment",n.jsx(Ds,{className:"w-4 h-4 ml-2"})]})]})]}),o==="payment"&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs("div",{className:`${ee} border ${se} rounded-xl p-6 sm:p-8 shadow-xl`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:n.jsx(fa,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx("h2",{className:`text-2xl ${q}`,children:"Payment Details"}),n.jsx("p",{className:z,children:"Secure checkout"})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:L?"text-white":"text-gray-700",children:"Card Number"}),n.jsx(ge,{placeholder:"1234 5678 9012 3456",value:E.cardNumber,onChange:X=>A({...E,cardNumber:X.target.value}),className:Z})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:L?"text-white":"text-gray-700",children:"Expiry Date"}),n.jsx(ge,{placeholder:"MM/YY",value:E.expiryDate,onChange:X=>A({...E,expiryDate:X.target.value}),className:Z})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:L?"text-white":"text-gray-700",children:"CVV"}),n.jsx(ge,{placeholder:"123",value:E.cvv,onChange:X=>A({...E,cvv:X.target.value}),className:Z})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:L?"text-white":"text-gray-700",children:"Billing Email"}),n.jsx(ge,{type:"email",placeholder:"your@email.com",value:E.billingEmail,onChange:X=>A({...E,billingEmail:X.target.value}),className:Z})]})]}),n.jsxs("div",{className:"flex justify-between gap-3 mt-8",children:[n.jsxs(J,{onClick:Y,variant:"outline",size:"lg",className:L?"border-[#3a3a3a]":"",children:[n.jsx(qn,{className:"w-4 h-4 mr-2"}),"Back"]}),n.jsxs(J,{onClick:W,size:"lg",className:"bg-green-600 hover:bg-green-700 text-white",children:["Complete Purchase $",R()]})]})]})}),n.jsx("div",{children:n.jsxs("div",{className:`${ee} border ${se} rounded-xl p-6 shadow-xl sticky top-24`,children:[n.jsx("h3",{className:`text-xl mb-4 ${q}`,children:"Order Summary"}),n.jsxs("div",{className:"space-y-3 mb-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:z,children:"Voucher Amount"}),n.jsxs("span",{className:q,children:["$",c||u]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:z,children:"Recipients"}),n.jsx("span",{className:q,children:f.length})]}),n.jsx(tt,{className:L?"bg-[#2a2a2a]":"bg-gray-200"}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:q,children:"Subtotal"}),n.jsxs("span",{className:q,children:["$",R()]})]}),n.jsx(tt,{className:L?"bg-[#2a2a2a]":"bg-gray-200"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:`text-lg ${q}`,children:"Total"}),n.jsxs("span",{className:"text-2xl text-green-600 dark:text-green-400",children:["$",R()]})]})]}),n.jsx("div",{className:`p-3 rounded-lg ${L?"bg-green-900/20":"bg-green-50"}`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(jn,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),n.jsx("p",{className:`text-sm ${L?"text-green-400":"text-green-700"}`,children:"All vouchers valid for 12 months"})]})})]})})]}),o==="success"&&n.jsxs("div",{className:`${ee} border ${se} rounded-xl p-12 shadow-xl text-center`,children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:n.jsx(jn,{className:"w-10 h-10 text-green-600 dark:text-green-400"})})}),n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[n.jsx(yn,{className:"w-6 h-6 text-yellow-500 animate-pulse"}),n.jsx(Gd,{className:"w-6 h-6 text-orange-500 animate-pulse"}),n.jsx(Md,{className:"w-6 h-6 text-pink-500 animate-pulse"})]}),n.jsx("h2",{className:`text-3xl mb-4 ${q}`,children:"Gift Vouchers Sent!"}),n.jsxs("p",{className:`text-lg ${z} mb-8`,children:[f.length," gift ",f.length===1?"voucher has":"vouchers have"," been sent successfully"]}),n.jsx("div",{className:`max-w-md mx-auto p-6 rounded-lg ${L?"bg-[#1e1e1e] border border-[#2a2a2a]":"bg-gray-50 border border-gray-200"} mb-8`,children:n.jsx("div",{className:"space-y-3",children:f.map(X=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:n.jsx(jn,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),n.jsxs("div",{className:"text-left flex-1",children:[n.jsx("p",{className:`text-sm ${q}`,children:X.name}),n.jsx("p",{className:`text-xs ${z}`,children:X.email})]})]},X.id))})}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsxs(J,{onClick:K,size:"lg",style:{backgroundColor:r},className:"text-white hover:opacity-90",children:[n.jsx(Oo,{className:"w-4 h-4 mr-2"}),"Send More Vouchers"]}),n.jsx(J,{onClick:e,variant:"outline",size:"lg",className:L?"border-[#3a3a3a]":"",children:"Close"})]})]})]})})})})}function bP({primaryColor:t="#0ea5e9",config:e,theme:r="light"}){const[s,a]=S.useState(r),[i,o]=S.useState("categories"),[l,c]=S.useState(null),[d,u]=S.useState(null),[h,f]=S.useState(null),[m,y]=S.useState(""),g=new Date,[v,b]=S.useState(g.getMonth()),[w,N]=S.useState(g.getFullYear()),[_,C]=S.useState("English (US)"),E=["January","February","March","April","May","June","July","August","September","October","November","December"];Array.from({length:3},(Oe,Ot)=>2025+Ot);const A=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],[I,$]=S.useState([]),[O,P]=S.useState({}),[M,R]=S.useState(""),[W,Y]=S.useState({}),[K,L]=S.useState({}),[F,ee]=S.useState({}),[se,q]=S.useState({fullName:"",phone:"",email:"",emailUpdates:!1}),[z,Z]=S.useState({cardNumber:"",expiryDate:"",securityCode:"",country:"United States"}),[X,Q]=S.useState(!1),[ne,ce]=S.useState(!1),[ie,pe]=S.useState(!1),[ae,be]=S.useState(null),[we,Ie]=S.useState(!1),[Ee,H]=S.useState(null),[Le,Ye]=S.useState(""),[xt,qe]=S.useState(""),[ft,ke]=S.useState(!1),[lt,Ve]=S.useState(!1),[Ke,yt]=S.useState(!1),[Mt,Gt]=S.useState(!1),[qt,At]=S.useState([]),[Dt,Nt]=S.useState(!0),[$r,Or]=S.useState([]),[Ht,bt]=S.useState(!1),an=Oe=>{if(!d)return[];const Ot=Oe.toISOString().split("T")[0];return sl.getAvailableTimeSlots(d.id,Ot)};S.useEffect(()=>{(async()=>{try{Nt(!0);const jr=await sl.getAllGames();At(jr||[])}catch(jr){console.error("Error loading admin games:",jr)}finally{Nt(!1)}})();const Ot=()=>{const jr=sl.getAllGames();At(jr||[])};$o.subscribe("games-updated",Ot);const tr=()=>{$o.unsubscribe("games-updated",Ot)};return()=>{tr()}},[]),S.useEffect(()=>{(async()=>{if(d&&i==="calendar"){bt(!0);try{const Ot=await Rr();Or(Ot)}catch(Ot){console.error("Error loading calendar days:",Ot)}finally{bt(!1)}}})()},[d,v,w,i]);const $e={...{showSecuredBadge:!0,showHealthSafety:!0,enableVeteranDiscount:!0,ticketTypes:[{id:"player",name:"Players",description:"Ages 6 & Up",price:30},{id:"veteran",name:"Veterans",description:"Must show military ID",price:25}],categories:[{id:"1",name:"Traditional Escape Rooms",image:"https://images.unsplash.com/photo-1569002925653-ed18f55d7292?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxlc2NhcGUlMjByb29tJTIwZGFyayUyMG15c3RlcmlvdXN8ZW58MXx8fHwxNzYxOTM1ODcyfDA&ixlib=rb-4.1.0&q=80&w=1080"},{id:"2",name:"Printable Escape Rooms",image:"https://images.unsplash.com/photo-1632387958032-3b563a92091f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx2aW50YWdlJTIwcGhvdG9ncmFwaHMlMjBwb2xhcm9pZHxlbnwxfHx8fDE3NjE5MzU4NzJ8MA&ixlib=rb-4.1.0&q=80&w=1080"}],games:[{id:"1",name:"Zombie Apocalypse",image:"https://images.unsplash.com/photo-1659059530318-656a112ad2cd?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx6b21iaWUlMjBhcG9jYWx5cHNlJTIwaG9ycm9yfGVufDF8fHx8MTc2MTg5OTYzNHww&ixlib=rb-4.1.0&q=80&w=1080",priceRange:"$25 - $30",ageRange:"Ages 6+",duration:"1 Hour",difficulty:5,categoryId:"1",description:"Can you survive the zombie apocalypse and find the cure?",capacity:10,basePrice:25,availability:{}},{id:"2",name:"Area 51",image:"https://images.unsplash.com/photo-1569002925653-ed18f55d7292?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxlc2NhcGUlMjByb29tJTIwZGFyayUyMG15c3RlcmlvdXN8ZW58MXx8fHwxNzYxOTM1ODcyfDA&ixlib=rb-4.1.0&q=80&w=1080",priceRange:"$25 - $30",ageRange:"All ages",duration:"1 Hour",difficulty:5,categoryId:"1",capacity:10,basePrice:25,availability:{}},{id:"3",name:"Catacombs",image:"https://images.unsplash.com/photo-1637481687365-9b133c567071?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjYXRhY29tYnMlMjB1bmRlcmdyb3VuZCUyMHR1bm5lbHxlbnwxfHx8fDE3NjE5MzU4NzN8MA&ixlib=rb-4.1.0&q=80&w=1080",priceRange:"$25 - $30",ageRange:"All ages",duration:"1 Hour",difficulty:2,categoryId:"1",capacity:10,basePrice:25,availability:{}},{id:"4",name:"Murder Mystery",image:"https://images.unsplash.com/photo-1636056471685-1cfdfa9d2e4b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtdXJkZXIlMjBteXN0ZXJ5JTIwZGV0ZWN0aXZlfGVufDF8fHx8MTc2MTkzNTg3M3ww&ixlib=rb-4.1.0&q=80&w=1080",priceRange:"$25 - $30",ageRange:"Ages 6+",duration:"1 Hour",difficulty:5,categoryId:"1",capacity:10,basePrice:25,availability:{}},{id:"5",name:"The Jolly Roger, Curse of the Devil's Shroud",image:"https://images.unsplash.com/photo-1561625116-df74735458a5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwaXJhdGUlMjBzaGlwJTIwd3JlY2t8ZW58MXx8fHwxNzYxOTM1ODc0fDA&ixlib=rb-4.1.0&q=80&w=1080",priceRange:"$25 - $30",ageRange:"Ages 6+",duration:"1 Hour",difficulty:0,categoryId:"1",capacity:10,basePrice:25,availability:{}}],additionalQuestions:[{id:"hear-about",question:"How did you hear about us?",type:"select",options:["Google","Facebook","Friend","Other"],required:!1}],cancellationPolicy:"Cash refunds are not available. If you are unable to keep your scheduled reservation, please contact us. We can rebook you to a different date and/or time or issue a refund in the form of a gift card."},...e},nt=$e.categories||[],sr=qt.length>0?qt:$e.games||[],dr=$e.ticketTypes||[],Rr=async()=>{const Oe=[],Ot=new Date(w,v,1).getDay(),tr=new Date(w,v+1,0).getDate(),jr=new Date(w,v,0).getDate();for(let xn=Ot-1;xn>=0;xn--){const eo=jr-xn,Ii=v===0?11:v-1;Oe.push({date:eo,month:Ii,year:v===0?w-1:w,isCurrentMonth:!1,slots:[]})}for(let xn=1;xn<=tr;xn++){const eo=[];if(d)try{const Ii=`${w}-${String(v+1).padStart(2,"0")}-${String(xn).padStart(2,"0")}`;(await sl.getAvailableTimeSlots(d.id,Ii)).forEach(cl=>{cl.available&&eo.push({time:cl.time,game:d.name,available:!0})})}catch(Ii){console.error(`Error loading availability for ${w}-${String(v+1).padStart(2,"0")}-${String(xn).padStart(2,"0")}:`,Ii)}Oe.push({date:xn,month:v,year:w,isCurrentMonth:!0,slots:eo})}const Yr=42-Oe.length,$n=v===11?0:v+1,Oi=v===11?w+1:w;for(let xn=1;xn<=Yr;xn++)Oe.push({date:xn,month:$n,year:Oi,isCurrentMonth:!1,slots:[]});return Oe},Jt=()=>{v===0?(b(11),N(w-1)):b(v-1)},_t=()=>{v===11?(b(0),N(w+1)):b(v+1)},Lr=Oe=>{const Ot=typeof Oe=="string"?parseInt(Oe)||0:Oe;return n.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(tr=>n.jsx(yn,{className:`w-3 h-3 ${tr<=Ot?"fill-current text-gray-900":"text-gray-300"}`},tr))})},Ze=Oe=>{c(Oe),o("games")},Ae=Oe=>{u(Oe),o("calendar")},wt=Oe=>{const Ot=new Date(Oe.year,Oe.month,Oe.date);f(Ot),o("timeslot")},He=Oe=>{y(Oe),o("plan")},jt=()=>{switch(i){case"games":o("categories"),c(null);break;case"calendar":o("games"),u(null);break;case"timeslot":o("calendar"),f(null);break;case"plan":o("timeslot"),y("");break;case"cart":o("plan");break;case"checkout":o("cart");break}},fr=()=>{o("categories"),c(null),u(null),f(null),y("")},on=()=>{o("calendar"),f(null),y("")},En=()=>{if(!h||!m)return"Select a date and time";try{const Ot=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][h.getDay()],tr=E[h.getMonth()],jr=h.getDate(),Yr=h.getFullYear(),[$n,Oi]=m.split(" "),[xn,eo]=$n.split(":").map(Number);let Ii=xn+1,xc=Oi;Ii===12?xc=Oi==="AM"?"PM":"AM":Ii>12&&(Ii=Ii-12,xc="PM");const cl=eo===0?"00":eo.toString().padStart(2,"0");return`${Ot}, ${tr} ${jr}, ${Yr} at ${m}  ${Ii}:${cl} ${xc}`}catch{return"Invalid date or time"}},pn=(Oe,Ot)=>{P(tr=>({...tr,[Oe]:Math.max(0,(tr[Oe]||0)+Ot)}))},Dr=()=>{const Oe=[];Object.entries(O).forEach(([Ot,tr])=>{const jr=dr.find(Yr=>Yr.id===Ot);if(jr&&tr>0)for(let Yr=0;Yr<tr;Yr++)Oe.push({id:`${Ot}-${Date.now()}-${Yr}`,ticketTypeId:Ot,ticketTypeName:jr.name,price:jr.price})}),$(Oe),o("cart")},fs=Oe=>{$(Ot=>Ot.filter(tr=>tr.id!==Oe))},Rl=Oe=>{const Ot=W[Oe]?.toUpperCase()||"",Yr=Object.values({veteran:[{code:"VETERAN15",discount:.15,applicableTypes:["veteran"]},{code:"VETERAN25",discount:.25,applicableTypes:["veteran"]},{code:"THANKYOU10",discount:.1,applicableTypes:["veteran"]}],player:[{code:"SAVE10",discount:.1,applicableTypes:["player"]},{code:"WELCOME20",discount:.2,applicableTypes:["player"]}]}).flat().find($n=>$n.code===Ot&&$n.applicableTypes.includes(Oe));Yr?(ee($n=>({...$n,[Oe]:{code:Yr.code,discount:Yr.discount}})),L($n=>({...$n,[Oe]:!1}))):alert("Invalid promo code for this ticket type")},hc=Oe=>{ee(Ot=>{const tr={...Ot};return delete tr[Oe],tr}),Y(Ot=>{const tr={...Ot};return delete tr[Oe],tr})},Ji=(Oe,Ot)=>{be({code:Oe,amount:Ot}),pe(!1)},Lo=()=>{be(null)},xa=(Oe,Ot,tr)=>{H({code:Oe,discount:Ot,type:tr}),Ie(!1)},Qi=()=>{H(null)},ga=()=>I.reduce((Oe,Ot)=>Oe+Ot.price,0),td=Oe=>{const Ot=F[Oe];return Ot?I.filter(jr=>jr.ticketTypeId===Oe).reduce((jr,Yr)=>jr+Yr.price,0)*Ot.discount:0},za=()=>{let Oe=0;return Object.keys(F).forEach(Ot=>{Oe+=td(Ot)}),Ee&&(Oe+=Ee.type==="fixed"?Ee.discount:ga()*Ee.discount/100),Oe},Fo=()=>(ga()-za())*.06,Ll=()=>{if(!ae)return 0;const Oe=ga()-za()+Fo();return Math.min(ae.amount,Oe)},ll=()=>ga()-za()+Fo()-Ll(),fc=()=>{const Oe={};return I.forEach(Ot=>{Oe[Ot.ticketTypeName]=(Oe[Ot.ticketTypeName]||0)+1}),Oe},Nm=()=>{const Oe={};return I.forEach(Ot=>{Oe[Ot.ticketTypeId]||(Oe[Ot.ticketTypeId]={ticketType:Ot.ticketTypeName,items:[],price:Ot.price}),Oe[Ot.ticketTypeId].items.push(Ot)}),Oe},ns=()=>{o("plan")},nf=()=>{I.length>0&&o("checkout")},mc=()=>se.fullName.trim()!==""&&se.phone.trim()!==""&&se.email.trim()!==""&&se.email.includes("@")&&z.cardNumber.trim()!==""&&z.cardNumber.replace(/\s/g,"").length>=13&&z.expiryDate.trim()!==""&&z.securityCode.trim()!==""&&z.securityCode.length>=3,hi=()=>{o("categories"),c(null),u(null),f(null),y(""),$([]),P({}),Y({}),L({}),ee({}),pe(!1),be(null),q({fullName:"",phone:"",email:"",emailUpdates:!1}),Z({cardNumber:"",expiryDate:"",securityCode:"",country:"United States"})},pc=async()=>{if(!se.fullName.trim()){alert("Please enter your full name");return}if(!se.phone.trim()){alert("Please enter your phone number");return}if(!se.email.trim()||!se.email.includes("@")){alert("Please enter a valid email address");return}if(!z.cardNumber.trim()||z.cardNumber.replace(/\s/g,"").length<13){alert("Please enter a valid card number");return}if(!z.expiryDate.trim()){alert("Please enter card expiration date");return}if(!z.securityCode.trim()||z.securityCode.length<3){alert("Please enter a valid security code");return}Q(!0),await new Promise(Ot=>setTimeout(Ot,1500));const Oe=Math.random()>.15;Q(!1),o(Oe?"success":"failed")},Fe=s==="dark",Qd=Fe?"bg-[#0a0a0a]":"bg-gray-100",Bo=Fe?"bg-[#161616]":"bg-white",Va=Fe?"border-[#2a2a2a]":"border-gray-200",Ur=Fe?"text-white":"text-gray-900",Sn=Fe?"text-[#a3a3a3]":"text-gray-600",Sm=Fe?"hover:bg-[#1e1e1e]":"hover:bg-gray-50";return n.jsxs(UO,{children:[n.jsx("div",{className:`w-full min-h-screen ${Qd} flex items-center justify-center p-0 sm:p-2 lg:p-4`,children:n.jsxs("div",{className:`w-full h-auto max-w-6xl ${Bo} sm:rounded-xl shadow-2xl overflow-hidden flex flex-col min-h-screen sm:min-h-0 sm:my-4`,children:[n.jsx("div",{className:`${Bo} border-b ${Va} px-3 sm:px-6 py-3 sm:py-4 flex-shrink-0 sticky top-0 z-10 shadow-sm backdrop-blur-sm ${Fe?"bg-[#161616]/95":"bg-white/95"}`,children:n.jsxs("div",{className:"flex items-center justify-between gap-2 w-full",children:[n.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[n.jsxs("button",{onClick:()=>a(Oe=>Oe==="light"?"dark":"light"),className:`flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-3 py-2 sm:py-1.5 rounded-lg sm:rounded-full transition-all hover:shadow-sm active:scale-95 border touch-manipulation min-w-[44px] justify-center ${Fe?"bg-[#2a2a2a] border-[#3a3a3a] text-[#a3a3a3] hover:bg-[#333]":"bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200"}`,children:[Fe?n.jsx(Ry,{className:"w-4 h-4 sm:w-4 sm:h-4 flex-shrink-0"}):n.jsx(Eg,{className:"w-4 h-4 sm:w-4 sm:h-4 flex-shrink-0"}),n.jsx("span",{className:"hidden sm:inline text-xs sm:text-sm font-medium whitespace-nowrap",children:Fe?"Light":"Dark"})]}),$e.showSecuredBadge&&n.jsxs("button",{onClick:()=>ke(!0),className:`flex items-center gap-1 sm:gap-1.5 px-2.5 sm:px-3 py-2 sm:py-1.5 rounded-lg sm:rounded-full transition-all hover:shadow-sm active:scale-95 border touch-manipulation min-w-[44px] ${Fe?"bg-emerald-500/10 border-emerald-500/30 text-emerald-400 hover:bg-emerald-500/20":"bg-green-50 hover:bg-green-100 active:bg-green-200 text-green-700 border-green-200"}`,children:[n.jsx(da,{className:"w-4 h-4 sm:w-4 sm:h-4 flex-shrink-0"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium whitespace-nowrap hidden xs:inline",children:"Secured"}),n.jsx(Dd,{className:"w-3 h-3 flex-shrink-0 hidden sm:block"})]}),$e.showHealthSafety&&n.jsxs("button",{onClick:()=>Ve(!0),className:`flex items-center gap-1 sm:gap-1.5 px-2.5 sm:px-3 py-2 sm:py-1.5 rounded-lg sm:rounded-full transition-all hover:shadow-sm active:scale-95 border touch-manipulation min-w-[44px] ${Fe?"bg-[#4f46e5]/10 border-[#4f46e5]/30 text-[#6366f1] hover:bg-[#4f46e5]/20":""}`,style:Fe?void 0:{backgroundColor:`${t}10`,borderColor:`${t}30`,color:t},children:[n.jsx(ma,{className:"w-4 h-4 sm:w-4 sm:h-4 flex-shrink-0"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium whitespace-nowrap hidden xs:inline",children:"Safety"}),n.jsx(Dd,{className:"w-3 h-3 flex-shrink-0 hidden sm:block"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>yt(!0),className:`flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-3 py-2 sm:py-1.5 rounded-lg sm:rounded-full transition-all hover:shadow-sm active:scale-95 border touch-manipulation min-w-[44px] ${Fe?"bg-[#4f46e5]/10 border-[#4f46e5]/30 text-[#6366f1] hover:bg-[#4f46e5]/20":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(Oo,{className:"w-4 h-4 sm:w-4 sm:h-4 flex-shrink-0",style:{color:Fe?"#6366f1":"#16a34a"}}),n.jsx("span",{className:"text-xs sm:text-sm font-medium whitespace-nowrap hidden sm:inline",children:"Gift vouchers"})]}),n.jsx("button",{onClick:()=>{I.length>0&&i!=="success"&&i!=="failed"?ce(!0):(o("categories"),c(null),u(null),f(null),y(""),$([]),P({}))},className:`transition-colors p-2.5 active:scale-90 touch-manipulation rounded-lg min-w-[44px] min-h-[44px] flex items-center justify-center ${Fe?"text-[#737373] hover:text-[#a3a3a3] hover:bg-[#1e1e1e]":"text-gray-400 hover:text-gray-600 active:text-gray-700 hover:bg-gray-100"}`,children:n.jsx(In,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})}),i!=="categories"&&i!=="success"&&i!=="failed"&&n.jsxs("div",{className:`${Bo} px-3 sm:px-6 py-3 sm:py-4 border-b ${Va} flex-shrink-0 sticky top-[57px] sm:top-[65px] z-10 shadow-sm backdrop-blur-sm ${Fe?"bg-[#161616]/95":"bg-white/95"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("button",{onClick:jt,className:`flex items-center gap-1.5 sm:gap-2 transition-colors active:scale-95 p-2.5 sm:p-2 rounded-lg ${Sm} touch-manipulation min-w-[44px] min-h-[44px] ${Fe?"text-[#a3a3a3] hover:text-[#6366f1]":"text-gray-700 hover:text-blue-600 active:text-blue-700 active:bg-gray-100"}`,children:[n.jsx(qn,{className:"w-5 h-5 flex-shrink-0"}),n.jsxs("span",{className:"text-sm sm:text-base hidden sm:inline",children:[i==="games"&&"Categories",i==="calendar"&&(l?.name||"Games"),i==="timeslot"&&"Different date",i==="plan"&&"Different time",i==="cart"&&"Tickets",i==="checkout"&&"Cart"]})]}),n.jsx("div",{className:"flex items-center gap-2",children:i==="checkout"&&n.jsxs(J,{variant:"outline",size:"sm",onClick:fr,className:"flex items-center gap-2 active:scale-95 touch-manipulation",children:[n.jsx($4,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Keep shopping"})]})})]}),i==="plan"&&n.jsxs("div",{className:`mt-2 text-xs ${Fe?"text-[#737373]":"text-gray-500"}`,children:["Fields marked with ",n.jsx("span",{className:Fe?"text-red-400":"text-red-500",children:"*"})," are required"]})]}),n.jsxs("div",{className:`${Bo} overflow-y-auto flex-1 overscroll-contain`,children:[i==="categories"&&n.jsxs("div",{className:"p-4 sm:p-6 md:p-10 pb-20 sm:pb-10",children:[n.jsxs("div",{className:"mb-6 md:mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsx("h2",{className:`text-2xl sm:text-3xl md:text-3xl ${Ur} mb-2`,children:"Choose Your Adventure"}),n.jsx("p",{className:`text-sm sm:text-base ${Sn}`,children:"Select a category to explore available experiences"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-5 md:gap-6",children:nt.map((Oe,Ot)=>n.jsx("div",{className:"relative rounded-xl sm:rounded-2xl overflow-hidden shadow-lg cursor-pointer transform transition-all active:scale-[0.98] hover:scale-[1.02] hover:shadow-xl group animate-in fade-in slide-in-from-bottom-4 duration-500 touch-manipulation",style:{animationDelay:`${Ot*100}ms`},onClick:()=>Ze(Oe),children:n.jsxs("div",{className:"aspect-[4/3] relative",children:[n.jsx(Fn,{src:Oe.image,alt:Oe.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-out"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent group-hover:from-black/80 transition-all duration-300"}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 sm:p-4 md:p-6 flex items-end justify-between gap-2 sm:gap-3",children:[n.jsx("h3",{className:"text-white text-base sm:text-lg md:text-2xl flex-1 leading-tight",children:Oe.name}),n.jsx(J,{className:"text-white px-3 sm:px-4 md:px-6 h-10 sm:h-9 md:h-10 text-sm sm:text-base whitespace-nowrap shadow-lg active:scale-95 transition-transform touch-manipulation min-w-[44px]",style:{backgroundColor:t},children:"View"})]})]})},Oe.id))})]}),i==="games"&&l&&n.jsxs("div",{className:"p-3 sm:p-4 md:p-10 pb-20 sm:pb-10",children:[n.jsxs("div",{className:"mb-4 sm:mb-6 md:mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsx("h2",{className:`text-xl sm:text-2xl md:text-3xl ${Ur} mb-1.5 sm:mb-2`,children:l.name}),n.jsx("p",{className:`text-sm sm:text-base ${Sn}`,children:"Choose your escape room experience"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 md:gap-6",children:sr.filter(Oe=>Oe.categoryId===l.id).map((Oe,Ot)=>n.jsx("div",{className:"relative rounded-xl sm:rounded-2xl overflow-hidden shadow-lg cursor-pointer transform transition-all active:scale-[0.98] hover:scale-[1.02] hover:shadow-xl group animate-in fade-in slide-in-from-bottom-4 duration-500 touch-manipulation",style:{animationDelay:`${Ot*100}ms`},onClick:()=>Ae(Oe),children:n.jsxs("div",{className:"aspect-[4/3] relative",children:[n.jsx(Fn,{src:Oe.image,alt:Oe.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-out"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent group-hover:from-black/85 transition-all duration-300"}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 sm:p-4 md:p-6",children:[n.jsx("h3",{className:"text-white text-sm sm:text-base md:text-xl mb-1.5 sm:mb-2 leading-tight",children:Oe.name}),n.jsxs("div",{className:"flex flex-wrap items-center gap-1 sm:gap-1.5 text-white text-xs mb-2 sm:mb-3",children:[n.jsx("span",{className:"bg-white/20 backdrop-blur-sm border border-white/30 rounded-full px-2 sm:px-2.5 py-0.5",children:Oe.priceRange}),n.jsx("span",{className:"hidden sm:inline text-xs sm:text-sm",children:Oe.ageRange}),n.jsx("span",{className:"hidden sm:inline",children:""}),n.jsx("span",{className:"text-xs sm:text-sm",children:Oe.duration}),n.jsx("span",{className:"hidden md:inline",children:""}),n.jsxs("span",{className:"hidden md:flex items-center gap-1 text-xs sm:text-sm",children:["Difficulty: ",Lr(Oe.difficulty)]})]}),n.jsx(J,{className:"text-white px-3 sm:px-4 md:px-6 h-10 sm:h-9 md:h-10 whitespace-nowrap pointer-events-none shadow-lg text-sm min-w-[44px]",style:{backgroundColor:t},children:"Select date"})]})]})},Oe.id))})]}),i==="calendar"&&d&&n.jsxs("div",{className:"p-3 sm:p-4 md:p-10 pb-20 sm:pb-10",children:[n.jsx("div",{className:"relative rounded-lg sm:rounded-xl overflow-hidden mb-4 sm:mb-6 md:mb-8 shadow-xl animate-in fade-in slide-in-from-bottom-4 duration-500",children:n.jsxs("div",{className:"aspect-[16/9] sm:aspect-[21/9] relative",children:[n.jsx(Fn,{src:d.image,alt:d.name,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 sm:p-4 md:p-8",children:[n.jsx("h2",{className:"text-white text-lg sm:text-xl md:text-4xl mb-1 sm:mb-2 leading-tight",children:d.name}),n.jsxs("div",{className:"flex flex-wrap items-center gap-1 sm:gap-1.5 md:gap-2 text-white text-xs",children:[n.jsx("span",{className:"bg-white/20 backdrop-blur-sm border border-white/30 rounded-full px-2 sm:px-2.5 py-0.5",children:d.priceRange}),n.jsx("span",{className:"hidden sm:inline text-xs sm:text-sm",children:d.ageRange}),n.jsx("span",{className:"hidden sm:inline",children:""}),n.jsx("span",{className:"text-xs sm:text-sm",children:d.duration}),n.jsx("span",{className:"hidden md:inline",children:""}),n.jsxs("span",{className:"hidden md:flex items-center gap-1 text-xs sm:text-sm",children:["Difficulty: ",Lr(d.difficulty)]})]}),d.description&&n.jsx("p",{className:"text-white/90 mt-1 sm:mt-2 max-w-2xl text-xs sm:text-sm hidden sm:block",children:d.description})]})]})}),n.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6 md:mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsx("button",{onClick:Jt,className:`p-2.5 sm:p-2 md:p-3 rounded-lg transition-colors active:scale-95 touch-manipulation flex-shrink-0 min-w-[44px] min-h-[44px] flex items-center justify-center ${Fe?"hover:bg-[#1e1e1e] active:bg-[#2a2a2a]":"hover:bg-gray-100 active:bg-gray-200"}`,"aria-label":"Previous month",children:n.jsx(qn,{className:`w-5 h-5 sm:w-6 sm:h-6 ${Fe?"text-[#a3a3a3]":"text-gray-700"}`})}),n.jsxs("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2 flex-1 px-2",children:[n.jsx("h3",{className:`text-base sm:text-lg md:text-2xl ${Ur} font-semibold`,children:E[v]}),n.jsx("span",{className:`text-base sm:text-lg md:text-2xl ${Fe?"text-[#737373]":"text-gray-400"}`,children:""}),n.jsx("h3",{className:`text-base sm:text-lg md:text-2xl ${Ur} font-semibold`,children:w}),n.jsx("span",{className:`text-base sm:text-lg md:text-2xl ${Fe?"text-[#737373]":"text-gray-400"}`,children:""})]}),n.jsx("button",{onClick:_t,className:`p-2.5 sm:p-2 md:p-3 rounded-lg transition-colors active:scale-95 touch-manipulation flex-shrink-0 min-w-[44px] min-h-[44px] flex items-center justify-center ${Fe?"hover:bg-[#1e1e1e] active:bg-[#2a2a2a]":"hover:bg-gray-100 active:bg-gray-200"}`,"aria-label":"Next month",children:n.jsx(Ds,{className:`w-5 h-5 sm:w-6 sm:h-6 ${Fe?"text-[#a3a3a3]":"text-gray-700"}`})})]}),n.jsxs("div",{className:"mb-6 sm:mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500 delay-100",children:[n.jsx("div",{className:"grid grid-cols-7 mb-3 sm:mb-4",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map((Oe,Ot)=>n.jsxs("div",{className:`text-center text-xs sm:text-sm py-2 font-semibold uppercase tracking-wide ${Sn}`,children:[n.jsx("span",{className:"hidden sm:inline",children:A[Ot].slice(0,3)}),n.jsx("span",{className:"sm:hidden",children:Oe})]},Oe))}),Ht?n.jsx("div",{className:"grid grid-cols-7 gap-1.5 sm:gap-2 md:gap-3",children:Array.from({length:42}).map((Oe,Ot)=>n.jsx("div",{className:`aspect-square rounded-lg sm:rounded-xl ${Fe?"bg-[#1e1e1e]":"bg-gray-50"} animate-pulse`},Ot))}):n.jsx("div",{className:"grid grid-cols-7 gap-1.5 sm:gap-2 md:gap-3",children:$r.map((Oe,Ot)=>{const tr=new Date().getDate()===Oe.date&&new Date().getMonth()===Oe.month&&new Date().getFullYear()===Oe.year,jr=Oe.slots.length>0,Yr=Oe.isCurrentMonth;return n.jsxs("button",{onClick:()=>jr&&Yr?wt(Oe):null,disabled:!jr||!Yr,className:`
                            aspect-square rounded-lg sm:rounded-xl transition-all touch-manipulation calendar-day
                            flex flex-col items-center justify-center relative font-medium
                            ${Yr?"":Fe?"text-[#525252] cursor-default":"text-gray-300 cursor-default"}
                            ${jr&&Yr?"cursor-pointer active:scale-95 hover:opacity-90":"cursor-not-allowed"}
                            ${jr&&Yr?"text-white shadow-sm hover:shadow-md active:shadow-lg":Fe?"bg-[#1e1e1e] text-[#737373] border border-[#2a2a2a]":"bg-gray-50 text-gray-400 border border-gray-200"}
                            ${tr&&jr?Fe?"ring-2 ring-offset-2 ring-offset-[#161616]":"ring-2 ring-offset-2 ring-offset-white":""}
                          `,style:{backgroundColor:jr&&Yr?t:void 0,borderColor:jr&&Yr?t:void 0,"--tw-ring-color":tr?t:void 0},"aria-label":`${E[Oe.month]} ${Oe.date}, ${jr?`${Oe.slots.length} times available`:"No times available"}`,children:[n.jsx("span",{className:"text-sm sm:text-base md:text-lg relative z-10",children:Oe.date}),jr&&Yr&&n.jsx("span",{className:"absolute bottom-1 sm:bottom-1.5 left-1/2 -translate-x-1/2 w-1 h-1 sm:w-1.5 sm:h-1.5 bg-white rounded-full shadow-sm"})]},Ot)})})]}),n.jsxs("div",{className:"text-center space-y-2 mb-4 animate-in fade-in slide-in-from-bottom-4 duration-500 delay-200",children:[n.jsx("p",{className:"text-sm sm:text-base font-medium",style:{color:Fe?"#6366f1":t},children:"Click a date to browse availability"}),n.jsx("p",{className:`text-xs sm:text-sm ${Fe?"text-[#737373]":"text-gray-500"}`,children:"Green dates have available time slots"})]})]}),i==="timeslot"&&d&&h&&n.jsxs("div",{className:"p-4 sm:p-6 md:p-10 pb-20 sm:pb-10",children:[n.jsx("div",{className:"relative rounded-xl sm:rounded-2xl overflow-hidden mb-6 md:mb-8 shadow-xl animate-in fade-in slide-in-from-bottom-4 duration-500",children:n.jsxs("div",{className:"aspect-[16/9] sm:aspect-[21/9] relative",children:[n.jsx(Fn,{src:d.image,alt:d.name,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 sm:p-6 md:p-8",children:[n.jsx("h2",{className:"text-white text-xl sm:text-2xl md:text-4xl mb-1",children:d.name}),n.jsx("p",{className:"text-white/90 text-sm sm:text-base md:text-lg",children:"Choose a start time"})]})]})}),n.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6 lg:hidden animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsx("button",{onClick:()=>{const Oe=new Date(h);Oe.setDate(Oe.getDate()-1),f(Oe)},className:`p-2 sm:p-3 rounded-lg sm:rounded-xl border transition-colors active:scale-95 touch-manipulation shadow-sm ${Fe?"hover:bg-[#1e1e1e] active:bg-[#2a2a2a] border-[#2a2a2a]":"hover:bg-gray-100 active:bg-gray-200 border-gray-200"}`,"aria-label":"Previous day",children:n.jsx(qn,{className:`w-5 h-5 sm:w-6 sm:h-6 ${Fe?"text-[#a3a3a3]":"text-gray-700"}`})}),n.jsxs("div",{className:`text-center px-4 py-2 rounded-lg sm:rounded-xl border min-w-[200px] sm:min-w-[240px] ${Fe?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-gray-50 border-gray-200"}`,children:[n.jsx("p",{className:"text-xs sm:text-sm mb-0.5 font-medium",style:{color:Fe?"#6366f1":t},children:"Selected Date"}),n.jsxs("h3",{className:`text-sm sm:text-base font-semibold ${Ur}`,children:[A[h.getDay()],", ",E[h.getMonth()]," ",h.getDate()]})]}),n.jsx("button",{onClick:()=>{const Oe=new Date(h);Oe.setDate(Oe.getDate()+1),f(Oe)},className:`p-2 sm:p-3 rounded-lg sm:rounded-xl border transition-colors active:scale-95 touch-manipulation shadow-sm ${Fe?"hover:bg-[#1e1e1e] active:bg-[#2a2a2a] border-[#2a2a2a]":"hover:bg-gray-100 active:bg-gray-200 border-gray-200"}`,"aria-label":"Next day",children:n.jsx(Ds,{className:`w-5 h-5 sm:w-6 sm:h-6 ${Fe?"text-[#a3a3a3]":"text-gray-700"}`})})]}),n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-5 md:gap-6",children:[(()=>{const Oe=new Date(h);Oe.setDate(Oe.getDate()-1);const Ot=A[Oe.getDay()],tr=E[Oe.getMonth()],jr=Oe.getDate(),Yr=an(Oe);return n.jsxs("div",{className:"hidden lg:block animate-in fade-in slide-in-from-left-4 duration-500",children:[n.jsxs("div",{className:"text-center mb-4",children:[n.jsx("button",{onClick:()=>{f(Oe)},className:`text-sm transition-colors mb-1 active:scale-95 touch-manipulation ${Fe?"text-[#737373] hover:text-[#a3a3a3] active:text-white":"text-gray-500 hover:text-gray-700 active:text-gray-900"}`,children:"Previous day"}),n.jsxs("h3",{className:`text-sm sm:text-base ${Fe?"text-[#a3a3a3]":"text-gray-700"}`,children:[Ot,", ",tr," ",jr]})]}),n.jsx("div",{className:"space-y-2",children:Yr.length>0?Yr.map(($n,Oi)=>n.jsxs("button",{onClick:()=>{f(Oe),He($n.time)},className:`w-full flex items-center justify-between px-3 sm:px-4 py-3 sm:py-3.5 border-2 rounded-lg active:scale-[0.98] transition-all shadow-sm hover:shadow touch-manipulation ${Fe?"border-[#2a2a2a] hover:border-[#4f46e5] hover:bg-[#4f46e5]/10 active:bg-[#4f46e5]/20 text-[#a3a3a3] hover:text-[#6366f1]":"border-gray-300 hover:border-blue-500 hover:bg-blue-50 active:bg-blue-100 text-gray-700 hover:text-blue-600"}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{className:"text-sm sm:text-base",children:$n.time})]}),n.jsx(Ds,{className:"w-4 h-4 flex-shrink-0"})]},Oi)):n.jsx("div",{className:`text-center py-4 text-sm ${Fe?"text-[#737373]":"text-gray-500"}`,children:"No available time slots"})})]})})(),(()=>{const Oe=A[h.getDay()],Ot=E[h.getMonth()],tr=h.getDate(),jr=an(h);return n.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-500 delay-100",children:[n.jsxs("div",{className:"text-center mb-4 hidden lg:block",children:[n.jsx("p",{className:"text-xs sm:text-sm mb-1 font-medium",style:{color:Fe?"#6366f1":t},children:"You selected"}),n.jsxs("h3",{className:`text-sm sm:text-base font-medium ${Ur}`,children:[Oe,", ",Ot," ",tr]})]}),n.jsx("div",{className:"space-y-2",children:jr.length>0?jr.map((Yr,$n)=>n.jsxs("button",{onClick:()=>He(Yr.time),className:"w-full flex items-center justify-between px-3 sm:px-4 py-3 sm:py-3.5 border-2 rounded-lg transition-all shadow-sm hover:shadow-md active:shadow-lg active:scale-[0.98] touch-manipulation",style:{borderColor:Fe?"#4f46e5":t,color:Fe?"#6366f1":t,backgroundColor:Fe?"#4f46e510":`${t}10`},children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{className:"font-medium text-sm sm:text-base",children:Yr.time})]}),n.jsx(Ds,{className:"w-5 h-5 flex-shrink-0"})]},$n)):n.jsx("div",{className:`text-center py-4 text-sm ${Fe?"text-[#737373]":"text-gray-500"}`,children:"No available time slots"})})]})})(),(()=>{const Oe=new Date(h);Oe.setDate(Oe.getDate()+1);const Ot=A[Oe.getDay()],tr=E[Oe.getMonth()],jr=Oe.getDate(),Yr=an(Oe);return n.jsxs("div",{className:"hidden lg:block animate-in fade-in slide-in-from-right-4 duration-500 delay-200",children:[n.jsxs("div",{className:"text-center mb-4",children:[n.jsx("button",{onClick:()=>{f(Oe)},className:`text-sm transition-colors mb-1 active:scale-95 touch-manipulation ${Fe?"text-[#737373] hover:text-[#a3a3a3] active:text-white":"text-gray-500 hover:text-gray-700 active:text-gray-900"}`,children:"Next day"}),n.jsxs("h3",{className:`text-sm sm:text-base ${Fe?"text-[#a3a3a3]":"text-gray-700"}`,children:[Ot,", ",tr," ",jr]})]}),n.jsx("div",{className:"space-y-2",children:Yr.length>0?Yr.map(($n,Oi)=>n.jsxs("button",{onClick:()=>{f(Oe),He($n.time)},className:`w-full flex items-center justify-between px-3 sm:px-4 py-3 sm:py-3.5 border-2 rounded-lg active:scale-[0.98] transition-all shadow-sm hover:shadow touch-manipulation ${Fe?"border-[#2a2a2a] hover:border-[#4f46e5] hover:bg-[#4f46e5]/10 active:bg-[#4f46e5]/20 text-[#a3a3a3] hover:text-[#6366f1]":"border-gray-300 hover:border-blue-500 hover:bg-blue-50 active:bg-blue-100 text-gray-700 hover:text-blue-600"}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{className:"text-sm sm:text-base",children:$n.time})]}),n.jsx(Ds,{className:"w-4 h-4 flex-shrink-0"})]},Oi)):n.jsx("div",{className:`text-center py-4 text-sm ${Fe?"text-[#737373]":"text-gray-500"}`,children:"No available time slots"})})]})})()]})})]}),i==="plan"&&d&&n.jsx("div",{className:"p-4 sm:p-6 md:p-10 pb-20 sm:pb-10",children:n.jsxs("div",{className:"max-w-3xl",children:[n.jsxs("div",{className:`flex gap-3 sm:gap-4 mb-6 md:mb-8 p-3 sm:p-4 rounded-xl border animate-in fade-in slide-in-from-bottom-4 duration-500 ${Fe?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-gray-50 border-gray-200"}`,children:[n.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 md:w-28 md:h-28 rounded-lg overflow-hidden flex-shrink-0 shadow-md",children:n.jsx(Fn,{src:d.image,alt:d.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h2",{className:`text-base sm:text-xl md:text-2xl mb-1 truncate ${Ur}`,children:d.name}),n.jsxs("p",{className:`text-xs sm:text-sm md:text-base flex items-center gap-2 ${Sn}`,children:[n.jsx(Nn,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),n.jsx("span",{className:"line-clamp-2",children:En()})]})]})]}),n.jsx("h3",{className:`text-xl sm:text-2xl md:text-2xl mb-4 md:mb-6 ${Ur}`,children:"Plan your experience"}),n.jsx("div",{className:"space-y-3 sm:space-y-4",children:dr.map((Oe,Ot)=>n.jsxs("div",{className:`flex items-center gap-2 sm:gap-3 md:gap-4 p-3 sm:p-4 md:p-5 border-2 rounded-xl transition-all shadow-sm hover:shadow animate-in fade-in slide-in-from-bottom-4 duration-500 touch-manipulation ${Fe?"border-[#2a2a2a] hover:border-[#3a3a3a]":"border-gray-200 hover:border-gray-300"}`,style:{animationDelay:`${Ot*100}ms`},children:[n.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[n.jsx(J,{size:"sm",variant:"outline",onClick:()=>pn(Oe.id,-1),className:"h-9 w-9 sm:h-10 sm:w-10 md:h-12 md:w-12 p-0 shadow-sm hover:shadow active:shadow-lg active:scale-90 transition-all touch-manipulation",style:{backgroundColor:Fe?"#4f46e5":t,color:"white",borderColor:Fe?"#4f46e5":t},children:n.jsx(Nk,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),n.jsx("div",{className:"w-8 sm:w-10 md:w-12 text-center text-lg sm:text-xl md:text-2xl font-semibold",style:{color:Fe?"#6366f1":t},children:O[Oe.id]||0}),n.jsx(J,{size:"sm",variant:"outline",onClick:()=>pn(Oe.id,1),className:"h-9 w-9 sm:h-10 sm:w-10 md:h-12 md:w-12 p-0 shadow-sm hover:shadow active:shadow-lg active:scale-90 transition-all touch-manipulation",style:{backgroundColor:Fe?"#4f46e5":t,color:"white",borderColor:Fe?"#4f46e5":t},children:n.jsx(An,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:`text-sm sm:text-base md:text-lg font-medium ${Ur}`,children:Oe.name}),n.jsx("div",{className:`text-xs sm:text-sm ${Fe?"text-[#737373]":"text-gray-500"}`,children:Oe.description})]}),n.jsxs("div",{className:`text-lg sm:text-xl md:text-2xl font-semibold flex-shrink-0 ${Ur}`,children:["$",Oe.price]})]},Oe.id))}),n.jsxs(J,{onClick:Dr,disabled:Object.values(O).every(Oe=>Oe===0),className:"w-full mt-6 md:mt-8 h-12 sm:h-13 md:h-14 text-base md:text-lg text-white whitespace-nowrap shadow-lg hover:shadow-xl active:shadow-2xl active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation",style:{backgroundColor:Fe?"#4f46e5":t},children:[n.jsx(Ua,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Continue to Cart"]})]})}),i==="cart"&&d&&n.jsx("div",{className:"p-4 sm:p-6 md:p-10 pb-20 sm:pb-10",children:n.jsxs("div",{className:"max-w-4xl",children:[n.jsxs("div",{className:"mb-6 md:mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsx("h2",{className:`text-2xl sm:text-3xl md:text-3xl mb-2 ${Ur}`,children:"Review Your Booking"}),n.jsx("p",{className:`text-sm sm:text-base ${Sn}`,children:"Check your selections before proceeding to checkout"})]}),n.jsxs("div",{className:`flex gap-3 sm:gap-4 mb-6 md:mb-8 p-3 sm:p-4 rounded-xl border animate-in fade-in slide-in-from-bottom-4 duration-500 delay-100 ${Fe?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-gray-50 border-gray-200"}`,children:[n.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20 rounded-lg overflow-hidden flex-shrink-0 shadow-md",children:n.jsx(Fn,{src:d.image,alt:d.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:`text-base sm:text-lg md:text-xl mb-1 truncate ${Ur}`,children:d.name}),n.jsxs("p",{className:`text-xs sm:text-sm flex items-center gap-2 ${Sn}`,children:[n.jsx(Nn,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),n.jsx("span",{className:"line-clamp-2",children:En()})]})]})]}),I.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ua,{className:`w-16 h-16 mx-auto mb-4 ${Fe?"text-[#525252]":"text-gray-400"}`}),n.jsx("h3",{className:`text-xl mb-2 ${Ur}`,children:"Your cart is empty"}),n.jsx("p",{className:`mb-6 ${Sn}`,children:"Add tickets to continue with your booking."}),n.jsx(J,{onClick:on,variant:"outline",className:"mx-auto",children:"Go Back"})]}):n.jsxs(n.Fragment,{children:[n.jsx("h3",{className:"text-xl md:text-2xl text-gray-900 mb-4 md:mb-6",children:"Plan your experience"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4 mb-6 md:mb-8",children:dr.map(Oe=>{const Ot=I.filter(tr=>tr.ticketTypeId===Oe.id).length;return n.jsxs("div",{className:"flex items-center gap-3 md:gap-4 p-3 md:p-4 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(J,{size:"sm",variant:"outline",onClick:()=>{const tr=I.find(jr=>jr.ticketTypeId===Oe.id);tr&&fs(tr.id)},className:"h-10 w-10 md:h-12 md:w-12 p-0",style:{backgroundColor:t,color:"white",borderColor:t},children:n.jsx(Nk,{className:"w-4 h-4"})}),n.jsx("div",{className:"w-8 md:w-10 text-center text-lg",style:{color:t},children:Ot}),n.jsx(J,{size:"sm",variant:"outline",onClick:()=>{const tr={id:`${Oe.id}-${Date.now()}`,ticketTypeId:Oe.id,ticketTypeName:Oe.name,price:Oe.price};$([...I,tr])},className:"h-10 w-10 md:h-12 md:w-12 p-0",style:{backgroundColor:t,color:"white",borderColor:t},children:n.jsx(An,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm md:text-base text-gray-900",children:Oe.name}),n.jsx("div",{className:"text-xs text-gray-500",children:Oe.description})]}),n.jsxs("div",{className:"text-base md:text-lg text-gray-900",children:["$",Oe.price]})]},Oe.id)})}),n.jsx("div",{className:"space-y-3 mb-6 md:mb-8",children:Object.entries(Nm()).map(([Oe,Ot])=>n.jsxs("div",{className:`border rounded-lg ${Fe?"border-[#2a2a2a]":"border-gray-200"}`,children:[Ot.items.map((tr,jr)=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:`text-sm md:text-base ${Ur}`,children:tr.ticketTypeName}),jr===0&&!F[tr.ticketTypeId]&&!K[tr.ticketTypeId]&&n.jsx("button",{onClick:()=>L(Yr=>({...Yr,[tr.ticketTypeId]:!0})),className:`text-xs md:text-sm hover:underline mt-1 ${Fe?"text-[#6366f1] hover:text-[#818cf8]":"text-blue-600"}`,children:"Add promo or discount code"})]}),n.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[n.jsxs("span",{className:`text-base md:text-lg ${Ur}`,children:["$",tr.price]}),n.jsx("button",{onClick:()=>fs(tr.id),className:Fe?"text-[#737373] hover:text-red-400":"text-gray-400 hover:text-red-500",children:n.jsx(In,{className:"w-5 h-5"})})]})]}),jr<Ot.items.length-1&&n.jsx(tt,{})]},tr.id)),K[Oe]&&!F[Oe]&&n.jsxs("div",{className:`px-3 md:px-4 pb-3 md:pb-4 border-t space-y-2 pt-3 ${Va}`,children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ge,{type:"text",placeholder:"Enter promo code",value:W[Oe]||"",onChange:tr=>Y(jr=>({...jr,[Oe]:tr.target.value})),className:"flex-1 text-sm"}),n.jsx(J,{onClick:()=>Rl(Oe),size:"sm",style:{backgroundColor:Fe?"#4f46e5":t},className:"text-white",children:"Apply"}),n.jsx(J,{onClick:()=>L(tr=>({...tr,[Oe]:!1})),variant:"outline",size:"sm",children:"Cancel"})]}),Oe==="veteran"&&n.jsxs("div",{className:`text-xs space-y-1 p-2 rounded border ${Fe?"text-[#a3a3a3] bg-[#4f46e5]/10 border-[#4f46e5]/30":"text-gray-500 bg-blue-50 border-blue-100"}`,children:[n.jsx("div",{className:`font-medium mb-1 ${Fe?"text-[#6366f1]":"text-blue-700"}`,children:"Available veteran codes:"}),n.jsx("div",{children:" VETERAN15 - 15% off veteran tickets"}),n.jsx("div",{children:" VETERAN25 - 25% off veteran tickets"}),n.jsx("div",{children:" THANKYOU10 - 10% off veteran tickets"})]}),Oe==="player"&&n.jsxs("div",{className:`text-xs space-y-1 p-2 rounded border ${Fe?"text-[#a3a3a3] bg-[#4f46e5]/10 border-[#4f46e5]/30":"text-gray-500 bg-blue-50 border-blue-100"}`,children:[n.jsx("div",{className:`font-medium mb-1 ${Fe?"text-[#6366f1]":"text-blue-700"}`,children:"Available codes:"}),n.jsx("div",{children:" SAVE10 - 10% off regular tickets"}),n.jsx("div",{children:" WELCOME20 - 20% off regular tickets"})]})]}),F[Oe]&&n.jsx("div",{className:`px-3 md:px-4 pb-3 md:pb-4 border-t pt-3 ${Va}`,children:n.jsxs("div",{className:`flex items-center justify-between p-2 border rounded-lg ${Fe?"border-emerald-500/30 bg-emerald-500/10":"border-green-200 bg-green-50"}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Tt,{className:`w-4 h-4 ${Fe?"text-emerald-400":"text-green-600"}`}),n.jsxs("span",{className:`text-xs md:text-sm ${Ur}`,children:[n.jsx("span",{className:"font-medium",children:F[Oe].code})," applied (",Math.round(F[Oe].discount*100),"% off)"]})]}),n.jsx("button",{onClick:()=>hc(Oe),className:`text-xs md:text-sm hover:underline ${Fe?"text-red-400":"text-red-600"}`,children:"Remove"})]})})]},Oe))}),$e.additionalQuestions&&$e.additionalQuestions.length>0&&n.jsxs("div",{className:"mb-6 md:mb-8",children:[n.jsx("h3",{className:`text-base mb-4 ${Ur}`,children:"Additional information"}),$e.additionalQuestions.map(Oe=>n.jsxs("div",{className:"mb-4",children:[n.jsx(re,{className:`text-sm mb-2 block ${Fe?"text-[#a3a3a3]":"text-gray-700"}`,children:Oe.question}),Oe.type==="select"&&n.jsxs(Kt,{children:[n.jsx(Xt,{className:`w-full h-12 ${Fe?"bg-[#2a2a2a] border-[#2a2a2a]":"bg-gray-100 border-gray-300"}`,children:n.jsx(Yt,{placeholder:"Choose an option"})}),n.jsx(Zt,{className:Fe?"bg-[#161616] border-[#2a2a2a]":"",children:Oe.options?.map(Ot=>n.jsx(Ce,{value:Ot.toLowerCase(),children:Ot},Ot))})]})]},Oe.id)),n.jsxs("div",{className:"space-y-2 mt-4",children:[n.jsxs("div",{children:[!Ee&&!we&&n.jsx("button",{onClick:()=>Ie(!0),className:`text-sm hover:underline ${Fe?"text-[#6366f1]":"text-blue-500"}`,children:"Add promo code"}),we&&!Ee&&n.jsx(Vu,{onApply:xa,className:"mb-2"}),Ee&&n.jsx(Vu,{onApply:xa,onRemove:Qi,appliedCode:Ee.code,appliedDiscount:Ee.discount,appliedType:Ee.type,className:"mb-2"})]}),n.jsxs("div",{children:[!ae&&!ie&&n.jsx("button",{onClick:()=>pe(!0),className:`text-sm hover:underline ${Fe?"text-[#6366f1]":"text-blue-500"}`,children:"Apply gift card"}),ie&&!ae&&n.jsx(Wu,{onApply:Ji,className:"mb-2"}),ae&&n.jsx(Wu,{onApply:Ji,onRemove:Lo,appliedCode:ae.code,appliedAmount:ae.amount,className:"mb-2"})]})]}),n.jsxs("div",{className:`flex items-center gap-3 mt-4 p-4 border rounded-lg ${Fe?"border-[#2a2a2a] bg-[#1e1e1e]":"border-gray-200 bg-white"}`,children:[n.jsx(_u,{id:"printable",className:"data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600"}),n.jsxs("label",{htmlFor:"printable",className:`text-sm flex items-center gap-2 cursor-pointer flex-1 ${Fe?"text-[#a3a3a3]":"text-gray-700"}`,children:[n.jsx("span",{className:`font-medium ${Fe?"text-emerald-400":"text-green-600"}`,children:"$8"}),"Add a printable game"]})]})]}),$e.cancellationPolicy&&n.jsxs("div",{className:"mb-6 md:mb-8",children:[n.jsx("h3",{className:`text-lg md:text-xl mb-2 ${Ur}`,children:"Cancellations"}),n.jsx("p",{className:`text-sm ${Sn}`,children:$e.cancellationPolicy})]}),n.jsxs("div",{className:`rounded-lg p-4 md:p-6 mb-6 ${Fe?"bg-[#1e1e1e]":"bg-gray-50"}`,children:[n.jsxs("div",{className:"space-y-3 mb-4",children:[n.jsxs("div",{className:"flex justify-between text-sm md:text-base",children:[n.jsx("span",{className:Fe?"text-[#a3a3a3]":"text-gray-700",children:"Subtotal"}),n.jsxs("span",{className:Ur,children:["$",ga().toFixed(2)]})]}),za()>0&&n.jsxs("div",{className:"flex justify-between text-sm md:text-base",children:[n.jsx("span",{className:Fe?"text-emerald-400":"text-green-600",children:"Discount"}),n.jsxs("span",{className:Fe?"text-emerald-400":"text-green-600",children:["-$",za().toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm md:text-base",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:Fe?"text-[#a3a3a3]":"text-gray-700",children:"Fees"}),n.jsx(rs,{className:`w-4 h-4 ${Fe?"text-[#737373]":"text-gray-400"}`})]}),n.jsxs("span",{className:Ur,children:["$",Fo().toFixed(2)]})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex justify-between text-lg md:text-xl",children:[n.jsx("span",{className:Ur,children:"Total"}),n.jsxs("span",{className:Ur,children:["$",ll().toFixed(2)]})]})]}),n.jsx(J,{onClick:nf,disabled:I.length===0,className:"w-full h-12 md:h-14 text-base md:text-lg text-white whitespace-nowrap shadow-lg hover:shadow-xl active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation",style:{backgroundColor:Fe?"#4f46e5":t},children:"Proceed to Checkout "})]})]})]})}),i==="checkout"&&d&&n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsxs("div",{className:`flex items-center justify-between px-4 md:px-6 py-4 border-b ${Fe?"border-[#2a2a2a]":"border-gray-200"}`,children:[n.jsxs("button",{onClick:ns,className:`flex items-center gap-2 ${Fe?"text-[#a3a3a3] hover:text-white":"text-gray-600 hover:text-gray-900"} transition-colors`,children:[n.jsx(One,{className:"w-5 h-5"}),n.jsx("span",{className:"text-sm",children:"Cart"})]}),n.jsx("button",{onClick:()=>o("categories"),className:`px-4 py-2 rounded-lg text-sm ${Fe?"bg-[#2a2a2a] text-[#a3a3a3] hover:bg-[#3a3a3a]":"bg-gray-200 text-gray-700 hover:bg-gray-300"} transition-colors`,children:"Keep shopping"})]}),n.jsx("div",{className:"flex-1 p-4 md:p-6 lg:p-10",children:n.jsxs("div",{className:"max-w-5xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:`text-2xl md:text-3xl mb-2 ${Ur}`,children:"Checkout"}),n.jsx("p",{className:`text-sm md:text-base ${Sn}`,children:"You're moments away from completing your booking."})]}),n.jsxs("div",{className:`flex gap-4 p-4 md:p-6 border rounded-xl mb-6 ${Fe?"border-[#2a2a2a] bg-[#1e1e1e]":"border-gray-200 bg-white"}`,children:[n.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0",children:n.jsx(Fn,{src:d.image,alt:d.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:`text-base md:text-lg mb-1 ${Ur}`,children:d.name}),n.jsx("p",{className:`text-sm mb-2 ${Sn}`,children:En()}),n.jsxs("p",{className:`text-sm ${Sn}`,children:[Object.entries(fc()).map(([Oe,Ot],tr,jr)=>n.jsxs("span",{children:[Ot," ",Oe,tr<jr.length-1?", ":""]},Oe))," ",n.jsx("button",{onClick:ns,className:`hover:underline ${Fe?"text-[#6366f1]":"text-blue-600"}`,children:"(Change)"})]}),n.jsxs("div",{className:"flex gap-2 mt-3",children:[n.jsx("button",{className:`text-sm hover:underline ${Sn}`,children:"Remove"}),n.jsx("span",{className:Sn,children:"|"}),n.jsx("button",{className:`text-sm hover:underline ${Sn}`,children:"Cancellation policy "})]})]}),n.jsxs("div",{className:`text-lg md:text-xl shrink-0 ${Ur}`,children:["$",ga().toFixed(2)]})]}),n.jsxs("div",{className:"mb-4",children:[Ee?n.jsxs("div",{className:`flex items-center justify-between p-4 border rounded-lg ${Fe?"border-emerald-500/30 bg-emerald-500/10":"border-green-200 bg-green-50"}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Tt,{className:`w-5 h-5 ${Fe?"text-emerald-400":"text-green-600"}`}),n.jsxs("span",{className:`text-sm ${Ur}`,children:[n.jsx("span",{className:"font-medium",children:Ee.code})," applied (",Ee.discount,"% off)"]})]}),n.jsx("button",{onClick:Qi,className:`text-sm hover:underline ${Fe?"text-red-400":"text-red-600"}`,children:"Remove"})]}):n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Oo,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 ${Fe?"text-[#737373]":"text-gray-400"}`}),n.jsx(ge,{placeholder:"Enter promo code",value:Le,onChange:Oe=>Ye(Oe.target.value),className:`pl-10 h-12 ${Fe?"bg-[#2a2a2a] border-[#2a2a2a] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 text-gray-900 placeholder:text-gray-500"}`})]}),n.jsx(J,{onClick:()=>{Le&&xa(Le,Le==="SAVE20"?20:Le==="WELCOME"?15:10,"percentage")},disabled:!Le,variant:"ghost",className:`h-12 px-6 ${Fe?"bg-[#2a2a2a] text-[#a3a3a3] hover:bg-[#3a3a3a]":"text-gray-700 hover:text-gray-900 hover:bg-gray-100 disabled:text-gray-400 disabled:hover:bg-transparent"}`,children:"Apply"})]}),n.jsx("p",{className:`text-xs mt-2 ${Fe?"text-[#737373]":"text-gray-500"}`,children:"Try: SAVE10, SAVE20, WELCOME, VIP, or FIRST25"})]}),n.jsxs("div",{className:"mb-8",children:[ae?n.jsxs("div",{className:`flex items-center justify-between p-4 border rounded-lg ${Fe?"border-purple-500/30 bg-purple-500/10":"border-purple-200 bg-purple-50"}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Oo,{className:`w-5 h-5 ${Fe?"text-purple-400":"text-purple-600"}`}),n.jsxs("span",{className:`text-sm ${Ur}`,children:[n.jsx("span",{className:"font-medium",children:ae.code})," applied ($",ae.amount.toFixed(2),")"]})]}),n.jsx("button",{onClick:Lo,className:`text-sm hover:underline ${Fe?"text-red-400":"text-red-600"}`,children:"Remove"})]}):n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Oo,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 ${Fe?"text-[#737373]":"text-gray-400"}`}),n.jsx(ge,{placeholder:"Enter gift card code",value:xt,onChange:Oe=>qe(Oe.target.value),className:`pl-10 h-12 ${Fe?"bg-[#2a2a2a] border-[#2a2a2a] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 text-gray-900 placeholder:text-gray-500"}`})]}),n.jsx(J,{onClick:()=>{if(xt){const Oe=xt.includes("100")?100:xt.includes("50")?50:25;Ji(xt,Oe)}},disabled:!xt,variant:"ghost",className:`h-12 px-6 ${Fe?"bg-[#2a2a2a] text-[#a3a3a3] hover:bg-[#3a3a3a]":"text-gray-700 hover:text-gray-900 hover:bg-gray-100 disabled:text-gray-400 disabled:hover:bg-transparent"}`,children:"Apply"})]}),n.jsx("p",{className:`text-xs mt-2 ${Fe?"text-[#737373]":"text-gray-500"}`,children:"Try: GIFT50, GIFT100, HOLIDAY25, BIRTHDAY75"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:`text-base mb-4 ${Ur}`,children:"Contact details"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs(re,{htmlFor:"fullname",className:`text-sm mb-2 block ${Fe?"text-[#a3a3a3]":"text-gray-700"}`,children:["Full name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ge,{id:"fullname",placeholder:"",value:se.fullName,onChange:Oe=>q({...se,fullName:Oe.target.value}),className:`h-12 ${Fe?"bg-[#2a2a2a] border-[#2a2a2a]":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]}),n.jsxs("div",{children:[n.jsxs(re,{htmlFor:"phone",className:`text-sm mb-2 block ${Fe?"text-[#a3a3a3]":"text-gray-700"}`,children:["Phone number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Kt,{defaultValue:"us",children:[n.jsx(Xt,{className:`w-20 h-12 ${Fe?"bg-[#2a2a2a] border-[#2a2a2a]":"bg-gray-100 border-gray-300"}`,children:n.jsx(Yt,{children:""})}),n.jsx(Zt,{className:Fe?"bg-[#161616] border-[#2a2a2a]":"",children:n.jsx(Ce,{value:"us",children:""})})]}),n.jsx(ge,{id:"phone",type:"tel",placeholder:"",value:se.phone,onChange:Oe=>q({...se,phone:Oe.target.value}),className:`flex-1 h-12 ${Fe?"bg-[#2a2a2a] border-[#2a2a2a]":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]})]}),n.jsxs("div",{children:[n.jsxs(re,{htmlFor:"email",className:`text-sm mb-2 block ${Fe?"text-[#a3a3a3]":"text-gray-700"}`,children:["Email address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ge,{id:"email",type:"email",placeholder:"",value:se.email,onChange:Oe=>q({...se,email:Oe.target.value}),className:`h-12 ${Fe?"bg-[#2a2a2a] border-[#2a2a2a]":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]}),n.jsxs("div",{className:"flex items-start gap-2 pt-2",children:[n.jsx(_u,{id:"email-updates",checked:se.emailUpdates,onCheckedChange:Oe=>q({...se,emailUpdates:Oe}),className:"mt-0.5"}),n.jsx("label",{htmlFor:"email-updates",className:`text-sm ${Fe?"text-[#a3a3a3]":"text-gray-700"}`,children:"Get future email updates from Optimal Escape"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:`text-base mb-4 ${Ur}`,children:"Payment details"}),n.jsxs("div",{className:`mb-4 flex items-center gap-2 text-sm ${Fe?"text-emerald-400":"text-green-700"}`,children:[n.jsx(Xn,{className:"w-4 h-4"}),n.jsx("span",{children:"Secure, fast checkout with Link"}),n.jsx(Dd,{className:"w-4 h-4"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(re,{htmlFor:"cardnumber",className:`text-sm mb-2 block ${Fe?"text-[#a3a3a3]":"text-gray-700"}`,children:"Card number"}),n.jsxs("div",{className:"relative",children:[n.jsx(ge,{id:"cardnumber",placeholder:"1234 1234 1234 1234",value:z.cardNumber,onChange:Oe=>Z({...z,cardNumber:Oe.target.value}),className:`h-12 pr-12 ${Fe?"bg-[#2a2a2a] border-[#2a2a2a]":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`}),n.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:n.jsx(fa,{className:`w-5 h-5 ${Fe?"text-[#737373]":"text-gray-400"}`})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(re,{htmlFor:"expiry",className:`text-sm mb-2 block ${Fe?"text-[#a3a3a3]":"text-gray-700"}`,children:"Expiration date"}),n.jsx(ge,{id:"expiry",placeholder:"MM / YY",value:z.expiryDate,onChange:Oe=>Z({...z,expiryDate:Oe.target.value}),className:`h-12 ${Fe?"bg-[#2a2a2a] border-[#2a2a2a]":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"cvc",className:`text-sm mb-2 block ${Fe?"text-[#a3a3a3]":"text-gray-700"}`,children:"Security code"}),n.jsx(ge,{id:"cvc",placeholder:"CVC",value:z.securityCode,onChange:Oe=>Z({...z,securityCode:Oe.target.value}),className:`h-12 ${Fe?"bg-[#2a2a2a] border-[#2a2a2a]":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"country",className:`text-sm mb-2 block ${Fe?"text-[#a3a3a3]":"text-gray-700"}`,children:"Country"}),n.jsxs(Kt,{value:z.country,onValueChange:Oe=>Z({...z,country:Oe}),children:[n.jsx(Xt,{className:`h-12 ${Fe?"bg-[#2a2a2a] border-[#2a2a2a]":"bg-gray-100 border-gray-300"}`,children:n.jsx(Yt,{})}),n.jsxs(Zt,{className:Fe?"bg-[#161616] border-[#2a2a2a]":"",children:[n.jsx(Ce,{value:"United States",children:"United States"}),n.jsx(Ce,{value:"Canada",children:"Canada"}),n.jsx(Ce,{value:"United Kingdom",children:"United Kingdom"})]})]})]}),n.jsxs("div",{className:`flex items-center gap-2 text-xs ${Fe?"text-emerald-400":"text-green-700"}`,children:[n.jsx(da,{className:"w-3.5 h-3.5"}),n.jsx("span",{children:"Payments are secured and encrypted"})]})]})]})]}),n.jsx("div",{className:"mt-8",children:n.jsxs("div",{className:`rounded-xl p-6 ${Fe?"bg-[#1e1e1e] border border-[#2a2a2a]":"bg-white border border-gray-200 shadow-sm"}`,children:[n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:Fe?"text-[#a3a3a3]":"text-gray-600",children:"Subtotal"}),n.jsxs("span",{className:Ur,children:["$",ga().toFixed(2)]})]}),za()>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:Fe?"text-emerald-400":"text-green-600",children:"Discount"}),n.jsxs("span",{className:Fe?"text-emerald-400":"text-green-600",children:["-$",za().toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:Fe?"text-[#a3a3a3]":"text-gray-600",children:"Fees"}),n.jsx(rs,{className:`w-3.5 h-3.5 ${Fe?"text-[#737373]":"text-gray-400"}`})]}),n.jsxs("span",{className:Ur,children:["$",Fo().toFixed(2)]})]}),Ll()>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:Fe?"text-purple-400":"text-purple-600",children:"Gift Card"}),n.jsxs("span",{className:Fe?"text-purple-400":"text-purple-600",children:["-$",Ll().toFixed(2)]})]}),n.jsx(tt,{className:Fe?"bg-[#2a2a2a]":"bg-gray-200"}),n.jsxs("div",{className:"flex justify-between text-lg",children:[n.jsx("span",{className:Ur,children:"Total"}),n.jsxs("span",{className:Ur,children:["$",ll().toFixed(2)]})]})]}),n.jsx(J,{onClick:pc,disabled:X||!mc(),className:"w-full h-12 text-base text-white mb-3",style:{backgroundColor:Fe?"#4f46e5":t},children:X?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(da,{className:"w-5 h-5 mr-2"}),"Complete and pay"]})}),!mc()&&!X&&n.jsxs("p",{className:`text-xs text-center ${Sn}`,children:["Please answer all fields marked with ",n.jsx("span",{className:"text-red-500",children:"*"})," to complete your order"]}),mc()&&!X&&n.jsxs("p",{className:`text-xs text-center flex items-center justify-center gap-1 ${Fe?"text-emerald-400":"text-green-600"}`,children:[n.jsx(Tt,{className:"w-4 h-4"}),"All required fields completed"]}),n.jsx("p",{className:`text-xs text-center mt-2 ${Sn}`,children:"By completing this transaction, you agree to BookingTMS's Terms of Service for Customers."})]})})]})})]}),i==="success"&&d&&n.jsx("div",{className:"p-4 md:p-10 min-h-[60vh] flex items-center justify-center",children:n.jsxs("div",{className:"max-w-2xl w-full text-center",children:[n.jsx("div",{className:"mb-6 md:mb-8 flex justify-center",children:n.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-full flex items-center justify-center",style:{backgroundColor:Fe?"#4f46e520":`${t}20`},children:n.jsx(Tt,{className:"w-10 h-10 md:w-12 md:h-12",style:{color:Fe?"#6366f1":t}})})}),n.jsx("h1",{className:`text-2xl md:text-4xl mb-3 md:mb-4 ${Ur}`,children:"Payment Successful!"}),n.jsxs("p",{className:`text-base md:text-lg mb-6 md:mb-8 ${Sn}`,children:["Your booking has been confirmed. We've sent a confirmation email to ",se.email]}),n.jsxs("div",{className:`rounded-lg p-4 md:p-6 mb-6 md:mb-8 text-left ${Fe?"bg-[#1e1e1e]":"bg-white border border-gray-200"}`,children:[n.jsxs("div",{className:"flex gap-4 mb-4 md:mb-6",children:[n.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded overflow-hidden flex-shrink-0",children:n.jsx(Fn,{src:d.image,alt:d.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:`text-lg md:text-xl mb-1 ${Ur}`,children:d.name}),n.jsx("p",{className:`text-sm md:text-base ${Fe?"text-[#a3a3a3]":"text-gray-600"}`,children:En()})]})]}),n.jsx(tt,{className:`mb-4 md:mb-6 ${Fe?"bg-[#2a2a2a]":"bg-gray-200"}`}),n.jsxs("div",{className:"space-y-3 text-sm md:text-base",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:Fe?"text-[#a3a3a3]":"text-gray-600",children:"Booking ID"}),n.jsxs("span",{className:Ur,children:["#BK-",Date.now().toString().slice(-6)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:Fe?"text-[#a3a3a3]":"text-gray-600",children:"Guests"}),n.jsx("span",{className:Ur,children:Object.entries(fc()).map(([Oe,Ot],tr,jr)=>n.jsxs("span",{children:[Ot," ",Oe,tr<jr.length-1?", ":""]},Oe))})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:Fe?"text-[#a3a3a3]":"text-gray-600",children:"Total Paid"}),n.jsxs("span",{className:`text-lg ${Ur}`,children:["$",ll().toFixed(2)]})]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4 justify-center",children:[n.jsx(J,{variant:"outline",onClick:()=>window.print(),className:"h-11 md:h-12 px-6 md:px-8",children:"Print Receipt"}),n.jsxs(J,{onClick:hi,className:"h-11 md:h-12 px-6 md:px-8 text-white whitespace-nowrap",style:{backgroundColor:Fe?"#4f46e5":t},children:[n.jsx($4,{className:"w-5 h-5 mr-2"}),"Book Another Experience"]})]}),n.jsx("p",{className:`text-xs md:text-sm mt-6 md:mt-8 ${Fe?"text-[#737373]":"text-gray-500"}`,children:"Need help? Contact us at support@bookingtms.com"})]})}),i==="failed"&&d&&n.jsx("div",{className:"p-4 md:p-10 min-h-[60vh] flex items-center justify-center",children:n.jsxs("div",{className:"max-w-2xl w-full text-center",children:[n.jsx("div",{className:"mb-6 md:mb-8 flex justify-center",children:n.jsx("div",{className:`w-16 h-16 md:w-20 md:h-20 rounded-full flex items-center justify-center ${Fe?"bg-red-500/20":"bg-red-100"}`,children:n.jsx(In,{className:`w-10 h-10 md:w-12 md:h-12 ${Fe?"text-red-400":"text-red-600"}`})})}),n.jsx("h1",{className:`text-2xl md:text-4xl mb-3 md:mb-4 ${Ur}`,children:"Payment Failed"}),n.jsx("p",{className:`text-base md:text-lg mb-6 md:mb-8 ${Sn}`,children:"We couldn't process your payment. Please check your payment details and try again."}),n.jsxs("div",{className:`border rounded-lg p-4 md:p-6 mb-6 md:mb-8 text-left ${Fe?"bg-red-500/10 border-red-500/30":"bg-red-50 border-red-200"}`,children:[n.jsx("h3",{className:`text-base md:text-lg mb-3 ${Ur}`,children:"Common reasons for payment failure:"}),n.jsxs("ul",{className:`space-y-2 text-sm md:text-base ${Fe?"text-[#a3a3a3]":"text-gray-700"}`,children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:`mt-1 ${Fe?"text-red-400":"text-red-500"}`,children:""}),n.jsx("span",{children:"Insufficient funds in your account"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:`mt-1 ${Fe?"text-red-400":"text-red-500"}`,children:""}),n.jsx("span",{children:"Incorrect card number or expiration date"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:`mt-1 ${Fe?"text-red-400":"text-red-500"}`,children:""}),n.jsx("span",{children:"Card security code (CVV) mismatch"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:`mt-1 ${Fe?"text-red-400":"text-red-500"}`,children:""}),n.jsx("span",{children:"Card issuer declined the transaction"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:`mt-1 ${Fe?"text-red-400":"text-red-500"}`,children:""}),n.jsx("span",{children:"Billing address mismatch"})]})]})]}),n.jsxs("div",{className:`rounded-lg p-4 md:p-6 mb-6 md:mb-8 text-left ${Fe?"bg-[#1e1e1e]":"bg-white border border-gray-200"}`,children:[n.jsx("h3",{className:`text-base md:text-lg mb-3 ${Ur}`,children:"Your booking details:"}),n.jsxs("div",{className:"flex gap-4 mb-4",children:[n.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded overflow-hidden flex-shrink-0",children:n.jsx(Fn,{src:d.image,alt:d.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:`text-base md:text-lg mb-1 ${Ur}`,children:d.name}),n.jsx("p",{className:`text-sm ${Fe?"text-[#a3a3a3]":"text-gray-600"}`,children:En()})]})]}),n.jsx(tt,{className:`mb-4 ${Fe?"bg-[#2a2a2a]":"bg-gray-200"}`}),n.jsxs("div",{className:"space-y-2 text-sm md:text-base",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:Fe?"text-[#a3a3a3]":"text-gray-600",children:"Guests"}),n.jsx("span",{className:Ur,children:Object.entries(fc()).map(([Oe,Ot],tr,jr)=>n.jsxs("span",{children:[Ot," ",Oe,tr<jr.length-1?", ":""]},Oe))})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:Fe?"text-[#a3a3a3]":"text-gray-600",children:"Total Amount"}),n.jsxs("span",{className:`text-lg ${Ur}`,children:["$",ll().toFixed(2)]})]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4 justify-center",children:[n.jsxs(J,{variant:"outline",onClick:hi,className:"h-11 md:h-12 px-6 md:px-8",children:[n.jsx($4,{className:"w-5 h-5 mr-2"}),"Start Over"]}),n.jsxs(J,{onClick:()=>o("checkout"),className:"h-11 md:h-12 px-6 md:px-8 text-white whitespace-nowrap",style:{backgroundColor:Fe?"#4f46e5":t},children:[n.jsx(fa,{className:"w-5 h-5 mr-2"}),"Try Again"]})]}),n.jsx("p",{className:`text-xs md:text-sm mt-6 md:mt-8 ${Fe?"text-[#737373]":"text-gray-500"}`,children:"Need help? Contact us at support@bookingtms.com or call (555) 123-4567"})]})})]}),n.jsxs("div",{className:`${Bo} border-t ${Va} px-4 sm:px-6 py-4 flex-shrink-0 safe-area-inset-bottom`,children:[n.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between text-xs sm:text-sm gap-2 sm:gap-3 ${Sn}`,children:[n.jsxs("button",{className:`flex items-center gap-2 transition-colors active:scale-95 touch-manipulation ${Fe?"hover:text-white":"hover:text-gray-900"}`,children:[n.jsx("span",{className:Fe?"text-[#737373]":"text-gray-500",children:""}),n.jsx("span",{children:_}),n.jsx(Dd,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:Fe?"text-[#737373]":"text-gray-500",children:"Powered by"}),n.jsx("span",{className:`font-medium ${Ur}`,children:"BookingTMS"})]})]}),n.jsx("div",{className:`mt-2 text-xs text-center sm:text-left ${Fe?"text-[#737373]":"text-gray-500"}`,children:"All prices are in US dollars"}),i==="categories"&&n.jsxs("div",{className:`mt-2 text-xs text-center sm:text-left ${Fe?"text-[#737373]":"text-gray-500"}`,children:["See any illegal content?"," ",n.jsx("button",{className:`underline touch-manipulation ${Fe?"hover:text-[#a3a3a3] active:text-white":"hover:text-gray-700 active:text-gray-900"}`,children:"Report it using this form"}),"."]})]})]})}),n.jsx(mb,{open:ne,onOpenChange:ce,children:n.jsxs(pb,{className:"bg-white max-w-md",children:[n.jsxs(xb,{children:[n.jsx(vb,{className:"text-gray-900",children:"Are you sure you want to close?"}),n.jsx(yb,{className:"text-gray-600",children:"Items you've added to your cart will still be here when you come back."})]}),n.jsxs(gb,{className:"gap-2 sm:gap-2",children:[n.jsx(wb,{onClick:()=>ce(!1),className:"bg-blue-600 hover:bg-blue-700 text-white border-0 order-first sm:order-first",children:"Stay"}),n.jsx(bb,{onClick:()=>{ce(!1),hi()},className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-0",children:"Leave checkout"})]})]})}),n.jsx(or,{open:ft,onOpenChange:ke,children:n.jsxs(lr,{className:"bg-white max-w-lg",children:[n.jsxs(Nr,{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:n.jsx(Xn,{className:"w-6 h-6 text-green-700"})}),n.jsx(cr,{className:"text-2xl text-gray-900",children:"Secure Booking"})]}),n.jsx(xr,{className:"text-base text-gray-600 pt-2",children:"Your security and privacy are our top priorities. We use industry-leading technology to protect your information."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx(Wi,{className:"w-5 h-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-gray-900 mb-1",children:"SSL Encryption"}),n.jsx("p",{className:"text-sm text-gray-600",children:"All data transmitted between your browser and our servers is encrypted using 256-bit SSL technology, the same security used by major banks."})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx(Wi,{className:"w-5 h-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-gray-900 mb-1",children:"PCI DSS Compliant"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Our payment processing is fully compliant with Payment Card Industry Data Security Standards, ensuring your card information is handled with the highest security."})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx(Wi,{className:"w-5 h-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-gray-900 mb-1",children:"Data Protection"}),n.jsx("p",{className:"text-sm text-gray-600",children:"We never store your complete credit card information on our servers. All payment data is tokenized and processed through secure, certified payment gateways."})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx(Wi,{className:"w-5 h-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-gray-900 mb-1",children:"Privacy Guaranteed"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Your personal information is kept confidential and will never be shared with third parties without your explicit consent."})]})]}),n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mt-4",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(da,{className:"w-5 h-5 text-green-700 flex-shrink-0 mt-0.5"}),n.jsxs("p",{className:"text-sm text-green-800",children:[n.jsx("strong",{children:"Your trust matters:"})," We're committed to maintaining the highest standards of security and transparency in all our transactions."]})]})})]})]})}),n.jsx(or,{open:lt,onOpenChange:Ve,children:n.jsxs(lr,{className:"bg-white max-w-lg",children:[n.jsxs(Nr,{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:`${t}20`},children:n.jsx(ma,{className:"w-6 h-6",style:{color:t}})}),n.jsx(cr,{className:"text-2xl text-gray-900",children:"Health & Safety"})]}),n.jsx(xr,{className:"text-base text-gray-600 pt-2",children:"Your health and safety are paramount. We've implemented comprehensive measures to ensure a safe and enjoyable experience."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx(Wi,{className:"w-5 h-5",style:{color:t}})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-gray-900 mb-1",children:"Private Bookings"}),n.jsx("p",{className:"text-sm text-gray-600",children:"We have all private bookings. You will never have to worry about playing with strangers, it will always be just your group."})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx(Wi,{className:"w-5 h-5",style:{color:t}})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-gray-900 mb-1",children:"Hand Sanitization Required"}),n.jsx("p",{className:"text-sm text-gray-600",children:"All players are required to wash and sanitize hands before entering any of our rooms. Hand sanitizer stations are provided at all entrances."})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx(Wi,{className:"w-5 h-5",style:{color:t}})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-gray-900 mb-1",children:"Stringent Cleaning Protocols"}),n.jsx("p",{className:"text-sm text-gray-600",children:"We have very stringent cleaning policies in place. All rooms are thoroughly cleaned and disinfected between every booking using hospital-grade sanitizers."})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx(Wi,{className:"w-5 h-5",style:{color:t}})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-gray-900 mb-1",children:"Enhanced Ventilation"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Our facilities feature upgraded HVAC systems with HEPA filtration to ensure optimal air quality and circulation throughout all spaces."})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx(Wi,{className:"w-5 h-5",style:{color:t}})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-gray-900 mb-1",children:"Staff Training & Wellness"}),n.jsx("p",{className:"text-sm text-gray-600",children:"All team members receive regular health and safety training. Daily health screenings ensure our staff maintains the highest standards of wellness."})]})]}),n.jsx("div",{className:"rounded-lg p-4 mt-4 border",style:{backgroundColor:`${t}10`,borderColor:`${t}30`},children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Md,{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:t}}),n.jsxs("p",{className:"text-sm",style:{color:t},children:[n.jsx("strong",{children:"Your safety is our commitment:"})," These protocols are continuously updated based on CDC guidelines and industry best practices to provide you with the safest experience possible."]})]})})]})]})}),n.jsx(or,{open:Ke,onOpenChange:yt,children:n.jsxs(lr,{className:`max-w-lg ${Fe?"bg-[#161616] border-[#2a2a2a]":"bg-white"}`,children:[n.jsxs(Nr,{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${Fe?"bg-[#4f46e5]/20":"bg-green-100"}`,children:n.jsx(Oo,{className:"w-6 h-6",style:{color:Fe?"#6366f1":"#16a34a"}})}),n.jsx(cr,{className:Fe?"text-white":"text-gray-900",children:"Gift Vouchers"})]}),n.jsx(xr,{className:`text-base pt-2 ${Fe?"text-[#a3a3a3]":"text-gray-600"}`,children:"Give the gift of unforgettable experiences! Purchase a gift voucher for friends, family, or colleagues."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx(Wi,{className:"w-5 h-5",style:{color:Fe?"#6366f1":"#16a34a"}})}),n.jsxs("div",{children:[n.jsx("h4",{className:Fe?"text-white mb-1":"text-gray-900 mb-1",children:"Flexible Amounts"}),n.jsx("p",{className:`text-sm ${Fe?"text-[#a3a3a3]":"text-gray-600"}`,children:"Choose from preset amounts or select a custom value. Our gift vouchers can be used for any experience or booking."})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx(Wi,{className:"w-5 h-5",style:{color:Fe?"#6366f1":"#16a34a"}})}),n.jsxs("div",{children:[n.jsx("h4",{className:Fe?"text-white mb-1":"text-gray-900 mb-1",children:"Instant Delivery"}),n.jsx("p",{className:`text-sm ${Fe?"text-[#a3a3a3]":"text-gray-600"}`,children:"Gift vouchers are delivered instantly via email. Perfect for last-minute gifts or special occasions."})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx(Wi,{className:"w-5 h-5",style:{color:Fe?"#6366f1":"#16a34a"}})}),n.jsxs("div",{children:[n.jsx("h4",{className:Fe?"text-white mb-1":"text-gray-900 mb-1",children:"Valid for 12 Months"}),n.jsx("p",{className:`text-sm ${Fe?"text-[#a3a3a3]":"text-gray-600"}`,children:"All gift vouchers are valid for one year from the date of purchase, giving plenty of time to enjoy the experience."})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx(Wi,{className:"w-5 h-5",style:{color:Fe?"#6366f1":"#16a34a"}})}),n.jsxs("div",{children:[n.jsx("h4",{className:Fe?"text-white mb-1":"text-gray-900 mb-1",children:"Easy to Redeem"}),n.jsx("p",{className:`text-sm ${Fe?"text-[#a3a3a3]":"text-gray-600"}`,children:"Simply enter the voucher code at checkout. Multiple vouchers can be combined for a single booking."})]})]}),n.jsx("div",{className:`rounded-lg p-4 mt-4 border ${Fe?"bg-[#4f46e5]/10 border-[#4f46e5]/30":"bg-green-50 border-green-200"}`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Oo,{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:Fe?"#6366f1":"#16a34a"}}),n.jsxs("p",{className:`text-sm ${Fe?"text-[#6366f1]":"text-green-800"}`,children:[n.jsx("strong",{children:"Perfect for any occasion:"})," Birthdays, holidays, corporate events, or just because! Share the joy of adventure with a gift voucher."]})]})}),n.jsx("div",{className:"pt-4",children:n.jsxs(J,{onClick:()=>{yt(!1),Gt(!0)},className:"w-full",style:{backgroundColor:Fe?"#4f46e5":"#16a34a",color:"white"},children:[n.jsx(Oo,{className:"w-4 h-4 mr-2"}),"Purchase Gift Voucher"]})})]})]})}),n.jsx(HUe,{isOpen:Mt,onClose:()=>Gt(!1),primaryColor:t,theme:s})]})}function qUe({primaryColor:t="#0ea5e9",config:e,theme:r="light",eventData:s}){const[a,i]=S.useState(r),[o,l]=S.useState("calendar"),[c,d]=S.useState(null),[u,h]=S.useState(""),f=new Date,[m,y]=S.useState(f.getMonth()),[g,v]=S.useState(f.getFullYear()),b=["January","February","March","April","May","June","July","August","September","October","November","December"];Array.from({length:3},(Ze,Ae)=>2025+Ae);const w=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],[N,_]=S.useState([]),[C,E]=S.useState({}),[A,I]=S.useState({}),[$,O]=S.useState({}),[P,M]=S.useState({}),[R,W]=S.useState({fullName:"",phone:"",email:"",emailUpdates:!1}),[Y,K]=S.useState({cardNumber:"",expiryDate:"",securityCode:"",country:"United States"}),[L,F]=S.useState(!1),[ee,se]=S.useState(!1),[q,z]=S.useState(!1),[Z,X]=S.useState(null),[Q,ne]=S.useState(!1),[ce,ie]=S.useState(null),[pe,ae]=S.useState(""),[be,we]=S.useState(""),[Ie,Ee]=S.useState(!1),[H,Le]=S.useState(!1),Ye={name:"Zombie Apocalypse",image:"https://images.unsplash.com/photo-1659059530318-656a112ad2cd?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx6b21iaWUlMjBhcG9jYWx5cHNlJTIwaG9ycm9yfGVufDF8fHx8MTc2MTg5OTYzNHww&ixlib=rb-4.1.0&q=80&w=1080",priceRange:"$25 - $30",ageRange:"Ages 6+",duration:"1 Hour",difficulty:5,description:"Can you survive the zombie apocalypse and find the cure?"},qe={...{showSecuredBadge:!0,showHealthSafety:!0,enableVeteranDiscount:!0,ticketTypes:[{id:"player",name:"Players",description:"Ages 6 & Up",price:30},{id:"veteran",name:"Veterans",description:"Must show military ID",price:25}],additionalQuestions:[{id:"hear-about",question:"How did you hear about us?",type:"select",options:["Google","Facebook","Friend","Other"],required:!1}],cancellationPolicy:"Cash refunds are not available. If you are unable to keep your scheduled reservation, please contact us. We can rebook you to a different date and/or time or issue a refund in the form of a gift card."},...e},ft=s||Ye,ke=qe.ticketTypes||[],lt=()=>{const Ze=[],Ae=new Date(g,m,1).getDay(),wt=new Date(g,m+1,0).getDate(),He=new Date(g,m,0).getDate();for(let fr=Ae-1;fr>=0;fr--){const on=He-fr,En=m===0?11:m-1;Ze.push({date:on,month:En,year:m===0?g-1:g,isCurrentMonth:!1,slots:[]})}for(let fr=1;fr<=wt;fr++){const on=Math.floor(Math.random()*10)+1;Ze.push({date:fr,month:m,year:g,isCurrentMonth:!0,slots:on})}const jt=42-Ze.length;for(let fr=1;fr<=jt;fr++){const on=m===11?0:m+1;Ze.push({date:fr,month:on,year:m===11?g+1:g,isCurrentMonth:!1,slots:[]})}return Ze},Ve=()=>{m===0?(y(11),v(g-1)):y(m-1)},Ke=()=>{m===11?(y(0),v(g+1)):y(m+1)},yt=Ze=>{if(Ze.isCurrentMonth&&Ze.slots>0){const Ae=new Date(Ze.year,Ze.month,Ze.date);d(Ae),l("timeslot")}},Gt=(()=>{const Ze=[];for(let Ae=10;Ae<=20;Ae++){const wt=`${Ae>12?Ae-12:Ae}:00 ${Ae>=12?"PM":"AM"}`;Ze.push({time:wt,available:Math.random()>.3})}return Ze})(),qt=Ze=>{h(Ze),l("plan")},At=()=>{o==="timeslot"?l("calendar"):o==="plan"?l("timeslot"):o==="cart"?l("plan"):o==="checkout"&&l("cart")},Dt=()=>{const Ze=[];Object.keys(C).forEach(Ae=>{const wt=C[Ae];if(wt>0){const He=ke.find(jt=>jt.id===Ae);if(He)for(let jt=0;jt<wt;jt++)Ze.push({id:`${Ae}-${Date.now()}-${jt}`,ticketTypeId:He.id,ticketTypeName:He.name,price:He.price,promoCode:P[Ae]?.code})}}),_([...N,...Ze]),l("cart")},Nt=()=>{N.length>0&&l("checkout")},$r=async()=>{if(!R.fullName.trim()){alert("Please enter your full name");return}if(!R.phone.trim()){alert("Please enter your phone number");return}if(!R.email.trim()||!R.email.includes("@")){alert("Please enter a valid email address");return}if(!Y.cardNumber.trim()||Y.cardNumber.replace(/\s/g,"").length<13){alert("Please enter a valid card number");return}if(!Y.expiryDate.trim()){alert("Please enter card expiration date");return}if(!Y.securityCode.trim()||Y.securityCode.length<3){alert("Please enter a valid security code");return}F(!0),await new Promise(Ae=>setTimeout(Ae,1500));const Ze=Math.random()>.15;F(!1),l(Ze?"success":"failed")},Or=()=>{l("calendar"),d(null),h(""),_([]),E({}),I({}),O({}),M({}),z(!1),X(null),W({fullName:"",phone:"",email:"",emailUpdates:!1}),K({cardNumber:"",expiryDate:"",securityCode:"",country:"United States"})},Ht=lt(),bt=a==="dark",an=bt?"bg-[#0a0a0a]":"bg-gray-100",er=bt?"bg-[#161616]":"bg-white",$e=bt?"border-[#2a2a2a]":"border-gray-200",nt=bt?"text-white":"text-gray-900",sr=bt?"text-[#a3a3a3]":"text-gray-600",dr=bt?"hover:bg-[#1e1e1e]":"hover:bg-gray-50",Rr=Ze=>{const Ae=[];for(let wt=0;wt<5;wt++)Ae.push(n.jsx(yn,{className:`w-3 h-3 ${wt<Ze?"fill-yellow-400 text-yellow-400":"text-gray-400"}`},wt));return n.jsx("div",{className:"flex gap-0.5",children:Ae})},Jt=()=>N.reduce((Ze,Ae)=>Ze+Ae.price,0),_t=()=>{let Ze=0;return ce&&(Ze+=ce.discount),Ze},Lr=()=>{const Ze=Jt(),Ae=_t(),wt=Z?.amount||0;return Math.max(0,Ze-Ae-wt)};return n.jsxs(UO,{children:[n.jsx("div",{className:`w-full min-h-screen ${an} flex items-center justify-center p-0 sm:p-2 lg:p-4`,children:n.jsxs("div",{className:`w-full h-auto max-w-6xl ${er} sm:rounded-xl shadow-2xl overflow-hidden flex flex-col min-h-screen sm:min-h-0 sm:my-4`,children:[n.jsx("div",{className:`${er} border-b ${$e} px-3 sm:px-6 py-3 sm:py-4 flex-shrink-0 sticky top-0 z-10 shadow-sm backdrop-blur-sm ${bt?"bg-[#161616]/95":"bg-white/95"}`,children:n.jsxs("div",{className:"flex items-center justify-between gap-2 w-full",children:[n.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[n.jsxs("button",{onClick:()=>i(Ze=>Ze==="light"?"dark":"light"),className:`flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-3 py-2 sm:py-1.5 rounded-lg sm:rounded-full transition-all hover:shadow-sm active:scale-95 border touch-manipulation min-w-[44px] justify-center ${bt?"bg-[#2a2a2a] border-[#3a3a3a] text-[#a3a3a3] hover:bg-[#333]":"bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200"}`,children:[bt?n.jsx(Ry,{className:"w-4 h-4 sm:w-4 sm:h-4 flex-shrink-0"}):n.jsx(Eg,{className:"w-4 h-4 sm:w-4 sm:h-4 flex-shrink-0"}),n.jsx("span",{className:"hidden sm:inline text-xs sm:text-sm font-medium whitespace-nowrap",children:bt?"Light":"Dark"})]}),qe.showSecuredBadge&&n.jsxs("button",{onClick:()=>Ee(!0),className:`flex items-center gap-1 sm:gap-1.5 px-2.5 sm:px-3 py-2 sm:py-1.5 rounded-lg sm:rounded-full transition-all hover:shadow-sm active:scale-95 border touch-manipulation min-w-[44px] ${bt?"bg-emerald-500/10 border-emerald-500/30 text-emerald-400 hover:bg-emerald-500/20":"bg-green-50 hover:bg-green-100 active:bg-green-200 text-green-700 border-green-200"}`,children:[n.jsx(da,{className:"w-4 h-4 sm:w-4 sm:h-4 flex-shrink-0"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium whitespace-nowrap hidden xs:inline",children:"Secured"}),n.jsx(Dd,{className:"w-3 h-3 flex-shrink-0 hidden sm:block"})]}),qe.showHealthSafety&&n.jsxs("button",{onClick:()=>Le(!0),className:`flex items-center gap-1 sm:gap-1.5 px-2.5 sm:px-3 py-2 sm:py-1.5 rounded-lg sm:rounded-full transition-all hover:shadow-sm active:scale-95 border touch-manipulation min-w-[44px] ${bt?"bg-[#4f46e5]/10 border-[#4f46e5]/30 text-[#6366f1] hover:bg-[#4f46e5]/20":""}`,style:bt?void 0:{backgroundColor:`${t}10`,borderColor:`${t}30`,color:t},children:[n.jsx(ma,{className:"w-4 h-4 sm:w-4 sm:h-4 flex-shrink-0"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium whitespace-nowrap hidden xs:inline",children:"Safety"}),n.jsx(Dd,{className:"w-3 h-3 flex-shrink-0 hidden sm:block"})]})]}),n.jsx("button",{onClick:()=>{N.length>0&&o!=="success"&&o!=="failed"?se(!0):Or()},className:`transition-colors p-2.5 active:scale-90 touch-manipulation rounded-lg min-w-[44px] min-h-[44px] flex items-center justify-center ${bt?"text-[#737373] hover:text-[#a3a3a3] hover:bg-[#1e1e1e]":"text-gray-400 hover:text-gray-600 active:text-gray-700 hover:bg-gray-100"}`,children:n.jsx(In,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})}),o!=="success"&&o!=="failed"&&n.jsx("div",{className:`${er} px-3 sm:px-6 py-3 sm:py-4 border-b ${$e} flex-shrink-0 sticky top-[57px] sm:top-[65px] z-10 shadow-sm backdrop-blur-sm ${bt?"bg-[#161616]/95":"bg-white/95"}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[o!=="calendar"&&n.jsxs("button",{onClick:At,className:`flex items-center gap-1.5 sm:gap-2 transition-colors active:scale-95 p-2.5 sm:p-2 rounded-lg ${dr} touch-manipulation min-w-[44px] min-h-[44px] ${bt?"text-[#a3a3a3] hover:text-[#6366f1]":"text-gray-700 hover:text-blue-600 active:text-blue-700 active:bg-gray-100"}`,children:[n.jsx(qn,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"text-sm sm:text-base hidden sm:inline",children:"Back"})]}),N.length>0&&o!=="cart"&&o!=="checkout"&&n.jsxs("button",{onClick:()=>l("cart"),className:`ml-auto flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${bt?"bg-[#4f46e5] hover:bg-[#4338ca] text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:[n.jsx(Ua,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:N.length})]})]})}),n.jsxs("div",{className:"flex-1 overflow-y-auto",children:[o==="calendar"&&n.jsxs("div",{className:"p-3 sm:p-4 md:p-10 pb-20 sm:pb-10",children:[n.jsx("div",{className:"relative rounded-lg sm:rounded-xl overflow-hidden mb-4 sm:mb-6 md:mb-8 shadow-xl animate-in fade-in slide-in-from-bottom-4 duration-500",children:n.jsxs("div",{className:"aspect-[16/9] sm:aspect-[21/9] relative",children:[n.jsx(Fn,{src:ft.image,alt:ft.name,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 sm:p-4 md:p-8",children:[n.jsx("h2",{className:"text-white text-lg sm:text-xl md:text-4xl mb-1 sm:mb-2 leading-tight",children:ft.name}),n.jsxs("div",{className:"flex flex-wrap items-center gap-1 sm:gap-1.5 md:gap-2 text-white text-xs",children:[n.jsx("span",{className:"bg-white/20 backdrop-blur-sm border border-white/30 rounded-full px-2 sm:px-2.5 py-0.5",children:ft.priceRange}),n.jsx("span",{className:"hidden sm:inline text-xs sm:text-sm",children:ft.ageRange}),n.jsx("span",{className:"hidden sm:inline",children:""}),n.jsx("span",{className:"text-xs sm:text-sm",children:ft.duration}),n.jsx("span",{className:"hidden md:inline",children:""}),n.jsxs("span",{className:"hidden md:flex items-center gap-1 text-xs sm:text-sm",children:["Difficulty: ",Rr(ft.difficulty)]})]}),ft.description&&n.jsx("p",{className:"text-white/90 mt-1 sm:mt-2 max-w-2xl text-xs sm:text-sm hidden sm:block",children:ft.description})]})]})}),n.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6 md:mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsx("button",{onClick:Ve,className:`p-2.5 sm:p-2 md:p-3 rounded-lg transition-colors active:scale-95 touch-manipulation flex-shrink-0 min-w-[44px] min-h-[44px] flex items-center justify-center ${bt?"hover:bg-[#1e1e1e] active:bg-[#2a2a2a]":"hover:bg-gray-100 active:bg-gray-200"}`,"aria-label":"Previous month",children:n.jsx(qn,{className:`w-5 h-5 sm:w-6 sm:h-6 ${bt?"text-[#a3a3a3]":"text-gray-700"}`})}),n.jsxs("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2 flex-1 px-2",children:[n.jsx("h3",{className:`text-base sm:text-lg md:text-2xl ${nt} font-semibold`,children:b[m]}),n.jsx("span",{className:`text-base sm:text-lg md:text-2xl ${bt?"text-[#737373]":"text-gray-400"}`,children:""}),n.jsx("h3",{className:`text-base sm:text-lg md:text-2xl ${nt} font-semibold`,children:g}),n.jsx("span",{className:`text-base sm:text-lg md:text-2xl ${bt?"text-[#737373]":"text-gray-400"}`,children:""})]}),n.jsx("button",{onClick:Ke,className:`p-2.5 sm:p-2 md:p-3 rounded-lg transition-colors active:scale-95 touch-manipulation flex-shrink-0 min-w-[44px] min-h-[44px] flex items-center justify-center ${bt?"hover:bg-[#1e1e1e] active:bg-[#2a2a2a]":"hover:bg-gray-100 active:bg-gray-200"}`,"aria-label":"Next month",children:n.jsx(Ds,{className:`w-5 h-5 sm:w-6 sm:h-6 ${bt?"text-[#a3a3a3]":"text-gray-700"}`})})]}),n.jsxs("div",{className:"mb-6 sm:mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500 delay-100",children:[n.jsx("div",{className:"grid grid-cols-7 mb-3 sm:mb-4",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map((Ze,Ae)=>n.jsxs("div",{className:`text-center text-xs sm:text-sm py-2 font-semibold uppercase tracking-wide ${sr}`,children:[n.jsx("span",{className:"hidden sm:inline",children:w[Ae].slice(0,3)}),n.jsx("span",{className:"sm:hidden",children:Ze})]},Ze))}),n.jsx("div",{className:"grid grid-cols-7 gap-1 sm:gap-2",children:Ht.map((Ze,Ae)=>{const wt=Ze.isCurrentMonth&&Ze.slots>0,He=c&&Ze.date===c.getDate()&&Ze.month===c.getMonth()&&Ze.year===c.getFullYear();return n.jsxs("button",{onClick:()=>yt(Ze),disabled:!wt,className:`
                          aspect-square p-1 sm:p-2 rounded-lg sm:rounded-xl transition-all duration-200 flex flex-col items-center justify-center
                          ${Ze.isCurrentMonth?"":bt?"text-[#2a2a2a]":"text-gray-300"}
                          ${wt?`cursor-pointer ${bt?"hover:bg-[#1e1e1e] active:bg-[#2a2a2a]":"hover:bg-gray-100 active:bg-gray-200"}`:"cursor-not-allowed opacity-40"}
                          ${He?bt?"bg-[#4f46e5] text-white":"bg-blue-600 text-white":bt?"text-white":"text-gray-900"}
                          touch-manipulation
                        `,children:[n.jsx("span",{className:`text-sm sm:text-base font-medium ${He?"text-white":""}`,children:Ze.date}),Ze.isCurrentMonth&&Ze.slots>0&&n.jsxs("span",{className:`text-[10px] sm:text-xs ${He?"text-white/80":bt?"text-[#737373]":"text-gray-500"}`,children:[Ze.slots," slots"]})]},Ae)})})]}),n.jsx("p",{className:`text-center text-xs sm:text-sm ${sr} animate-in fade-in slide-in-from-bottom-4 duration-500 delay-200`,children:"Click a date to browse availability"})]}),o==="timeslot"&&c&&n.jsxs("div",{className:"p-3 sm:p-4 md:p-10 pb-20 sm:pb-10",children:[n.jsxs("div",{className:"mb-4 sm:mb-6 md:mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsx("h2",{className:`text-xl sm:text-2xl md:text-3xl ${nt} mb-1.5 sm:mb-2`,children:c.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),n.jsx("p",{className:`text-sm sm:text-base ${sr}`,children:"Select your preferred time"})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-3 md:gap-4",children:Gt.map((Ze,Ae)=>n.jsxs("button",{onClick:()=>Ze.available&&qt(Ze.time),disabled:!Ze.available,className:`
                      p-3 sm:p-4 rounded-lg sm:rounded-xl transition-all duration-200 border-2
                      ${Ze.available?bt?"border-[#2a2a2a] hover:border-[#4f46e5] hover:bg-[#1e1e1e] active:bg-[#2a2a2a]":"border-gray-200 hover:border-blue-600 hover:bg-blue-50 active:bg-blue-100":bt?"border-[#2a2a2a] opacity-40 cursor-not-allowed":"border-gray-200 opacity-40 cursor-not-allowed"}
                      ${u===Ze.time?bt?"border-[#4f46e5] bg-[#4f46e5]/10":"border-blue-600 bg-blue-50":""}
                      animate-in fade-in slide-in-from-bottom-4 duration-500
                      touch-manipulation
                    `,style:{animationDelay:`${Ae*30}ms`},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(Qt,{className:`w-4 h-4 ${Ze.available?bt?"text-[#a3a3a3]":"text-gray-600":bt?"text-[#2a2a2a]":"text-gray-400"}`}),n.jsx("span",{className:`text-sm sm:text-base font-medium ${bt?"text-white":"text-gray-900"}`,children:Ze.time})]}),!Ze.available&&n.jsx("p",{className:`text-xs mt-1 ${bt?"text-[#737373]":"text-gray-500"}`,children:"Sold out"})]},Ae))})]}),o==="plan"&&n.jsxs("div",{className:"p-3 sm:p-4 md:p-10 pb-20 sm:pb-10",children:[n.jsxs("div",{className:"mb-4 sm:mb-6 md:mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsx("h2",{className:`text-xl sm:text-2xl md:text-3xl ${nt} mb-1.5 sm:mb-2`,children:"Select Tickets"}),n.jsxs("p",{className:`text-sm sm:text-base ${sr}`,children:[c?.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})," at ",u]})]}),n.jsx("div",{className:"space-y-3 sm:space-y-4 md:space-y-6",children:ke.map((Ze,Ae)=>{const wt=C[Ze.id]||0,He=P[Ze.id],jt=He?Ze.price-He.discount:Ze.price;return n.jsxs("div",{className:`${er} border ${$e} rounded-lg sm:rounded-xl p-3 sm:p-4 md:p-6 animate-in fade-in slide-in-from-bottom-4 duration-500`,style:{animationDelay:`${Ae*100}ms`},children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 sm:gap-4 mb-3 sm:mb-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:`text-base sm:text-lg ${nt} mb-1`,children:Ze.name}),n.jsx("p",{className:`text-xs sm:text-sm ${sr}`,children:Ze.description}),n.jsxs("div",{className:"flex items-baseline gap-2 mt-2",children:[n.jsxs("span",{className:`text-lg sm:text-xl md:text-2xl ${nt} font-semibold`,children:["$",jt.toFixed(2)]}),He&&n.jsxs("span",{className:"text-sm text-gray-400 line-through",children:["$",Ze.price.toFixed(2)]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[n.jsx("button",{onClick:()=>E(fr=>({...fr,[Ze.id]:Math.max(0,(fr[Ze.id]||0)-1)})),disabled:wt===0,className:`w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl flex items-center justify-center transition-colors touch-manipulation ${wt===0?bt?"bg-[#1e1e1e] text-[#2a2a2a] cursor-not-allowed":"bg-gray-100 text-gray-300 cursor-not-allowed":bt?"bg-[#1e1e1e] text-white hover:bg-[#2a2a2a]":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:n.jsx(Nk,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),n.jsx("span",{className:`text-lg sm:text-xl font-semibold min-w-[2rem] sm:min-w-[3rem] text-center ${nt}`,children:wt}),n.jsx("button",{onClick:()=>E(fr=>({...fr,[Ze.id]:(fr[Ze.id]||0)+1})),className:`w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl flex items-center justify-center transition-colors touch-manipulation ${bt?"bg-[#4f46e5] text-white hover:bg-[#4338ca]":"bg-blue-600 text-white hover:bg-blue-700"}`,children:n.jsx(An,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]}),wt>0&&n.jsxs("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t",style:{borderColor:bt?"#2a2a2a":"#e5e7eb"},children:[He?n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-xs sm:text-sm text-emerald-600 dark:text-emerald-400",children:['Promo code "',He.code,'" applied (-$',He.discount,")"]}),n.jsx("button",{onClick:()=>{const fr={...P};delete fr[Ze.id],M(fr)},className:"text-xs sm:text-sm text-red-600 dark:text-red-400 hover:underline",children:"Remove"})]}):n.jsx("button",{onClick:()=>O(fr=>({...fr,[Ze.id]:!fr[Ze.id]})),className:`text-xs sm:text-sm ${bt?"text-[#4f46e5]":"text-blue-600"} hover:underline`,children:"Have a promo code?"}),$[Ze.id]&&!He&&n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsx(ge,{placeholder:"Enter code",className:"h-10 sm:h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500",value:A[Ze.id]||"",onChange:fr=>I(on=>({...on,[Ze.id]:fr.target.value}))}),n.jsx(J,{onClick:()=>{const fr=A[Ze.id];fr&&(M(on=>({...on,[Ze.id]:{code:fr,discount:5}})),O(on=>({...on,[Ze.id]:!1})))},className:"h-10 sm:h-12 px-4",style:{backgroundColor:bt?"#4f46e5":t},children:"Apply"})]})]})]},Ze.id)})}),n.jsx("div",{className:"mt-6 sm:mt-8",children:n.jsx(J,{onClick:Dt,disabled:Object.values(C).reduce((Ze,Ae)=>Ze+Ae,0)===0,className:"w-full h-12 sm:h-14 text-base sm:text-lg font-semibold",style:{backgroundColor:bt?"#4f46e5":t,opacity:Object.values(C).reduce((Ze,Ae)=>Ze+Ae,0)===0?.5:1},children:"Continue to Cart"})})]}),o==="cart"&&n.jsxs("div",{className:"p-3 sm:p-4 md:p-10 pb-20 sm:pb-10",children:[n.jsxs("div",{className:"mb-4 sm:mb-6 md:mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsx("h2",{className:`text-xl sm:text-2xl md:text-3xl ${nt} mb-1.5 sm:mb-2`,children:"Your Cart"}),n.jsx("p",{className:`text-sm sm:text-base ${sr}`,children:"Review your booking details"})]}),n.jsx("div",{className:"space-y-3 sm:space-y-4 mb-6 sm:mb-8",children:N.map((Ze,Ae)=>n.jsxs("div",{className:`${er} border ${$e} rounded-lg sm:rounded-xl p-3 sm:p-4 flex items-center justify-between animate-in fade-in slide-in-from-bottom-4 duration-500`,style:{animationDelay:`${Ae*50}ms`},children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:`text-sm sm:text-base ${nt} mb-0.5`,children:Ze.ticketTypeName}),n.jsxs("p",{className:`text-xs sm:text-sm ${sr}`,children:[c?.toLocaleDateString("en-US",{month:"short",day:"numeric"})," at ",u]})]}),n.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-shrink-0",children:[n.jsxs("span",{className:`text-base sm:text-lg font-semibold ${nt}`,children:["$",Ze.price.toFixed(2)]}),n.jsx("button",{onClick:()=>_(N.filter(wt=>wt.id!==Ze.id)),className:`p-2 rounded-lg transition-colors touch-manipulation ${bt?"hover:bg-[#1e1e1e] text-red-400":"hover:bg-gray-100 text-red-600"}`,children:n.jsx(Dn,{className:"w-4 h-4"})})]})]},Ze.id))}),n.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg shadow-sm p-4 sm:p-6 space-y-3 sm:space-y-4 mb-6 sm:mb-8 ${bt?"bg-[#1e1e1e] border-[#2a2a2a]":""}`,children:[n.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[n.jsx("span",{className:sr,children:"Subtotal"}),n.jsxs("span",{className:nt,children:["$",Jt().toFixed(2)]})]}),_t()>0&&n.jsxs("div",{className:"flex justify-between text-sm sm:text-base text-emerald-600 dark:text-emerald-400",children:[n.jsx("span",{children:"Discount"}),n.jsxs("span",{children:["-$",_t().toFixed(2)]})]}),Z&&n.jsxs("div",{className:"flex justify-between text-sm sm:text-base text-emerald-600 dark:text-emerald-400",children:[n.jsx("span",{children:"Gift Card"}),n.jsxs("span",{children:["-$",Z.amount.toFixed(2)]})]}),n.jsx(tt,{className:bt?"bg-[#2a2a2a]":"bg-gray-200"}),n.jsxs("div",{className:"flex justify-between text-base sm:text-lg",children:[n.jsx("span",{className:`${nt} font-semibold`,children:"Total"}),n.jsxs("span",{className:`${nt} font-semibold text-lg sm:text-xl`,children:["$",Lr().toFixed(2)]})]})]}),n.jsx(J,{onClick:Nt,disabled:N.length===0,className:"w-full h-12 sm:h-14 text-base sm:text-lg font-semibold",style:{backgroundColor:bt?"#4f46e5":t,opacity:N.length===0?.5:1},children:"Proceed to Checkout"})]}),o==="checkout"&&n.jsxs("div",{className:"p-3 sm:p-4 md:p-10 pb-20 sm:pb-10",children:[n.jsxs("div",{className:"mb-4 sm:mb-6 md:mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsx("h2",{className:`text-xl sm:text-2xl md:text-3xl ${nt} mb-1.5 sm:mb-2`,children:"Complete Booking"}),n.jsx("p",{className:`text-sm sm:text-base ${sr}`,children:"Enter your details to confirm"})]}),n.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[n.jsxs("div",{className:`${er} border ${$e} rounded-lg sm:rounded-xl p-4 sm:p-6`,children:[n.jsxs("h3",{className:`text-base sm:text-lg ${nt} mb-4 flex items-center gap-2`,children:[n.jsx(ca,{className:"w-5 h-5"}),"Contact Information"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(re,{className:"text-gray-700 dark:text-[#a3a3a3]",children:"Full Name"}),n.jsx(ge,{placeholder:"John Doe",className:"h-12 bg-gray-100 dark:bg-[#1e1e1e] border-gray-300 dark:border-[#2a2a2a] placeholder:text-gray-500",value:R.fullName,onChange:Ze=>W({...R,fullName:Ze.target.value})})]}),n.jsxs("div",{children:[n.jsx(re,{className:"text-gray-700 dark:text-[#a3a3a3]",children:"Phone Number"}),n.jsx(ge,{placeholder:"(555) 123-4567",className:"h-12 bg-gray-100 dark:bg-[#1e1e1e] border-gray-300 dark:border-[#2a2a2a] placeholder:text-gray-500",value:R.phone,onChange:Ze=>W({...R,phone:Ze.target.value})})]}),n.jsxs("div",{children:[n.jsx(re,{className:"text-gray-700 dark:text-[#a3a3a3]",children:"Email"}),n.jsx(ge,{type:"email",placeholder:"john@example.com",className:"h-12 bg-gray-100 dark:bg-[#1e1e1e] border-gray-300 dark:border-[#2a2a2a] placeholder:text-gray-500",value:R.email,onChange:Ze=>W({...R,email:Ze.target.value})})]})]})]}),n.jsxs("div",{className:`${er} border ${$e} rounded-lg sm:rounded-xl p-4 sm:p-6`,children:[n.jsxs("h3",{className:`text-base sm:text-lg ${nt} mb-4 flex items-center gap-2`,children:[n.jsx(fa,{className:"w-5 h-5"}),"Payment Information"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(re,{className:"text-gray-700 dark:text-[#a3a3a3]",children:"Card Number"}),n.jsx(ge,{placeholder:"1234 5678 9012 3456",className:"h-12 bg-gray-100 dark:bg-[#1e1e1e] border-gray-300 dark:border-[#2a2a2a] placeholder:text-gray-500",value:Y.cardNumber,onChange:Ze=>K({...Y,cardNumber:Ze.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(re,{className:"text-gray-700 dark:text-[#a3a3a3]",children:"Expiry Date"}),n.jsx(ge,{placeholder:"MM/YY",className:"h-12 bg-gray-100 dark:bg-[#1e1e1e] border-gray-300 dark:border-[#2a2a2a] placeholder:text-gray-500",value:Y.expiryDate,onChange:Ze=>K({...Y,expiryDate:Ze.target.value})})]}),n.jsxs("div",{children:[n.jsx(re,{className:"text-gray-700 dark:text-[#a3a3a3]",children:"CVV"}),n.jsx(ge,{placeholder:"123",className:"h-12 bg-gray-100 dark:bg-[#1e1e1e] border-gray-300 dark:border-[#2a2a2a] placeholder:text-gray-500",value:Y.securityCode,onChange:Ze=>K({...Y,securityCode:Ze.target.value})})]})]})]})]}),n.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg shadow-sm p-4 sm:p-6 ${bt?"bg-[#1e1e1e] border-[#2a2a2a]":""}`,children:[n.jsx("h3",{className:`text-base sm:text-lg ${nt} mb-4`,children:"Order Summary"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[n.jsx("span",{className:sr,children:"Subtotal"}),n.jsxs("span",{className:nt,children:["$",Jt().toFixed(2)]})]}),n.jsx(tt,{className:bt?"bg-[#2a2a2a]":"bg-gray-200"}),n.jsxs("div",{className:"flex justify-between text-base sm:text-lg",children:[n.jsx("span",{className:`${nt} font-semibold`,children:"Total"}),n.jsxs("span",{className:`${nt} font-semibold text-lg sm:text-xl`,children:["$",Lr().toFixed(2)]})]})]})]}),n.jsx(J,{onClick:$r,disabled:L,className:"w-full h-12 sm:h-14 text-base sm:text-lg font-semibold",style:{backgroundColor:bt?"#4f46e5":t},children:L?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):"Complete Payment"})]})]}),o==="success"&&n.jsx("div",{className:"p-3 sm:p-4 md:p-10 pb-20 sm:pb-10 flex items-center justify-center min-h-[60vh]",children:n.jsxs("div",{className:"text-center max-w-md animate-in fade-in zoom-in duration-500",children:[n.jsx("div",{className:"mb-6 sm:mb-8 flex justify-center",children:n.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-emerald-100 dark:bg-emerald-500/20 flex items-center justify-center",children:n.jsx(Wi,{className:"w-10 h-10 sm:w-12 sm:h-12 text-emerald-600 dark:text-emerald-400"})})}),n.jsx("h2",{className:`text-2xl sm:text-3xl md:text-4xl ${nt} mb-3 sm:mb-4`,children:"Booking Confirmed!"}),n.jsxs("p",{className:`text-sm sm:text-base ${sr} mb-6 sm:mb-8`,children:["Your booking has been successfully confirmed. A confirmation email has been sent to ",R.email]}),n.jsx(J,{onClick:Or,className:"w-full h-12 sm:h-14 text-base sm:text-lg font-semibold",style:{backgroundColor:bt?"#4f46e5":t},children:"Book Another Experience"})]})}),o==="failed"&&n.jsx("div",{className:"p-3 sm:p-4 md:p-10 pb-20 sm:pb-10 flex items-center justify-center min-h-[60vh]",children:n.jsxs("div",{className:"text-center max-w-md animate-in fade-in zoom-in duration-500",children:[n.jsx("div",{className:"mb-6 sm:mb-8 flex justify-center",children:n.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-red-100 dark:bg-red-500/20 flex items-center justify-center",children:n.jsx(In,{className:"w-10 h-10 sm:w-12 sm:h-12 text-red-600 dark:text-red-400"})})}),n.jsx("h2",{className:`text-2xl sm:text-3xl md:text-4xl ${nt} mb-3 sm:mb-4`,children:"Payment Failed"}),n.jsx("p",{className:`text-sm sm:text-base ${sr} mb-6 sm:mb-8`,children:"We couldn't process your payment. Please check your payment details and try again."}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(J,{onClick:()=>l("checkout"),className:"w-full h-12 sm:h-14 text-base sm:text-lg font-semibold",style:{backgroundColor:bt?"#4f46e5":t},children:"Try Again"}),n.jsx(J,{onClick:Or,variant:"outline",className:`w-full h-12 sm:h-14 text-base sm:text-lg ${bt?"border-[#2a2a2a] text-[#a3a3a3] hover:bg-[#1e1e1e]":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Start Over"})]})]})})]})]})}),n.jsx(mb,{open:ee,onOpenChange:se,children:n.jsxs(pb,{className:bt?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white border-gray-200",children:[n.jsxs(xb,{children:[n.jsx(vb,{className:nt,children:"Leave booking process?"}),n.jsx(yb,{className:sr,children:"You have items in your cart. Are you sure you want to exit? Your progress will be lost."})]}),n.jsxs(gb,{children:[n.jsx(wb,{className:bt?"bg-[#161616] text-[#a3a3a3] border-[#2a2a2a]":"",children:"Continue Booking"}),n.jsx(bb,{onClick:()=>{se(!1),Or()},style:{backgroundColor:bt?"#4f46e5":t},children:"Exit"})]})]})}),n.jsx(or,{open:Ie,onOpenChange:Ee,children:n.jsx(lr,{className:bt?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white border-gray-200",children:n.jsxs(Nr,{children:[n.jsxs(cr,{className:`${nt} flex items-center gap-2`,children:[n.jsx(da,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),"Secured Checkout"]}),n.jsx(xr,{className:sr,children:"Your payment information is protected with industry-standard 256-bit SSL encryption. We never store your full credit card details."})]})})}),n.jsx(or,{open:H,onOpenChange:Le,children:n.jsx(lr,{className:bt?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white border-gray-200",children:n.jsxs(Nr,{children:[n.jsxs(cr,{className:`${nt} flex items-center gap-2`,children:[n.jsx(ma,{className:"w-5 h-5",style:{color:bt?"#6366f1":t}}),"Health & Safety"]}),n.jsx(xr,{className:sr,children:"We follow enhanced cleaning protocols and maintain social distancing guidelines. All staff members are fully trained in health and safety procedures."})]})})})]})}function GUe({config:t,onConfigChange:e,onPreview:r}){const[s,a]=S.useState("general"),i=(w,N)=>{e({...t,[w]:N})},o=()=>{const w={id:`cat-${Date.now()}`,name:"New Category",image:"https://images.unsplash.com/photo-1569002925653-ed18f55d7292?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080"};e({...t,categories:[...t.categories||[],w]})},l=(w,N)=>{e({...t,categories:t.categories.map(_=>_.id===w?{..._,...N}:_)})},c=w=>{e({...t,categories:t.categories.filter(N=>N.id!==w)})},d=()=>{const w={id:`game-${Date.now()}`,name:"New Game",image:"https://images.unsplash.com/photo-1569002925653-ed18f55d7292?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080",priceRange:"$25 - $30",ageRange:"All ages",duration:"1 Hour",difficulty:3,categoryId:t.categories?.[0]?.id||"",description:"A thrilling escape room experience"};e({...t,games:[...t.games||[],w]})},u=(w,N)=>{e({...t,games:t.games.map(_=>_.id===w?{..._,...N}:_)})},h=w=>{e({...t,games:t.games.filter(N=>N.id!==w)})},f=()=>{const w={id:`ticket-${Date.now()}`,name:"New Ticket Type",description:"Description",price:30};e({...t,ticketTypes:[...t.ticketTypes||[],w]})},m=(w,N)=>{e({...t,ticketTypes:t.ticketTypes.map(_=>_.id===w?{..._,...N}:_)})},y=w=>{e({...t,ticketTypes:t.ticketTypes.filter(N=>N.id!==w)})},g=()=>{const w={id:`q-${Date.now()}`,question:"New Question",type:"select",options:["Option 1","Option 2"],required:!1};e({...t,additionalQuestions:[...t.additionalQuestions||[],w]})},v=(w,N)=>{e({...t,additionalQuestions:t.additionalQuestions.map(_=>_.id===w?{..._,...N}:_)})},b=w=>{e({...t,additionalQuestions:t.additionalQuestions.filter(N=>N.id!==w)})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl text-gray-900",children:"FareBook Widget Settings"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Configure your booking widget appearance and options"})]}),n.jsxs(J,{onClick:r,variant:"outline",className:"flex items-center gap-2",children:[n.jsx(Ln,{className:"w-4 h-4"}),"Preview Widget"]})]}),n.jsxs(ta,{value:s,onValueChange:a,children:[n.jsxs(pa,{className:"grid w-full grid-cols-5",children:[n.jsx(Ft,{value:"general",children:"General"}),n.jsx(Ft,{value:"categories",children:"Categories"}),n.jsx(Ft,{value:"games",children:"Games"}),n.jsx(Ft,{value:"tickets",children:"Ticket Types"}),n.jsx(Ft,{value:"advanced",children:"Advanced"})]}),n.jsxs(Bt,{value:"general",className:"space-y-6",children:[n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Display Options"}),n.jsx(Lt,{children:"Control what elements appear in your widget"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(re,{children:"Show Secured Badge"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Display security badge in header"})]}),n.jsx(Wt,{checked:t.showSecuredBadge,onCheckedChange:w=>i("showSecuredBadge",w)})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(re,{children:"Show Health & Safety"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Display health and safety badge"})]}),n.jsx(Wt,{checked:t.showHealthSafety,onCheckedChange:w=>i("showHealthSafety",w)})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(re,{children:"Enable Veteran Discount"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Show veteran ticket pricing option"})]}),n.jsx(Wt,{checked:t.enableVeteranDiscount,onCheckedChange:w=>i("enableVeteranDiscount",w)})]})]})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Cancellation Policy"}),n.jsx(Lt,{children:"Set your cancellation and refund policy"})]}),n.jsx(Te,{children:n.jsx(mn,{value:t.cancellationPolicy||"",onChange:w=>i("cancellationPolicy",w.target.value),placeholder:"Enter your cancellation policy...",rows:4})})]})]}),n.jsx(Bt,{value:"categories",className:"space-y-6",children:n.jsxs(ve,{children:[n.jsx(st,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(at,{children:"Categories"}),n.jsx(Lt,{children:"Manage your escape room categories"})]}),n.jsxs(J,{onClick:o,size:"sm",className:"flex items-center gap-2",children:[n.jsx(An,{className:"w-4 h-4"}),"Add Category"]})]})}),n.jsx(Te,{children:n.jsx(Ps,{className:"h-[500px] pr-4",children:n.jsx("div",{className:"space-y-4",children:t.categories?.map((w,N)=>n.jsx(ve,{className:"border-2",children:n.jsx(Te,{className:"pt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs(re,{children:["Category ",N+1]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>c(w.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:n.jsx(Dn,{className:"w-4 h-4"})})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Category Name"}),n.jsx(ge,{value:w.name,onChange:_=>l(w.id,{name:_.target.value}),placeholder:"e.g., Traditional Escape Rooms",className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Image URL"}),n.jsxs("div",{className:"flex gap-2 mt-1",children:[n.jsx(ge,{value:w.image,onChange:_=>l(w.id,{image:_.target.value}),placeholder:"https://..."}),n.jsx(J,{variant:"outline",size:"icon",children:n.jsx(Qo,{className:"w-4 h-4"})})]}),w.image&&n.jsx("div",{className:"mt-2 w-full h-32 rounded overflow-hidden",children:n.jsx("img",{src:w.image,alt:w.name,className:"w-full h-full object-cover"})})]})]})})},w.id))})})})]})}),n.jsx(Bt,{value:"games",className:"space-y-6",children:n.jsxs(ve,{children:[n.jsx(st,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(at,{children:"Events / Rooms"}),n.jsx(Lt,{children:"Configure your escape room games"})]}),n.jsxs(J,{onClick:d,size:"sm",className:"flex items-center gap-2",children:[n.jsx(An,{className:"w-4 h-4"}),"Add Game"]})]})}),n.jsx(Te,{children:n.jsx(Ps,{className:"h-[500px] pr-4",children:n.jsx("div",{className:"space-y-4",children:t.games?.map((w,N)=>n.jsx(ve,{className:"border-2",children:n.jsx(Te,{className:"pt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs(re,{children:["Game ",N+1]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>h(w.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:n.jsx(Dn,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx(re,{children:"Game Name"}),n.jsx(ge,{value:w.name,onChange:_=>u(w.id,{name:_.target.value}),placeholder:"e.g., Zombie Apocalypse",className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Category"}),n.jsxs(Kt,{value:w.categoryId,onValueChange:_=>u(w.id,{categoryId:_}),children:[n.jsx(Xt,{className:"mt-1",children:n.jsx(Yt,{})}),n.jsx(Zt,{children:t.categories?.map(_=>n.jsx(Ce,{value:_.id,children:_.name},_.id))})]})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Price Range"}),n.jsx(ge,{value:w.priceRange,onChange:_=>u(w.id,{priceRange:_.target.value}),placeholder:"$25 - $30",className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Age Range"}),n.jsx(ge,{value:w.ageRange,onChange:_=>u(w.id,{ageRange:_.target.value}),placeholder:"All ages",className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Duration"}),n.jsx(ge,{value:w.duration,onChange:_=>u(w.id,{duration:_.target.value}),placeholder:"1 Hour",className:"mt-1"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(re,{children:"Difficulty (0-5 stars)"}),n.jsx(ge,{type:"number",min:"0",max:"5",value:w.difficulty,onChange:_=>u(w.id,{difficulty:parseInt(_.target.value)}),className:"mt-1"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(re,{children:"Description"}),n.jsx(mn,{value:w.description||"",onChange:_=>u(w.id,{description:_.target.value}),placeholder:"Brief description of the game...",className:"mt-1",rows:2})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(re,{children:"Image URL"}),n.jsxs("div",{className:"flex gap-2 mt-1",children:[n.jsx(ge,{value:w.image,onChange:_=>u(w.id,{image:_.target.value}),placeholder:"https://..."}),n.jsx(J,{variant:"outline",size:"icon",children:n.jsx(Qo,{className:"w-4 h-4"})})]}),w.image&&n.jsx("div",{className:"mt-2 w-full h-32 rounded overflow-hidden",children:n.jsx("img",{src:w.image,alt:w.name,className:"w-full h-full object-cover"})})]})]})]})})},w.id))})})})]})}),n.jsx(Bt,{value:"tickets",className:"space-y-6",children:n.jsxs(ve,{children:[n.jsx(st,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(at,{children:"Ticket Types"}),n.jsx(Lt,{children:"Configure pricing and ticket options"})]}),n.jsxs(J,{onClick:f,size:"sm",className:"flex items-center gap-2",children:[n.jsx(An,{className:"w-4 h-4"}),"Add Ticket Type"]})]})}),n.jsx(Te,{children:n.jsx("div",{className:"space-y-4",children:t.ticketTypes?.map((w,N)=>n.jsx(ve,{className:"border-2",children:n.jsx(Te,{className:"pt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs(re,{children:["Ticket Type ",N+1]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>y(w.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:n.jsx(Dn,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(re,{children:"Type Name"}),n.jsx(ge,{value:w.name,onChange:_=>m(w.id,{name:_.target.value}),placeholder:"e.g., Players",className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Price ($)"}),n.jsx(ge,{type:"number",value:w.price,onChange:_=>m(w.id,{price:parseFloat(_.target.value)}),placeholder:"30",className:"mt-1"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(re,{children:"Description"}),n.jsx(ge,{value:w.description,onChange:_=>m(w.id,{description:_.target.value}),placeholder:"e.g., Ages 6 & Up",className:"mt-1"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(re,{children:"Minimum Age (optional)"}),n.jsx(ge,{type:"number",value:w.minAge||"",onChange:_=>m(w.id,{minAge:_.target.value?parseInt(_.target.value):void 0}),placeholder:"e.g., 6",className:"mt-1"})]})]})]})})},w.id))})})]})}),n.jsx(Bt,{value:"advanced",className:"space-y-6",children:n.jsxs(ve,{children:[n.jsx(st,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(at,{children:"Additional Questions"}),n.jsx(Lt,{children:"Custom questions to ask during booking"})]}),n.jsxs(J,{onClick:g,size:"sm",className:"flex items-center gap-2",children:[n.jsx(An,{className:"w-4 h-4"}),"Add Question"]})]})}),n.jsx(Te,{children:n.jsx("div",{className:"space-y-4",children:t.additionalQuestions?.map((w,N)=>n.jsx(ve,{className:"border-2",children:n.jsx(Te,{className:"pt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs(re,{children:["Question ",N+1]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>b(w.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:n.jsx(Dn,{className:"w-4 h-4"})})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Question Text"}),n.jsx(ge,{value:w.question,onChange:_=>v(w.id,{question:_.target.value}),placeholder:"e.g., How did you hear about us?",className:"mt-1"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(re,{children:"Question Type"}),n.jsxs(Kt,{value:w.type,onValueChange:_=>v(w.id,{type:_}),children:[n.jsx(Xt,{className:"mt-1",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"select",children:"Dropdown"}),n.jsx(Ce,{value:"text",children:"Text Input"}),n.jsx(Ce,{value:"checkbox",children:"Checkbox"})]})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wt,{checked:w.required,onCheckedChange:_=>v(w.id,{required:_})}),n.jsx(re,{children:"Required"})]})})]}),w.type==="select"&&n.jsxs("div",{children:[n.jsx(re,{children:"Options (comma-separated)"}),n.jsx(ge,{value:w.options?.join(", ")||"",onChange:_=>v(w.id,{options:_.target.value.split(",").map(C=>C.trim())}),placeholder:"Option 1, Option 2, Option 3",className:"mt-1"})]})]})})},w.id))})})]})})]})]})}const cp=[{id:1,name:"Basic Info",icon:rs},{id:2,name:"Capacity & Pricing",icon:Wr},{id:3,name:"Game Details",icon:ma},{id:4,name:"Media Upload",icon:qc},{id:5,name:"Schedule",icon:Nn},{id:6,name:"Widget & Embed",icon:Hc},{id:7,name:"Review & Publish",icon:jn}],KUe=["Horror","Mystery","Adventure","Sci-Fi","Fantasy","Historical","Family-Friendly","Challenge"],YUe=["English","Spanish","French","German","Mandarin","Japanese"],vk=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],XUe=[{id:"faq-1",question:"What should I bring?",answer:"Just bring yourself and your team! All materials are provided."},{id:"faq-2",question:"Can I bring food and drinks?",answer:"Outside food and drinks are not permitted, but we have a caf on-site."},{id:"faq-3",question:"Is photography allowed?",answer:"Yes! Feel free to take photos before and after your game."}],ZUe=[{id:"policy-1",title:"Standard Cancellation",description:"Free cancellation up to 24 hours before the scheduled time. Cancellations within 24 hours are non-refundable."},{id:"policy-2",title:"Flexible Cancellation",description:"Free cancellation up to 2 hours before the scheduled time with a small fee."},{id:"policy-3",title:"No Refund Policy",description:"All bookings are final and non-refundable. Rescheduling allowed up to 48 hours in advance."}],JUe=[{id:"waiver-1",name:"Standard Liability Waiver",description:"General liability waiver for all activities"},{id:"waiver-2",name:"Minor Participant Waiver",description:"Waiver for participants under 18 years old"},{id:"waiver-3",name:"Photo Release Waiver",description:"Permission to use photos and videos for marketing"},{id:"waiver-4",name:"COVID-19 Health Waiver",description:"Health screening and COVID-19 related acknowledgments"}],QUe=t=>t?t.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"):"game";function eze({onComplete:t,onCancel:e,initialData:r,mode:s="create",theme:a,embedContext:i}){const[o,l]=S.useState(1),[c,d]=S.useState({name:"",description:"",category:"",tagline:"",eventType:"public",gameType:"physical",minAdults:2,maxAdults:8,minChildren:0,maxChildren:4,adultPrice:30,childPrice:20,duration:60,difficulty:3,minAge:12,language:["English"],successRate:75,activityDetails:"",additionalInformation:"",faqs:[],cancellationPolicies:[],accessibility:{strollerAccessible:!1,wheelchairAccessible:!1},location:"",coverImage:"",galleryImages:[],videos:[],selectedWidget:"calendar-single-event",operatingDays:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],startTime:"10:00",endTime:"22:00",slotInterval:60,advanceBooking:30,customHoursEnabled:!1,customHours:{Monday:{enabled:!0,startTime:"10:00",endTime:"22:00"},Tuesday:{enabled:!0,startTime:"10:00",endTime:"22:00"},Wednesday:{enabled:!0,startTime:"10:00",endTime:"22:00"},Thursday:{enabled:!0,startTime:"10:00",endTime:"22:00"},Friday:{enabled:!0,startTime:"10:00",endTime:"22:00"},Saturday:{enabled:!0,startTime:"10:00",endTime:"22:00"},Sunday:{enabled:!0,startTime:"10:00",endTime:"22:00"}},customCapacityFields:[],groupDiscount:!1,groupTiers:[],dynamicPricing:!1,peakPricing:{enabled:!1,weekdayPeakPrice:0,weekendPeakPrice:0,peakStartTime:"",peakEndTime:""},customDates:[],blockedDates:[],requiresWaiver:!0,selectedWaiver:null,cancellationWindow:24,specialInstructions:"",slug:"",...r||{}}),u=o/cp.length*100,h=(v,b)=>{d(w=>({...w,[v]:b}))},f=()=>{if(o===1&&(!c.name||!c.description||!c.category||!c.gameType)){me.error("Please fill in all required fields");return}if(o===2){if(c.maxAdults<c.minAdults){me.error("Maximum adults must be greater than minimum");return}if(c.adultPrice<=0||c.childPrice<0){me.error("Please enter valid pricing");return}}if(o===4&&!c.coverImage){me.error("Please add at least a cover image");return}o<cp.length&&l(o+1)},m=()=>{o>1&&l(o-1)},y=()=>{t(c),me.success(s==="edit"?"Game updated successfully!":"Game created successfully!")},g=()=>{switch(o){case 1:return n.jsx(tze,{gameData:c,updateGameData:h});case 2:return n.jsx(rze,{gameData:c,updateGameData:h});case 3:return n.jsx(sze,{gameData:c,updateGameData:h});case 4:return n.jsx(lze,{gameData:c,updateGameData:h});case 5:return n.jsx(cze,{gameData:c,updateGameData:h});case 6:return n.jsx(dze,{gameData:c,updateGameData:h,theme:a,embedContext:i});case 7:return n.jsx(uze,{gameData:c});default:return null}};return n.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-[#161616]",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-[#2a2a2a]",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h2",{className:"text-2xl text-gray-900 dark:text-white",children:s==="edit"?"Edit Game":"Add New Game"}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-[#a3a3a3] mt-1",children:["Step ",o," of ",cp.length,": ",cp[o-1].name]})]}),n.jsx($h,{value:u,className:"h-2"})]}),n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-[#2a2a2a] bg-gray-50 dark:bg-[#0a0a0a]",children:n.jsx("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:cp.map((v,b)=>{const w=v.icon,N=o>v.id,_=o===v.id;return n.jsxs(fe.Fragment,{children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-all ${N?"bg-green-600 dark:bg-emerald-600 text-white":_?"bg-blue-600 dark:bg-[#4f46e5] text-white":"bg-gray-200 dark:bg-[#2a2a2a] text-gray-500 dark:text-[#737373]"}`,children:N?n.jsx(jn,{className:"w-5 h-5"}):n.jsx(w,{className:"w-5 h-5"})}),n.jsx("span",{className:`text-xs mt-2 hidden md:block ${_?"text-blue-600 dark:text-[#6366f1]":"text-gray-500 dark:text-[#737373]"}`,children:v.name})]}),b<cp.length-1&&n.jsx("div",{className:`flex-1 h-0.5 mx-2 ${N?"bg-green-600 dark:bg-emerald-600":"bg-gray-200 dark:bg-[#2a2a2a]"}`})]},v.id)})})}),n.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:n.jsx("div",{className:"max-w-3xl mx-auto",children:g()})}),n.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-[#2a2a2a] bg-white dark:bg-[#1e1e1e]",children:n.jsxs("div",{className:"flex items-center justify-between max-w-3xl mx-auto",children:[n.jsxs(J,{variant:"outline",onClick:m,disabled:o===1,children:[n.jsx(qn,{className:"w-4 h-4 mr-2"}),"Previous"]}),o<cp.length?n.jsxs(J,{onClick:f,className:"bg-blue-600 dark:bg-[#4f46e5] hover:bg-blue-700 dark:hover:bg-[#4338ca]",children:["Next",n.jsx(Ds,{className:"w-4 h-4 ml-2"})]}):n.jsxs(J,{onClick:y,className:"bg-green-600 dark:bg-emerald-600 hover:bg-green-700 dark:hover:bg-emerald-700",children:[n.jsx(jn,{className:"w-4 h-4 mr-2"}),s==="edit"?"Update Game":"Publish Game"]})]})})]})}function tze({gameData:t,updateGameData:e}){return n.jsx("div",{className:"space-y-6",children:n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Basic Information"}),n.jsx(Lt,{children:"Enter the essential details about your escape room game"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs(re,{htmlFor:"name",children:["Game Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ge,{id:"name",placeholder:"e.g., Zombie Apocalypse",value:t.name,onChange:r=>e("name",r.target.value),className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"tagline",children:"Tagline"}),n.jsx(ge,{id:"tagline",placeholder:"A short catchy phrase about your game",value:t.tagline,onChange:r=>e("tagline",r.target.value),className:"mt-1"})]}),n.jsxs("div",{children:[n.jsxs(re,{htmlFor:"category",children:["Category ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(Kt,{value:t.category,onValueChange:r=>e("category",r),children:[n.jsx(Xt,{className:"mt-1",children:n.jsx(Yt,{placeholder:"Select a category"})}),n.jsx(Zt,{children:KUe.map(r=>n.jsx(Ce,{value:r,children:r},r))})]})]}),n.jsxs("div",{children:[n.jsxs(re,{htmlFor:"gameType",children:["Game Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(Kt,{value:t.gameType,onValueChange:r=>e("gameType",r),children:[n.jsx(Xt,{className:"mt-1",children:n.jsx(Yt,{placeholder:"Select game type",children:t.gameType==="physical"?"Physical":t.gameType==="virtual"?"Virtual":t.gameType==="hybrid"?"Hybrid":null})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"physical",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{children:"Physical"}),n.jsx("span",{className:"text-xs text-gray-500",children:"On-site, in-person experience"})]})}),n.jsx(Ce,{value:"virtual",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{children:"Virtual"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Online or remote experience"})]})}),n.jsx(Ce,{value:"hybrid",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{children:"Hybrid"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Mix of in-person and online"})]})})]})]})]}),n.jsxs("div",{children:[n.jsxs(re,{htmlFor:"eventType",children:["Event Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(Kt,{value:t.eventType,onValueChange:r=>e("eventType",r),children:[n.jsx(Xt,{className:"mt-1",children:n.jsx(Yt,{placeholder:"Select event type",children:t.eventType==="public"?"Public Event":t.eventType==="private"?"Private Event":null})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"public",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{children:"Public Event"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Open to individual bookings and walk-ins"})]})}),n.jsx(Ce,{value:"private",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{children:"Private Event"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Exclusive bookings for groups only"})]})})]})]})]}),n.jsxs("div",{children:[n.jsxs(re,{htmlFor:"description",children:["Description ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(mn,{id:"description",placeholder:"Describe the storyline, atmosphere, and what makes this game unique...",rows:6,value:t.description,onChange:r=>e("description",r.target.value),className:"mt-1"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[t.description.length," / 500 characters"]})]})]})]})})}function rze({gameData:t,updateGameData:e}){const r=()=>{const i={id:`custom-${Date.now()}`,name:"",min:0,max:0,price:0};e("customCapacityFields",[...t.customCapacityFields,i])},s=i=>{e("customCapacityFields",t.customCapacityFields.filter(o=>o.id!==i))},a=(i,o,l)=>{const c=t.customCapacityFields.map(d=>d.id===i?{...d,[o]:l}:d);e("customCapacityFields",c)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx(Wr,{className:"w-5 h-5"}),"Player Capacity"]}),n.jsx(Lt,{children:"Set the minimum and maximum number of players for this game"})]}),n.jsxs(Te,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(re,{htmlFor:"minAdults",className:"flex items-center gap-2",children:[n.jsx(Wr,{className:"w-4 h-4"}),"Minimum Adults ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ge,{id:"minAdults",type:"number",min:"1",value:t.minAdults,onChange:i=>e("minAdults",parseInt(i.target.value)),className:"mt-1"})]}),n.jsxs("div",{children:[n.jsxs(re,{htmlFor:"maxAdults",children:["Maximum Adults ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ge,{id:"maxAdults",type:"number",min:"1",value:t.maxAdults,onChange:i=>e("maxAdults",parseInt(i.target.value)),className:"mt-1"})]})]}),n.jsx(tt,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(re,{htmlFor:"minChildren",className:"flex items-center gap-2",children:[n.jsx(Fne,{className:"w-4 h-4"}),"Minimum Children"]}),n.jsx(ge,{id:"minChildren",type:"number",min:"0",value:t.minChildren,onChange:i=>e("minChildren",parseInt(i.target.value)),className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"maxChildren",children:"Maximum Children"}),n.jsx(ge,{id:"maxChildren",type:"number",min:"0",value:t.maxChildren,onChange:i=>e("maxChildren",parseInt(i.target.value)),className:"mt-1"})]})]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx(re,{className:"text-gray-900",children:"Custom Capacity Types"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Add custom player categories (e.g., Teens, Seniors, Students)"})]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:r,className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[n.jsx(An,{className:"w-4 h-4 mr-1"}),"Add Custom Field"]})]}),(t.customCapacityFields?.length??0)>0&&n.jsx("div",{className:"space-y-3",children:t.customCapacityFields.map(i=>n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx(re,{className:"text-xs",children:"Field Name"}),n.jsx(ge,{placeholder:"e.g., Teens",value:i.name,onChange:o=>a(i.id,"name",o.target.value),className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{className:"text-xs",children:"Minimum"}),n.jsx(ge,{type:"number",min:"0",value:i.min,onChange:o=>a(i.id,"min",parseInt(o.target.value)),className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{className:"text-xs",children:"Maximum"}),n.jsx(ge,{type:"number",min:"0",value:i.max,onChange:o=>a(i.id,"max",parseInt(o.target.value)),className:"mt-1"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(re,{className:"text-xs",children:"Price per Person"}),n.jsxs("div",{className:"relative mt-1",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"$"}),n.jsx(ge,{type:"number",min:"0",step:"0.01",value:i.price,onChange:o=>a(i.id,"price",parseFloat(o.target.value)),className:"pl-7"})]})]}),n.jsx("div",{className:"self-end",children:n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>s(i.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:n.jsx(In,{className:"w-4 h-4"})})})]})]})},i.id))})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-sm text-blue-900",children:[" ",n.jsx("strong",{children:"Capacity Summary:"})," This game can accommodate"," ",t.minAdults,"-",t.maxAdults," adults",t.maxChildren>0&&`, up to ${t.maxChildren} children`,(t.customCapacityFields?.length??0)>0&&n.jsxs(n.Fragment,{children:[", and"," ",t.customCapacityFields.map((i,o)=>n.jsxs("span",{children:[o>0&&", ",i.name||"custom"," (",i.min,"-",i.max,")"]},i.id))]})]})})]})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx(Si,{className:"w-5 h-5"}),"Pricing"]}),n.jsx(Lt,{children:"Set ticket prices for adults and children"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(re,{htmlFor:"adultPrice",children:["Adult Price (per person) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative mt-1",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),n.jsx(ge,{id:"adultPrice",type:"number",min:"0",step:"0.01",value:t.adultPrice,onChange:i=>e("adultPrice",parseFloat(i.target.value)),className:"pl-7"})]})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"childPrice",children:"Child Price (per person)"}),n.jsxs("div",{className:"relative mt-1",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),n.jsx(ge,{id:"childPrice",type:"number",min:"0",step:"0.01",value:t.childPrice,onChange:i=>e("childPrice",parseFloat(i.target.value)),className:"pl-7"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[n.jsxs("div",{children:[n.jsx(re,{children:"Enable Group Discounts"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Offer discounts for larger groups"})]}),n.jsx(J,{variant:t.groupDiscount?"default":"outline",size:"sm",onClick:()=>e("groupDiscount",!t.groupDiscount),children:t.groupDiscount?"Enabled":"Disabled"})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex items-center justify-between p-4 border-2 border-blue-200 bg-blue-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx(re,{className:"text-blue-900",children:"Enable Dynamic Pricing"}),n.jsx("p",{className:"text-sm text-blue-700",children:"Set different prices based on time and demand"})]}),n.jsx(J,{variant:t.dynamicPricing?"default":"outline",size:"sm",className:t.dynamicPricing?"bg-blue-600 hover:bg-blue-700":"",onClick:()=>e("dynamicPricing",!t.dynamicPricing),children:t.dynamicPricing?"Enabled":"Disabled"})]}),t.dynamicPricing&&n.jsx(nze,{gameData:t,updateGameData:e})]})]})]})}function nze({gameData:t,updateGameData:e}){const r=()=>{const o={minSize:t.groupTiers.length>0?t.groupTiers[t.groupTiers.length-1].maxSize+1:5,maxSize:t.groupTiers.length>0?t.groupTiers[t.groupTiers.length-1].maxSize+3:8,discountPercent:10};e("groupTiers",[...t.groupTiers,o])},s=o=>{e("groupTiers",t.groupTiers.filter((l,c)=>c!==o))},a=(o,l,c)=>{const d=[...t.groupTiers];d[o]={...d[o],[l]:c},e("groupTiers",d)},i=(o,l)=>{e("peakPricing",{...t.peakPricing,[o]:l})};return n.jsxs("div",{className:"space-y-4 mt-4 p-4 border-2 border-blue-100 rounded-lg bg-blue-50/50",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ma,{className:"w-5 h-5 text-blue-600"}),n.jsx("h4",{className:"text-blue-900",children:"Dynamic Pricing Settings"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx(re,{className:"text-gray-900",children:"Peak Hour Pricing"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Charge more during high-demand hours"})]}),n.jsx(J,{variant:t.peakPricing?.enabled?"default":"outline",size:"sm",onClick:()=>i("enabled",!t.peakPricing?.enabled),children:t.peakPricing?.enabled?"Enabled":"Disabled"})]}),t.peakPricing?.enabled&&n.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(re,{htmlFor:"weekdayPeakPrice",className:"text-sm",children:"Weekday Peak Price"}),n.jsxs("div",{className:"relative mt-1",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),n.jsx(ge,{id:"weekdayPeakPrice",type:"number",min:"0",step:"0.01",value:t.peakPricing?.weekdayPeakPrice??35,onChange:o=>i("weekdayPeakPrice",parseFloat(o.target.value)),className:"pl-7"})]})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"weekendPeakPrice",className:"text-sm",children:"Weekend Peak Price"}),n.jsxs("div",{className:"relative mt-1",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),n.jsx(ge,{id:"weekendPeakPrice",type:"number",min:"0",step:"0.01",value:t.peakPricing.weekendPeakPrice,onChange:o=>i("weekendPeakPrice",parseFloat(o.target.value)),className:"pl-7"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(re,{htmlFor:"peakStartTime",className:"text-sm",children:"Peak Start Time"}),n.jsx(ge,{id:"peakStartTime",type:"time",value:t.peakPricing.peakStartTime,onChange:o=>i("peakStartTime",o.target.value),className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"peakEndTime",className:"text-sm",children:"Peak End Time"}),n.jsx(ge,{id:"peakEndTime",type:"time",value:t.peakPricing.peakEndTime,onChange:o=>i("peakEndTime",o.target.value),className:"mt-1"})]})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:n.jsxs("p",{className:"text-xs text-blue-900",children:[" Peak pricing applies from ",t.peakPricing.peakStartTime," to ",t.peakPricing.peakEndTime]})})]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx(re,{className:"text-gray-900",children:"Group Size Discounts"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Offer discounts based on group size"})]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:r,children:[n.jsx(An,{className:"w-4 h-4 mr-1"}),"Add Tier"]})]}),(t.groupTiers?.length??0)>0&&n.jsx("div",{className:"space-y-3",children:t.groupTiers.map((o,l)=>n.jsxs("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx(re,{className:"text-xs",children:"Min Size"}),n.jsx(ge,{type:"number",min:"1",value:o.minSize,onChange:c=>a(l,"minSize",parseInt(c.target.value)),className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{className:"text-xs",children:"Max Size"}),n.jsx(ge,{type:"number",min:"1",value:o.maxSize,onChange:c=>a(l,"maxSize",parseInt(c.target.value)),className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{className:"text-xs",children:"Discount %"}),n.jsx(ge,{type:"number",min:"0",max:"100",value:o.discountPercent,onChange:c=>a(l,"discountPercent",parseInt(c.target.value)),className:"mt-1"})]})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>s(l),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:n.jsx(In,{className:"w-4 h-4"})})]},l))}),t.groupTiers.length===0&&n.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:'No group tiers configured. Click "Add Tier" to create pricing tiers.'})]})]})}function sze({gameData:t,updateGameData:e}){const r=s=>{const a=t.language.includes(s)?t.language.filter(i=>i!==s):[...t.language,s];e("language",a)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Game Details"}),n.jsx(Lt,{children:"Configure game duration, difficulty, and requirements"})]}),n.jsxs(Te,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(re,{htmlFor:"duration",className:"flex items-center gap-2",children:[n.jsx(Qt,{className:"w-4 h-4"}),"Duration (minutes) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ge,{id:"duration",type:"number",min:"30",step:"15",value:t.duration,onChange:s=>e("duration",parseInt(s.target.value)),className:"mt-1"})]}),n.jsxs("div",{children:[n.jsxs(re,{htmlFor:"minAge",children:["Minimum Age ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ge,{id:"minAge",type:"number",min:"0",value:t.minAge,onChange:s=>e("minAge",parseInt(s.target.value)),className:"mt-1"})]})]}),n.jsxs("div",{children:[n.jsxs(re,{className:"flex items-center gap-2 mb-3",children:[n.jsx(yn,{className:"w-4 h-4"}),"Difficulty Level"]}),n.jsx("div",{className:"flex items-center gap-4",children:[1,2,3,4,5].map(s=>n.jsxs("button",{onClick:()=>e("difficulty",s),className:"flex flex-col items-center gap-1 p-3 border-2 rounded-lg transition-all hover:border-blue-400",style:{borderColor:t.difficulty===s?"#2563eb":"#e5e7eb",backgroundColor:t.difficulty===s?"#eff6ff":"white"},children:[n.jsx("div",{className:"flex gap-0.5",children:Array.from({length:s}).map((a,i)=>n.jsx(yn,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},i))}),n.jsxs("span",{className:"text-xs text-gray-600",children:[s===1&&"Beginner",s===2&&"Easy",s===3&&"Medium",s===4&&"Hard",s===5&&"Expert"]})]},s))})]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsx(re,{className:"mb-3",children:"Available Languages"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:YUe.map(s=>n.jsxs(ze,{variant:t.language.includes(s)?"default":"outline",className:"cursor-pointer px-4 py-2",onClick:()=>r(s),children:[s,t.language.includes(s)&&n.jsx(jn,{className:"w-3 h-3 ml-1"})]},s))})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"successRate",children:"Success Rate (%)"}),n.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[n.jsx(ge,{id:"successRate",type:"range",min:"0",max:"100",value:t.successRate,onChange:s=>e("successRate",parseInt(s.target.value)),className:"flex-1"}),n.jsxs("span",{className:"text-lg text-gray-900 min-w-[60px]",children:[t.successRate,"%"]})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Historical success rate helps set player expectations"})]})]})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx($s,{className:"w-5 h-5"}),"Activity Details"]}),n.jsx(Lt,{children:"Provide detailed information about the activity"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(re,{htmlFor:"activityDetails",children:"Activity Details"}),n.jsx(mn,{id:"activityDetails",placeholder:"Describe what participants will do during this activity...",rows:4,value:t.activityDetails,onChange:s=>e("activityDetails",s.target.value),className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"additionalInformation",children:"Additional Information"}),n.jsx(mn,{id:"additionalInformation",placeholder:"Any other important information participants should know...",rows:4,value:t.additionalInformation,onChange:s=>e("additionalInformation",s.target.value),className:"mt-1"})]})]})]}),n.jsx(aze,{gameData:t,updateGameData:e}),n.jsx(ize,{gameData:t,updateGameData:e}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx(kne,{className:"w-5 h-5"}),"Accessibility"]}),n.jsx(Lt,{children:"Specify accessibility features"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(re,{htmlFor:"strollerAccessible",children:"Stroller Accessible"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Is the venue accessible for strollers?"})]}),n.jsx(Wt,{id:"strollerAccessible",checked:t.accessibility?.strollerAccessible??!1,onCheckedChange:s=>e("accessibility",{...t.accessibility,strollerAccessible:s})})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(re,{htmlFor:"wheelchairAccessible",children:"Wheelchair Accessible"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Is the venue wheelchair accessible?"})]}),n.jsx(Wt,{id:"wheelchairAccessible",checked:t.accessibility?.wheelchairAccessible??!1,onCheckedChange:s=>e("accessibility",{...t.accessibility,wheelchairAccessible:s})})]})]})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx(El,{className:"w-5 h-5"}),"Location"]}),n.jsx(Lt,{children:"Specify where this activity takes place"})]}),n.jsx(Te,{children:n.jsxs("div",{children:[n.jsx(re,{htmlFor:"location",children:"Address"}),n.jsx(ge,{id:"location",placeholder:"Enter location address...",value:t.location,onChange:s=>e("location",s.target.value),className:"mt-1"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This is pre-filled from your account settings. You can change it if needed."})]})})]}),n.jsx(oze,{gameData:t,updateGameData:e})]})}function aze({gameData:t,updateGameData:e}){const[r,s]=S.useState(!1),[a,i]=S.useState(""),[o,l]=S.useState(""),c=()=>{if(!a.trim()||!o.trim()){me.error("Please fill in both question and answer");return}const h={id:`faq-custom-${Date.now()}`,question:a,answer:o};e("faqs",[...t.faqs,h]),i(""),l(""),s(!1),me.success("FAQ added")},d=h=>{if(t.faqs.find(f=>f.id===h.id)){me.error("This FAQ is already added");return}e("faqs",[...t.faqs,h]),me.success("FAQ added")},u=h=>{e("faqs",t.faqs.filter(f=>f.id!==h)),me.success("FAQ removed")};return n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx(Wf,{className:"w-5 h-5"}),"Frequently Asked Questions"]}),n.jsx(Lt,{children:"Add FAQs to help customers understand your activity"})]}),n.jsxs(Te,{className:"space-y-4",children:[t.faqs.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{children:["Selected FAQs (",t.faqs.length,")"]}),t.faqs.map(h=>n.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-900",children:h.question}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:h.answer})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>u(h.id),children:n.jsx(In,{className:"w-4 h-4"})})]})},h.id))]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsx(re,{children:"Add from existing FAQs"}),n.jsx("div",{className:"grid gap-2 mt-2",children:XUe.map(h=>n.jsxs("div",{className:"p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>d(h),children:[n.jsx("p",{className:"text-sm text-gray-900",children:h.question}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:h.answer})]},h.id))})]}),n.jsx(tt,{}),r?n.jsxs("div",{className:"space-y-3 p-4 border-2 border-blue-200 rounded-lg bg-blue-50/50",children:[n.jsxs("div",{children:[n.jsx(re,{htmlFor:"newQuestion",children:"Question"}),n.jsx(ge,{id:"newQuestion",placeholder:"e.g., What is the minimum age?",value:a,onChange:h=>i(h.target.value),className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"newAnswer",children:"Answer"}),n.jsx(mn,{id:"newAnswer",placeholder:"Enter the answer...",rows:3,value:o,onChange:h=>l(h.target.value),className:"mt-1"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(J,{onClick:c,size:"sm",children:[n.jsx(jn,{className:"w-4 h-4 mr-2"}),"Add FAQ"]}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>{s(!1),i(""),l("")},children:"Cancel"})]})]}):n.jsxs(J,{variant:"outline",onClick:()=>s(!0),className:"w-full",children:[n.jsx(An,{className:"w-4 h-4 mr-2"}),"Create New FAQ"]})]})]})}function ize({gameData:t,updateGameData:e}){const[r,s]=S.useState(!1),[a,i]=S.useState(""),[o,l]=S.useState(""),c=()=>{if(!a.trim()||!o.trim()){me.error("Please fill in both title and description");return}const h={id:`policy-custom-${Date.now()}`,title:a,description:o};e("cancellationPolicies",[...t.cancellationPolicies,h]),i(""),l(""),s(!1),me.success("Policy added")},d=h=>{if(t.cancellationPolicies.find(f=>f.id===h.id)){me.error("This policy is already added");return}e("cancellationPolicies",[...t.cancellationPolicies,h]),me.success("Policy added")},u=h=>{e("cancellationPolicies",t.cancellationPolicies.filter(f=>f.id!==h)),me.success("Policy removed")};return n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx($s,{className:"w-5 h-5"}),"Cancellation Policy"]}),n.jsx(Lt,{children:"Define cancellation and refund policies"})]}),n.jsxs(Te,{className:"space-y-4",children:[t.cancellationPolicies.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{children:["Selected Policies (",t.cancellationPolicies.length,")"]}),t.cancellationPolicies.map(h=>n.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-gray-900",children:h.title}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:h.description})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>u(h.id),children:n.jsx(In,{className:"w-4 h-4"})})]})},h.id))]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsx(re,{children:"Add from existing policies"}),n.jsx("div",{className:"grid gap-2 mt-2",children:ZUe.map(h=>n.jsxs("div",{className:"p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>d(h),children:[n.jsx("p",{className:"text-gray-900",children:h.title}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:h.description})]},h.id))})]}),n.jsx(tt,{}),r?n.jsxs("div",{className:"space-y-3 p-4 border-2 border-blue-200 rounded-lg bg-blue-50/50",children:[n.jsxs("div",{children:[n.jsx(re,{htmlFor:"newPolicyTitle",children:"Policy Title"}),n.jsx(ge,{id:"newPolicyTitle",placeholder:"e.g., Flexible Cancellation",value:a,onChange:h=>i(h.target.value),className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"newPolicyDescription",children:"Policy Description"}),n.jsx(mn,{id:"newPolicyDescription",placeholder:"Describe the cancellation terms...",rows:3,value:o,onChange:h=>l(h.target.value),className:"mt-1"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(J,{onClick:c,size:"sm",children:[n.jsx(jn,{className:"w-4 h-4 mr-2"}),"Add Policy"]}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>{s(!1),i(""),l("")},children:"Cancel"})]})]}):n.jsxs(J,{variant:"outline",onClick:()=>s(!0),className:"w-full",children:[n.jsx(An,{className:"w-4 h-4 mr-2"}),"Create New Policy"]})]})]})}function oze({gameData:t,updateGameData:e}){const r=a=>{e("selectedWaiver",a),e("requiresWaiver",!0),me.success(`${a.name} selected`)},s=()=>{e("selectedWaiver",null),e("requiresWaiver",!1),me.success("Waiver removed")};return n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx(O4,{className:"w-5 h-5"}),"Waiver Requirement"]}),n.jsx(Lt,{children:"Select a waiver that participants must sign"})]}),n.jsxs(Te,{className:"space-y-4",children:[t.selectedWaiver?n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Selected Waiver"}),n.jsx("div",{className:"p-4 border-2 border-blue-200 rounded-lg bg-blue-50",children:n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(O4,{className:"w-4 h-4 text-blue-600"}),n.jsx("p",{className:"text-gray-900",children:t.selectedWaiver.name})]}),n.jsx("p",{className:"text-sm text-gray-600",children:t.selectedWaiver.description}),n.jsxs(ze,{className:"mt-2 bg-green-100 text-green-800 border-green-300",children:[n.jsx(jn,{className:"w-3 h-3 mr-1"}),"Active"]})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:s,children:n.jsx(In,{className:"w-4 h-4"})})]})})]}):n.jsxs("div",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 text-center",children:[n.jsx(O4,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:"No waiver selected"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose a waiver from below"})]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsx(re,{children:"Select from existing waivers"}),n.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Click on a waiver to assign it to this game"}),n.jsx("div",{className:"grid gap-2",children:JUe.map(a=>{const i=t.selectedWaiver?.id===a.id;return n.jsx("div",{className:`p-3 border-2 rounded-lg cursor-pointer transition-all ${i?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"}`,onClick:()=>r(a),children:n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-gray-900",children:a.name}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:a.description})]}),i&&n.jsx(jn,{className:"w-5 h-5 text-blue-600 flex-shrink-0"})]})},a.id)})})]}),n.jsx("div",{className:"pt-2 border-t border-gray-200",children:n.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx(rs,{className:"w-3 h-3"}),"Need a different waiver? Create one in the"," ",n.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Waivers"})," section first."]})})]})]})}function lze({gameData:t,updateGameData:e}){const[r,s]=S.useState("image"),a=S.useRef(null),i=S.useRef(null),o=S.useRef(null),[l,c]=S.useState(""),d=b=>new Promise((w,N)=>{const _=new FileReader;_.onload=()=>w(_.result),_.onerror=C=>N(C),_.readAsDataURL(b)}),u=async(b,w=1280,N=.85)=>new Promise((_,C)=>{const E=new Image;E.onload=()=>{const A=Math.min(1,w/E.width),I=document.createElement("canvas");I.width=Math.round(E.width*A),I.height=Math.round(E.height*A);const $=I.getContext("2d");if(!$)return C(new Error("Canvas context not available"));$.drawImage(E,0,0,I.width,I.height);const O=I.toDataURL("image/jpeg",N);_(O)},E.onerror=A=>C(A),E.src=b}),h=async b=>{const w=b.target.files?.[0];if(w){if(!w.type.startsWith("image/")){me.error("Please select a valid image file");return}try{const N=await d(w),_=await u(N);e("coverImage",_),me.success("Cover image uploaded")}catch(N){console.error(N),me.error("Failed to process image")}finally{a.current&&(a.current.value="")}}},f=async b=>{const w=Array.from(b.target.files||[]);if(w.length)try{const N=[];for(const _ of w){if(!_.type.startsWith("image/"))continue;const C=await d(_),E=await u(C);N.push(E)}N.length?(e("galleryImages",[...t.galleryImages,...N]),me.success(`${N.length} image(s) added to gallery`)):me.error("No valid images selected")}catch(N){console.error(N),me.error("Failed to process gallery images")}finally{i.current&&(i.current.value="")}},m=async b=>{const w=b.target.files?.[0];if(!w)return;if(!w.type.startsWith("video/")){me.error("Please select a valid video file");return}const N=8;if(w.size>N*1024*1024){me.error(`Video too large (> ${N}MB). Please use a URL instead.`),o.current&&(o.current.value="");return}try{const _=await d(w);e("videos",[...t.videos,_]),me.success("Video uploaded")}catch(_){console.error(_),me.error("Failed to upload video")}finally{o.current&&(o.current.value="")}},y=()=>{const b=l.trim();if(!b){me.error("Please enter a video URL");return}e("videos",[...t.videos,b]),c(""),me.success("Video URL added")},g=b=>{e("galleryImages",t.galleryImages.filter((w,N)=>N!==b))},v=b=>{e("videos",t.videos.filter((w,N)=>N!==b))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx(qc,{className:"w-5 h-5"}),"Cover Image"]}),n.jsxs(Lt,{children:["Upload a high-quality cover image (required) ",n.jsx("span",{className:"text-red-500",children:"*"})]})]}),n.jsx(Te,{children:t.coverImage?n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:t.coverImage,alt:"Cover",className:"w-full h-64 object-cover rounded-lg"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all rounded-lg flex items-center justify-center",children:n.jsxs(J,{variant:"destructive",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>e("coverImage",""),children:[n.jsx(In,{className:"w-4 h-4 mr-2"}),"Remove"]})})]}):n.jsxs("div",{onClick:()=>a.current?.click(),className:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-all",children:[n.jsx(Qo,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 mb-2",children:"Click to upload cover image"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Recommended: 1280px+ width, ~23MB"}),n.jsx("input",{ref:a,type:"file",accept:"image/*",onChange:h,className:"hidden"})]})})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx(qc,{className:"w-5 h-5"}),"Gallery Images"]}),n.jsx(Lt,{children:"Add more images showcasing your game (optional)"})]}),n.jsx(Te,{children:n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[t.galleryImages.map((b,w)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:b,alt:`Gallery ${w+1}`,className:"w-full h-32 object-cover rounded-lg"}),n.jsx("button",{onClick:()=>g(w),className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(In,{className:"w-4 h-4"})})]},w)),n.jsxs("div",{onClick:()=>i.current?.click(),className:"border-2 border-dashed border-gray-300 rounded-lg h-32 flex items-center justify-center cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-all",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(An,{className:"w-8 h-8 text-gray-400 mx-auto mb-1"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Add Image"})]}),n.jsx("input",{ref:i,type:"file",multiple:!0,accept:"image/*",onChange:f,className:"hidden"})]})]})})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx(s7,{className:"w-5 h-5"}),"Videos"]}),n.jsx(Lt,{children:"Add promotional or gameplay videos (optional)"})]}),n.jsxs(Te,{children:[t.videos.length>0?n.jsx("div",{className:"space-y-3 mb-4",children:t.videos.map((b,w)=>n.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(s7,{className:"w-5 h-5 text-blue-600"}),n.jsxs("span",{className:"text-sm text-gray-700 truncate max-w-[220px]",children:["Video ",w+1]})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>v(w),children:n.jsx(In,{className:"w-4 h-4"})})]},w))}):null,n.jsxs("div",{className:"space-y-3",children:[n.jsxs(J,{variant:"outline",onClick:()=>o.current?.click(),className:"w-full",children:[n.jsx(Qo,{className:"w-4 h-4 mr-2"}),"Upload Video (8MB)"]}),n.jsx("input",{ref:o,type:"file",accept:"video/*",onChange:m,className:"hidden"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{value:l,onChange:b=>c(b.target.value),placeholder:"Paste video URL (YouTube, Vimeo, etc.)",className:"flex-1 border border-gray-300 rounded-md px-3 py-2 text-sm"}),n.jsx(J,{variant:"secondary",onClick:y,children:"Add URL"})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Supports MP4, MOV, AVI uploads (small files). Prefer URLs for large videos."})]})]})]})]})}function cze({gameData:t,updateGameData:e}){const[r,s]=S.useState(void 0),[a,i]=S.useState({startTime:"10:00",endTime:"22:00"}),[o,l]=S.useState(void 0),c=g=>{const v=t.operatingDays.includes(g)?t.operatingDays.filter(b=>b!==g):[...t.operatingDays,g];e("operatingDays",v),t.operatingDays.includes(g)?e("customHours",{...t.customHours,[g]:{...t.customHours[g],enabled:!1}}):e("customHours",{...t.customHours,[g]:{...t.customHours[g],enabled:!0}})},d=(g,v,b)=>{e("customHours",{...t.customHours,[g]:{...t.customHours[g],[v]:b}})},u=()=>{if(!r){me.error("Please select a date");return}const g=r.toISOString().split("T")[0];if(t.customDates.some(b=>b.date===g)){me.error("This date is already added");return}const v={id:`custom-${Date.now()}`,date:g,startTime:a.startTime,endTime:a.endTime};e("customDates",[...t.customDates,v]),s(void 0),me.success("Custom date added")},h=g=>{e("customDates",t.customDates.filter(v=>v.id!==g)),me.success("Custom date removed")},f=()=>{if(!o){me.error("Please select a date to block");return}const g=o.toISOString().split("T")[0];if(t.blockedDates.includes(g)){me.error("This date is already blocked");return}e("blockedDates",[...t.blockedDates,g]),l(void 0),me.success("Date blocked")},m=g=>{e("blockedDates",t.blockedDates.filter(v=>v!==g)),me.success("Date unblocked")},y=g=>new Date(g+"T00:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx(Nn,{className:"w-5 h-5"}),"Operating Days"]}),n.jsx(Lt,{children:"Select the days when this game is available"})]}),n.jsx(Te,{children:n.jsx("div",{className:"grid grid-cols-7 gap-2",children:vk.map(g=>n.jsx("button",{onClick:()=>c(g),className:`p-3 rounded-lg border-2 transition-all ${t.operatingDays.includes(g)?"border-blue-600 bg-blue-50 text-blue-900":"border-gray-200 hover:border-gray-300"}`,children:n.jsx("div",{className:"text-xs font-medium",children:g.slice(0,3)})},g))})})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:"w-5 h-5"}),"Operating Hours"]}),n.jsx(Lt,{children:"Set the start and end times for bookings"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx(re,{children:"Custom Hours per Day"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Set different hours for each day"})]}),n.jsx(Wt,{checked:t.customHoursEnabled,onCheckedChange:g=>{if(e("customHoursEnabled",g),!g){const v={};vk.forEach(b=>{v[b]={enabled:t.operatingDays.includes(b),startTime:t.startTime,endTime:t.endTime}}),e("customHours",v)}}})]}),!t.customHoursEnabled&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(re,{htmlFor:"startTime",children:"Start Time"}),n.jsx(ge,{id:"startTime",type:"time",value:t.startTime,onChange:g=>e("startTime",g.target.value),className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"endTime",children:"End Time"}),n.jsx(ge,{id:"endTime",type:"time",value:t.endTime,onChange:g=>e("endTime",g.target.value),className:"mt-1"})]})]}),t.customHoursEnabled&&n.jsxs("div",{className:"space-y-3",children:[n.jsx(re,{children:"Hours for each day"}),vk.map(g=>{const v=t.operatingDays.includes(g);return n.jsx("div",{className:`p-3 border rounded-lg transition-all ${v?"border-gray-200 bg-white":"border-gray-100 bg-gray-50 opacity-60"}`,children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-20 text-sm text-gray-700",children:g}),v?n.jsxs(n.Fragment,{children:[n.jsx(ge,{type:"time",value:t.customHours[g]?.startTime||"10:00",onChange:b=>d(g,"startTime",b.target.value),className:"flex-1"}),n.jsx("span",{className:"text-gray-400",children:"to"}),n.jsx(ge,{type:"time",value:t.customHours[g]?.endTime||"22:00",onChange:b=>d(g,"endTime",b.target.value),className:"flex-1"})]}):n.jsx("span",{className:"text-sm text-gray-400",children:"Not operating"})]})},g)})]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"slotInterval",children:"Time Slot Interval (minutes)"}),n.jsxs(Kt,{value:t.slotInterval.toString(),onValueChange:g=>e("slotInterval",parseInt(g)),children:[n.jsx(Xt,{className:"mt-1",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"15",children:"15 minutes"}),n.jsx(Ce,{value:"30",children:"30 minutes"}),n.jsx(Ce,{value:"60",children:"1 hour"}),n.jsx(Ce,{value:"90",children:"1.5 hours"})]})]})]}),n.jsxs("div",{children:[n.jsx(re,{htmlFor:"advanceBooking",children:"Advance Booking (days)"}),n.jsx(ge,{id:"advanceBooking",type:"number",min:"1",max:"365",value:t.advanceBooking,onChange:g=>e("advanceBooking",parseInt(g.target.value)),className:"mt-1"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"How far in advance customers can book"})]})]})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx(Hc,{className:"w-5 h-5"}),"Custom Dates"]}),n.jsx(Lt,{children:"Add specific dates with custom hours (overrides regular schedule)"})]}),n.jsxs(Te,{className:"space-y-4",children:[t.customDates.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Active custom dates"}),t.customDates.map(g=>n.jsxs("div",{className:"flex items-center justify-between p-3 border border-blue-200 bg-blue-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-900",children:y(g.date)}),n.jsxs("p",{className:"text-xs text-gray-600",children:[g.startTime," - ",g.endTime]})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>h(g.id),children:n.jsx(Dn,{className:"w-4 h-4 text-red-600"})})]},g.id)),n.jsx(tt,{})]}),n.jsxs("div",{className:"space-y-3 p-4 border-2 border-dashed border-gray-300 rounded-lg",children:[n.jsx(re,{children:"Add a custom date"}),n.jsxs(iP,{children:[n.jsx(oP,{asChild:!0,children:n.jsxs(J,{variant:"outline",className:"w-full justify-start text-left",children:[n.jsx(Hc,{className:"mr-2 w-4 h-4"}),r?y(r.toISOString().split("T")[0]):"Select a date"]})}),n.jsx(lP,{className:"w-auto p-0",align:"start",children:n.jsx(Uu,{mode:"single",selected:r,onSelect:s,disabled:g=>g<new Date(new Date().setHours(0,0,0,0)),initialFocus:!0})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(re,{className:"text-xs",children:"Start Time"}),n.jsx(ge,{type:"time",value:a.startTime,onChange:g=>i({...a,startTime:g.target.value}),className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{className:"text-xs",children:"End Time"}),n.jsx(ge,{type:"time",value:a.endTime,onChange:g=>i({...a,endTime:g.target.value}),className:"mt-1"})]})]}),n.jsxs(J,{onClick:u,className:"w-full",disabled:!r,children:[n.jsx(An,{className:"w-4 h-4 mr-2"}),"Add Custom Date"]})]})]})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx(In,{className:"w-5 h-5"}),"Blocked Dates"]}),n.jsx(Lt,{children:"Mark specific dates as unavailable (holidays, maintenance, etc.)"})]}),n.jsxs(Te,{className:"space-y-4",children:[t.blockedDates.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Blocked dates"}),t.blockedDates.map(g=>n.jsxs("div",{className:"flex items-center justify-between p-3 border border-red-200 bg-red-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(In,{className:"w-4 h-4 text-red-600"}),n.jsx("p",{className:"text-sm text-gray-900",children:y(g)})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>m(g),children:n.jsx(Dn,{className:"w-4 h-4 text-red-600"})})]},g)),n.jsx(tt,{})]}),n.jsxs("div",{className:"space-y-3 p-4 border-2 border-dashed border-gray-300 rounded-lg",children:[n.jsx(re,{children:"Block a date"}),n.jsxs(iP,{children:[n.jsx(oP,{asChild:!0,children:n.jsxs(J,{variant:"outline",className:"w-full justify-start text-left",children:[n.jsx(Hc,{className:"mr-2 w-4 h-4"}),o?y(o.toISOString().split("T")[0]):"Select a date to block"]})}),n.jsx(lP,{className:"w-auto p-0",align:"start",children:n.jsx(Uu,{mode:"single",selected:o,onSelect:l,disabled:g=>g<new Date(new Date().setHours(0,0,0,0)),initialFocus:!0})})]}),n.jsxs(J,{onClick:f,variant:"outline",className:"w-full",disabled:!o,children:[n.jsx(In,{className:"w-4 h-4 mr-2"}),"Block This Date"]})]})]})]})]})}function dze({gameData:t,updateGameData:e,theme:r,embedContext:s}){const[a,i]=S.useState(!1),[o,l]=S.useState(!1);fe.useEffect(()=>{i(!1),l(!1)},[t.selectedWidget]);const c=(s?.embedKey??"").trim(),d=c.length>0,u=d?c:"demo_preview",m=(s?.baseUrl||(typeof window<"u"?window.location.origin:"https://bookingtms.com")).trim().replace(/\/+$/g,"")||"",y=(s?.primaryColor||"#2563eb").replace("#",""),g=r==="dark"?"dark":"light",v=QUe(t.slug||t.name),[b,w]=S.useState(!d);fe.useEffect(()=>{w(!d)},[d]);const N=r==="calendar"?[{id:"calendar-single-event",name:"Calendar Single Event / Room Booking Page Widget",description:"Full-page calendar view with time slots and booking details. Perfect for single events or room bookings.",icon:Hc,recommended:!0,default:!0}]:[{id:"calendar-single-event",name:"Calendar Single Event / Room Booking Page Widget",description:"Full-page calendar view with time slots and booking details. Perfect for single events or room bookings.",icon:Hc,recommended:!0},{id:"list-widget",name:"List Widget",description:"Simple list view showing available time slots. Clean and straightforward booking experience.",icon:$s},{id:"multi-step-widget",name:"Multi-Step Widget",description:"Guided step-by-step booking process. Ideal for complex bookings with multiple options.",icon:ma},{id:"quick-book-widget",name:"Quick Book Widget",description:"Fast one-click booking experience. Perfect for simple, time-sensitive bookings.",icon:Qt},{id:"calendar-widget",name:"Calendar Widget",description:"Month/week calendar view with availability. Great for recurring events and date selection.",icon:Nn},{id:"farebook-widget",name:"FareBook Widget",description:"FareHarbor-inspired design with modern aesthetics. Professional booking experience.",icon:yn}],_=M=>{switch(M){case"calendar-single-event":return"singlegame";case"list-widget":return"bookgo";case"multi-step-widget":return"multistep";case"quick-book-widget":return"quick";case"calendar-widget":return"calendar";case"farebook-widget":return"farebook";default:return"farebook"}},C=()=>{const M=_(t.selectedWidget),R=new URLSearchParams({widget:M,color:y,key:u,theme:g});return M==="singlegame"&&(t.name&&R.set("gameName",t.name),t.description&&R.set("gameDescription",t.description),t.adultPrice&&R.set("gamePrice",String(t.adultPrice)),v&&R.set("gameSlug",v)),m?`${m}/?${R.toString()}`:`/?${R.toString()}`},E=()=>{const M=C(),R=_(t.selectedWidget)==="singlegame"?1200:800;return`<!-- BookingTMS Widget Embed -->
<iframe
  src="${M}"
  width="100%"
  height="${R}"
  frameborder="0"
  allow="payment; camera"
  allowfullscreen
  style="border: none; border-radius: 12px;"
  title="${t.name||"Booking Widget"}"
></iframe>`},A=()=>{const M=C(),R=_(t.selectedWidget)==="singlegame"?1200:800;return`export function BookingWidgetEmbed() {
  return (
    <iframe
      src="${M}"
      width="100%"
      height="${R}"
      style={{ border: 'none', borderRadius: 12 }}
      allow="payment; camera"
      allowFullScreen
      title="${t.name||"Booking Widget"}"
    />
  );
}`},I=()=>C(),$=async M=>{if(navigator.clipboard&&window.isSecureContext)try{return await navigator.clipboard.writeText(M),!0}catch(R){console.warn("Clipboard API failed, trying fallback:",R)}try{const R=document.createElement("textarea");R.value=M,R.style.position="fixed",R.style.left="-999999px",R.style.top="-999999px",document.body.appendChild(R),R.focus(),R.select();const W=document.execCommand("copy");return document.body.removeChild(R),W}catch(R){return console.error("Fallback copy failed:",R),!1}},O=async()=>{await $(E())?(i(!0),me.success("Embed code copied to clipboard!"),setTimeout(()=>i(!1),2e3)):me.error("Failed to copy. Please copy manually.")},P=async()=>{await $(I())?(l(!0),me.success("Booking link copied to clipboard!"),setTimeout(()=>l(!1),2e3)):me.error("Failed to copy. Please copy manually.")};return n.jsxs("div",{className:"space-y-6",children:[b&&n.jsx(ve,{className:"border-amber-200 bg-amber-50 dark:bg-amber-900/20 dark:border-amber-700",children:n.jsx(Te,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 dark:bg-amber-800 flex items-center justify-center flex-shrink-0",children:n.jsx(rs,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),n.jsxs("div",{className:"space-y-1 text-amber-800 dark:text-amber-200",children:[n.jsx("p",{className:"text-sm font-semibold",children:"Embed key not configured"}),n.jsxs("p",{className:"text-sm",children:["This venue doesn't have a live embed key yet. The generated links will use a placeholder key",n.jsx("span",{className:"font-mono",children:" demo_preview"})," and won't load real data. Save the venue first to generate a working embed key."]})]})]})})}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx(Hc,{className:"w-5 h-5"}),"Choose Booking Widget"]}),n.jsx(Lt,{children:"Select the widget that will be used for bookings on your website"})]}),n.jsxs(Te,{className:"space-y-3",children:[N.map(M=>{const R=M.icon,W=t.selectedWidget===M.id;return n.jsx("div",{onClick:()=>e("selectedWidget",M.id),className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${W?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(R,{className:`w-4 h-4 ${W?"text-blue-600":"text-gray-600"}`}),n.jsx("p",{className:`text-sm ${W?"text-gray-900":"text-gray-700"}`,children:M.name}),M.default?n.jsx(ze,{className:"bg-blue-100 text-blue-800 border-blue-300 text-xs",children:"Default"}):M.recommended?n.jsx(ze,{className:"bg-blue-100 text-blue-800 border-blue-300 text-xs",children:"Recommended"}):null]}),n.jsx("p",{className:"text-xs text-gray-600",children:M.description})]}),W&&n.jsx(jn,{className:"w-5 h-5 text-blue-600 flex-shrink-0"})]})},M.id)}),n.jsx("div",{className:"pt-4 border-t border-gray-200",children:n.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx(rs,{className:"w-3 h-3"}),"You can change the widget later in your game settings"]})})]})]}),n.jsx(ve,{className:"bg-blue-50 border-blue-200",children:n.jsx(Te,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(ma,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm text-blue-900 mb-1",children:"Current Configuration"}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-xs text-blue-700",children:[n.jsx("span",{className:"opacity-70",children:"Game:"})," ",n.jsx("span",{className:"font-medium",children:t.name||"Untitled Game"})]}),n.jsxs("p",{className:"text-xs text-blue-700",children:[n.jsx("span",{className:"opacity-70",children:"Widget:"})," ",n.jsx("span",{className:"font-medium",children:N.find(M=>M.id===t.selectedWidget)?.name})]}),n.jsxs("p",{className:"text-xs text-blue-700",children:[n.jsx("span",{className:"opacity-70",children:"URL Slug:"})," ",n.jsx("span",{className:"font-mono",children:t.name.toLowerCase().replace(/\s+/g,"-")})]})]})]}),n.jsxs(ze,{className:"bg-green-100 text-green-800 border-green-300 text-xs",children:[n.jsx(jn,{className:"w-3 h-3 mr-1"}),"Ready"]})]})})}),n.jsxs(ve,{children:[n.jsx(st,{children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(at,{className:"text-lg",children:"Direct Booking Link"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Share this link directly with customers"}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx(ze,{className:"bg-blue-100 text-blue-800 border-blue-300 text-xs",children:N.find(M=>M.id===t.selectedWidget)?.name||"Selected Widget"}),n.jsx("span",{className:"text-xs text-gray-500",children:" Updates automatically"})]})]}),n.jsx(J,{onClick:P,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:o?n.jsxs(n.Fragment,{children:[n.jsx(jn,{className:"w-4 h-4 mr-2"}),"Copied!"]}):n.jsxs(n.Fragment,{children:[n.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Copy Link"]})})]})}),n.jsxs(Te,{className:"space-y-3",children:[n.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:n.jsx("code",{className:"text-sm text-blue-600 break-all",children:I()})}),n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsx(rs,{className:"w-3 h-3"}),n.jsx("span",{children:"This link updates when you change the widget selection above"})]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>window.open(I(),"_blank"),className:"text-xs",children:[n.jsx(al,{className:"w-3 h-3 mr-1"}),"Test Link"]})]})]})]}),n.jsxs(ve,{children:[n.jsx(st,{children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(at,{className:"text-lg",children:"Embed Code for Your Website"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Copy and paste this code into your website"}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Widget:"}),n.jsx(ze,{className:"bg-blue-100 text-blue-800 border-blue-300 text-xs",children:t.selectedWidget}),n.jsx("span",{className:"text-xs text-gray-500",children:" Code updates live"})]})]}),n.jsx(J,{onClick:O,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:a?n.jsxs(n.Fragment,{children:[n.jsx(jn,{className:"w-4 h-4 mr-2"}),"Copied!"]}):n.jsxs(n.Fragment,{children:[n.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Copy Code"]})})]})}),n.jsx(Te,{children:n.jsxs(ta,{defaultValue:"html",children:[n.jsxs(pa,{className:"w-full grid grid-cols-3 h-10",children:[n.jsx(Ft,{value:"html",children:"HTML"}),n.jsx(Ft,{value:"react",children:"React"}),n.jsx(Ft,{value:"wordpress",children:"WordPress"})]}),n.jsx(Bt,{value:"html",className:"mt-4",children:n.jsx(Ps,{className:"h-[300px] w-full rounded-lg bg-gray-900 border border-gray-700 p-4",children:n.jsx("pre",{className:"text-sm text-green-400",children:n.jsx("code",{children:E()})})})}),n.jsx(Bt,{value:"react",className:"mt-4",children:n.jsx(Ps,{className:"h-[300px] w-full rounded-lg bg-gray-900 border border-gray-700 p-4",children:n.jsx("pre",{className:"text-sm text-green-400",children:n.jsx("code",{children:A()})})})}),n.jsx(Bt,{value:"wordpress",className:"mt-4",children:n.jsx(Ps,{className:"h-[300px] w-full rounded-lg bg-gray-900 border border-gray-700 p-4",children:n.jsx("pre",{className:"text-sm text-green-400",children:n.jsx("code",{children:`1. Login to WordPress Admin Panel
2. Go to Pages or Posts
3. Edit the page where you want the widget
4. Switch to HTML/Code Editor
5. Paste the following code:

${E()}

6. Update/Publish your page
7. Visit the page to see your booking widget

Alternative: Use a shortcode plugin
[bookingtms game="${t.name.toLowerCase().replace(/\s+/g,"-")}" widget="${t.selectedWidget}"]`})})})})]})})]}),n.jsxs(ve,{children:[n.jsx(st,{children:n.jsx(at,{className:"text-lg",children:"Installation Guide"})}),n.jsxs(Te,{children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:n.jsx("span",{className:"text-blue-600",children:"1"})}),n.jsx("h3",{className:"text-sm text-gray-900 mb-2",children:"Choose Widget"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Select the booking widget that best fits your website design and user flow"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:n.jsx("span",{className:"text-blue-600",children:"2"})}),n.jsx("h3",{className:"text-sm text-gray-900 mb-2",children:"Copy Code"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Copy the embed code or booking link depending on your needs"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:n.jsx("span",{className:"text-blue-600",children:"3"})}),n.jsx("h3",{className:"text-sm text-gray-900 mb-2",children:"Paste & Go Live"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Paste the code into your website and start accepting bookings immediately"})]})]}),n.jsx(tt,{className:"my-6"}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm text-blue-900 mb-2",children:" Pro Tip"}),n.jsx("p",{className:"text-sm text-blue-700",children:"For the best experience, test your widget on a staging environment before going live. Need help? Contact our support team."})]})]})]})]})}function uze({gameData:t}){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Review Your Game"}),n.jsx(Lt,{children:"Double-check all information before publishing"})]}),n.jsxs(Te,{className:"space-y-6",children:[t.coverImage&&n.jsx("div",{children:n.jsx("img",{src:t.coverImage,alt:t.name,className:"w-full h-48 object-cover rounded-lg mb-4"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg text-gray-900 mb-1",children:t.name}),t.tagline&&n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:t.tagline}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ze,{children:t.category}),t.gameType&&n.jsx(ze,{variant:"secondary",children:t.gameType})]})]}),n.jsx(tt,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Capacity"}),n.jsxs("p",{className:"text-gray-900",children:[t.minAdults,"-",t.maxAdults," adults",t.maxChildren>0&&`, up to ${t.maxChildren} children`]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),n.jsxs("p",{className:"text-gray-900",children:[t.duration," minutes"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Difficulty"}),n.jsx("div",{className:"flex gap-0.5",children:Array.from({length:t.difficulty}).map((e,r)=>n.jsx(yn,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},r))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Pricing"}),n.jsxs("p",{className:"text-gray-900",children:["$",t.adultPrice," (adult), $",t.childPrice," (child)"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Min Age"}),n.jsxs("p",{className:"text-gray-900",children:[t.minAge,"+"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Languages"}),n.jsx("p",{className:"text-gray-900",children:t.language.join(", ")})]})]})]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Description"}),n.jsx("p",{className:"text-sm text-gray-700",children:t.description})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Operating Days"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:t.operatingDays.map(e=>n.jsx(ze,{variant:"secondary",children:e},e))})]}),t.galleryImages.length>0&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Gallery (",t.galleryImages.length," images)"]}),n.jsx("div",{className:"grid grid-cols-4 gap-2",children:t.galleryImages.slice(0,4).map((e,r)=>n.jsx("img",{src:e,alt:`Gallery ${r+1}`,className:"w-full h-20 object-cover rounded"},r))})]}),t.videos.length>0&&n.jsx("div",{children:n.jsxs("p",{className:"text-sm text-gray-500",children:["Videos: ",t.videos.length," uploaded"]})})]})]}),n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(jn,{className:"w-5 h-5 text-green-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-green-900 mb-1",children:"Ready to publish!"}),n.jsx("p",{className:"text-sm text-green-700",children:"Your game will be immediately available for booking once published."})]})]})})]})}function hze({config:t,onConfigChange:e}){const r={logoUrl:"",logoSize:64,logoPosition:"top",headlineText:t?.widgetTitle||"",headlineFont:t?.fontFamily||"",headlineSize:28,headlineColor:"#111827",headlineAlign:"center",descriptionHtml:t?.widgetDescription||"",descriptionCharLimit:280,widgetWidth:1024,widgetHeight:768,responsiveScale:1,minWidth:320,maxWidth:1600,previewDevice:"desktop",themeVariant:"light",themeColor:"#2563eb"},s=S.useMemo(()=>({...r,...t?.customSettings||{}}),[t]),a=!!t?.proLockedCustomSettings,i=(u,h)=>{const f={...t,customSettings:{...s,[u]:h}};e(f)},o=u=>{if(!u)return;if(!u.type.startsWith("image/")){me.error("Please upload a valid image file");return}const h=new FileReader;h.onload=()=>i("logoUrl",String(h.result)),h.readAsDataURL(u)},l=u=>{u==="mobile"?(i("previewDevice","mobile"),i("widgetWidth",375)):u==="tablet"?(i("previewDevice","tablet"),i("widgetWidth",768)):(i("previewDevice","desktop"),i("widgetWidth",1024))},c=(u,h,f,m)=>Number.isNaN(u)||u<h||u>f?(me.error(`${m} must be between ${h} and ${f}`),!1):!0,d=()=>String(s.descriptionHtml||"").slice(0,s.descriptionCharLimit);return n.jsxs("div",{className:"space-y-6 relative",children:[a&&n.jsx("div",{className:"absolute inset-0 z-10 bg-white/70 backdrop-blur-sm border rounded-xl flex items-center justify-center",children:n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("div",{className:"text-lg font-semibold",children:"Pro Features"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Upgrade to unlock Custom Settings"}),n.jsx(J,{disabled:!0,variant:"default",children:"Upgrade"})]})}),n.jsxs(ta,{defaultValue:"visual",children:[n.jsxs(pa,{className:"grid w-full grid-cols-4",children:[n.jsx(Ft,{value:"visual",children:"Visual"}),n.jsx(Ft,{value:"content",children:"Content"}),n.jsx(Ft,{value:"display",children:"Display"}),n.jsx(Ft,{value:"preview",children:"Preview"})]}),n.jsxs(Bt,{value:"visual",className:"space-y-6",children:[n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Logo Settings"}),n.jsx(Lt,{children:"Configure logo image, size, and position"})]}),n.jsx(Te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Upload Logo"}),n.jsx(ge,{type:"file",accept:"image/*",disabled:a,onChange:u=>o(u.target.files?.[0])})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Size"}),n.jsx(ge,{type:"range",min:24,max:200,value:s.logoSize,disabled:a,onChange:u=>i("logoSize",parseInt(u.target.value,10))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Position"}),n.jsxs(Kt,{value:s.logoPosition,onValueChange:u=>i("logoPosition",u),children:[n.jsx(Xt,{disabled:a,children:n.jsx(Yt,{placeholder:"Select position"})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"top",children:"Top"}),n.jsx(Ce,{value:"bottom",children:"Bottom"}),n.jsx(Ce,{value:"left",children:"Left"}),n.jsx(Ce,{value:"right",children:"Right"})]})]})]})]})})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Headline"}),n.jsx(Lt,{children:"Control font, size, color, and alignment"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Text"}),n.jsx(ge,{value:s.headlineText,disabled:a,onChange:u=>i("headlineText",u.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Font Family"}),n.jsx(ge,{value:s.headlineFont,disabled:a,onChange:u=>i("headlineFont",u.target.value),placeholder:"e.g., Inter, Arial"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Size"}),n.jsx(ge,{type:"range",min:12,max:48,value:s.headlineSize,disabled:a,onChange:u=>i("headlineSize",parseInt(u.target.value,10))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Color"}),n.jsx(ge,{type:"color",value:s.headlineColor,disabled:a,onChange:u=>i("headlineColor",u.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Alignment"}),n.jsxs(Kt,{value:s.headlineAlign,onValueChange:u=>i("headlineAlign",u),children:[n.jsx(Xt,{disabled:a,children:n.jsx(Yt,{placeholder:"Select alignment"})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"left",children:"Left"}),n.jsx(Ce,{value:"center",children:"Center"}),n.jsx(Ce,{value:"right",children:"Right"})]})]})]})]})]})]})]}),n.jsx(Bt,{value:"content",className:"space-y-6",children:n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Description"}),n.jsx(Lt,{children:"Rich text content with character limit and formatting"})]}),n.jsx(Te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[n.jsx(re,{children:"Rich Text"}),n.jsx("div",{contentEditable:!a,className:"min-h-[120px] p-3 border rounded-md focus:outline-none",onInput:u=>i("descriptionHtml",u.target.innerHTML),dangerouslySetInnerHTML:{__html:d()}})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Character Limit"}),n.jsx(ge,{type:"number",min:50,max:2e3,value:s.descriptionCharLimit,disabled:a,onChange:u=>{const h=parseInt(u.target.value,10);c(h,50,2e3,"Character limit")&&i("descriptionCharLimit",h)}})]})]})})]})}),n.jsx(Bt,{value:"display",className:"space-y-6",children:n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Widget Display"}),n.jsx(Lt,{children:"Configure size and responsive behavior"})]}),n.jsx(Te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Width"}),n.jsx(ge,{type:"range",min:s.minWidth,max:s.maxWidth,value:s.widgetWidth,disabled:a,onChange:u=>i("widgetWidth",parseInt(u.target.value,10))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Responsive Scale"}),n.jsx(ge,{type:"range",min:.5,max:2,step:.05,value:s.responsiveScale,disabled:a,onChange:u=>i("responsiveScale",parseFloat(u.target.value))})]})]})})]})}),n.jsx(Bt,{value:"preview",className:"space-y-6",children:n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Preview Options"}),n.jsx(Lt,{children:"Device emulation and theme selectors"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Device"}),n.jsxs(Kt,{value:s.previewDevice,onValueChange:l,children:[n.jsx(Xt,{disabled:a,children:n.jsx(Yt,{placeholder:"Select device"})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"mobile",children:"Mobile"}),n.jsx(Ce,{value:"tablet",children:"Tablet"}),n.jsx(Ce,{value:"desktop",children:"Desktop"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Theme Variant"}),n.jsxs(Kt,{value:s.themeVariant,onValueChange:u=>i("themeVariant",u),children:[n.jsx(Xt,{disabled:a,children:n.jsx(Yt,{placeholder:"Select theme"})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"light",children:"Light"}),n.jsx(Ce,{value:"dark",children:"Dark"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Primary Color"}),n.jsx(ge,{type:"color",value:s.themeColor,disabled:a,onChange:u=>i("themeColor",u.target.value)})]})]}),n.jsx(tt,{}),n.jsxs("div",{className:"rounded-xl border bg-white p-4",children:[n.jsx("div",{className:"mb-3 text-sm text-gray-600",children:"Real-time Preview"}),n.jsx("div",{className:"mx-auto border rounded-xl overflow-hidden",style:{width:s.widgetWidth,transform:`scale(${s.responsiveScale})`,transformOrigin:"top center"},children:n.jsx(_b,{primaryColor:s.themeColor,config:{...t,customSettings:s}})})]})]})]})})]})]})}const sW=t=>t&&t.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")||"game";function bre({config:t,onConfigChange:e,onPreview:r,embedContext:s}){const[a,i]=S.useState("general"),[o,l]=S.useState(!1),[c,d]=S.useState(null),{games:u,createGame:h,updateGame:f,deleteGame:m}=rO(s?.venueId),y=O=>{const P=O.settings||{};return{id:O.id,name:O.name,description:O.description,tagline:O.tagline,difficulty:O.difficulty,duration:O.duration,minPlayers:O.min_players,maxPlayers:O.max_players,min_players:O.min_players,max_players:O.max_players,price:O.price,childPrice:O.child_price,child_price:O.child_price,status:O.status,image:O.image_url,imageUrl:O.image_url,coverImage:O.image_url,settings:P,operatingDays:P.operatingDays||["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],startTime:P.startTime||"10:00",endTime:P.endTime||"22:00",slotInterval:P.slotInterval||60,advanceBooking:P.advanceBooking||30,requiresWaiver:P.requiresWaiver||!1,selectedWaiver:P.selectedWaiver||null,cancellationWindow:P.cancellationWindow||24,specialInstructions:P.specialInstructions||"",galleryImages:P.galleryImages||[],videos:P.videos||[],language:P.language||["English"],minChildren:P.minChildren||0,maxChildren:P.maxChildren||0,location:P.location||"",faqs:P.faqs||[],cancellationPolicies:P.cancellationPolicies||[]}},g=S.useMemo(()=>u.map(y),[u]);S.useEffect(()=>{const O=Array.isArray(t?.games)?t.games:[];(O.length!==g.length||O.some((M,R)=>{const W=g[R];return W?JSON.stringify(M)!==JSON.stringify(W):!0}))&&e({...t,games:g})},[g,t,e]);const v=(O,P)=>{e({...t,[O]:P})},b=()=>{d(null),l(!0)},w=async O=>{if(!s?.venueId){me.error("Venue ID is required to create games"),console.error("Missing venueId in embedContext:",s);return}try{const P=sW(O.slug||O.name);console.log("Creating game with data:",{venueId:s.venueId,name:O.name,difficulty:O.difficulty});const M={venue_id:s.venueId,name:O.name,slug:P,description:O.description||"",tagline:O.tagline||"",difficulty:N(O.difficulty),duration:O.duration||60,min_players:O.minAdults||2,max_players:O.maxAdults||8,price:O.adultPrice||0,child_price:O.childPrice||O.adultPrice||0,min_age:O.minAge||0,success_rate:O.successRate||75,image_url:O.coverImage||"https://images.unsplash.com/photo-1569002925653-ed18f55d7292?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080",status:"active",settings:{category:O.category,eventType:O.eventType,gameType:O.gameType||"physical",minChildren:O.minChildren,maxChildren:O.maxChildren,language:O.language,activityDetails:O.activityDetails,additionalInformation:O.additionalInformation,faqs:O.faqs,cancellationPolicies:O.cancellationPolicies,accessibility:O.accessibility,location:O.location,galleryImages:O.galleryImages,videos:O.videos,operatingDays:O.operatingDays,startTime:O.startTime,endTime:O.endTime,slotInterval:O.slotInterval,advanceBooking:O.advanceBooking,requiresWaiver:O.requiresWaiver,selectedWaiver:O.selectedWaiver,cancellationWindow:O.cancellationWindow,specialInstructions:O.specialInstructions,availability:{}}};if(console.log("Mapped Supabase game data:",M),c?.id&&!c.id.startsWith("game-"))console.log("Updating game:",c.id),await f(c.id,M),me.success("Experience updated successfully!");else{console.log("Creating new game in Supabase");const R=await h(M);console.log("Game created successfully:",R),me.success("Experience created successfully!")}l(!1),d(null)}catch(P){console.error("Error saving game:",{message:P?.message,code:P?.code,details:P?.details,hint:P?.hint,error:P});const M=P?.message||P?.details||P?.hint||"Failed to save experience";me.error(M)}},N=O=>{if(typeof O=="string"){const P=O.toLowerCase();return P.includes("easy")?"Easy":P.includes("hard")||P.includes("expert")||P.includes("extreme")?"Hard":"Medium"}return typeof O=="number"?O<=2?"Easy":O>=4?"Hard":"Medium":"Medium"},_=()=>{l(!1),d(null)},C=O=>{d(O),l(!0)},E=O=>{const P=O.settings||{};return{name:O.name,description:O.description,category:P.category||"Adventure",tagline:O.tagline||"",eventType:P.eventType||"public",gameType:P.gameType||"physical",minAdults:O.min_players||2,maxAdults:O.max_players||8,minChildren:P.minChildren||0,maxChildren:P.maxChildren||4,adultPrice:O.price||30,childPrice:O.child_price||O.price||25,duration:O.duration||60,difficulty:O.difficulty||"Medium",minAge:O.min_age||12,language:P.language||["English"],successRate:O.success_rate||75,activityDetails:P.activityDetails||"",additionalInformation:P.additionalInformation||"",faqs:P.faqs||[],cancellationPolicies:P.cancellationPolicies||[],accessibility:P.accessibility||{strollerAccessible:!0,wheelchairAccessible:!1},location:P.location||"",coverImage:O.image_url||"",galleryImages:P.galleryImages||[],videos:P.videos||[],operatingDays:P.operatingDays||["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],startTime:P.startTime||"09:00",endTime:P.endTime||"21:00",slotInterval:P.slotInterval||60,advanceBooking:P.advanceBooking||30,requiresWaiver:P.requiresWaiver||!1,selectedWaiver:P.selectedWaiver||null,cancellationWindow:P.cancellationWindow||24,specialInstructions:P.specialInstructions||"",customCapacityFields:P.customCapacityFields||[],groupDiscount:P.groupDiscount||!1,dynamicPricing:P.dynamicPricing||!1,peakPricing:P.peakPricing||{enabled:!1,weekdayPeakPrice:0,weekendPeakPrice:0,peakStartTime:"",peakEndTime:""},groupTiers:P.groupTiers||[],customDates:P.customDates||[],blockedDates:P.blockedDates||[],slug:O.slug||sW(O.name)}},A=()=>{const O={id:`q-${Date.now()}`,question:"New Question",type:"select",options:["Option 1","Option 2"],required:!1};e({...t,additionalQuestions:[...t.additionalQuestions||[],O]})},I=(O,P)=>{e({...t,additionalQuestions:t.additionalQuestions.map(M=>M.id===O?{...M,...P}:M)})},$=O=>{e({...t,additionalQuestions:t.additionalQuestions.filter(P=>P.id!==O)})};return n.jsxs("div",{className:"space-y-6 pb-24 sm:pb-28",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl text-gray-900",children:"Calendar Widget Settings"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Configure your booking widget appearance and options"})]}),n.jsxs(J,{onClick:r,variant:"outline",className:"flex items-center gap-2",children:[n.jsx(Ln,{className:"w-4 h-4"}),"Preview Widget"]})]}),n.jsxs(ta,{value:a,onValueChange:i,children:[n.jsxs(pa,{className:"grid w-full grid-cols-3 sm:grid-cols-6 gap-1",children:[n.jsx(Ft,{value:"general",className:"text-xs sm:text-sm",children:"General"}),n.jsx(Ft,{value:"games",className:"text-xs sm:text-sm",children:"Games"}),n.jsx(Ft,{value:"availability",className:"text-xs sm:text-sm",children:"Availability"}),n.jsx(Ft,{value:"custom",className:"text-xs sm:text-sm",children:"Custom"}),n.jsx(Ft,{value:"seo",className:"text-xs sm:text-sm",children:"SEO"}),n.jsx(Ft,{value:"advanced",className:"text-xs sm:text-sm",children:"Advanced"})]}),n.jsxs(Bt,{value:"general",className:"space-y-6 pb-24",children:[n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Display Options"}),n.jsx(Lt,{children:"Control what elements appear in your widget"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(re,{children:"Show Secured Badge"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Display security badge in header"})]}),n.jsx(Wt,{checked:t.showSecuredBadge,onCheckedChange:O=>v("showSecuredBadge",O)})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(re,{children:"Show Health & Safety"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Display health and safety badge"})]}),n.jsx(Wt,{checked:t.showHealthSafety,onCheckedChange:O=>v("showHealthSafety",O)})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(re,{children:"Enable Veteran Discount"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Show veteran ticket pricing option"})]}),n.jsx(Wt,{checked:t.enableVeteranDiscount,onCheckedChange:O=>v("enableVeteranDiscount",O)})]})]})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Widget Header"}),n.jsx(Lt,{children:"Customize the title and description of your widget"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"widget-title",children:"Widget Title"}),n.jsx(ge,{id:"widget-title",value:t.widgetTitle,onChange:O=>v("widgetTitle",O.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"widget-description",children:"Widget Description"}),n.jsx(mn,{id:"widget-description",value:t.widgetDescription,onChange:O=>v("widgetDescription",O.target.value)})]})]})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Theme & Preview"}),n.jsx(Lt,{children:"Control font, timezone label, and preview behavior"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"font-family",children:"Font Family"}),n.jsx(ge,{id:"font-family",placeholder:"e.g., Inter, Arial, 'Playfair Display'",value:t.fontFamily||"",onChange:O=>v("fontFamily",O.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"timezone-label",children:"Timezone Label"}),n.jsx(ge,{id:"timezone-label",placeholder:"e.g., PST, Local Time",value:t.timezoneLabel||"",onChange:O=>v("timezoneLabel",O.target.value)})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"slot-duration",children:"Slot Duration (minutes)"}),n.jsx(ge,{id:"slot-duration",type:"number",min:15,step:15,value:Number(t.slotDurationMinutes??90),onChange:O=>v("slotDurationMinutes",parseInt(O.target.value||"90",10))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Preview Role"}),n.jsxs(Kt,{value:t.previewRole||"customer",onValueChange:O=>v("previewRole",O),children:[n.jsx(Xt,{children:n.jsx(Yt,{placeholder:"Select a role"})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"customer",children:"Customer"}),n.jsx(Ce,{value:"staff",children:"Staff"}),n.jsx(Ce,{value:"admin",children:"Admin"})]})]})]})]}),n.jsx(tt,{}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(re,{children:"Show Promo Code"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Enable promo code entry in cart"})]}),n.jsx(Wt,{checked:!!t.showPromoCodeInput,onCheckedChange:O=>v("showPromoCodeInput",O)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(re,{children:"Show Gift Card"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Enable gift card application in cart"})]}),n.jsx(Wt,{checked:!!t.showGiftCardInput,onCheckedChange:O=>v("showGiftCardInput",O)})]})]})]})]})]}),n.jsx(Bt,{value:"games",children:n.jsxs(ve,{children:[n.jsxs(st,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(at,{children:"Experiences / Games"}),n.jsx(Lt,{children:"Configure your escape room experiences - stored in database"})]}),n.jsxs(J,{onClick:b,size:"sm",className:"flex items-center gap-2",children:[n.jsx(An,{className:"w-4 h-4"}),"Add Experience"]})]}),n.jsx(Te,{className:"space-y-4",children:u.length===0?n.jsx("p",{className:"text-sm text-gray-500",children:'No games configured yet. Click "Add Experience" to create your first game.'}):u.map(O=>n.jsx("div",{className:"p-4 border rounded-lg",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold",children:O.name}),n.jsx("p",{className:"text-sm text-gray-600",children:O.description}),n.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-gray-500",children:[n.jsxs("span",{children:[" ",O.duration," min"]}),n.jsxs("span",{children:[" ",O.min_players,"-",O.max_players," players"]}),n.jsxs("span",{children:[" $",O.price]}),n.jsxs("span",{children:[" ",O.difficulty]}),n.jsx("span",{className:`px-2 py-0.5 rounded ${O.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:O.status})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>C(O),children:"Edit"}),n.jsx(J,{variant:"ghost",size:"sm",onClick:async()=>{confirm(`Delete "${O.name}"?`)&&await m(O.id)},children:"Delete"})]})]})},O.id))})]})}),n.jsxs(Bt,{value:"availability",className:"space-y-6 pb-24",children:[n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Add a custom date"}),n.jsx(Lt,{children:"Add special available dates outside regular schedule (e.g., special events)"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-green-50 dark:bg-green-900/20",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"custom-available-date",className:"text-sm",children:"Select a date"}),n.jsx(ge,{id:"custom-available-date",type:"date",className:"w-full"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"custom-start-time",className:"text-sm",children:"Start Time"}),n.jsx(ge,{id:"custom-start-time",type:"time",defaultValue:"10:00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"custom-end-time",className:"text-sm",children:"End Time"}),n.jsx(ge,{id:"custom-end-time",type:"time",defaultValue:"22:00"})]})]}),n.jsxs(J,{className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>{const O=document.getElementById("custom-available-date"),P=document.getElementById("custom-start-time"),M=document.getElementById("custom-end-time"),R=O?.value,W=P?.value,Y=M?.value;if(R&&W&&Y){const K=t.customAvailableDates||[];e({...t,customAvailableDates:[...K,{date:R,startTime:W,endTime:Y,reason:`Custom availability ${W} - ${Y}`}]}),me.success(`Custom date added: ${R} from ${W} to ${Y}`),O.value="",P.value="10:00",M.value="22:00"}else me.error("Please select a date and times")},children:[n.jsx(An,{className:"w-4 h-4 mr-2"}),"Add Custom Date"]})]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Add dates that are normally closed but should be available for booking"})]}),n.jsx(tt,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Custom Available Dates"}),!t.customAvailableDates||t.customAvailableDates.length===0?n.jsx("p",{className:"text-sm text-gray-500",children:"No custom dates added"}):n.jsx("div",{className:"space-y-2",children:t.customAvailableDates.map((O,P)=>n.jsxs("div",{className:"flex items-center justify-between p-3 border border-green-200 bg-green-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium",children:new Date(O.date+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),n.jsx(ze,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:"Custom"})]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[" ",O.startTime," - ",O.endTime]})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>{e({...t,customAvailableDates:t.customAvailableDates.filter((M,R)=>R!==P)}),me.success("Custom date removed")},children:n.jsx(Dn,{className:"w-4 h-4"})})]},P))})]})]})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Blocked Dates"}),n.jsx(Lt,{children:"Mark specific dates as unavailable (holidays, maintenance, etc.)"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"blocked-date",children:"Block a date"}),n.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-gray-50 dark:bg-gray-900",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"blocked-date",className:"text-sm",children:"Select a date"}),n.jsx(ge,{id:"blocked-date",type:"date",className:"w-full"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"blocked-start-time",className:"text-sm",children:"Start Time (Optional)"}),n.jsx(ge,{id:"blocked-start-time",type:"time",placeholder:"10:00 AM"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Leave empty to block entire day"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"blocked-end-time",className:"text-sm",children:"End Time (Optional)"}),n.jsx(ge,{id:"blocked-end-time",type:"time",placeholder:"10:00 PM"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Leave empty to block entire day"})]})]}),n.jsxs(J,{className:"w-full bg-red-600 hover:bg-red-700",onClick:()=>{const O=document.getElementById("blocked-date"),P=document.getElementById("blocked-start-time"),M=document.getElementById("blocked-end-time"),R=O?.value,W=P?.value,Y=M?.value;if(R){const K=t.blockedDates||[],L=W&&Y?"time-slot":"full-day",F=W&&Y?`Blocked ${W} - ${Y}`:"Blocked by admin";e({...t,blockedDates:[...K,{date:R,startTime:W||null,endTime:Y||null,blockType:L,reason:F}]}),me.success(L==="time-slot"?`Time slot ${W} - ${Y} blocked on ${R}`:`Date ${R} blocked`),O.value="",P.value="",M.value=""}else me.error("Please select a date")},children:[n.jsx(In,{className:"w-4 h-4 mr-2"}),"Block This Date"]})]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Block entire days or specific time slots when bookings should not be allowed"})]}),n.jsx(tt,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Currently Blocked Dates"}),!t.blockedDates||t.blockedDates.length===0?n.jsx("p",{className:"text-sm text-gray-500",children:"No dates blocked"}):n.jsx("div",{className:"space-y-2",children:t.blockedDates.map((O,P)=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium",children:new Date(O.date+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),O.blockType==="time-slot"&&n.jsx(ze,{variant:"secondary",className:"text-xs",children:"Time Slot"})]}),O.startTime&&O.endTime?n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[" ",O.startTime," - ",O.endTime]}):n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Full day blocked"})]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>{e({...t,blockedDates:t.blockedDates.filter((M,R)=>R!==P)}),me.success(O.blockType==="time-slot"?"Time slot unblocked":"Date unblocked")},children:n.jsx(Dn,{className:"w-4 h-4"})})]},P))})]})]})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Game Schedules"}),n.jsx(Lt,{children:"Each game's operating schedule is configured in the game settings"})]}),n.jsx(Te,{children:n.jsx("div",{className:"space-y-4",children:t.games&&t.games.length>0?t.games.map(O=>n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsx("h4",{className:"font-semibold mb-2",children:O.name}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Operating Days:"}),n.jsx("p",{className:"font-medium",children:O.operatingDays&&O.operatingDays.length>0?O.operatingDays.join(", "):"All days"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Hours:"}),n.jsxs("p",{className:"font-medium",children:[O.startTime||"9:00 AM"," - ",O.endTime||"9:00 PM"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Slot Interval:"}),n.jsxs("p",{className:"font-medium",children:[O.slotInterval||60," minutes"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Advance Booking:"}),n.jsxs("p",{className:"font-medium",children:[O.advanceBooking||30," days"]})]})]}),n.jsx(J,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>{C(O),i("games")},children:"Edit Schedule"})]},O.id)):n.jsx("p",{className:"text-sm text-gray-500",children:"No games configured yet. Add games in the Games tab."})})})]})]}),n.jsx(Bt,{value:"custom",children:n.jsx(hze,{config:t,onConfigChange:e})}),n.jsxs(Bt,{value:"seo",className:"space-y-6 pb-24",children:[n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"SEO Optimization"}),n.jsx(Lt,{children:"Set page metadata to improve search visibility"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"seo-title",children:"SEO Title"}),n.jsx(ge,{id:"seo-title",placeholder:"e.g., Mystery Manor | Your Business Name",value:t.seoTitle||"",onChange:O=>v("seoTitle",O.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"business-name",children:"Business Name"}),n.jsx(ge,{id:"business-name",placeholder:"Your Business Name",value:t.businessName||"",onChange:O=>v("businessName",O.target.value)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"meta-description",children:"Meta Description"}),n.jsx(mn,{id:"meta-description",placeholder:"Short description used in search results and social cards",rows:4,value:t.metaDescription||"",onChange:O=>v("metaDescription",O.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"seo-keywords",children:"SEO Keywords"}),n.jsx(ge,{id:"seo-keywords",placeholder:"escape room, booking, team building, family fun",value:t.seoKeywords||"",onChange:O=>v("seoKeywords",O.target.value)})]})]})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Location & GEO Settings"}),n.jsx(Lt,{children:"Configure geographic information for local SEO"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(re,{children:"Enable LocalBusiness schema"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Adds JSON-LD structured data for better local SEO"})]}),n.jsx(Wt,{checked:!!t.enableLocalBusinessSchema,onCheckedChange:O=>v("enableLocalBusinessSchema",O)})]}),n.jsx(tt,{}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"street-address",children:"Street Address"}),n.jsx(ge,{id:"street-address",value:t.streetAddress||"",onChange:O=>v("streetAddress",O.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"city",children:"City"}),n.jsx(ge,{id:"city",value:t.city||"",onChange:O=>v("city",O.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"state",children:"State / Province"}),n.jsx(ge,{id:"state",value:t.state||"",onChange:O=>v("state",O.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"zip",children:"ZIP / Postal Code"}),n.jsx(ge,{id:"zip",value:t.zipCode||"",onChange:O=>v("zipCode",O.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"country",children:"Country"}),n.jsx(ge,{id:"country",value:t.country||"",onChange:O=>v("country",O.target.value)})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"phone",children:"Phone Number"}),n.jsx(ge,{id:"phone",placeholder:"+1 (555) 123-4567",value:t.phoneNumber||"",onChange:O=>v("phoneNumber",O.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"email",children:"Email Address"}),n.jsx(ge,{id:"email",placeholder:"info@example.com",value:t.emailAddress||"",onChange:O=>v("emailAddress",O.target.value)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"landmarks",children:"Nearby Landmarks"}),n.jsx(mn,{id:"landmarks",placeholder:"e.g., Downtown Plaza, City Museum",rows:3,value:t.nearbyLandmarks||"",onChange:O=>v("nearbyLandmarks",O.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"parking",children:"Parking & Transportation"}),n.jsx(mn,{id:"parking",placeholder:"e.g., Free parking in rear lot; street parking available",rows:3,value:t.parkingInfo||"",onChange:O=>v("parkingInfo",O.target.value)})]}),n.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[n.jsx(Wt,{id:"show-location",checked:t.showLocationBlock!==!1,onCheckedChange:O=>v("showLocationBlock",O)}),n.jsx(re,{htmlFor:"show-location",children:"Show Location & Info block on booking page"})]})]})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Social Profiles"}),n.jsx(Lt,{children:"Optional links for richer social cards"})]}),n.jsx(Te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"facebook",children:"Facebook URL"}),n.jsx(ge,{id:"facebook",value:t.facebookUrl||"",onChange:O=>v("facebookUrl",O.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"instagram",children:"Instagram URL"}),n.jsx(ge,{id:"instagram",value:t.instagramUrl||"",onChange:O=>v("instagramUrl",O.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"twitter",children:"X / Twitter URL"}),n.jsx(ge,{id:"twitter",value:t.twitterUrl||"",onChange:O=>v("twitterUrl",O.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"tripadvisor",children:"Tripadvisor URL"}),n.jsx(ge,{id:"tripadvisor",value:t.tripadvisorUrl||"",onChange:O=>v("tripadvisorUrl",O.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"google-biz",children:"Google Business ID"}),n.jsx(ge,{id:"google-biz",placeholder:"optional",value:t.googleBusinessId||"",onChange:O=>v("googleBusinessId",O.target.value)})]})]})})]})]}),n.jsxs(Bt,{value:"advanced",children:[n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Advanced Settings"}),n.jsx(Lt,{children:"Configure cancellation policies and other advanced options"})]}),n.jsx(Te,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"cancellation-policy",children:"Cancellation Policy"}),n.jsx(mn,{id:"cancellation-policy",value:t.cancellationPolicy,onChange:O=>v("cancellationPolicy",O.target.value),rows:6})]})})]}),n.jsxs(ve,{className:"mt-6",children:[n.jsxs(st,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(at,{children:"Additional Questions"}),n.jsx(Lt,{children:"Add custom questions to your booking form"})]}),n.jsxs(J,{onClick:A,size:"sm",className:"flex items-center gap-2",children:[n.jsx(An,{className:"w-4 h-4"}),"Add Question"]})]}),n.jsx(Te,{className:"space-y-6",children:(t.additionalQuestions||[]).map((O,P)=>n.jsxs("div",{className:"space-y-4 border-b pb-4 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h4",{className:"text-lg font-semibold",children:["Question ",P+1]}),n.jsx(J,{onClick:()=>$(O.id),variant:"destructive",size:"sm",children:n.jsx(Dn,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Question"}),n.jsx(ge,{value:O.question,onChange:M=>I(O.id,{question:M.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Type"}),n.jsxs(Kt,{value:O.type,onValueChange:M=>I(O.id,{type:M}),children:[n.jsx(Xt,{children:n.jsx(Yt,{placeholder:"Select a question type"})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"text",children:"Text"}),n.jsx(Ce,{value:"select",children:"Select"})]})]})]}),O.type==="select"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Options (comma-separated)"}),n.jsx(ge,{value:O.options.join(","),onChange:M=>I(O.id,{options:M.target.value.split(",")})})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wt,{id:`required-${O.id}`,checked:O.required,onCheckedChange:M=>I(O.id,{required:M})}),n.jsx(re,{htmlFor:`required-${O.id}`,children:"Required"})]})]},O.id))})]})]})]}),n.jsx(or,{open:o,onOpenChange:O=>!O&&_(),children:n.jsxs(lr,{className:"!w-[90vw] !max-w-[1000px] h-[90vh] !max-h-[90vh] overflow-hidden p-0 flex flex-col",children:[n.jsxs("div",{className:"sr-only",children:[n.jsx(cr,{children:c?"Edit Experience":"Add New Experience"}),n.jsx(xr,{children:"Complete the multi-step wizard to add a new escape room experience to your calendar widget"})]}),n.jsx(eze,{onComplete:w,onCancel:_,initialData:c?E(c):void 0,mode:c?"edit":"create",theme:"calendar",embedContext:s})]})})]})}function fze({widgetType:t,config:e,onConfigChange:r,onPreview:s}){const[a,i]=S.useState("general"),o=(b,w)=>{r({...e,[b]:w})},l=()=>{const b={id:`game-${Date.now()}`,name:"New Experience",image:"https://images.unsplash.com/photo-1569002925653-ed18f55d7292?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080",priceRange:"$25 - $30",ageRange:"All ages",duration:"1 Hour",difficulty:3,description:"A thrilling escape room experience",price:30,tagline:"An exciting adventure awaits",rating:4.5,reviews:100,players:"2-8 players",featured:!1};r({...e,games:[...e.games||[],b]})},c=(b,w)=>{r({...e,games:e.games.map(N=>N.id===b?{...N,...w}:N)})},d=b=>{r({...e,games:e.games.filter(w=>w.id!==b)})},u=()=>{const b={id:`ticket-${Date.now()}`,name:"New Ticket Type",description:"Description",price:30};r({...e,ticketTypes:[...e.ticketTypes||[],b]})},h=(b,w)=>{r({...e,ticketTypes:e.ticketTypes.map(N=>N.id===b?{...N,...w}:N)})},f=b=>{r({...e,ticketTypes:e.ticketTypes.filter(w=>w.id!==b)})},m=()=>{const b={id:`q-${Date.now()}`,question:"New Question",type:"select",options:["Option 1","Option 2"],required:!1};r({...e,additionalQuestions:[...e.additionalQuestions||[],b]})},y=(b,w)=>{r({...e,additionalQuestions:e.additionalQuestions.map(N=>N.id===b?{...N,...w}:N)})},g=b=>{r({...e,additionalQuestions:e.additionalQuestions.filter(w=>w.id!==b)})},v=()=>({bookgo:"BookGo Widget",calendar:"Calendar Widget",singlegame:"Single Game Widget",resolvex:"Resolvex Grid Widget",quick:"Quick Booking Widget",multistep:"Multi-Step Widget"})[t]||"Widget";return n.jsxs("div",{className:"space-y-6 pb-24 sm:pb-28",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl text-gray-900",children:[v()," Settings"]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Configure your booking widget appearance and options"})]}),n.jsxs(J,{onClick:s,variant:"outline",className:"flex items-center gap-2",children:[n.jsx(Ln,{className:"w-4 h-4"}),"Preview Widget"]})]}),n.jsxs(ta,{value:a,onValueChange:i,children:[n.jsxs(pa,{className:"grid w-full grid-cols-5",children:[n.jsx(Ft,{value:"general",children:"General"}),n.jsx(Ft,{value:"games",children:"Games"}),n.jsx(Ft,{value:"tickets",children:"Ticket Types"}),n.jsx(Ft,{value:"seo",children:"SEO & GEO"}),n.jsx(Ft,{value:"advanced",children:"Advanced"})]}),n.jsxs(Bt,{value:"general",className:"space-y-6 pb-24",children:[n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Display Options"}),n.jsx(Lt,{children:"Control what elements appear in your widget"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(re,{children:"Show Secured Badge"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Display security badge in header"})]}),n.jsx(Wt,{checked:e.showSecuredBadge,onCheckedChange:b=>o("showSecuredBadge",b)})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(re,{children:"Show Health & Safety"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Display health and safety badge"})]}),n.jsx(Wt,{checked:e.showHealthSafety,onCheckedChange:b=>o("showHealthSafety",b)})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(re,{children:"Enable Veteran Discount"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Show veteran ticket pricing option"})]}),n.jsx(Wt,{checked:e.enableVeteranDiscount,onCheckedChange:b=>o("enableVeteranDiscount",b)})]})]})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Widget Information"}),n.jsx(Lt,{children:"Basic widget settings and text"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Widget Title"}),n.jsx(ge,{value:e.widgetTitle||"",onChange:b=>o("widgetTitle",b.target.value),placeholder:"e.g., Book Your Adventure"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Widget Description"}),n.jsx(mn,{value:e.widgetDescription||"",onChange:b=>o("widgetDescription",b.target.value),placeholder:"Enter a description for your widget...",rows:3})]})]})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Cancellation Policy"}),n.jsx(Lt,{children:"Set your cancellation and refund policy"})]}),n.jsx(Te,{children:n.jsx(mn,{value:e.cancellationPolicy||"",onChange:b=>o("cancellationPolicy",b.target.value),placeholder:"Enter your cancellation policy...",rows:4})})]})]}),n.jsx(Bt,{value:"games",className:"space-y-6 pb-24",children:n.jsxs(ve,{children:[n.jsx(st,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(at,{children:"Experiences / Games"}),n.jsx(Lt,{children:"Configure your escape room experiences"})]}),n.jsxs(J,{onClick:l,size:"sm",className:"flex items-center gap-2",children:[n.jsx(An,{className:"w-4 h-4"}),"Add Experience"]})]})}),n.jsx(Te,{children:n.jsx(Ps,{className:"h-[500px] pr-4 pb-16 sm:pb-20",children:n.jsx("div",{className:"space-y-4",children:e.games?.map((b,w)=>n.jsx(ve,{className:"border-2",children:n.jsx(Te,{className:"pt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs(re,{children:["Experience ",w+1]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>d(b.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:n.jsx(Dn,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx(re,{children:"Experience Name"}),n.jsx(ge,{value:b.name,onChange:N=>c(b.id,{name:N.target.value}),placeholder:"e.g., Zombie Apocalypse",className:"mt-1"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(re,{children:"Tagline"}),n.jsx(ge,{value:b.tagline||"",onChange:N=>c(b.id,{tagline:N.target.value}),placeholder:"e.g., A thrilling adventure awaits",className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Price ($)"}),n.jsx(ge,{type:"number",value:b.price||30,onChange:N=>c(b.id,{price:parseFloat(N.target.value)}),placeholder:"30",className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Duration"}),n.jsx(ge,{value:b.duration||"1 Hour",onChange:N=>c(b.id,{duration:N.target.value}),placeholder:"1 Hour",className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Age Range"}),n.jsx(ge,{value:b.ageRange||"All ages",onChange:N=>c(b.id,{ageRange:N.target.value}),placeholder:"All ages",className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Players"}),n.jsx(ge,{value:b.players||"2-8 players",onChange:N=>c(b.id,{players:N.target.value}),placeholder:"2-8 players",className:"mt-1"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(re,{children:"Difficulty Level (1-5)"}),n.jsx(ge,{type:"number",min:"1",max:"5",value:b.difficulty||3,onChange:N=>c(b.id,{difficulty:parseInt(N.target.value)}),className:"mt-1"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(re,{children:"Description"}),n.jsx(mn,{value:b.description||"",onChange:N=>c(b.id,{description:N.target.value}),placeholder:"Brief description of the experience...",className:"mt-1",rows:2})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(re,{children:"Image URL"}),n.jsxs("div",{className:"flex gap-2 mt-1",children:[n.jsx(ge,{value:b.image,onChange:N=>c(b.id,{image:N.target.value}),placeholder:"https://..."}),n.jsx(J,{variant:"outline",size:"icon",children:n.jsx(Qo,{className:"w-4 h-4"})})]}),b.image&&n.jsx("div",{className:"mt-2 w-full h-32 rounded overflow-hidden",children:n.jsx("img",{src:b.image,alt:b.name,className:"w-full h-full object-cover"})})]}),n.jsx("div",{className:"col-span-2",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wt,{checked:b.featured||!1,onCheckedChange:N=>c(b.id,{featured:N})}),n.jsx(re,{children:"Featured Experience"})]})})]})]})})},b.id))})})})]})}),n.jsx(Bt,{value:"tickets",className:"space-y-6 pb-24",children:n.jsxs(ve,{children:[n.jsx(st,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(at,{children:"Ticket Types"}),n.jsx(Lt,{children:"Configure pricing and ticket options"})]}),n.jsxs(J,{onClick:u,size:"sm",className:"flex items-center gap-2",children:[n.jsx(An,{className:"w-4 h-4"}),"Add Ticket Type"]})]})}),n.jsx(Te,{children:n.jsx("div",{className:"space-y-4",children:e.ticketTypes?.map((b,w)=>n.jsx(ve,{className:"border-2",children:n.jsx(Te,{className:"pt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs(re,{children:["Ticket Type ",w+1]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>f(b.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:n.jsx(Dn,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(re,{children:"Type Name"}),n.jsx(ge,{value:b.name,onChange:N=>h(b.id,{name:N.target.value}),placeholder:"e.g., Players",className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Price ($)"}),n.jsx(ge,{type:"number",value:b.price,onChange:N=>h(b.id,{price:parseFloat(N.target.value)}),placeholder:"30",className:"mt-1"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(re,{children:"Description"}),n.jsx(ge,{value:b.description,onChange:N=>h(b.id,{description:N.target.value}),placeholder:"e.g., Ages 6 & Up",className:"mt-1"})]})]})]})})},b.id))})})]})}),n.jsxs(Bt,{value:"seo",className:"space-y-6 pb-24",children:[n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"SEO Optimization"}),n.jsx(Lt,{children:"Configure search engine optimization settings for better visibility"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(re,{children:"Business Name"}),n.jsx(ge,{value:e.businessName||"",onChange:b=>o("businessName",b.target.value),placeholder:"Your Escape Room Business Name",className:"mt-1"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will appear in page titles and meta tags"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Meta Description"}),n.jsx(mn,{value:e.metaDescription||"",onChange:b=>o("metaDescription",b.target.value),placeholder:"Describe your escape room business in 150-160 characters...",className:"mt-1 min-h-[80px]",maxLength:160}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(e.metaDescription||"").length,"/160 characters - This appears in search results"]})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Keywords"}),n.jsx(ge,{value:e.seoKeywords||"",onChange:b=>o("seoKeywords",b.target.value),placeholder:"escape room, puzzle adventure, team building, entertainment",className:"mt-1"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Comma-separated keywords relevant to your business"})]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsx(re,{children:"Structured Data (Schema.org)"}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-gray-900",children:"Enable LocalBusiness Schema"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Helps search engines understand your business location and details"})]}),n.jsx(Wt,{checked:e.enableLocalBusinessSchema??!0,onCheckedChange:b=>o("enableLocalBusinessSchema",b)})]})]})]})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Location & GEO Settings"}),n.jsx(Lt,{children:"Configure geographic information for local SEO"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx(re,{children:"Street Address"}),n.jsx(ge,{value:e.streetAddress||"",onChange:b=>o("streetAddress",b.target.value),placeholder:"123 Main Street",className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"City"}),n.jsx(ge,{value:e.city||"",onChange:b=>o("city",b.target.value),placeholder:"New York",className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"State/Province"}),n.jsx(ge,{value:e.state||"",onChange:b=>o("state",b.target.value),placeholder:"NY",className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"ZIP/Postal Code"}),n.jsx(ge,{value:e.zipCode||"",onChange:b=>o("zipCode",b.target.value),placeholder:"10001",className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Country"}),n.jsx(ge,{value:e.country||"",onChange:b=>o("country",b.target.value),placeholder:"United States",className:"mt-1"})]})]}),n.jsx(tt,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(re,{children:"Phone Number"}),n.jsx(ge,{value:e.phoneNumber||"",onChange:b=>o("phoneNumber",b.target.value),placeholder:"(555) 123-4567",className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Email"}),n.jsx(ge,{type:"email",value:e.emailAddress||"",onChange:b=>o("emailAddress",b.target.value),placeholder:"info@yourbusiness.com",className:"mt-1"})]})]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsx(re,{children:"Nearby Landmarks"}),n.jsx(mn,{value:e.nearbyLandmarks||"",onChange:b=>o("nearbyLandmarks",b.target.value),placeholder:"Near Times Square, 2 blocks from Central Station, across from City Hall...",className:"mt-1 min-h-[60px]"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Helps customers find you and improves local search rankings"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Parking & Transportation"}),n.jsx(mn,{value:e.parkingInfo||"",onChange:b=>o("parkingInfo",b.target.value),placeholder:"Free parking available, accessible via Metro Blue Line, street parking with meters...",className:"mt-1 min-h-[60px]"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Accessibility information for customers"})]})]})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Policies & Information"}),n.jsx(Lt,{children:"Important business policies displayed on game detail pages"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(re,{children:"Cancellation Policy"}),n.jsx(mn,{value:e.cancellationPolicy||"",onChange:b=>o("cancellationPolicy",b.target.value),placeholder:"Free cancellation up to 48 hours before booking. 24-48 hours: 50% refund...",className:"mt-1 min-h-[100px]"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Late Arrival Policy"}),n.jsx(mn,{value:e.lateArrivalPolicy||"",onChange:b=>o("lateArrivalPolicy",b.target.value),placeholder:"Please arrive 15 minutes early. Late arrivals may result in reduced playing time...",className:"mt-1 min-h-[80px]"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Health & Safety Information"}),n.jsx(mn,{value:e.healthSafetyInfo||"",onChange:b=>o("healthSafetyInfo",b.target.value),placeholder:"Regular sanitization, emergency exits available, first aid trained staff...",className:"mt-1 min-h-[80px]"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Accessibility Information"}),n.jsx(mn,{value:e.accessibilityInfo||"",onChange:b=>o("accessibilityInfo",b.target.value),placeholder:"Wheelchair accessible, elevator access, accessible restrooms, service animals welcome...",className:"mt-1 min-h-[80px]"})]})]})]}),n.jsxs(ve,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Social Media & Reviews"}),n.jsx(Lt,{children:"Connect your social profiles for better SEO"})]}),n.jsxs(Te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(re,{children:"Facebook URL"}),n.jsx(ge,{value:e.facebookUrl||"",onChange:b=>o("facebookUrl",b.target.value),placeholder:"https://facebook.com/yourbusiness",className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Instagram URL"}),n.jsx(ge,{value:e.instagramUrl||"",onChange:b=>o("instagramUrl",b.target.value),placeholder:"https://instagram.com/yourbusiness",className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Twitter URL"}),n.jsx(ge,{value:e.twitterUrl||"",onChange:b=>o("twitterUrl",b.target.value),placeholder:"https://twitter.com/yourbusiness",className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(re,{children:"TripAdvisor URL"}),n.jsx(ge,{value:e.tripadvisorUrl||"",onChange:b=>o("tripadvisorUrl",b.target.value),placeholder:"https://tripadvisor.com/...",className:"mt-1"})]})]}),n.jsx(tt,{}),n.jsxs("div",{children:[n.jsx(re,{children:"Google My Business ID"}),n.jsx(ge,{value:e.googleBusinessId||"",onChange:b=>o("googleBusinessId",b.target.value),placeholder:"Your Google Business Profile ID",className:"mt-1"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Improves local search rankings and map visibility"})]})]})]})]}),n.jsx(Bt,{value:"advanced",className:"space-y-6 pb-24",children:n.jsxs(ve,{children:[n.jsx(st,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(at,{children:"Additional Questions"}),n.jsx(Lt,{children:"Custom questions to ask during booking"})]}),n.jsxs(J,{onClick:m,size:"sm",className:"flex items-center gap-2",children:[n.jsx(An,{className:"w-4 h-4"}),"Add Question"]})]})}),n.jsx(Te,{children:n.jsx("div",{className:"space-y-4",children:e.additionalQuestions?.map((b,w)=>n.jsx(ve,{className:"border-2",children:n.jsx(Te,{className:"pt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs(re,{children:["Question ",w+1]}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>g(b.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:n.jsx(Dn,{className:"w-4 h-4"})})]}),n.jsxs("div",{children:[n.jsx(re,{children:"Question Text"}),n.jsx(ge,{value:b.question,onChange:N=>y(b.id,{question:N.target.value}),placeholder:"e.g., How did you hear about us?",className:"mt-1"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(re,{children:"Question Type"}),n.jsxs(Kt,{value:b.type,onValueChange:N=>y(b.id,{type:N}),children:[n.jsx(Xt,{className:"mt-1",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"select",children:"Dropdown"}),n.jsx(Ce,{value:"text",children:"Text Input"}),n.jsx(Ce,{value:"checkbox",children:"Checkbox"})]})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wt,{checked:b.required,onCheckedChange:N=>y(b.id,{required:N})}),n.jsx(re,{children:"Required"})]})})]}),b.type==="select"&&n.jsxs("div",{children:[n.jsx(re,{children:"Options (comma-separated)"}),n.jsx(ge,{value:b.options?.join(", ")||"",onChange:N=>y(b.id,{options:N.target.value.split(",").map(_=>_.trim())}),placeholder:"Option 1, Option 2, Option 3",className:"mt-1"})]})]})})},b.id))})})]})})]}),n.jsx("div",{className:"h-12 sm:h-20","aria-hidden":"true"})]})}const mze=AP("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function vx({className:t,variant:e,...r}){return n.jsx("div",{"data-slot":"alert",role:"alert",className:nr(mze({variant:e}),t),...r})}function Gv({className:t,...e}){return n.jsx("div",{"data-slot":"alert-description",className:nr("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function pze({widgetId:t,widgetName:e,embedUrl:r}){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ve,{className:"border-gray-200",children:[n.jsx(st,{className:"p-4",children:n.jsx(at,{className:"text-base",children:"Quick Start Guide"})}),n.jsx(Te,{className:"p-4 pt-0 space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-blue-600 text-sm",children:"1"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Copy Code"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Choose iframe or script embed code from above"})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-blue-600 text-sm",children:"2"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Paste HTML"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Add the code to your website HTML"})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-blue-600 text-sm",children:"3"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Go Live"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Test and publish your changes"})]})]})]})})]}),n.jsxs(ve,{className:"border-gray-200",children:[n.jsx(st,{className:"p-4",children:n.jsx(at,{className:"text-base",children:"Supported Platforms"})}),n.jsx(Te,{className:"p-4 pt-0",children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{name:"WordPress",supported:!0},{name:"Wix",supported:!0},{name:"Squarespace",supported:!0},{name:"Shopify",supported:!0},{name:"Webflow",supported:!0},{name:"HTML/CSS",supported:!0},{name:"React",supported:!0},{name:"Vue.js",supported:!0}].map(s=>n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsx(Tt,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-gray-700",children:s.name})]},s.name))})})]}),n.jsxs(ve,{className:"border-gray-200",children:[n.jsx(st,{className:"p-4",children:n.jsx(at,{className:"text-base",children:"Platform-Specific Instructions"})}),n.jsx(Te,{className:"p-4 pt-0",children:n.jsxs(ta,{defaultValue:"wordpress",className:"w-full",children:[n.jsxs(pa,{className:"w-full grid grid-cols-4 h-9",children:[n.jsx(Ft,{value:"wordpress",className:"text-xs",children:"WordPress"}),n.jsx(Ft,{value:"wix",className:"text-xs",children:"Wix"}),n.jsx(Ft,{value:"squarespace",className:"text-xs",children:"Squarespace"}),n.jsx(Ft,{value:"shopify",className:"text-xs",children:"Shopify"})]}),n.jsxs(Bt,{value:"wordpress",className:"mt-4 space-y-3",children:[n.jsxs("div",{className:"text-sm space-y-2",children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Method 1: Using the Block Editor"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs text-gray-600 ml-2",children:[n.jsx("li",{children:"Edit your page/post in WordPress"}),n.jsx("li",{children:'Click the "+" button to add a new block'}),n.jsx("li",{children:'Search for "Custom HTML" block and add it'}),n.jsx("li",{children:"Paste the embed code into the HTML block"}),n.jsx("li",{children:"Update/Publish your page"})]})]}),n.jsxs("div",{className:"text-sm space-y-2",children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Method 2: Using Shortcode (Advanced)"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs text-gray-600 ml-2",children:[n.jsx("li",{children:"Add the shortcode function to your theme's functions.php"}),n.jsx("li",{children:"Use [bookingtms] shortcode in your content"}),n.jsxs("li",{children:['Customize with parameters: [bookingtms widget="',t,'"]']})]})]})]}),n.jsx(Bt,{value:"wix",className:"mt-4 space-y-3",children:n.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs text-gray-600",children:[n.jsx("li",{children:"Open your Wix site editor"}),n.jsx("li",{children:'Click the "+" button on the left sidebar'}),n.jsx("li",{children:'Select "Embed"  "Embed a Widget"'}),n.jsx("li",{children:'Choose "Custom Code" or "HTML iframe"'}),n.jsx("li",{children:"Paste the embed code"}),n.jsx("li",{children:"Adjust the size and position"}),n.jsx("li",{children:"Publish your site"})]})}),n.jsx(Bt,{value:"squarespace",className:"mt-4 space-y-3",children:n.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs text-gray-600",children:[n.jsx("li",{children:"Edit the page where you want to add the widget"}),n.jsx("li",{children:'Click an insert point and select "Code"'}),n.jsx("li",{children:"Paste the embed code into the code block"}),n.jsx("li",{children:'Choose "HTML" as the code type'}),n.jsx("li",{children:'Click "Apply"'}),n.jsx("li",{children:"Save and publish your changes"})]})}),n.jsx(Bt,{value:"shopify",className:"mt-4 space-y-3",children:n.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs text-gray-600",children:[n.jsx("li",{children:"Go to Online Store  Themes in Shopify admin"}),n.jsx("li",{children:'Click "Customize" on your active theme'}),n.jsx("li",{children:"Navigate to the page where you want the widget"}),n.jsx("li",{children:'Add a "Custom HTML" or "Custom Liquid" section'}),n.jsx("li",{children:"Paste the embed code"}),n.jsx("li",{children:"Save and publish"})]})})]})})]}),n.jsxs(ve,{className:"border-gray-200",children:[n.jsx(st,{className:"p-4",children:n.jsx(at,{className:"text-base",children:"Widget Features"})}),n.jsx(Te,{className:"p-4 pt-0",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(ku,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Fully Responsive"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Works perfectly on all screen sizes"})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(xN,{className:"w-5 h-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Mobile Optimized"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Touch-friendly interface for mobile users"})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx($1,{className:"w-5 h-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Customizable"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Match your brand colors and style"})]})]})]})})]}),n.jsxs(ve,{className:"border-gray-200",children:[n.jsx(st,{className:"p-4",children:n.jsx(at,{className:"text-base",children:"Troubleshooting"})}),n.jsxs(Te,{className:"p-4 pt-0 space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Widget not displaying?"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs text-gray-600 ml-2",children:[n.jsx("li",{children:"Ensure the embed code is correctly pasted in your HTML"}),n.jsx("li",{children:"Check that your widget key is valid"}),n.jsx("li",{children:"Clear your browser cache and refresh the page"}),n.jsx("li",{children:"Make sure your website allows iframe embedding"})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Widget appears too small?"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs text-gray-600 ml-2",children:[n.jsx("li",{children:"Adjust the height attribute in the iframe code (recommended: 800px)"}),n.jsx("li",{children:"Ensure the container div has sufficient width"}),n.jsx("li",{children:"The widget will auto-adjust to container width"})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Need more help?"}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Contact our support team at"," ",n.jsx("a",{href:"mailto:support@bookingtms.com",className:"text-blue-600 hover:underline",children:"support@bookingtms.com"})," ","or check our"," ",n.jsx("a",{href:"/docs",className:"text-blue-600 hover:underline",children:"detailed documentation"})]})]})]})]}),n.jsx(vx,{className:"border-amber-200 bg-amber-50",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"text-amber-600 flex-shrink-0",children:""}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-amber-900",children:"Security Notice"}),n.jsx("p",{className:"text-xs text-amber-700",children:"Keep your widget key confidential. Do not share it publicly or commit it to public repositories. If you believe your key has been compromised, regenerate it immediately in your account settings."})]})]})})]})}function xze({embedUrl:t,widgetName:e,widgetConfig:r}){const[s,a]=S.useState("desktop"),[i,o]=S.useState(0),l={desktop:{width:"100%",height:"800px",maxWidth:"none"},tablet:{width:"768px",height:"1024px",maxWidth:"100%"},mobile:{width:"375px",height:"667px",maxWidth:"100%"}},c=()=>{o(d=>d+1)};return n.jsxs(ve,{className:"border-gray-200 dark:border-[#2a2a2a]",children:[n.jsx(st,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(at,{className:"text-base",children:"Test Your Widget"}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(J,{variant:"outline",size:"sm",onClick:c,className:"h-8",children:[n.jsx(Gc,{className:"w-3 h-3 mr-1"}),"Refresh"]})})]})}),n.jsxs(Te,{className:"p-4 pt-0 space-y-4",children:[n.jsxs(ta,{value:s,onValueChange:d=>a(d),className:"w-full",children:[n.jsxs(pa,{className:"w-full grid grid-cols-3 h-9",children:[n.jsxs(Ft,{value:"desktop",className:"text-xs",children:[n.jsx($1,{className:"w-4 h-4 mr-1"}),"Desktop"]}),n.jsxs(Ft,{value:"tablet",className:"text-xs",children:[n.jsx(fie,{className:"w-4 h-4 mr-1"}),"Tablet"]}),n.jsxs(Ft,{value:"mobile",className:"text-xs",children:[n.jsx(xN,{className:"w-4 h-4 mr-1"}),"Mobile"]})]}),n.jsxs(Bt,{value:s,className:"mt-4",children:[n.jsx("div",{className:"bg-gray-100 dark:bg-[#1e1e1e] rounded-lg p-4 flex items-center justify-center min-h-[400px]",children:n.jsx("div",{style:{width:l[s].width,height:l[s].height,maxWidth:l[s].maxWidth},className:"bg-white rounded-lg shadow-2xl overflow-hidden",children:r&&r.games&&r.games.length>0?n.jsx("div",{className:"w-full h-full overflow-auto",children:n.jsx(_b,{config:r,primaryColor:r.primaryColor||"#2563eb"})},i):n.jsx("iframe",{src:t,width:"100%",height:"100%",frameBorder:"0",allow:"payment; camera",allowFullScreen:!0,style:{border:"none"},title:e},i)})}),n.jsx("div",{className:"mt-3 text-center",children:n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[s==="desktop"&&"Full width responsive view",s==="tablet"&&"iPad view (768x1024)",s==="mobile"&&"iPhone view (375x667)"]})})]})]}),n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-blue-900 dark:text-blue-200 font-medium mb-1",children:"Testing Tips:"}),n.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1 list-disc list-inside",children:[n.jsx("li",{children:"Test all device sizes before deploying"}),n.jsx("li",{children:"Verify that buttons and interactions work correctly"}),n.jsx("li",{children:"Check that the widget loads quickly on all devices"}),n.jsx("li",{children:"Ensure colors match your brand"})]})]})]})]})}function gze({embedUrl:t,widgetName:e,widgetId:r,iframeCode:s,scriptCode:a}){const i=l=>`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${e} - Test Page</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #f3f4f6;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        h1 {
            font-size: 24px;
            color: #1f2937;
            margin-bottom: 8px;
        }
        
        .subtitle {
            color: #6b7280;
            font-size: 14px;
        }
        
        .widget-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .footer {
            margin-top: 20px;
            text-align: center;
            color: #6b7280;
            font-size: 14px;
        }
        
        .footer a {
            color: #2563eb;
            text-decoration: none;
        }
        
        .footer a:hover {
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .header, .widget-container {
                padding: 15px;
            }
            
            h1 {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>${e} Test Page</h1>
            <p class="subtitle">
                This is a test page for the BookingTMS ${e}. 
                Open this file in any web browser to test the widget locally.
            </p>
        </div>
        
        <div class="widget-container">
            ${l==="iframe"?s:a}
        </div>
        
        <div class="footer">
            <p>
                Powered by <a href="https://bookingtms.com" target="_blank">BookingTMS</a> | 
                <a href="${t}" target="_blank">View Widget URL</a>
            </p>
        </div>
    </div>
</body>
</html>`,o=l=>{const c=i(l),d=new Blob([c],{type:"text/html"}),u=URL.createObjectURL(d),h=document.createElement("a");h.href=u,h.download=`${r}-test-${l}.html`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(u),me.success("Test page downloaded! Open the HTML file in your browser.")};return n.jsxs(ve,{className:"border-gray-200 dark:border-[#2a2a2a]",children:[n.jsx(st,{className:"p-4",children:n.jsx(at,{className:"text-base",children:"Download Test Page"})}),n.jsxs(Te,{className:"p-4 pt-0 space-y-3",children:[n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3",children:"Download a ready-to-use HTML test page to test the widget locally on your computer before deploying to your website."}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs(J,{variant:"outline",onClick:()=>o("iframe"),className:"w-full h-10 text-sm",children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Download iFrame Test"]}),n.jsxs(J,{variant:"outline",onClick:()=>o("script"),className:"w-full h-10 text-sm",children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Download Script Test"]})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-[#1e1e1e] rounded-lg p-3 text-xs text-gray-600 dark:text-gray-400",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"How to use:"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[n.jsx("li",{children:"Download the test HTML file"}),n.jsx("li",{children:"Open the file in your web browser"}),n.jsx("li",{children:"Test all functionality before deploying"}),n.jsx("li",{children:"Make sure everything works as expected"})]})]})]})]})}function vze(){const t=[{name:"widget",type:"string",required:!0,default:"farebook",description:"The widget type identifier",example:"farebook, calendar, bookgo, resolvex"},{name:"color",type:"hex",required:!1,default:"2563eb",description:"Primary brand color (without # symbol)",example:"2563eb, ff0000, 00ff00"},{name:"key",type:"string",required:!0,default:"",description:"Your unique widget authentication key",example:"wdgt_abc123xyz"}],e=[{widget:"FareBook Widget",minHeight:"800px",recommended:"800px"},{widget:"Calendar Widget",minHeight:"700px",recommended:"750px"},{widget:"BookGo Widget",minHeight:"600px",recommended:"700px"},{widget:"Resolvex Widget",minHeight:"650px",recommended:"750px"},{widget:"Quick Booking",minHeight:"500px",recommended:"550px"},{widget:"Multi-Step",minHeight:"700px",recommended:"800px"},{widget:"Single Game",minHeight:"600px",recommended:"700px"}];return n.jsxs("div",{className:"space-y-4",children:[n.jsxs(ve,{className:"border-gray-200",children:[n.jsx(st,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rs,{className:"w-4 h-4 text-blue-600"}),n.jsx(at,{className:"text-base",children:"URL Parameters Reference"})]})}),n.jsx(Te,{className:"p-4 pt-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-xs",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-900",children:"Parameter"}),n.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-900",children:"Type"}),n.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-900",children:"Required"}),n.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-900",children:"Default"}),n.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-900",children:"Description"})]})}),n.jsx("tbody",{children:t.map((r,s)=>n.jsxs("tr",{className:"border-b border-gray-100",children:[n.jsx("td",{className:"py-3 px-3",children:n.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-blue-600",children:r.name})}),n.jsx("td",{className:"py-3 px-3 text-gray-600",children:r.type}),n.jsx("td",{className:"py-3 px-3",children:r.required?n.jsx(ze,{variant:"secondary",className:"bg-red-100 text-red-700 text-xs",children:"Required"}):n.jsx(ze,{variant:"secondary",className:"bg-gray-100 text-gray-600 text-xs",children:"Optional"})}),n.jsx("td",{className:"py-3 px-3",children:n.jsx("code",{className:"text-gray-600",children:r.default||"-"})}),n.jsxs("td",{className:"py-3 px-3 text-gray-600",children:[n.jsx("div",{children:r.description}),n.jsxs("div",{className:"text-gray-500 mt-1",children:["Examples: ",n.jsx("code",{className:"text-xs",children:r.example})]})]})]},s))})]})})})]}),n.jsxs(ve,{className:"border-gray-200",children:[n.jsx(st,{className:"p-4",children:n.jsx(at,{className:"text-base",children:"Recommended Heights by Widget"})}),n.jsx(Te,{className:"p-4 pt-0",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.map((r,s)=>n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.widget}),n.jsx(ze,{variant:"secondary",className:"text-xs",children:r.recommended})]}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Min: ",n.jsx("code",{className:"bg-white px-1 rounded",children:r.minHeight})," | Best: ",n.jsx("code",{className:"bg-white px-1 rounded",children:r.recommended})]})]},s))})})]}),n.jsxs(ve,{className:"border-gray-200",children:[n.jsx(st,{className:"p-4",children:n.jsx(at,{className:"text-base",children:"Example URLs"})}),n.jsxs(Te,{className:"p-4 pt-0 space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Basic Embed"}),n.jsx("code",{className:"block bg-gray-900 text-green-400 p-3 rounded-lg text-xs overflow-x-auto",children:"https://your-site.com/embed?widget=farebook&key=wdgt_abc123"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"With Custom Color"}),n.jsx("code",{className:"block bg-gray-900 text-green-400 p-3 rounded-lg text-xs overflow-x-auto",children:"https://your-site.com/embed?widget=farebook&color=ff6b6b&key=wdgt_abc123"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Different Widget Type"}),n.jsx("code",{className:"block bg-gray-900 text-green-400 p-3 rounded-lg text-xs overflow-x-auto",children:"https://your-site.com/embed?widget=calendar&color=2563eb&key=wdgt_abc123"})]})]})]})]})}function wre({widgetId:t,widgetName:e,primaryColor:r,embedKey:s,widgetConfig:a}){const[i,o]=S.useState(!1),[l,c]=S.useState(!1),[d,u]=S.useState("iframe"),[h,f]=S.useState(s||"YOUR_WIDGET_KEY_HERE"),[m,y]=S.useState(()=>typeof window<"u"?window.location.origin:""),{theme:g}=fn();S.useEffect(()=>{s&&f(s)},[s]);const v=()=>{const I=new URLSearchParams({widget:t,color:r.replace("#",""),key:h,theme:g}),$=(m||"").trim().replace(/\/+$/,"");return $?`${$}/?${I.toString()}`:`/?${I.toString()}`},b=()=>`<iframe
  src="${v()}"
  width="100%"
  height="800"
  frameborder="0"
  allow="payment; camera"
  allowfullscreen
  style="border: none; border-radius: 8px;"
  title="${e}"
></iframe>`,w=()=>`<!-- BookingTMS ${e} -->
<div id="bookingtms-widget-${t}"></div>
<script>
  (function() {
    var iframe = document.createElement('iframe');
    iframe.src = '${v()}';
    iframe.width = '100%';
    iframe.height = '800';
    iframe.frameBorder = '0';
    iframe.allow = 'payment; camera';
    iframe.allowFullscreen = true;
    iframe.style.border = 'none';
    iframe.style.borderRadius = '8px';
    iframe.style.minHeight = '600px';
    iframe.title = '${e}';
    
    // Handle responsive height
    window.addEventListener('message', function(event) {
      if (event.data && event.data.type === 'BOOKINGTMS_RESIZE') {
        iframe.style.height = event.data.height + 'px';
      }
    });
    
    var container = document.getElementById('bookingtms-widget-${t}');
    if (container) {
      container.appendChild(iframe);
    }
  })();
<\/script>`,N=()=>`import React from 'react';

export function BookingWidget() {
  const embedUrl = "${v()}";

  return (
    <iframe
      src={embedUrl}
      width="100%"
      height="800"
      frameBorder="0"
      allow="payment; camera"
      allowFullScreen
      style={{ border: 'none', borderRadius: '8px' }}
      title="${e}"
    />
  );
}`,_=()=>`/**
 * Add this to your theme's functions.php
 */
function bookingtms_widget_shortcode($atts) {
    $atts = shortcode_atts(array(
        'widget' => '${t}',
        'color' => '${r.replace("#","")}',
        'key' => '${h}',
        'height' => '800',
    ), $atts);
    
    $embed_url = add_query_arg(array(
        'widget' => $atts['widget'],
        'color' => $atts['color'],
        'key' => $atts['key'],
    ), '/');
    
    return '<iframe src="' . esc_url($embed_url) . '" 
            width="100%" 
            height="' . esc_attr($atts['height']) . '" 
            frameborder="0" 
            allow="payment; camera" 
            allowfullscreen 
            style="border: none; border-radius: 8px;" 
            title="BookingTMS Widget"></iframe>';
}
add_shortcode('bookingtms', 'bookingtms_widget_shortcode');

/**
 * Usage in posts/pages:
 * [bookingtms widget="${t}" color="${r.replace("#","")}" key="${h}"]
 */`,C=()=>d==="iframe"?b():w(),E=I=>{navigator.clipboard.writeText(I),o(!0),me.success("Code copied to clipboard!"),setTimeout(()=>o(!1),2e3)},A=()=>{navigator.clipboard.writeText(v()),c(!0),me.success("URL copied to clipboard!"),setTimeout(()=>c(!1),2e3)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ve,{className:"border-gray-200 dark:border-[#2a2a2a]",children:[n.jsx(st,{className:"p-4",children:n.jsx(at,{className:"text-base",children:"Widget Configuration"})}),n.jsxs(Te,{className:"p-4 pt-0 space-y-4",children:[n.jsxs("div",{children:[n.jsx(re,{htmlFor:"widget-key",className:"text-sm text-gray-700 dark:text-gray-300",children:"Widget Key"}),n.jsxs("div",{className:"flex gap-2 mt-1",children:[n.jsx(ge,{id:"widget-key",value:h,onChange:I=>f(I.target.value),placeholder:"Enter your widget key",className:"h-10 text-sm bg-gray-100 dark:bg-[#1e1e1e] border-gray-300 dark:border-[#2a2a2a] text-gray-900 dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400"}),n.jsx(J,{variant:"outline",size:"sm",disabled:!0,className:"h-10 cursor-not-allowed opacity-70",title:"Key generation temporarily disabled. Use the venue's assigned key.",children:"Generate"})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Use the widget key provided on the venue record. Generation controls are disabled for now."})]}),n.jsxs("div",{children:[n.jsx(re,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Base URL"}),n.jsx("div",{className:"flex gap-2 mt-1",children:n.jsx(ge,{value:m,onChange:I=>y(I.target.value),placeholder:"http://localhost:3002",className:"h-10 text-sm bg-gray-50 dark:bg-[#0a0a0a] border-gray-300 dark:border-[#2a2a2a] text-gray-900 dark:text-gray-300"})}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Use your site origin for testing (e.g., http://localhost:3002)."}),n.jsx(re,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Embed URL"}),n.jsxs("div",{className:"flex gap-2 mt-1",children:[n.jsx(ge,{value:v(),readOnly:!0,className:"h-10 text-sm bg-gray-50 dark:bg-[#0a0a0a] font-mono text-xs border-gray-300 dark:border-[#2a2a2a] text-gray-900 dark:text-gray-300"}),n.jsx(J,{variant:"outline",size:"sm",onClick:A,className:"h-10 flex-shrink-0",children:l?n.jsx(jn,{className:"w-4 h-4"}):n.jsx(Vs,{className:"w-4 h-4"})}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>window.open(v(),"_blank"),className:"h-10 flex-shrink-0",title:"Open in new tab",children:n.jsx(al,{className:"w-4 h-4"})})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Generates an absolute URL when Base URL is set; otherwise relative."})]}),n.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-indigo-900 dark:text-indigo-200 font-medium mb-1",children:" Auto Theme Sync"}),n.jsxs("p",{className:"text-xs text-indigo-700 dark:text-indigo-300",children:["Widget preview automatically matches your admin theme. Currently showing: ",n.jsx("strong",{children:g==="dark"?"Dark Mode":"Light Mode"})]})]})]})]}),n.jsxs(ve,{className:"border-gray-200 dark:border-[#2a2a2a]",children:[n.jsx(st,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(at,{className:"text-base",children:"Embed Code"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(J,{variant:d==="iframe"?"default":"outline",size:"sm",onClick:()=>u("iframe"),className:"h-8 text-xs",children:[n.jsx(Fh,{className:"w-3 h-3 mr-1"}),"iFrame"]}),n.jsxs(J,{variant:d==="script"?"default":"outline",size:"sm",onClick:()=>u("script"),className:"h-8 text-xs",children:[n.jsx(Fh,{className:"w-3 h-3 mr-1"}),"Script"]})]})]})}),n.jsx(Te,{className:"p-4 pt-0",children:n.jsxs(ta,{defaultValue:"html",className:"w-full",children:[n.jsxs(pa,{className:"w-full grid grid-cols-3 h-9",children:[n.jsx(Ft,{value:"html",className:"text-xs",children:"HTML"}),n.jsx(Ft,{value:"react",className:"text-xs",children:"React"}),n.jsx(Ft,{value:"wordpress",className:"text-xs",children:"WordPress"})]}),n.jsxs(Bt,{value:"html",className:"mt-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute top-2 right-2 z-10",children:n.jsxs(J,{variant:"secondary",size:"sm",onClick:()=>E(C()),className:"h-8",children:[i?n.jsx(jn,{className:"w-3 h-3 mr-1"}):n.jsx(Vs,{className:"w-3 h-3 mr-1"}),n.jsx("span",{className:"text-xs",children:i?"Copied!":"Copy"})]})}),n.jsx("div",{className:"bg-gray-900 dark:bg-[#0a0a0a] rounded-lg p-4 overflow-x-auto border border-gray-700 dark:border-[#2a2a2a]",children:n.jsx("pre",{className:"text-xs text-green-400 dark:text-emerald-400",children:n.jsx("code",{children:C()})})})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Copy and paste this HTML code into your website where you want the booking widget to appear."})]}),n.jsxs(Bt,{value:"react",className:"mt-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute top-2 right-2 z-10",children:n.jsxs(J,{variant:"secondary",size:"sm",onClick:()=>E(N()),className:"h-8",children:[i?n.jsx(jn,{className:"w-3 h-3 mr-1"}):n.jsx(Vs,{className:"w-3 h-3 mr-1"}),n.jsx("span",{className:"text-xs",children:i?"Copied!":"Copy"})]})}),n.jsx("div",{className:"bg-gray-900 dark:bg-[#0a0a0a] rounded-lg p-4 overflow-x-auto border border-gray-700 dark:border-[#2a2a2a]",children:n.jsx("pre",{className:"text-xs text-green-400 dark:text-emerald-400",children:n.jsx("code",{children:N()})})})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Import and use this React component in your Next.js, Create React App, or any React application."})]}),n.jsxs(Bt,{value:"wordpress",className:"mt-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute top-2 right-2 z-10",children:n.jsxs(J,{variant:"secondary",size:"sm",onClick:()=>E(_()),className:"h-8",children:[i?n.jsx(jn,{className:"w-3 h-3 mr-1"}):n.jsx(Vs,{className:"w-3 h-3 mr-1"}),n.jsx("span",{className:"text-xs",children:i?"Copied!":"Copy"})]})}),n.jsx("div",{className:"bg-gray-900 dark:bg-[#0a0a0a] rounded-lg p-4 overflow-x-auto border border-gray-700 dark:border-[#2a2a2a]",children:n.jsx("pre",{className:"text-xs text-green-400 dark:text-emerald-400",children:n.jsx("code",{children:_()})})})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Add the function to your theme's functions.php, then use the shortcode in any post or page."})]})]})})]}),n.jsx(xze,{embedUrl:v(),widgetName:e,widgetConfig:a}),n.jsx(gze,{embedUrl:v(),widgetName:e,widgetId:t,iframeCode:b(),scriptCode:w()}),n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-blue-900 dark:text-blue-200 mb-2",children:" Integration Tips"}),n.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[n.jsxs("li",{children:[" Adjust the ",n.jsx("code",{className:"bg-blue-100 dark:bg-blue-900/50 px-1 rounded",children:"height"})," attribute to fit your page layout (recommended: 800px)"]}),n.jsx("li",{children:" The widget is fully responsive and works on all devices"}),n.jsx("li",{children:" Test the widget on mobile devices before going live"}),n.jsx("li",{children:" Keep your widget key secure and never expose it in public repositories"}),n.jsx("li",{children:" The widget automatically handles scrolling and navigation"}),n.jsx("li",{children:" Contact support if you need help with custom integrations"})]})]}),n.jsxs(ve,{className:"border-gray-200 dark:border-[#2a2a2a]",children:[n.jsx(st,{className:"p-4",children:n.jsx(at,{className:"text-base",children:"Technical Details"})}),n.jsx(Te,{className:"p-4 pt-0 space-y-3",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-xs",children:[n.jsxs("div",{className:"bg-gray-50 dark:bg-[#1e1e1e] rounded-lg p-3",children:[n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-1",children:"Widget Type"}),n.jsx("p",{className:"text-gray-900 dark:text-white",children:t})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-[#1e1e1e] rounded-lg p-3",children:[n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-1",children:"Primary Color"}),n.jsx("p",{className:"text-gray-900 dark:text-white",children:r})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-[#1e1e1e] rounded-lg p-3",children:[n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-1",children:"Responsive"}),n.jsx("p",{className:"text-gray-900 dark:text-white",children:" Yes"})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-[#1e1e1e] rounded-lg p-3",children:[n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-1",children:"Mobile Support"}),n.jsx("p",{className:"text-gray-900 dark:text-white",children:" Full Support"})]})]})})]}),n.jsx(vze,{}),n.jsxs(ve,{className:"border-gray-200 dark:border-[#2a2a2a]",children:[n.jsx(st,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(jk,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),n.jsx(at,{className:"text-base",children:"Installation & Documentation"})]})}),n.jsx(Te,{className:"p-4 pt-0",children:n.jsx(pze,{widgetId:t,widgetName:e,embedUrl:v()})})]})]})}function yze(){const{widgetTheme:t,setWidgetTheme:e,primaryColor:r,setPrimaryColor:s,getCurrentPrimaryColor:a}=vre(),i={light:[{name:"Blue",value:"#2563eb"},{name:"Purple",value:"#9333ea"},{name:"Green",value:"#059669"},{name:"Red",value:"#dc2626"},{name:"Orange",value:"#ea580c"},{name:"Pink",value:"#db2777"}],dark:[{name:"Blue (Primary)",value:"#2563eb"},{name:"Purple Blue (Secondary)",value:"#5B5FFF"},{name:"Cyan",value:"#06b6d4"},{name:"Emerald",value:"#10b981"},{name:"Rose",value:"#f43f5e"},{name:"Amber",value:"#f59e0b"}]};return n.jsx(ve,{className:"p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Ip,{className:"w-5 h-5 text-primary"}),n.jsx("h3",{className:"text-lg text-foreground",children:"Widget Theme & Colors"})]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Customize the appearance of your booking widgets for both light and dark modes."})]}),n.jsxs("div",{children:[n.jsx(re,{className:"mb-3 block",children:"Widget Theme Mode"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(J,{variant:t==="light"?"default":"outline",className:"flex-1",onClick:()=>e("light"),children:[n.jsx(Ry,{className:"w-4 h-4 mr-2"}),"Light Mode"]}),n.jsxs(J,{variant:t==="dark"?"default":"outline",className:"flex-1",onClick:()=>e("dark"),children:[n.jsx(Eg,{className:"w-4 h-4 mr-2"}),"Dark Mode"]})]})]}),n.jsxs("div",{children:[n.jsx(re,{className:"mb-3 block",children:"Light Mode Primary Color"}),n.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-3",children:i.light.map(o=>n.jsx("button",{onClick:()=>s({...r,light:o.value}),className:`
                  relative aspect-square rounded-lg border-2 transition-all hover:scale-105
                  ${r.light===o.value?"border-foreground shadow-lg":"border-border"}
                `,style:{backgroundColor:o.value},title:o.name,children:r.light===o.value&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"w-4 h-4 rounded-full bg-white shadow-md"})})},o.value))}),n.jsxs("div",{className:"mt-3",children:[n.jsx(re,{className:"text-xs text-muted-foreground mb-2 block",children:"Custom Color (Hex)"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"color",value:r.light,onChange:o=>s({...r,light:o.target.value}),className:"w-16 h-10 rounded border border-border cursor-pointer"}),n.jsx("input",{type:"text",value:r.light,onChange:o=>s({...r,light:o.target.value}),className:"flex-1 h-10 px-3 rounded border border-border bg-background text-foreground",placeholder:"#2563eb"})]})]})]}),n.jsxs("div",{children:[n.jsx(re,{className:"mb-3 block",children:"Dark Mode Primary Color"}),n.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-3",children:i.dark.map(o=>n.jsx("button",{onClick:()=>s({...r,dark:o.value}),className:`
                  relative aspect-square rounded-lg border-2 transition-all hover:scale-105
                  ${r.dark===o.value?"border-foreground shadow-lg":"border-border"}
                `,style:{backgroundColor:o.value},title:o.name,children:r.dark===o.value&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"w-4 h-4 rounded-full bg-white shadow-md"})})},o.value))}),n.jsxs("div",{className:"mt-3",children:[n.jsx(re,{className:"text-xs text-muted-foreground mb-2 block",children:"Custom Color (Hex)"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"color",value:r.dark,onChange:o=>s({...r,dark:o.target.value}),className:"w-16 h-10 rounded border border-border cursor-pointer"}),n.jsx("input",{type:"text",value:r.dark,onChange:o=>s({...r,dark:o.target.value}),className:"flex-1 h-10 px-3 rounded border border-border bg-background text-foreground",placeholder:"#2563eb"})]})]})]}),n.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[n.jsx(re,{className:"mb-2 block text-sm",children:"Current Active Color"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg border-2 border-border shadow-md",style:{backgroundColor:a()}}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-foreground",children:t==="light"?"Light Mode":"Dark Mode"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:a()})]})]})]})]})})}const lw=[{id:"farebook",name:"FareBook Widget",description:"Multi-step booking flow with categories, games list, and calendar view",component:bP,recommended:!0,category:"Full Page"},{id:"farebook-single",name:"FareBook Single Event / Room Widget",description:"Streamlined booking widget for a single event or room with calendar, time slots, and checkout",component:qUe,recommended:!0,category:"Full Page"},{id:"singlegame",name:"Calendar Single Event / Room Booking Page",description:"Dedicated landing page for one specific game with hero image and inline booking",component:yre,recommended:!0,category:"Landing Page"},{id:"calendar",name:"Calendar Booking Widget",description:"Interactive calendar with game selection and time slots",component:_b,recommended:!0,category:"Full Page"},{id:"bookgo",name:"BookGo",description:"Browse games in a list format with instant booking",component:fre,recommended:!0,category:"Full Page"},{id:"resolvex",name:"Resolvex Grid Widget",description:"Beautiful grid layout with large images and instant booking",component:xre,recommended:!0,category:"Full Page"},{id:"quick",name:"Quick Booking Form",description:"Simple one-page booking form for fast reservations",component:mre,recommended:!1,category:"Compact"},{id:"multistep",name:"OTB Multi Step Checkout",description:"Step-by-step booking flow with progress tracking",component:pre,recommended:!0,category:"Full Page"}];function bze(){const{isRole:t}=il(),e=t("beta-owner"),r=["calendar","singlegame","multistep"],[s,a]=S.useState("singlegame"),[i,o]=S.useState(!1),[l,c]=S.useState(!1),[d,u]=S.useState(!1),[h,f]=S.useState(!1),[m,y]=S.useState("#2563eb"),g={showSecuredBadge:!0,showHealthSafety:!0,enableVeteranDiscount:!1,widgetTitle:"",widgetDescription:"",fontFamily:"",fontScale:1,timezoneLabel:"Local Time",previewRole:"customer",slotDurationMinutes:90,showPromoCodeInput:!0,showGiftCardInput:!0,proLockedCustomSettings:!0,customSettings:{logoUrl:"",logoSize:64,logoPosition:"top",headlineText:"",headlineFont:"",headlineSize:28,headlineColor:"#111827",headlineAlign:"center",descriptionHtml:"",descriptionCharLimit:280,widgetWidth:1024,widgetHeight:768,responsiveScale:1,minWidth:320,maxWidth:1600,previewDevice:"desktop",themeVariant:"light",themeColor:"#2563eb"},ticketTypes:[{id:"player",name:"Players",description:"Ages 6 & Up",price:30}],games:[],additionalQuestions:[],cancellationPolicy:"Cash refunds are not available. If you are unable to keep your scheduled reservation, please contact us. We can rebook you to a different date and/or time or issue a refund in the form of a gift card."},[v,b]=S.useState({showSecuredBadge:!0,showHealthSafety:!0,enableVeteranDiscount:!0,ticketTypes:[{id:"player",name:"Players",description:"Ages 6 & Up",price:30},{id:"veteran",name:"Veterans",description:"Must show military ID",price:25}],categories:[{id:"1",name:"Traditional Escape Rooms",image:"https://images.unsplash.com/photo-1569002925653-ed18f55d7292?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080"},{id:"2",name:"Printable Escape Rooms",image:"https://images.unsplash.com/photo-1632387958032-3b563a92091f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080"}],games:[{id:"1",name:"Zombie Apocalypse",image:"https://images.unsplash.com/photo-1659059530318-656a112ad2cd?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080",priceRange:"$25 - $30",ageRange:"Ages 6+",duration:"1 Hour",difficulty:5,categoryId:"1",description:"Can you survive the zombie apocalypse and find the cure?"},{id:"2",name:"Area 51",image:"https://images.unsplash.com/photo-1569002925653-ed18f55d7292?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080",priceRange:"$25 - $30",ageRange:"All ages",duration:"1 Hour",difficulty:5,categoryId:"1"},{id:"3",name:"Catacombs",image:"https://images.unsplash.com/photo-1637481687365-9b133c567071?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080",priceRange:"$25 - $30",ageRange:"All ages",duration:"1 Hour",difficulty:2,categoryId:"1"},{id:"4",name:"Murder Mystery",image:"https://images.unsplash.com/photo-1636056471685-1cfdfa9d2e4b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080",priceRange:"$25 - $30",ageRange:"Ages 6+",duration:"1 Hour",difficulty:5,categoryId:"1"},{id:"5",name:"The Jolly Roger, Curse of the Devil's Shroud",image:"https://images.unsplash.com/photo-1561625116-df74735458a5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080",priceRange:"$25 - $30",ageRange:"Ages 6+",duration:"1 Hour",difficulty:0,categoryId:"1"}],additionalQuestions:[{id:"hear-about",question:"How did you hear about us?",type:"select",options:["Google","Facebook","Friend","Other"],required:!1}],cancellationPolicy:"Cash refunds are not available. If you are unable to keep your scheduled reservation, please contact us. We can rebook you to a different date and/or time or issue a refund in the form of a gift card."}),[w,N]=S.useState({...g,games:[{id:"1",name:"Mystery Manor",tagline:"Uncover the secrets of an abandoned Victorian mansion",duration:"60 min",difficulty:"Medium",rating:4.9,reviews:234,price:30,featured:!0,image:"https://images.unsplash.com/photo-1576086213369-97a306d36557?w=600&h=400&fit=crop",players:"2-8 players",ageRange:"All ages"}]}),[_,C]=S.useState({...g,games:[]}),E="calendarWidgetConfig";S.useEffect(()=>{try{const z=localStorage.getItem(E);if(z){const Z=JSON.parse(z);Z&&typeof Z=="object"&&C(Z)}}catch{}},[]),S.useEffect(()=>{try{localStorage.setItem(E,JSON.stringify(_))}catch{}},[_]);const[A,I]=S.useState({...g,games:[]}),$="singleGameWidgetConfig";S.useEffect(()=>{try{const z=localStorage.getItem($);if(z){const Z=JSON.parse(z);Z&&typeof Z=="object"&&I(Z)}}catch{}},[]),S.useEffect(()=>{try{localStorage.setItem($,JSON.stringify(A))}catch{}},[A]);const[O,P]=S.useState({...g,games:[]}),[M,R]=S.useState({...g,games:[]}),[W,Y]=S.useState({...g,games:[]}),K=z=>({farebook:v,bookgo:w,calendar:_,singlegame:A,resolvex:O,quick:M,multistep:W})[z]||g,L=z=>({farebook:b,bookgo:N,calendar:C,singlegame:I,resolvex:P,quick:R,multistep:Y})[z]||b,F=()=>{const z=lw.find(X=>X.id===s),Z="https://bookingtms.com";return`<!-- BookingTMS ${z?.name} -->
<div id="bookingtms-widget-${s}"></div>
<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${Z}/widgets/${s}.js';
    script.async = true;
    script.setAttribute('data-widget-id', 'YOUR_WIDGET_ID');
    script.setAttribute('data-primary-color', '${m}');
    script.setAttribute('data-template', '${s}');
    document.getElementById('bookingtms-widget-${s}').appendChild(script);
  })();
<\/script>

<!-- Styles (optional) -->
<link rel="stylesheet" href="${Z}/widgets/styles.css">`},ee=()=>{const z=F();navigator.clipboard.writeText(z),f(!0),me.success("Code copied to clipboard!"),setTimeout(()=>f(!1),2e3)},se=lw.find(z=>z.id===s),q=se?.component;return n.jsx(Ow,{children:n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsx(ui,{title:"Booking Widget Templates",description:"Choose a professional booking widget for your website",sticky:!0}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[n.jsx(ve,{className:"border-gray-200 dark:border-[#2a2a2a] shadow-sm hover:shadow-md dark:hover:shadow-[0_0_15px_rgba(79,70,229,0.1)] transition-all",children:n.jsx(Te,{className:"p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 dark:bg-[#4f46e5]/20 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(Fh,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 dark:text-[#6366f1]"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#737373]",children:"Templates Available"}),n.jsx("p",{className:"text-gray-900 dark:text-white",children:lw.length})]})]})})}),n.jsx(ve,{className:"border-gray-200 dark:border-[#2a2a2a] shadow-sm hover:shadow-md dark:hover:shadow-[0_0_15px_rgba(79,70,229,0.1)] transition-all",children:n.jsx(Te,{className:"p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-100 dark:bg-emerald-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(al,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600 dark:text-emerald-400"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#737373]",children:"Widget Bookings"}),n.jsx("p",{className:"text-gray-900 dark:text-white",children:"1,247"})]})]})})}),n.jsx(ve,{className:"border-gray-200 dark:border-[#2a2a2a] shadow-sm hover:shadow-md dark:hover:shadow-[0_0_15px_rgba(79,70,229,0.1)] transition-all",children:n.jsx(Te,{className:"p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-purple-100 dark:bg-purple-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(Ln,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600 dark:text-purple-400"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#737373]",children:"Conversion Rate"}),n.jsx("p",{className:"text-gray-900 dark:text-white text-sm sm:text-base",children:"5.8%"})]})]})})}),n.jsx(ve,{className:"border-gray-200 dark:border-[#2a2a2a] shadow-sm hover:shadow-md dark:hover:shadow-[0_0_15px_rgba(79,70,229,0.1)] transition-all",children:n.jsx(Te,{className:"p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(D1,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#737373]",children:"Active Installs"}),n.jsx("p",{className:"text-gray-900 dark:text-white",children:"12"})]})]})})})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-gray-900 dark:text-white mb-3 sm:mb-4",children:"Choose Your Template"}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4 lg:gap-6",children:lw.map(z=>{const Z=e&&!r.includes(z.id);return n.jsx(ve,{className:`border-2 transition-all ${Z?"cursor-not-allowed opacity-75":"cursor-pointer"} ${s===z.id?"border-blue-600 dark:border-[#4f46e5] shadow-md dark:shadow-[0_0_20px_rgba(79,70,229,0.2)]":"border-gray-200 dark:border-[#2a2a2a] hover:border-gray-300 dark:hover:border-[#3a3a3a]"}`,style:{borderColor:s===z.id?m:void 0},onClick:()=>!Z&&a(z.id),children:n.jsxs(Te,{className:"p-4 sm:p-6 relative",children:[Z&&n.jsxs("div",{className:"absolute inset-0 bg-black/60 dark:bg-black/70 backdrop-blur-sm rounded-lg flex flex-col items-center justify-center z-10 p-6",children:[n.jsx(da,{className:"w-8 h-8 text-white mb-3"}),n.jsx("h3",{className:"text-white text-lg font-semibold mb-2",children:"Pro Features"}),n.jsx("p",{className:"text-gray-300 text-sm text-center mb-4",children:"Upgrade to unlock Custom Settings"}),n.jsx(J,{className:"bg-[#4f46e5] hover:bg-[#4338ca] text-white",onClick:X=>{X.stopPropagation(),me.info("Contact us to upgrade your plan")},children:"Upgrade"})]}),n.jsx("div",{className:"flex items-start justify-between mb-3",children:n.jsxs("div",{className:"min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[n.jsx("h3",{className:"text-gray-900 dark:text-white text-sm sm:text-base",children:z.name}),z.recommended&&n.jsx(ze,{variant:"secondary",className:"bg-blue-100 dark:bg-[#4f46e5]/20 text-blue-700 dark:text-[#6366f1] border border-blue-200 dark:border-[#4f46e5]/30 text-xs flex-shrink-0",children:"Recommended"})]}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#a3a3a3] mb-3",children:z.description}),n.jsx(ze,{variant:"secondary",className:"text-xs bg-gray-100 dark:bg-[#1e1e1e] text-gray-700 dark:text-[#a3a3a3] border border-gray-200 dark:border-[#2a2a2a]",children:z.category})]})}),n.jsxs("div",{className:"flex gap-2 mt-4",children:[n.jsxs(J,{variant:"outline",size:"sm",onClick:X=>{X.stopPropagation(),Z||(a(z.id),o(!0))},disabled:Z,className:"flex-1 h-9 text-xs sm:text-sm",children:[n.jsx(Ln,{className:"w-4 h-4 sm:mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Preview"})]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:X=>{X.stopPropagation(),Z||(a(z.id),c(!0))},disabled:Z,className:"flex-1 h-9 text-xs sm:text-sm",children:[n.jsx(D1,{className:"w-4 h-4 sm:mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Settings"})]}),n.jsxs(J,{size:"sm",onClick:X=>{X.stopPropagation(),Z||(a(z.id),u(!0))},disabled:Z,className:"flex-1 h-9 text-xs sm:text-sm bg-blue-600 dark:bg-[#4f46e5] hover:bg-blue-700 dark:hover:bg-[#4338ca]",children:[n.jsx(Fh,{className:"w-4 h-4 sm:mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Embed"})]})]})]})},z.id)})})]}),n.jsx(yze,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[n.jsxs(ve,{className:"border-gray-200 dark:border-[#2a2a2a] shadow-sm",children:[n.jsx(st,{className:"p-4 sm:p-6",children:n.jsxs(at,{className:"flex items-center gap-2 text-base sm:text-lg",children:[n.jsx($1,{className:"w-4 h-4"}),"Quick Actions"]})}),n.jsxs(Te,{className:"space-y-2 sm:space-y-3 p-4 sm:p-6 pt-0",children:[n.jsxs(J,{variant:"outline",className:"w-full h-10 text-sm",onClick:()=>o(!0),children:[n.jsx($1,{className:"w-4 h-4 mr-2"}),"Full Screen Preview"]}),n.jsxs(J,{variant:"outline",className:"w-full h-10 text-sm",onClick:()=>window.open("https://bookingtms.com/demo","_blank"),children:[n.jsx(al,{className:"w-4 h-4 mr-2"}),"View Live Demo"]}),n.jsxs(J,{variant:"outline",className:"w-full h-10 text-sm bg-blue-600 dark:bg-[#4f46e5] text-white hover:bg-blue-700 dark:hover:bg-[#4338ca] hover:text-white",onClick:()=>u(!0),children:[n.jsx(Fh,{className:"w-4 h-4 mr-2"}),"Get Embed Code"]})]})]}),n.jsxs(ve,{className:"border-gray-200 dark:border-[#2a2a2a] shadow-sm lg:col-span-2",children:[n.jsx(st,{className:"p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx(at,{className:"text-base sm:text-lg",children:"Embed Code"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#a3a3a3] mt-1",children:"Copy and paste this code into your website"})]}),n.jsx(J,{onClick:ee,className:"flex-shrink-0 h-9 sm:h-10 text-xs sm:text-sm bg-blue-600 dark:bg-[#4f46e5] hover:bg-blue-700 dark:hover:bg-[#4338ca]",children:h?n.jsxs(n.Fragment,{children:[n.jsx(jn,{className:"w-4 h-4 sm:mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Copied!"})]}):n.jsxs(n.Fragment,{children:[n.jsx(Vs,{className:"w-4 h-4 sm:mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Copy Code"})]})})]})}),n.jsx(Te,{className:"p-4 sm:p-6 pt-0",children:n.jsxs(ta,{defaultValue:"html",children:[n.jsxs(pa,{className:"w-full grid grid-cols-3 h-9 sm:h-10",children:[n.jsx(Ft,{value:"html",className:"text-xs sm:text-sm",children:"HTML"}),n.jsx(Ft,{value:"react",className:"text-xs sm:text-sm",children:"React"}),n.jsx(Ft,{value:"wordpress",className:"text-xs sm:text-sm",children:"WordPress"})]}),n.jsx(Bt,{value:"html",className:"mt-3 sm:mt-4",children:n.jsx(Ps,{className:"h-[250px] sm:h-[300px] w-full rounded-lg bg-gray-900 dark:bg-[#0a0a0a] border border-gray-700 dark:border-[#2a2a2a] p-3 sm:p-4",children:n.jsx("pre",{className:"text-xs sm:text-sm text-green-400 dark:text-emerald-400",children:n.jsx("code",{children:F()})})})}),n.jsx(Bt,{value:"react",className:"mt-3 sm:mt-4",children:n.jsx(Ps,{className:"h-[250px] sm:h-[300px] w-full rounded-lg bg-gray-900 dark:bg-[#0a0a0a] border border-gray-700 dark:border-[#2a2a2a] p-3 sm:p-4",children:n.jsx("pre",{className:"text-xs sm:text-sm text-green-400 dark:text-emerald-400",children:n.jsx("code",{children:`import { useEffect } from 'react';

export function BookingWidget() {
  useEffect(() => {
    const script = document.createElement('script');
    script.src = 'https://bookingtms.com/widgets/${s}.js';
    script.async = true;
    script.setAttribute('data-widget-id', 'YOUR_WIDGET_ID');
    script.setAttribute('data-primary-color', '${m}');
    script.setAttribute('data-template', '${s}');
    
    const widgetDiv = document.getElementById('bookingtms-widget');
    if (widgetDiv) {
      widgetDiv.appendChild(script);
    }
    
    return () => {
      if (widgetDiv && script.parentNode) {
        script.parentNode.removeChild(script);
      }
    };
  }, []);

  return <div id="bookingtms-widget" />;
}`})})})}),n.jsx(Bt,{value:"wordpress",className:"mt-3 sm:mt-4",children:n.jsx(Ps,{className:"h-[250px] sm:h-[300px] w-full rounded-lg bg-gray-900 dark:bg-[#0a0a0a] border border-gray-700 dark:border-[#2a2a2a] p-3 sm:p-4",children:n.jsx("pre",{className:"text-xs sm:text-sm text-green-400 dark:text-emerald-400",children:n.jsx("code",{children:`1. Login to WordPress Admin Panel
2. Go to Pages or Posts
3. Edit the page where you want the widget
4. Switch to HTML/Code Editor
5. Paste the following code:

${F()}

6. Update/Publish your page
7. Visit the page to see your booking widget

Alternative: Use a shortcode plugin
[bookingtms template="${s}" color="${m}"]`})})})})]})})]})]}),n.jsxs(ve,{className:"border-gray-200 dark:border-[#2a2a2a] shadow-sm",children:[n.jsx(st,{className:"p-4 sm:p-6",children:n.jsx(at,{className:"text-base sm:text-lg",children:"Installation Guide"})}),n.jsxs(Te,{className:"p-4 sm:p-6 pt-0",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6",children:[n.jsxs("div",{children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 dark:bg-[#4f46e5]/20 rounded-lg flex items-center justify-center mb-3 sm:mb-4",children:n.jsx("span",{className:"text-blue-600 dark:text-[#6366f1] text-sm sm:text-base",children:"1"})}),n.jsx("h3",{className:"text-sm text-gray-900 dark:text-white mb-2",children:"Choose Template"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#a3a3a3]",children:"Select the booking widget template that best fits your website design and user flow"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 dark:bg-[#4f46e5]/20 rounded-lg flex items-center justify-center mb-3 sm:mb-4",children:n.jsx("span",{className:"text-blue-600 dark:text-[#6366f1] text-sm sm:text-base",children:"2"})}),n.jsx("h3",{className:"text-sm text-gray-900 dark:text-white mb-2",children:"Customize Colors"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#a3a3a3]",children:"Adjust the primary color to match your brand. The widget will automatically adapt"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 dark:bg-[#4f46e5]/20 rounded-lg flex items-center justify-center mb-3 sm:mb-4",children:n.jsx("span",{className:"text-blue-600 dark:text-[#6366f1] text-sm sm:text-base",children:"3"})}),n.jsx("h3",{className:"text-sm text-gray-900 dark:text-white mb-2",children:"Copy & Paste Code"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#a3a3a3]",children:"Copy the embed code and paste it into your website. Replace YOUR_WIDGET_ID with your actual ID"})]})]}),n.jsx(tt,{className:"my-4 sm:my-6"}),n.jsxs("div",{className:"bg-blue-50 dark:bg-[#4f46e5]/10 border border-blue-200 dark:border-[#4f46e5]/30 rounded-lg p-3 sm:p-4",children:[n.jsx("h3",{className:"text-xs sm:text-sm text-blue-900 dark:text-[#6366f1] mb-1 sm:mb-2",children:" Pro Tip"}),n.jsx("p",{className:"text-xs sm:text-sm text-blue-700 dark:text-[#818cf8]",children:"Need help with installation? Contact our support team or check out our detailed integration guides in the documentation."})]})]})]}),n.jsx(or,{open:i,onOpenChange:o,children:n.jsxs(lr,{className:"!w-screen !h-screen !max-w-none !max-h-none sm:!w-[90vw] sm:!h-[90vh] sm:!max-w-[1400px] sm:!max-h-[90vh] !rounded-none sm:!rounded-lg overflow-hidden p-0 flex flex-col",children:[n.jsx(Nr,{className:"bg-white dark:bg-[#1e1e1e] border-b border-gray-200 dark:border-[#2a2a2a] p-4 sm:p-6 shrink-0",children:n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx(cr,{className:"text-base sm:text-lg text-gray-900 dark:text-white truncate",children:se?.name}),n.jsx(xr,{className:"text-xs sm:text-sm text-gray-600 dark:text-[#a3a3a3] mt-0.5 hidden sm:block",children:"Live Preview - See how this widget will look on your website"})]}),n.jsx(ze,{variant:"secondary",className:"bg-gray-100 dark:bg-[#1e1e1e] border border-gray-200 dark:border-[#2a2a2a] text-xs flex-shrink-0 hidden sm:inline-flex",children:"Template Preview"})]})}),n.jsx(Ps,{className:"flex-1 h-full",children:n.jsxs("div",{className:"p-4 sm:p-8 pb-24 sm:pb-28 bg-gray-50 dark:bg-[#0a0a0a] min-h-full",children:[q&&n.jsx(q,{primaryColor:m,config:K(s)}),n.jsx("div",{className:"h-12 sm:h-20"})]})})]})}),n.jsx(or,{open:l,onOpenChange:c,children:n.jsxs(lr,{className:"!w-screen !h-screen !max-w-none !max-h-none sm:!w-[90vw] sm:!h-[90vh] sm:!max-w-[1200px] sm:!max-h-[90vh] !rounded-none sm:!rounded-lg overflow-hidden p-0 flex flex-col",children:[n.jsx(Nr,{className:"bg-white dark:bg-[#1e1e1e] border-b border-gray-200 dark:border-[#2a2a2a] p-4 sm:p-6 shrink-0",children:n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs(cr,{className:"text-base sm:text-lg text-gray-900 dark:text-white truncate",children:["Configure ",se?.name]}),n.jsx(xr,{className:"text-xs sm:text-sm text-gray-600 dark:text-[#a3a3a3] mt-0.5 hidden sm:block",children:s==="farebook"?"Customize your widget settings, categories, games, and pricing":s==="calendar"?"Customize your widget settings with step-by-step game adding experience":"Customize your widget settings, games, and pricing options"})]}),n.jsxs(J,{onClick:()=>{c(!1),me.success("Settings saved successfully!")},className:"bg-blue-600 dark:bg-[#4f46e5] hover:bg-blue-700 dark:hover:bg-[#4338ca] text-xs sm:text-sm h-9 sm:h-10 flex-shrink-0",size:"sm",children:[n.jsx(ki,{className:"w-4 h-4 sm:mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Save Changes"})]})]})}),n.jsx(Ps,{className:"flex-1 h-full",children:n.jsx("div",{className:"p-4 sm:p-6 pb-20 sm:pb-24 bg-gray-50 dark:bg-[#0a0a0a]",children:s==="farebook"?n.jsx(GUe,{config:v,onConfigChange:b,onPreview:()=>{c(!1),o(!0)}}):s==="calendar"?n.jsx(bre,{config:K(s),onConfigChange:L(s),onPreview:()=>{c(!1),o(!0)}}):n.jsx(fze,{widgetType:s,config:K(s),onConfigChange:L(s),onPreview:()=>{c(!1),o(!0)}})})})]})}),n.jsx(or,{open:d,onOpenChange:u,children:n.jsxs(lr,{className:"!w-screen !h-screen !max-w-none !max-h-none sm:!w-[90vw] sm:!h-[90vh] sm:!max-w-[1200px] sm:!max-h-[90vh] !rounded-none sm:!rounded-lg overflow-hidden p-0 flex flex-col",children:[n.jsx(Nr,{className:"bg-white dark:bg-[#1e1e1e] border-b border-gray-200 dark:border-[#2a2a2a] p-4 sm:p-6 shrink-0",children:n.jsx("div",{className:"flex items-center justify-between gap-3",children:n.jsxs("div",{className:"min-w-0",children:[n.jsxs(cr,{className:"text-base sm:text-lg text-gray-900 dark:text-white truncate",children:["Embed ",se?.name]}),n.jsx(xr,{className:"text-xs sm:text-sm text-gray-600 dark:text-[#a3a3a3] mt-0.5 hidden sm:block",children:"Get the embed code and install the widget on your website"})]})})}),n.jsx(Ps,{className:"flex-1 h-full",children:n.jsx("div",{className:"p-4 sm:p-6 pb-20 sm:pb-24 bg-gray-50 dark:bg-[#0a0a0a]",children:n.jsx(wre,{widgetId:s,widgetName:se?.name||"",primaryColor:m})})})]})})]})})}const cw=[{value:"escape-room",label:"Escape Room",icon:""},{value:"smash-room",label:"Smash Room",icon:""},{value:"axe-throwing",label:"Axe Throwing",icon:""},{value:"laser-tag",label:"Laser Tag",icon:""},{value:"vr-experience",label:"VR Experience",icon:""},{value:"arcade",label:"Arcade",icon:""},{value:"other",label:"Other",icon:""}],wze=t=>({id:t.id,name:t.name,type:t.settings?.type||"other",description:t.settings?.description||"",address:t.address||"",phone:t.phone||"",email:t.email||"",website:t.settings?.website||"",primaryColor:t.primary_color||t.settings?.primaryColor||"#2563eb",widgetConfig:t.settings?.widgetConfig||{showSecuredBadge:!0,showHealthSafety:!0,enableVeteranDiscount:!1,games:[],ticketTypes:[{id:"player",name:"Players",description:"Ages 6 & Up",price:30}],additionalQuestions:[],cancellationPolicy:"Cash refunds are not available. If you are unable to keep your scheduled reservation, please contact us."},embedKey:t.embed_key||"",isActive:t.status==="active",createdAt:t.created_at,updatedAt:t.updated_at}),dw=t=>({name:t.name,address:t.address||"",city:"",state:"",zip:"",country:"United States",phone:t.phone||"",email:t.email||"",capacity:100,timezone:"America/New_York",status:t.isActive?"active":"inactive",primary_color:t.primaryColor||"#2563eb",settings:{type:t.type,description:t.description,website:t.website,widgetConfig:t.widgetConfig}});function jze(){const{currentUser:t,hasPermission:e}=il(),{venues:r,loading:s,createVenue:a,updateVenue:i,deleteVenue:o,refreshVenues:l}=nO(),[c,d]=S.useState(!1),u=async()=>{d(!0);try{await l(),me.success("All venue data refreshed successfully")}catch{me.error("Failed to refresh venue data")}finally{d(!1)}},[h,f]=S.useState(""),[m,y]=S.useState(!1),[g,v]=S.useState(!1),[b,w]=S.useState(!1),[N,_]=S.useState(!1),[C,E]=S.useState(!1),[A,I]=S.useState(!1),[$,O]=S.useState(!1),[P,M]=S.useState(null),[R,W]=S.useState(!1),[Y,K]=S.useState({name:"",type:"escape-room",description:"",address:"",phone:"",email:"",website:"",primaryColor:"#2563eb"}),L=r.map(wze),F=t?.role==="admin"||t?.role==="beta-owner"||t?.role==="manager",ee=t?.role==="admin"||t?.role==="beta-owner"||t?.role==="manager",se=t?.role==="admin"||t?.role==="beta-owner",q=async()=>{if(!F){me.error("You do not have permission to create venues");return}y(!0);try{const ae={...Y,widgetConfig:{showSecuredBadge:!0,showHealthSafety:!0,enableVeteranDiscount:!1,games:[],ticketTypes:[{id:"player",name:"Players",description:"Ages 6 & Up",price:30}],additionalQuestions:[],cancellationPolicy:"Cash refunds are not available. If you are unable to keep your scheduled reservation, please contact us."},isActive:!0};await a(dw(ae)),v(!1),ne(),me.success("Venue created! Embed key generated automatically.")}catch(ae){console.error("Error creating venue:",ae),me.error("Failed to create venue")}finally{y(!1)}},z=async()=>{if(P){if(!ee){me.error("You do not have permission to edit venues");return}y(!0);try{const ae={...P,...Y};await i(P.id,dw(ae)),w(!1),M(null),ne()}catch(ae){console.error("Error updating venue:",ae)}finally{y(!1)}}},Z=async()=>{if(P){if(!se){me.error("You do not have permission to delete venues");return}y(!0);try{await o(P.id),_(!1),M(null)}catch(ae){console.error("Error deleting venue:",ae)}finally{y(!1)}}},X=async ae=>{const be=L.find(we=>we.id===ae);if(be)try{const we={...be,isActive:!be.isActive};await i(ae,dw(we))}catch(we){console.error("Error toggling venue status:",we)}},Q=async ae=>{if(P)try{const be={...P,widgetConfig:ae};await i(P.id,dw(be)),M(be),console.log("Widget config updated for venue:",be.name,"Games:",ae.games?.length||0)}catch(be){console.error("Error updating widget config:",be)}},ne=()=>{K({name:"",type:"escape-room",description:"",address:"",phone:"",email:"",website:"",primaryColor:"#2563eb"})},ce=ae=>{M(ae),K({name:ae.name,type:ae.type,description:ae.description,address:ae.address,phone:ae.phone,email:ae.email,website:ae.website,primaryColor:ae.primaryColor}),w(!0)},ie=ae=>cw.find(be=>be.value===ae)||cw[cw.length-1],pe=ae=>L.find(be=>be.id===ae);return m?n.jsx(YMe,{message:"Loading venues..."}):n.jsxs("div",{className:"space-y-6",children:[n.jsx(ui,{title:"Venue Management",description:"Create and manage multiple venues with individual booking widgets",sticky:!0,action:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(J,{variant:"outline",className:"h-11",onClick:u,disabled:c,children:[n.jsx(Rd,{className:`w-4 h-4 sm:mr-2 ${c?"animate-spin":""}`}),n.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),F&&n.jsxs(J,{className:"bg-blue-600 dark:bg-[#4f46e5] hover:bg-blue-700 dark:hover:bg-[#4338ca] h-11",onClick:()=>v(!0),children:[n.jsx(An,{className:"w-4 h-4 sm:mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Add Venue"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(ve,{className:"border-gray-200 dark:border-[#2a2a2a]",children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-[#4f46e5]/20 rounded-lg flex items-center justify-center",children:n.jsx(ic,{className:"w-6 h-6 text-blue-600 dark:text-[#6366f1]"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-[#737373]",children:"Total Venues"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:L.length})]})]})})}),n.jsx(ve,{className:"border-gray-200 dark:border-[#2a2a2a]",children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-emerald-500/20 rounded-lg flex items-center justify-center",children:n.jsx(jn,{className:"w-6 h-6 text-green-600 dark:text-emerald-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-[#737373]",children:"Active Venues"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:L.filter(ae=>ae.isActive).length})]})]})})}),n.jsx(ve,{className:"border-gray-200 dark:border-[#2a2a2a]",children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-500/20 rounded-lg flex items-center justify-center",children:n.jsx(Fh,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-[#737373]",children:"Widgets Created"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:L.length})]})]})})}),n.jsx(ve,{className:"border-gray-200 dark:border-[#2a2a2a]",children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-500/20 rounded-lg flex items-center justify-center",children:n.jsx(D1,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-[#737373]",children:"Total Events"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:L.reduce((ae,be)=>ae+(be.widgetConfig?.games?.length||0),0)})]})]})})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white",children:"Your Venues"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#737373] mt-1",children:"Manage your venues and their booking widgets"})]}),F&&n.jsxs(J,{onClick:()=>v(!0),className:"bg-blue-600 dark:bg-[#4f46e5] hover:bg-blue-700 dark:hover:bg-[#4338ca] w-full sm:w-auto",children:[n.jsx(An,{className:"w-4 h-4 mr-2"}),"Create Venue"]})]}),L.length===0?n.jsx(ve,{className:"border-gray-200 dark:border-[#2a2a2a]",children:n.jsxs(Te,{className:"p-6 sm:p-12 text-center",children:[n.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gray-100 dark:bg-[#1e1e1e] rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(ic,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400 dark:text-[#737373]"})}),n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No venues yet"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-[#737373] mb-6 max-w-md mx-auto px-4",children:"Create your first venue to start managing booking widgets for different locations like escape rooms, smash rooms, or axe throwing venues."}),F&&n.jsxs(J,{onClick:()=>v(!0),className:"bg-blue-600 dark:bg-[#4f46e5] hover:bg-blue-700 dark:hover:bg-[#4338ca] w-full sm:w-auto",children:[n.jsx(An,{className:"w-4 h-4 mr-2"}),"Create Your First Venue"]})]})}):n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:L.map(ae=>{const be=ie(ae.type);return n.jsxs(ve,{className:"border-gray-200 dark:border-[#2a2a2a] hover:shadow-lg transition-shadow",children:[n.jsx(st,{className:"pb-3 sm:pb-4",children:n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg flex items-center justify-center text-xl sm:text-2xl flex-shrink-0",style:{backgroundColor:ae.primaryColor+"20"},children:be.icon}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx(at,{className:"text-base sm:text-lg truncate",children:ae.name}),n.jsx(ze,{variant:"secondary",className:"mt-1 text-xs",children:be.label})]})]}),n.jsx(ze,{variant:ae.isActive?"default":"secondary",className:"text-xs flex-shrink-0",children:ae.isActive?"Active":"Inactive"})]})}),n.jsxs(Te,{className:"space-y-4",children:[ae.description&&n.jsx("p",{className:"text-sm text-gray-600 dark:text-[#737373] line-clamp-2",children:ae.description}),n.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[ae.address&&n.jsxs("div",{className:"flex items-start gap-2 text-gray-600 dark:text-[#737373]",children:[n.jsx(El,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"line-clamp-1",children:ae.address})]}),ae.phone&&n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-[#737373]",children:[n.jsx(Gs,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:ae.phone})]}),ae.email&&n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-[#737373]",children:[n.jsx(Gn,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:ae.email})]})]}),n.jsx(tt,{}),n.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm mb-3",children:[n.jsx("span",{className:"text-gray-600 dark:text-[#737373]",children:"Events/Rooms:"}),n.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:ae.widgetConfig?.games?.length||0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(J,{variant:"outline",onClick:()=>{const we=pe(ae.id)||ae;console.log("Opening widget settings for:",we.name,"Games:",we.widgetConfig?.games?.length||0),M(we),E(!0)},className:"w-full justify-start h-9 text-sm font-normal hover:bg-gray-50 dark:hover:bg-[#1e1e1e]",children:[n.jsx(D1,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-[#737373]"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:"Configure"})]}),n.jsxs(J,{variant:"outline",onClick:()=>{const we=pe(ae.id)||ae;console.log("Opening preview for:",we.name,"Games:",we.widgetConfig?.games?.length||0),M(we),I(!0)},className:"w-full justify-start h-9 text-sm font-normal hover:bg-gray-50 dark:hover:bg-[#1e1e1e]",children:[n.jsx(Ln,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-[#737373]"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:"Preview"})]}),n.jsxs(J,{variant:"outline",onClick:()=>{const we=pe(ae.id)||ae;M(we),O(!0)},className:"w-full justify-start h-9 text-sm font-normal hover:bg-gray-50 dark:hover:bg-[#1e1e1e]",children:[n.jsx(Fh,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-[#737373]"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:"Embed"})]}),n.jsxs(J,{variant:"outline",onClick:()=>ce(ae),className:"w-full justify-start h-9 text-sm font-normal hover:bg-gray-50 dark:hover:bg-[#1e1e1e]",children:[n.jsx($p,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-[#737373]"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:"Edit Venue"})]})]}),n.jsx(tt,{className:"my-3"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(J,{variant:"outline",size:"sm",onClick:()=>X(ae.id),className:"flex-1 h-9 text-xs",children:ae.isActive?"Deactivate":"Activate"}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>{M(ae),_(!0)},className:"h-9 px-3 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950",children:n.jsx(Dn,{className:"w-4 h-4"})})]})]})]},ae.id)})}),n.jsx(or,{open:g||b,onOpenChange:ae=>{ae||(v(!1),w(!1),ne(),M(null))},children:n.jsxs(lr,{className:"w-[95vw] max-w-2xl max-h-[90vh] sm:max-h-[85vh]",children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:"text-base sm:text-lg",children:b?"Edit Venue":"Create New Venue"}),n.jsx(xr,{className:"text-xs sm:text-sm",children:b?"Update your venue information":"Add a new venue with its own booking widget"})]}),n.jsx(Ps,{className:"max-h-[55vh] sm:max-h-[60vh] pr-2 sm:pr-4",children:n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"name",className:"text-sm",children:"Venue Name *"}),n.jsx(ge,{id:"name",value:Y.name,onChange:ae=>K({...Y,name:ae.target.value}),placeholder:"e.g., Downtown Escape Room",className:"h-10 text-sm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"type",className:"text-sm",children:"Venue Type *"}),n.jsxs(Kt,{value:Y.type,onValueChange:ae=>K({...Y,type:ae}),children:[n.jsx(Xt,{children:n.jsx(Yt,{})}),n.jsx(Zt,{children:cw.map(ae=>n.jsx(Ce,{value:ae.value,children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{children:ae.icon}),n.jsx("span",{children:ae.label})]})},ae.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"description",className:"text-sm",children:"Description"}),n.jsx(mn,{id:"description",value:Y.description,onChange:ae=>K({...Y,description:ae.target.value}),placeholder:"Brief description of your venue...",rows:3,className:"text-sm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"address",className:"text-sm",children:"Address"}),n.jsx(ge,{id:"address",value:Y.address,onChange:ae=>K({...Y,address:ae.target.value}),placeholder:"123 Main St, City, State 12345",className:"h-10 text-sm"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"phone",className:"text-sm",children:"Phone"}),n.jsx(ge,{id:"phone",value:Y.phone,onChange:ae=>K({...Y,phone:ae.target.value}),placeholder:"(555) 123-4567",className:"h-10 text-sm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"email",className:"text-sm",children:"Email"}),n.jsx(ge,{id:"email",type:"email",value:Y.email,onChange:ae=>K({...Y,email:ae.target.value}),placeholder:"info@venue.com",className:"h-10 text-sm"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"website",className:"text-sm",children:"Website"}),n.jsx(ge,{id:"website",value:Y.website,onChange:ae=>K({...Y,website:ae.target.value}),placeholder:"https://www.yourvenue.com",className:"h-10 text-sm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"primaryColor",className:"text-sm",children:"Brand Color"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ge,{id:"primaryColor",type:"color",value:Y.primaryColor,onChange:ae=>K({...Y,primaryColor:ae.target.value}),className:"w-16 sm:w-20 h-10 cursor-pointer"}),n.jsx(ge,{value:Y.primaryColor,onChange:ae=>K({...Y,primaryColor:ae.target.value}),placeholder:"#2563eb",className:"flex-1 h-10 text-sm"})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"This color will be used in your booking widget"})]})]})}),n.jsxs(wn,{className:"flex-col sm:flex-row gap-2",children:[n.jsx(J,{variant:"outline",onClick:()=>{v(!1),w(!1),ne()},className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),n.jsx(J,{onClick:b?z:q,disabled:!Y.name||m||s,className:"bg-blue-600 dark:bg-[#4f46e5] hover:bg-blue-700 dark:hover:bg-[#4338ca] w-full sm:w-auto order-1 sm:order-2",children:m||s?"Saving...":b?"Update Venue":"Create Venue"})]})]})}),n.jsx(or,{open:C,onOpenChange:E,children:n.jsxs(lr,{className:"!w-screen !h-screen !max-w-none !max-h-none sm:!w-[90vw] sm:!h-[90vh] sm:!max-w-[1200px] sm:!max-h-[90vh] !rounded-none sm:!rounded-lg overflow-hidden p-0 flex flex-col",children:[n.jsx(Nr,{className:"bg-white dark:bg-[#1e1e1e] border-b border-gray-200 dark:border-[#2a2a2a] p-4 sm:p-6 shrink-0",children:n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs(cr,{className:"text-base sm:text-lg text-gray-900 dark:text-white truncate",children:["Configure Widget for ",P?.name]}),n.jsx(xr,{className:"text-xs sm:text-sm text-gray-600 dark:text-[#a3a3a3] mt-0.5 hidden sm:block",children:"Add events/rooms and customize your booking widget settings"})]}),n.jsxs(J,{onClick:()=>{E(!1),me.success("Settings saved successfully!")},className:"bg-blue-600 dark:bg-[#4f46e5] hover:bg-blue-700 dark:hover:bg-[#4338ca] text-xs sm:text-sm h-9 sm:h-10 flex-shrink-0",size:"sm",children:[n.jsx(ki,{className:"w-4 h-4 sm:mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Save Changes"})]})]})}),n.jsx(Ps,{className:"flex-1 h-full",children:n.jsx("div",{className:"p-4 sm:p-6 pb-20 sm:pb-24 bg-gray-50 dark:bg-[#0a0a0a]",children:P&&n.jsx(bre,{config:P.widgetConfig||{games:[],ticketTypes:[],questions:[]},onConfigChange:Q,onPreview:()=>{E(!1),I(!0)},embedContext:{embedKey:P.embedKey,primaryColor:P.primaryColor,venueName:P.name,baseUrl:typeof window<"u"?window.location.origin:"",venueId:P.id}},`widget-settings-${P.id}`)})})]})}),n.jsx(or,{open:A,onOpenChange:I,children:n.jsxs(lr,{className:"!w-screen !h-screen !max-w-none !max-h-none sm:!w-[90vw] sm:!h-[90vh] sm:!max-w-[1400px] sm:!max-h-[90vh] !rounded-none sm:!rounded-lg overflow-hidden p-0 flex flex-col",children:[n.jsx(Nr,{className:"bg-white dark:bg-[#1e1e1e] border-b border-gray-200 dark:border-[#2a2a2a] p-4 sm:p-6 shrink-0",children:n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs(cr,{className:"text-base sm:text-lg text-gray-900 dark:text-white truncate",children:["Widget Preview - ",P?.name]}),n.jsx(xr,{className:"text-xs sm:text-sm text-gray-600 dark:text-[#a3a3a3] mt-0.5 hidden sm:block",children:"Live Preview - See how your booking widget will look to customers"})]}),n.jsx(ze,{variant:"secondary",className:"bg-gray-100 dark:bg-[#1e1e1e] border border-gray-200 dark:border-[#2a2a2a] text-xs flex-shrink-0 hidden sm:inline-flex",children:"Widget Preview"})]})}),n.jsx(Ps,{className:"flex-1 h-full",children:n.jsxs("div",{className:"p-4 sm:p-8 pb-24 sm:pb-28 bg-gray-50 dark:bg-[#0a0a0a] min-h-full",children:[P&&n.jsx(_b,{primaryColor:P.primaryColor,config:P.widgetConfig||{games:[],ticketTypes:[],questions:[]}},`widget-preview-${P.id}`),n.jsx("div",{className:"h-12 sm:h-20"})]})})]})}),n.jsx(or,{open:$,onOpenChange:O,children:n.jsxs(lr,{className:"!w-screen !h-screen !max-w-none !max-h-none sm:!w-[90vw] sm:!h-[90vh] sm:!max-w-[1200px] sm:!max-h-[90vh] !rounded-none sm:!rounded-lg overflow-hidden p-0 flex flex-col",children:[n.jsx(Nr,{className:"bg-white dark:bg-[#1e1e1e] border-b border-gray-200 dark:border-[#2a2a2a] p-4 sm:p-6 shrink-0",children:n.jsx("div",{className:"flex items-center justify-between gap-3",children:n.jsxs("div",{className:"min-w-0",children:[n.jsxs(cr,{className:"text-base sm:text-lg text-gray-900 dark:text-white truncate",children:["Embed Widget for ",P?.name]}),n.jsx(xr,{className:"text-xs sm:text-sm text-gray-600 dark:text-[#a3a3a3] mt-0.5 hidden sm:block",children:"Get the embed code and install the widget on your website"})]})})}),n.jsx(Ps,{className:"flex-1 h-full",children:n.jsx("div",{className:"p-4 sm:p-6 pb-20 sm:pb-24 bg-gray-50 dark:bg-[#0a0a0a]",children:P&&n.jsx(wre,{widgetId:"calendar",widgetName:P.name,primaryColor:P.primaryColor,embedKey:P.embedKey,widgetConfig:P.widgetConfig})})})]})}),n.jsx(mb,{open:N,onOpenChange:_,children:n.jsxs(pb,{children:[n.jsxs(xb,{children:[n.jsx(vb,{children:"Delete Venue"}),n.jsxs(yb,{children:['Are you sure you want to delete "',P?.name,'"? This action cannot be undone and will remove all associated widget configurations.']})]}),n.jsxs(gb,{children:[n.jsx(wb,{children:"Cancel"}),n.jsx(bb,{onClick:Z,className:"bg-red-600 hover:bg-red-700",children:"Delete Venue"})]})]})})]})}function Nze(){const{theme:t,setTheme:e}=fn(),r=t==="dark",s=r?"text-white":"text-gray-900",a=r?"text-[#a3a3a3]":"text-gray-600",i=r?"border-[#2a2a2a]":"border-gray-200",o=r?"bg-[#161616]":"bg-white",l=r?"hover:bg-[#1e1e1e]":"hover:bg-gray-50",[c,d]=S.useState("business"),[u,h]=S.useState(!1),[f,m]=S.useState(!1),[y,g]=S.useState(!1),[v,b]=S.useState(!1),[w,N]=S.useState({name:"BookingTMS Escape Rooms",email:"contact@bookingtms.com",phone:"+1 (555) 123-4567",timezone:"est",address:"123 Main Street, New York, NY 10001"}),[_,C]=S.useState({emailNewBookings:!0,emailCancellations:!0,emailDailyReports:!1,smsReminders:!0,smsUrgentAlerts:!1}),[E,A]=S.useState({onlinePayments:!0,autoRefunds:!1}),I=()=>{me.success("Business information saved successfully")},$=()=>{me.success("Payment settings saved successfully")},O=()=>{me.success("Notification preferences saved successfully")},P=()=>{me.success("Password updated successfully")},M=()=>{me.success("Appearance settings saved successfully")};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(ui,{title:"Settings",description:"Manage your account and business preferences",sticky:!0}),n.jsxs(ta,{value:c,onValueChange:d,className:"space-y-6",children:[n.jsxs("div",{className:`grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4 ${o} border ${i} rounded-lg p-3 sm:p-4`,children:[n.jsxs("button",{onClick:()=>d("business"),className:`
              flex flex-col items-center justify-center gap-2 p-4 sm:p-6 rounded-lg border-2 transition-all min-h-[100px] sm:min-h-[120px]
              ${c==="business"?r?"bg-[#4f46e5] border-[#4f46e5] text-white shadow-lg":"bg-blue-600 border-blue-600 text-white shadow-lg":r?"bg-[#1e1e1e] border-[#2a2a2a] text-[#a3a3a3] hover:border-[#4f46e5] hover:text-white":"bg-white border-gray-300 text-gray-600 hover:border-blue-600 hover:text-gray-900"}
            `,children:[n.jsx(ic,{className:"w-6 h-6 sm:w-8 sm:h-8 flex-shrink-0"}),n.jsx("span",{className:"text-xs sm:text-sm text-center whitespace-nowrap",children:"Business Info"})]}),n.jsxs("button",{onClick:()=>d("payments"),className:`
              flex flex-col items-center justify-center gap-2 p-4 sm:p-6 rounded-lg border-2 transition-all min-h-[100px] sm:min-h-[120px]
              ${c==="payments"?r?"bg-[#4f46e5] border-[#4f46e5] text-white shadow-lg":"bg-blue-600 border-blue-600 text-white shadow-lg":r?"bg-[#1e1e1e] border-[#2a2a2a] text-[#a3a3a3] hover:border-[#4f46e5] hover:text-white":"bg-white border-gray-300 text-gray-600 hover:border-blue-600 hover:text-gray-900"}
            `,children:[n.jsx(fa,{className:"w-6 h-6 sm:w-8 sm:h-8 flex-shrink-0"}),n.jsx("span",{className:"text-xs sm:text-sm text-center whitespace-nowrap",children:"Payments"})]}),n.jsxs("button",{onClick:()=>d("notifications"),className:`
              flex flex-col items-center justify-center gap-2 p-4 sm:p-6 rounded-lg border-2 transition-all min-h-[100px] sm:min-h-[120px]
              ${c==="notifications"?r?"bg-[#4f46e5] border-[#4f46e5] text-white shadow-lg":"bg-blue-600 border-blue-600 text-white shadow-lg":r?"bg-[#1e1e1e] border-[#2a2a2a] text-[#a3a3a3] hover:border-[#4f46e5] hover:text-white":"bg-white border-gray-300 text-gray-600 hover:border-blue-600 hover:text-gray-900"}
            `,children:[n.jsx(uo,{className:"w-6 h-6 sm:w-8 sm:h-8 flex-shrink-0"}),n.jsx("span",{className:"text-xs sm:text-sm text-center whitespace-nowrap",children:"Notifications"})]}),n.jsxs("button",{onClick:()=>d("security"),className:`
              flex flex-col items-center justify-center gap-2 p-4 sm:p-6 rounded-lg border-2 transition-all min-h-[100px] sm:min-h-[120px]
              ${c==="security"?r?"bg-[#4f46e5] border-[#4f46e5] text-white shadow-lg":"bg-blue-600 border-blue-600 text-white shadow-lg":r?"bg-[#1e1e1e] border-[#2a2a2a] text-[#a3a3a3] hover:border-[#4f46e5] hover:text-white":"bg-white border-gray-300 text-gray-600 hover:border-blue-600 hover:text-gray-900"}
            `,children:[n.jsx(Xn,{className:"w-6 h-6 sm:w-8 sm:h-8 flex-shrink-0"}),n.jsx("span",{className:"text-xs sm:text-sm text-center whitespace-nowrap",children:"Security"})]}),n.jsxs("button",{onClick:()=>d("appearance"),className:`
              flex flex-col items-center justify-center gap-2 p-4 sm:p-6 rounded-lg border-2 transition-all min-h-[100px] sm:min-h-[120px]
              ${c==="appearance"?r?"bg-[#4f46e5] border-[#4f46e5] text-white shadow-lg":"bg-blue-600 border-blue-600 text-white shadow-lg":r?"bg-[#1e1e1e] border-[#2a2a2a] text-[#a3a3a3] hover:border-[#4f46e5] hover:text-white":"bg-white border-gray-300 text-gray-600 hover:border-blue-600 hover:text-gray-900"}
            `,children:[n.jsx(Ip,{className:"w-6 h-6 sm:w-8 sm:h-8 flex-shrink-0"}),n.jsx("span",{className:"text-xs sm:text-sm text-center whitespace-nowrap",children:"Appearance"})]})]}),n.jsx(Bt,{value:"business",className:"space-y-6",children:n.jsxs(ve,{className:`${o} border ${i} shadow-sm`,children:[n.jsxs(st,{className:"p-3 sm:p-4 md:p-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ic,{className:`w-5 h-5 ${r?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:`${s} text-lg sm:text-xl`,children:"Business Information"})]}),n.jsx(Lt,{className:`${a} text-sm`,children:"Update your business details and contact information"})]}),n.jsxs(Te,{className:"space-y-4 sm:space-y-6 p-3 sm:p-4 md:p-6 pt-0",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"businessName",className:`${r?"text-white":"text-gray-700"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ic,{className:"w-4 h-4"}),"Business Name"]})}),n.jsx(ge,{id:"businessName",value:w.name,onChange:R=>N({...w,name:R.target.value}),className:`h-11 sm:h-12 ${r?"bg-[#1e1e1e] border-[#2a2a2a] text-white":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"email",className:`${r?"text-white":"text-gray-700"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gn,{className:"w-4 h-4"}),"Business Email"]})}),n.jsx(ge,{id:"email",type:"email",value:w.email,onChange:R=>N({...w,email:R.target.value}),className:`h-11 sm:h-12 ${r?"bg-[#1e1e1e] border-[#2a2a2a] text-white":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"phone",className:`${r?"text-white":"text-gray-700"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gs,{className:"w-4 h-4"}),"Phone Number"]})}),n.jsx(ge,{id:"phone",value:w.phone,onChange:R=>N({...w,phone:R.target.value}),className:`h-11 sm:h-12 ${r?"bg-[#1e1e1e] border-[#2a2a2a] text-white":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"timezone",className:`${r?"text-white":"text-gray-700"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:"w-4 h-4"}),"Timezone"]})}),n.jsxs(Kt,{value:w.timezone,onValueChange:R=>N({...w,timezone:R}),children:[n.jsx(Xt,{className:`h-11 sm:h-12 ${r?"bg-[#1e1e1e] border-[#2a2a2a] text-white":"bg-gray-100 border-gray-300"}`,children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"est",children:"Eastern Time (EST)"}),n.jsx(Ce,{value:"cst",children:"Central Time (CST)"}),n.jsx(Ce,{value:"mst",children:"Mountain Time (MST)"}),n.jsx(Ce,{value:"pst",children:"Pacific Time (PST)"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"address",className:`${r?"text-white":"text-gray-700"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(El,{className:"w-4 h-4"}),"Business Address"]})}),n.jsx(ge,{id:"address",value:w.address,onChange:R=>N({...w,address:R.target.value}),className:`h-11 sm:h-12 ${r?"bg-[#1e1e1e] border-[#2a2a2a] text-white":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]}),n.jsx(tt,{className:i}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3",children:[n.jsx(J,{variant:"outline",className:"min-h-[44px] h-11 sm:h-12 w-full sm:w-auto",children:"Cancel"}),n.jsxs(J,{style:{backgroundColor:r?"#4f46e5":void 0},className:`min-h-[44px] h-11 sm:h-12 w-full sm:w-auto ${r?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700"}`,onClick:I,children:[n.jsx(ki,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})]})}),n.jsx(Bt,{value:"payments",className:"space-y-6",children:n.jsxs(ve,{className:`${o} border ${i} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fa,{className:`w-5 h-5 ${r?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:s,children:"Payment Gateway"})]}),n.jsx(Lt,{className:a,children:"Configure your payment processing and integrations"})]}),n.jsxs(Te,{className:"space-y-6 p-6 pt-0",children:[n.jsx("div",{className:`p-4 rounded-lg border ${r?"bg-[#4f46e5]/10 border-[#4f46e5]/30":"bg-blue-50 border-blue-200"}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(fa,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${r?"text-[#6366f1]":"text-blue-600"}`}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${r?"text-[#e0e7ff]":"text-blue-900"}`,children:"Stripe Integration"}),n.jsx("p",{className:`text-sm mt-1 ${r?"text-[#c7d2fe]":"text-blue-700"}`,children:"Connect your Stripe account to accept payments"})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"stripeKey",className:`${r?"text-white":"text-gray-700"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(nm,{className:"w-4 h-4"}),"Stripe Publishable Key"]})}),n.jsx(ge,{id:"stripeKey",placeholder:"pk_live_...",className:`h-11 sm:h-12 font-mono text-sm ${r?"bg-[#1e1e1e] border-[#2a2a2a] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"stripeSecret",className:`${r?"text-white":"text-gray-700"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(da,{className:"w-4 h-4"}),"Stripe Secret Key"]})}),n.jsx(ge,{id:"stripeSecret",type:"password",placeholder:"sk_live_...",className:`h-11 sm:h-12 font-mono text-sm ${r?"bg-[#1e1e1e] border-[#2a2a2a] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]}),n.jsx(tt,{className:i}),n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:`flex flex-col sm:flex-row items-start sm:items-center justify-between p-3 sm:p-4 rounded-lg border ${i} ${l} transition-colors gap-3`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Gd,{className:`w-4 h-4 ${r?"text-emerald-400":"text-green-600"}`}),n.jsx("p",{className:`text-sm sm:text-base ${s}`,children:"Enable Online Payments"})]}),n.jsx("p",{className:`text-xs sm:text-sm ${a}`,children:"Accept credit card payments online"})]}),n.jsx(Wt,{checked:E.onlinePayments,onCheckedChange:R=>A({...E,onlinePayments:R}),className:"flex-shrink-0 self-end sm:self-auto"})]}),n.jsxs("div",{className:`flex flex-col sm:flex-row items-start sm:items-center justify-between p-3 sm:p-4 rounded-lg border ${i} ${l} transition-colors gap-3`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Tt,{className:`w-4 h-4 ${a}`}),n.jsx("p",{className:`text-sm sm:text-base ${s}`,children:"Automatic Refunds"})]}),n.jsx("p",{className:`text-xs sm:text-sm ${a}`,children:"Process refunds automatically when bookings are cancelled"})]}),n.jsx(Wt,{checked:E.autoRefunds,onCheckedChange:R=>A({...E,autoRefunds:R}),className:"flex-shrink-0 self-end sm:self-auto"})]})]}),n.jsx(tt,{className:i}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(J,{variant:"outline",className:"h-11",children:"Cancel"}),n.jsxs(J,{style:{backgroundColor:r?"#4f46e5":void 0},className:r?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",onClick:$,children:[n.jsx(ki,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})]})}),n.jsx(Bt,{value:"notifications",className:"space-y-6",children:n.jsxs(ve,{className:`${o} border ${i} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(uo,{className:`w-5 h-5 ${r?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:s,children:"Notification Preferences"})]}),n.jsx(Lt,{className:a,children:"Choose how you want to be notified about important events"})]}),n.jsxs(Te,{className:"space-y-6 p-6 pt-0",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Gn,{className:`w-4 h-4 ${a}`}),n.jsx("h3",{className:`text-sm ${s}`,children:"Email Notifications"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${i} ${l} transition-colors`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"New Bookings"}),n.jsx("p",{className:`text-sm ${a}`,children:"Get notified when a new booking is made"})]}),n.jsx(Wt,{checked:_.emailNewBookings,onCheckedChange:R=>C({..._,emailNewBookings:R})})]}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${i} ${l} transition-colors`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Booking Cancellations"}),n.jsx("p",{className:`text-sm ${a}`,children:"Get notified when a booking is cancelled"})]}),n.jsx(Wt,{checked:_.emailCancellations,onCheckedChange:R=>C({..._,emailCancellations:R})})]}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${i} ${l} transition-colors`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Daily Reports"}),n.jsx("p",{className:`text-sm ${a}`,children:"Receive daily summary reports"})]}),n.jsx(Wt,{checked:_.emailDailyReports,onCheckedChange:R=>C({..._,emailDailyReports:R})})]})]})]}),n.jsx(tt,{className:i}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(xN,{className:`w-4 h-4 ${a}`}),n.jsx("h3",{className:`text-sm ${s}`,children:"SMS Notifications"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${i} ${l} transition-colors`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Booking Reminders"}),n.jsx("p",{className:`text-sm ${a}`,children:"Send SMS reminders to customers"})]}),n.jsx(Wt,{checked:_.smsReminders,onCheckedChange:R=>C({..._,smsReminders:R})})]}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${i} ${l} transition-colors`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Urgent Alerts"}),n.jsx("p",{className:`text-sm ${a}`,children:"Get SMS for urgent issues"})]}),n.jsx(Wt,{checked:_.smsUrgentAlerts,onCheckedChange:R=>C({..._,smsUrgentAlerts:R})})]})]})]}),n.jsx(tt,{className:i}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(J,{variant:"outline",className:"h-11",children:"Cancel"}),n.jsxs(J,{style:{backgroundColor:r?"#4f46e5":void 0},className:r?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",onClick:O,children:[n.jsx(ki,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})]})}),n.jsx(Bt,{value:"security",className:"space-y-6",children:n.jsxs(ve,{className:`${o} border ${i} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xn,{className:`w-5 h-5 ${r?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:s,children:"Security Settings"})]}),n.jsx(Lt,{className:a,children:"Manage your account security and password"})]}),n.jsxs(Te,{className:"space-y-6 p-6 pt-0",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"currentPassword",className:s,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(da,{className:"w-4 h-4"}),"Current Password"]})}),n.jsxs("div",{className:"relative",children:[n.jsx(ge,{id:"currentPassword",type:u?"text":"password",className:"h-11 pr-10"}),n.jsx(J,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-11 w-11",onClick:()=>h(!u),children:u?n.jsx(Op,{className:"w-4 h-4"}):n.jsx(Ln,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"newPassword",className:s,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(nm,{className:"w-4 h-4"}),"New Password"]})}),n.jsxs("div",{className:"relative",children:[n.jsx(ge,{id:"newPassword",type:f?"text":"password",className:"h-11 pr-10"}),n.jsx(J,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-11 w-11",onClick:()=>m(!f),children:f?n.jsx(Op,{className:"w-4 h-4"}):n.jsx(Ln,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"confirmPassword",className:s,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Tt,{className:"w-4 h-4"}),"Confirm New Password"]})}),n.jsxs("div",{className:"relative",children:[n.jsx(ge,{id:"confirmPassword",type:y?"text":"password",className:"h-11 pr-10"}),n.jsx(J,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-11 w-11",onClick:()=>g(!y),children:y?n.jsx(Op,{className:"w-4 h-4"}):n.jsx(Ln,{className:"w-4 h-4"})})]})]}),n.jsx(tt,{className:i}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${i} ${l} transition-colors`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Xn,{className:`w-4 h-4 ${r?"text-emerald-400":"text-green-600"}`}),n.jsx("p",{className:`text-sm ${s}`,children:"Two-Factor Authentication"}),v&&n.jsx(ze,{className:r?"bg-emerald-500/20 text-emerald-400 border-0":"bg-green-100 text-green-700 border-0",children:"Enabled"})]}),n.jsx("p",{className:`text-sm ${a}`,children:"Add an extra layer of security to your account"})]}),n.jsx(Wt,{checked:v,onCheckedChange:b})]}),n.jsx(tt,{className:i}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(J,{variant:"outline",className:"h-11",children:"Cancel"}),n.jsxs(J,{style:{backgroundColor:r?"#4f46e5":void 0},className:r?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",onClick:P,children:[n.jsx(ki,{className:"w-4 h-4 mr-2"}),"Update Password"]})]})]})]})}),n.jsx(Bt,{value:"appearance",className:"space-y-6",children:n.jsxs(ve,{className:`${o} border ${i} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ip,{className:`w-5 h-5 ${r?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:s,children:"Appearance Settings"})]}),n.jsx(Lt,{className:a,children:"Customize how the dashboard looks and feels"})]}),n.jsxs(Te,{className:"space-y-6 p-6 pt-0",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:s,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ip,{className:"w-4 h-4"}),"Theme Mode"]})}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("button",{onClick:()=>e("light"),className:`p-4 rounded-lg border-2 transition-all ${t==="light"?r?"border-[#4f46e5] bg-[#4f46e5]/10":"border-blue-600 bg-blue-50":r?`border-[#2a2a2a] ${l}`:"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(Ry,{className:`w-6 h-6 mx-auto mb-2 ${t==="light"?r?"text-[#6366f1]":"text-blue-600":a}`}),n.jsx("p",{className:`text-sm ${s}`,children:"Light"})]}),n.jsxs("button",{onClick:()=>e("dark"),className:`p-4 rounded-lg border-2 transition-all ${t==="dark"?r?"border-[#4f46e5] bg-[#4f46e5]/10":"border-blue-600 bg-blue-50":r?`border-[#2a2a2a] ${l}`:"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(Eg,{className:`w-6 h-6 mx-auto mb-2 ${t==="dark"?r?"text-[#6366f1]":"text-blue-600":a}`}),n.jsx("p",{className:`text-sm ${s}`,children:"Dark"})]}),n.jsxs("button",{onClick:()=>e("system"),className:`p-4 rounded-lg border-2 transition-all ${t==="system"?r?"border-[#4f46e5] bg-[#4f46e5]/10":"border-blue-600 bg-blue-50":r?`border-[#2a2a2a] ${l}`:"border-gray-200 hover:border-gray-300"}`,children:[n.jsx($1,{className:`w-6 h-6 mx-auto mb-2 ${t==="system"?r?"text-[#6366f1]":"text-blue-600":a}`}),n.jsx("p",{className:`text-sm ${s}`,children:"System"})]})]})]}),n.jsx(tt,{className:i}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:s,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sm,{className:"w-4 h-4"}),"Sidebar Position"]})}),n.jsxs(Kt,{defaultValue:"left",children:[n.jsx(Xt,{className:"h-11",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"left",children:"Left"}),n.jsx(Ce,{value:"right",children:"Right"})]})]})]}),n.jsx(tt,{className:i}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${i} ${l} transition-colors`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(ku,{className:`w-4 h-4 ${a}`}),n.jsx("p",{className:`text-sm ${s}`,children:"Compact Mode"})]}),n.jsx("p",{className:`text-sm ${a}`,children:"Reduce spacing for more content on screen"})]}),n.jsx(Wt,{})]}),n.jsx(tt,{className:i}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(J,{variant:"outline",className:"h-11",children:"Cancel"}),n.jsxs(J,{style:{backgroundColor:r?"#4f46e5":void 0},className:r?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",onClick:M,children:[n.jsx(ki,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})]})})]})]})}function Sze(){const{theme:t}=fn(),e=t==="dark",r=e?"text-white":"text-gray-900",s=e?"text-[#a3a3a3]":"text-gray-600",a=e?"border-[#2a2a2a]":"border-gray-200",i=e?"bg-[#161616]":"bg-white",o=e?"bg-[#1e1e1e]":"bg-gray-50",l=e?"hover:shadow-[0_0_15px_rgba(79,70,229,0.1)]":"hover:shadow-md",[c]=S.useState({name:"John Doe",email:"john.doe@bookingtms.com",phone:"+1 (555) 123-4567",role:"Owner",company:"Escape Quest Adventures",location:"San Francisco, CA",joinDate:"January 15, 2024",plan:"Professional",status:"Active",avatar:IN}),[d]=S.useState({bookings:{current:45,limit:60},games:{current:8,limit:15},staff:{current:12,limit:25},aiConversations:{current:52,limit:60},credits:{current:140,limit:200}}),[u]=S.useState([{action:"Created new game",details:"The Haunted Manor",time:"2 hours ago",icon:Uc},{action:"Added staff member",details:"Sarah Johnson - Manager",time:"5 hours ago",icon:Wr},{action:"Updated billing information",details:"Payment method updated",time:"1 day ago",icon:fa},{action:"Generated report",details:"Monthly Revenue Report",time:"2 days ago",icon:Ru},{action:"Modified waiver template",details:"Standard Liability Waiver",time:"3 days ago",icon:Xn}]),h=(f,m)=>f/m*100;return n.jsxs("div",{className:"space-y-6",children:[n.jsx(ui,{title:"My Account",description:"Manage your account information and preferences",sticky:!0}),n.jsx(ve,{className:`${i} border ${a} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-6 w-full",children:[n.jsxs(Th,{className:"w-24 h-24",children:[n.jsx(Oh,{src:c.avatar}),n.jsx(Ih,{className:`text-2xl ${e?"bg-[#4f46e5] text-white":"bg-blue-600 text-white"}`,children:c.name.split(" ").map(f=>f[0]).join("")})]}),n.jsxs("div",{className:"space-y-4 flex-1",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[n.jsx("h2",{className:r,children:c.name}),n.jsxs(ze,{className:e?"bg-emerald-500/20 text-emerald-400 border-0":"bg-green-100 text-green-700 border-0",children:[n.jsx(Tt,{className:"w-3 h-3 mr-1"}),c.status]})]}),n.jsxs("p",{className:s,children:[c.role,"  ",c.company]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-3",children:[n.jsxs("div",{className:`flex items-center gap-2 text-sm ${s}`,children:[n.jsx(Gn,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:c.email})]}),n.jsxs("div",{className:`flex items-center gap-2 text-sm ${s}`,children:[n.jsx(Gs,{className:"w-4 h-4 flex-shrink-0"}),c.phone]}),n.jsxs("div",{className:`flex items-center gap-2 text-sm ${s}`,children:[n.jsx(ic,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:c.company})]}),n.jsxs("div",{className:`flex items-center gap-2 text-sm ${s}`,children:[n.jsx(El,{className:"w-4 h-4 flex-shrink-0"}),c.location]}),n.jsxs("div",{className:`flex items-center gap-2 text-sm ${s}`,children:[n.jsx(Nn,{className:"w-4 h-4 flex-shrink-0"}),"Member since ",c.joinDate]}),n.jsxs("div",{className:`flex items-center gap-2 text-sm ${s}`,children:[n.jsx(Xn,{className:"w-4 h-4 flex-shrink-0"}),c.plan," Plan"]})]})]})]}),n.jsxs(J,{variant:"outline",className:"w-full sm:w-auto h-11",children:[n.jsx($p,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]})})}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(ve,{className:`${i} border ${a} shadow-sm ${l} transition-all`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Bookings This Month"}),n.jsx("p",{className:`text-2xl mt-2 ${r}`,children:d.bookings.current})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(Nn,{className:`w-6 h-6 ${e?"text-[#6366f1]":"text-blue-600"}`})})]})})}),n.jsx(ve,{className:`${i} border ${a} shadow-sm ${l} transition-all`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Active Games"}),n.jsx("p",{className:`text-2xl mt-2 ${r}`,children:"8"})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-emerald-500/20":"bg-green-100"}`,children:n.jsx(Uc,{className:`w-6 h-6 ${e?"text-emerald-400":"text-green-600"}`})})]})})}),n.jsx(ve,{className:`${i} border ${a} shadow-sm ${l} transition-all`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Team Members"}),n.jsx("p",{className:`text-2xl mt-2 ${r}`,children:"12"})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-purple-500/20":"bg-purple-100"}`,children:n.jsx(Wr,{className:`w-6 h-6 ${e?"text-purple-400":"text-purple-600"}`})})]})})}),n.jsx(ve,{className:`${i} border ${a} shadow-sm ${l} transition-all`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"AI Conversations"}),n.jsx("p",{className:`text-2xl mt-2 ${r}`,children:d.aiConversations.current})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-orange-500/20":"bg-orange-100"}`,children:n.jsx(Ru,{className:`w-6 h-6 ${e?"text-orange-400":"text-orange-600"}`})})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsx(at,{className:r,children:"Usage & Limits"}),n.jsx(Lt,{className:s,children:"Current usage across your account"})]}),n.jsxs(Te,{className:"space-y-6 p-6 pt-0",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:`flex items-center justify-between text-sm ${s}`,children:[n.jsx("span",{children:"Bookings this month"}),n.jsxs("span",{className:r,children:[d.bookings.current.toLocaleString()," / ",d.bookings.limit.toLocaleString()]})]}),n.jsx($h,{value:h(d.bookings.current,d.bookings.limit),className:"h-2"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:`flex items-center justify-between text-sm ${s}`,children:[n.jsx("span",{children:"Active Games"}),n.jsxs("span",{className:r,children:[d.games.current," / ",d.games.limit]})]}),n.jsx($h,{value:h(d.games.current,d.games.limit),className:"h-2"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:`flex items-center justify-between text-sm ${s}`,children:[n.jsx("span",{children:"Staff Members"}),n.jsxs("span",{className:r,children:[d.staff.current," / ",d.staff.limit]})]}),n.jsx($h,{value:h(d.staff.current,d.staff.limit),className:"h-2"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:`flex items-center justify-between text-sm ${s}`,children:[n.jsx("span",{children:"AI Conversations"}),n.jsxs("span",{className:r,children:[d.aiConversations.current.toLocaleString()," / ",d.aiConversations.limit.toLocaleString()]})]}),n.jsx($h,{value:h(d.aiConversations.current,d.aiConversations.limit),className:"h-2"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:`flex items-center justify-between text-sm ${s}`,children:[n.jsx("span",{children:"Credits Used"}),n.jsxs("span",{className:r,children:[d.credits.current," / ",d.credits.limit]})]}),n.jsx($h,{value:h(d.credits.current,d.credits.limit),className:"h-2"})]}),n.jsx(tt,{className:a}),n.jsxs(J,{variant:"outline",className:"w-full h-11",children:[n.jsx(Is,{className:"w-4 h-4 mr-2"}),"Upgrade Plan"]})]})]}),n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsx(at,{className:r,children:"Recent Activity"}),n.jsx(Lt,{className:s,children:"Your latest actions and changes"})]}),n.jsx(Te,{className:"p-6 pt-0",children:n.jsx("div",{className:"space-y-4",children:u.map((f,m)=>{const y=f.icon;return n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${o}`,children:n.jsx(y,{className:`w-5 h-5 ${s}`})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:`text-sm ${r}`,children:f.action}),n.jsx("p",{className:`text-xs ${s}`,children:f.details}),n.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[n.jsx(Qt,{className:`w-3 h-3 ${e?"text-[#737373]":"text-gray-400"}`}),n.jsx("p",{className:`text-xs ${e?"text-[#737373]":"text-gray-500"}`,children:f.time})]})]})]},m)})})})]})]}),n.jsx(ve,{className:`border shadow-sm ${e?"border-emerald-500/30 bg-emerald-500/10":"border-green-200 bg-green-50"}`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Tt,{className:`w-6 h-6 mt-0.5 flex-shrink-0 ${e?"text-emerald-400":"text-green-600"}`}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:e?"text-emerald-300":"text-green-900",children:"Account in Good Standing"}),n.jsx("p",{className:`text-sm mt-1 ${e?"text-emerald-400/70":"text-green-700"}`,children:"Your account is active and all services are running smoothly. Next billing date: December 15, 2025"})]})]})})})]})}function _ze(){const{theme:t}=fn(),e=t==="dark",r=e?"text-white":"text-gray-900",s=e?"text-[#a3a3a3]":"text-gray-600",a=e?"border-[#2a2a2a]":"border-gray-200",i=e?"bg-[#161616]":"bg-white",o=e?"hover:bg-[#1e1e1e]":"hover:bg-gray-50",[l,c]=S.useState("personal"),[d,u]=S.useState(!1),[h,f]=S.useState(!1),[m,y]=S.useState(!1),[g,v]=S.useState(!1),[b,w]=S.useState(!1),[N,_]=S.useState(!1),[C,E]=S.useState(!1),[A,I]=S.useState({firstName:"John",lastName:"Doe",email:"john.doe@bookingtms.com",phone:"+1 (555) 123-4567",company:"Escape Quest Adventures",address:"123 Main Street",city:"San Francisco",state:"CA",zip:"94102",country:"United States",timezone:"America/Los_Angeles",language:"en",avatar:IN}),[$,O]=S.useState({emailBookings:!0,emailReports:!0,emailMarketing:!1,pushBookings:!0,pushStaff:!0,smsBookings:!1,smsReminders:!0}),[P,M]=S.useState({twoFactorEnabled:!1,sessionTimeout:"30",loginAlerts:!0}),R=()=>{w(!0),me.success("Profile settings saved successfully"),setTimeout(()=>{w(!1)},1500)},W=()=>{v(!0),me.success("Notification preferences updated"),setTimeout(()=>{v(!1)},1500)},Y=()=>{_(!0),me.success("Security settings updated"),setTimeout(()=>{_(!1)},1500)},K=()=>{E(!0),me.success("Preferences saved successfully"),setTimeout(()=>{E(!1)},1500)},L=()=>{me.success("Password updated successfully")},F=()=>{me.success("Profile photo updated")};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(ui,{title:"Profile Settings",description:"Manage your personal information and preferences",sticky:!0}),n.jsxs(ta,{value:l,onValueChange:c,className:"w-full",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(pa,{className:"w-full sm:w-auto",children:[n.jsxs(Ft,{value:"personal",className:"gap-2",children:[n.jsx(ca,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Personal Info"}),n.jsx("span",{className:"sm:hidden",children:"Info"})]}),n.jsxs(Ft,{value:"security",className:"gap-2",children:[n.jsx(Xn,{className:"w-4 h-4"}),"Security"]}),n.jsxs(Ft,{value:"notifications",className:"gap-2",children:[n.jsx(uo,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Notifications"}),n.jsx("span",{className:"sm:hidden",children:"Notif"})]}),n.jsxs(Ft,{value:"preferences",className:"gap-2",children:[n.jsx(Ip,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Preferences"}),n.jsx("span",{className:"sm:hidden",children:"Prefs"})]})]})}),n.jsxs(Bt,{value:"personal",className:"space-y-6 mt-6",children:[n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kp,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:r,children:"Profile Photo"})]}),n.jsx(Lt,{className:s,children:"Update your profile picture"})]}),n.jsx(Te,{className:"p-6 pt-0",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsxs(Th,{className:"w-24 h-24",children:[n.jsx(Oh,{src:A.avatar}),n.jsxs(Ih,{className:`text-2xl ${e?"bg-[#4f46e5] text-white":"bg-blue-600 text-white"}`,children:[A.firstName[0],A.lastName[0]]})]}),n.jsx("button",{onClick:F,className:`absolute bottom-0 right-0 w-8 h-8 rounded-full flex items-center justify-center border-2 shadow-lg transition-colors ${e?"bg-[#4f46e5] border-[#161616] hover:bg-[#4338ca]":"bg-blue-600 border-white hover:bg-blue-700"}`,children:n.jsx(Kp,{className:"w-4 h-4 text-white"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(J,{variant:"outline",className:"h-11",onClick:F,children:[n.jsx(Qo,{className:"w-4 h-4 mr-2"}),"Upload New Photo"]}),n.jsx("p",{className:`text-xs ${s}`,children:"JPG, PNG or GIF. Max size 2MB."})]})]})})]}),n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ca,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:r,children:"Basic Information"})]}),n.jsx(Lt,{className:s,children:"Update your personal details"})]}),n.jsxs(Te,{className:"space-y-4 p-6 pt-0",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"firstName",className:r,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ca,{className:"w-4 h-4"}),"First Name"]})}),n.jsx(ge,{id:"firstName",value:A.firstName,onChange:ee=>I({...A,firstName:ee.target.value}),className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"lastName",className:r,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ca,{className:"w-4 h-4"}),"Last Name"]})}),n.jsx(ge,{id:"lastName",value:A.lastName,onChange:ee=>I({...A,lastName:ee.target.value}),className:"h-11"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"email",className:r,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gn,{className:"w-4 h-4"}),"Email Address"]})}),n.jsx(ge,{id:"email",type:"email",value:A.email,onChange:ee=>I({...A,email:ee.target.value}),className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"phone",className:r,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gs,{className:"w-4 h-4"}),"Phone Number"]})}),n.jsx(ge,{id:"phone",type:"tel",value:A.phone,onChange:ee=>I({...A,phone:ee.target.value}),className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"company",className:r,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ic,{className:"w-4 h-4"}),"Company Name"]})}),n.jsx(ge,{id:"company",value:A.company,onChange:ee=>I({...A,company:ee.target.value}),className:"h-11"})]})]})]}),n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(El,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:r,children:"Address Information"})]}),n.jsx(Lt,{className:s,children:"Your business location details"})]}),n.jsxs(Te,{className:"space-y-4 p-6 pt-0",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"address",className:r,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(El,{className:"w-4 h-4"}),"Street Address"]})}),n.jsx(ge,{id:"address",value:A.address,onChange:ee=>I({...A,address:ee.target.value}),className:"h-11"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"city",className:r,children:"City"}),n.jsx(ge,{id:"city",value:A.city,onChange:ee=>I({...A,city:ee.target.value}),className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"state",className:r,children:"State"}),n.jsx(ge,{id:"state",value:A.state,onChange:ee=>I({...A,state:ee.target.value}),className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"zip",className:r,children:"ZIP Code"}),n.jsx(ge,{id:"zip",value:A.zip,onChange:ee=>I({...A,zip:ee.target.value}),className:"h-11"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"country",className:r,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ku,{className:"w-4 h-4"}),"Country"]})}),n.jsxs(Kt,{value:A.country,onValueChange:ee=>I({...A,country:ee}),children:[n.jsx(Xt,{className:"h-11",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"United States",children:"United States"}),n.jsx(Ce,{value:"Canada",children:"Canada"}),n.jsx(Ce,{value:"United Kingdom",children:"United Kingdom"}),n.jsx(Ce,{value:"Australia",children:"Australia"})]})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(J,{variant:"outline",className:"h-11",disabled:b,children:"Cancel"}),n.jsx(J,{style:{backgroundColor:b?"#10b981":e?"#4f46e5":void 0},className:b?"text-white hover:opacity-90":e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",onClick:R,disabled:b,children:b?n.jsxs(n.Fragment,{children:[n.jsx(jn,{className:"w-4 h-4 mr-2"}),"Success"]}):n.jsxs(n.Fragment,{children:[n.jsx(ki,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]}),n.jsxs(Bt,{value:"security",className:"space-y-6 mt-6",children:[n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(da,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:r,children:"Change Password"})]}),n.jsx(Lt,{className:s,children:"Update your account password"})]}),n.jsxs(Te,{className:"space-y-4 p-6 pt-0",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"currentPassword",className:r,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(da,{className:"w-4 h-4"}),"Current Password"]})}),n.jsxs("div",{className:"relative",children:[n.jsx(ge,{id:"currentPassword",type:d?"text":"password",className:"h-11 pr-10"}),n.jsx(J,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-11 w-11",onClick:()=>u(!d),children:d?n.jsx(Op,{className:"w-4 h-4"}):n.jsx(Ln,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"newPassword",className:r,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(nm,{className:"w-4 h-4"}),"New Password"]})}),n.jsxs("div",{className:"relative",children:[n.jsx(ge,{id:"newPassword",type:h?"text":"password",className:"h-11 pr-10"}),n.jsx(J,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-11 w-11",onClick:()=>f(!h),children:h?n.jsx(Op,{className:"w-4 h-4"}):n.jsx(Ln,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"confirmPassword",className:r,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Tt,{className:"w-4 h-4"}),"Confirm New Password"]})}),n.jsxs("div",{className:"relative",children:[n.jsx(ge,{id:"confirmPassword",type:m?"text":"password",className:"h-11 pr-10"}),n.jsx(J,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-11 w-11",onClick:()=>y(!m),children:m?n.jsx(Op,{className:"w-4 h-4"}):n.jsx(Ln,{className:"w-4 h-4"})})]})]}),n.jsx(tt,{className:a}),n.jsxs(J,{variant:"outline",onClick:L,className:"h-11",children:[n.jsx(da,{className:"w-4 h-4 mr-2"}),"Change Password"]})]})]}),n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xn,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:r,children:"Two-Factor Authentication"})]}),n.jsx(Lt,{className:s,children:"Add an extra layer of security to your account"})]}),n.jsxs(Te,{className:"space-y-4 p-6 pt-0",children:[n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${a} ${o} transition-colors`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Xn,{className:`w-4 h-4 ${e?"text-emerald-400":"text-green-600"}`}),n.jsx("p",{className:`text-sm ${r}`,children:"Enable Two-Factor Authentication"}),P.twoFactorEnabled&&n.jsx(ze,{className:e?"bg-emerald-500/20 text-emerald-400 border-0":"bg-green-100 text-green-700 border-0",children:"Enabled"})]}),n.jsx("p",{className:`text-xs ${s}`,children:"Require a verification code in addition to your password"})]}),n.jsx(Wt,{checked:P.twoFactorEnabled,onCheckedChange:ee=>M({...P,twoFactorEnabled:ee})})]}),P.twoFactorEnabled&&n.jsx("div",{className:`p-4 rounded-lg border ${e?"bg-[#4f46e5]/10 border-[#4f46e5]/30":"bg-blue-50 border-blue-200"}`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Xn,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${e?"text-[#e0e7ff]":"text-blue-900"}`,children:"Two-Factor Authentication Active"}),n.jsx("p",{className:`text-xs mt-1 ${e?"text-[#c7d2fe]":"text-blue-700"}`,children:"Your account is protected with 2FA. You'll need your authentication app to sign in."})]})]})})]})]}),n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:r,children:"Session Settings"})]}),n.jsx(Lt,{className:s,children:"Manage your login sessions and alerts"})]}),n.jsxs(Te,{className:"space-y-4 p-6 pt-0",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"sessionTimeout",className:r,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:"w-4 h-4"}),"Session Timeout"]})}),n.jsxs(Kt,{value:P.sessionTimeout,onValueChange:ee=>M({...P,sessionTimeout:ee}),children:[n.jsx(Xt,{className:"h-11",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"15",children:"15 minutes"}),n.jsx(Ce,{value:"30",children:"30 minutes"}),n.jsx(Ce,{value:"60",children:"1 hour"}),n.jsx(Ce,{value:"120",children:"2 hours"}),n.jsx(Ce,{value:"never",children:"Never"})]})]})]}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${a} ${o} transition-colors`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(us,{className:`w-4 h-4 ${s}`}),n.jsx("p",{className:`text-sm ${r}`,children:"Login Alerts"})]}),n.jsx("p",{className:`text-xs ${s}`,children:"Get notified of new login attempts from unrecognized devices"})]}),n.jsx(Wt,{checked:P.loginAlerts,onCheckedChange:ee=>M({...P,loginAlerts:ee})})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(J,{variant:"outline",className:"h-11",disabled:N,children:"Cancel"}),n.jsx(J,{style:{backgroundColor:N?"#10b981":e?"#4f46e5":void 0},className:N?"text-white hover:opacity-90":e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",onClick:Y,disabled:N,children:N?n.jsxs(n.Fragment,{children:[n.jsx(jn,{className:"w-4 h-4 mr-2"}),"Success"]}):n.jsxs(n.Fragment,{children:[n.jsx(ki,{className:"w-4 h-4 mr-2"}),"Save Security Settings"]})})]})]}),n.jsxs(Bt,{value:"notifications",className:"space-y-6 mt-6",children:[n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gn,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:r,children:"Email Notifications"})]}),n.jsx(Lt,{className:s,children:"Manage your email notification preferences"})]}),n.jsxs(Te,{className:"space-y-3 p-6 pt-0",children:[n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${a} ${o} transition-colors`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(uo,{className:`w-4 h-4 ${s}`}),n.jsx("p",{className:`text-sm ${r}`,children:"Booking Notifications"})]}),n.jsx("p",{className:`text-xs ${s}`,children:"New bookings, cancellations, and modifications"})]}),n.jsx(Wt,{checked:$.emailBookings,onCheckedChange:ee=>O({...$,emailBookings:ee})})]}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${a} ${o} transition-colors`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ru,{className:`w-4 h-4 ${s}`}),n.jsx("p",{className:`text-sm ${r}`,children:"Reports & Analytics"})]}),n.jsx("p",{className:`text-xs ${s}`,children:"Daily, weekly, and monthly reports"})]}),n.jsx(Wt,{checked:$.emailReports,onCheckedChange:ee=>O({...$,emailReports:ee})})]}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${a} ${o} transition-colors`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(rs,{className:`w-4 h-4 ${s}`}),n.jsx("p",{className:`text-sm ${r}`,children:"Marketing & Updates"})]}),n.jsx("p",{className:`text-xs ${s}`,children:"Product updates, tips, and promotional content"})]}),n.jsx(Wt,{checked:$.emailMarketing,onCheckedChange:ee=>O({...$,emailMarketing:ee})})]})]})]}),n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(uo,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:r,children:"Push Notifications"})]}),n.jsx(Lt,{className:s,children:"In-app and browser notifications"})]}),n.jsxs(Te,{className:"space-y-3 p-6 pt-0",children:[n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${a} ${o} transition-colors`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Tt,{className:`w-4 h-4 ${s}`}),n.jsx("p",{className:`text-sm ${r}`,children:"New Bookings"})]}),n.jsx("p",{className:`text-xs ${s}`,children:"Instant alerts for new bookings"})]}),n.jsx(Wt,{checked:$.pushBookings,onCheckedChange:ee=>O({...$,pushBookings:ee})})]}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${a} ${o} transition-colors`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(ca,{className:`w-4 h-4 ${s}`}),n.jsx("p",{className:`text-sm ${r}`,children:"Staff Updates"})]}),n.jsx("p",{className:`text-xs ${s}`,children:"Staff check-ins and schedule changes"})]}),n.jsx(Wt,{checked:$.pushStaff,onCheckedChange:ee=>O({...$,pushStaff:ee})})]})]})]}),n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xN,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:r,children:"SMS Notifications"})]}),n.jsx(Lt,{className:s,children:"Text message alerts"})]}),n.jsxs(Te,{className:"space-y-3 p-6 pt-0",children:[n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${a} ${o} transition-colors`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(us,{className:`w-4 h-4 ${s}`}),n.jsx("p",{className:`text-sm ${r}`,children:"Booking Alerts"})]}),n.jsx("p",{className:`text-xs ${s}`,children:"Critical booking updates via SMS"})]}),n.jsx(Wt,{checked:$.smsBookings,onCheckedChange:ee=>O({...$,smsBookings:ee})})]}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${a} ${o} transition-colors`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Qt,{className:`w-4 h-4 ${s}`}),n.jsx("p",{className:`text-sm ${r}`,children:"Reminders"})]}),n.jsx("p",{className:`text-xs ${s}`,children:"Upcoming booking reminders"})]}),n.jsx(Wt,{checked:$.smsReminders,onCheckedChange:ee=>O({...$,smsReminders:ee})})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(J,{variant:"outline",className:"h-11",children:"Cancel"}),n.jsx(J,{style:{backgroundColor:g?"#10b981":e?"#4f46e5":"#2563eb"},className:"text-white hover:opacity-90 transition-all duration-300",onClick:W,disabled:g,children:g?n.jsxs(n.Fragment,{children:[n.jsx(jn,{className:"w-4 h-4 mr-2"}),"Success"]}):n.jsxs(n.Fragment,{children:[n.jsx(ki,{className:"w-4 h-4 mr-2"}),"Save Notification Settings"]})})]})]}),n.jsxs(Bt,{value:"preferences",className:"space-y-6 mt-6",children:[n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ku,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:r,children:"Regional Settings"})]}),n.jsx(Lt,{className:s,children:"Set your timezone and language preferences"})]}),n.jsxs(Te,{className:"space-y-4 p-6 pt-0",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"timezone",className:r,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:"w-4 h-4"}),"Timezone"]})}),n.jsxs(Kt,{value:A.timezone,onValueChange:ee=>I({...A,timezone:ee}),children:[n.jsx(Xt,{className:"h-11",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"America/Los_Angeles",children:"Pacific Time (PT)"}),n.jsx(Ce,{value:"America/Denver",children:"Mountain Time (MT)"}),n.jsx(Ce,{value:"America/Chicago",children:"Central Time (CT)"}),n.jsx(Ce,{value:"America/New_York",children:"Eastern Time (ET)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"language",className:r,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ku,{className:"w-4 h-4"}),"Language"]})}),n.jsxs(Kt,{value:A.language,onValueChange:ee=>I({...A,language:ee}),children:[n.jsx(Xt,{className:"h-11",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"en",children:"English"}),n.jsx(Ce,{value:"es",children:"Espaol"}),n.jsx(Ce,{value:"fr",children:"Franais"}),n.jsx(Ce,{value:"de",children:"Deutsch"})]})]})]})]})]}),n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ip,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:r,children:"Display Preferences"})]}),n.jsx(Lt,{className:s,children:"Customize how information is displayed"})]}),n.jsxs(Te,{className:"space-y-4 p-6 pt-0",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"dateFormat",className:r,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Nn,{className:"w-4 h-4"}),"Date Format"]})}),n.jsxs(Kt,{defaultValue:"mm/dd/yyyy",children:[n.jsx(Xt,{className:"h-11",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"mm/dd/yyyy",children:"MM/DD/YYYY"}),n.jsx(Ce,{value:"dd/mm/yyyy",children:"DD/MM/YYYY"}),n.jsx(Ce,{value:"yyyy-mm-dd",children:"YYYY-MM-DD"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"timeFormat",className:r,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:"w-4 h-4"}),"Time Format"]})}),n.jsxs(Kt,{defaultValue:"12",children:[n.jsx(Xt,{className:"h-11",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"12",children:"12-hour (2:30 PM)"}),n.jsx(Ce,{value:"24",children:"24-hour (14:30)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"currency",className:r,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Si,{className:"w-4 h-4"}),"Currency"]})}),n.jsxs(Kt,{defaultValue:"usd",children:[n.jsx(Xt,{className:"h-11",children:n.jsx(Yt,{})}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"usd",children:"USD ($)"}),n.jsx(Ce,{value:"eur",children:"EUR ()"}),n.jsx(Ce,{value:"gbp",children:"GBP ()"}),n.jsx(Ce,{value:"cad",children:"CAD ($)"})]})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(J,{variant:"outline",className:"h-11",disabled:C,children:"Cancel"}),n.jsx(J,{style:{backgroundColor:C?"#10b981":e?"#4f46e5":void 0},className:C?"text-white hover:opacity-90":e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",onClick:K,disabled:C,children:C?n.jsxs(n.Fragment,{children:[n.jsx(jn,{className:"w-4 h-4 mr-2"}),"Success"]}):n.jsxs(n.Fragment,{children:[n.jsx(ki,{className:"w-4 h-4 mr-2"}),"Save Preferences"]})})]})]})]})]})}const _l=[{id:"free",name:"Free",price:0,description:"Perfect for getting started with booking management",icon:Oo,color:"text-emerald-600",bgColor:"bg-emerald-100",features:["Unlimited bookings management","3.9% transaction fee on customer bookings","3 active games/rooms","3 staff members","Basic booking widget (1 template)","Standard waivers","Email support","Basic reports","Mobile app access","Perfect for solo operators"],limits:{bookings:"Unlimited",games:"3",staff:"3",credits:"Not included",aiConversations:"Not included",widgets:"1 template",apiAccess:"Not included"}},{id:"starter",name:"Starter",price:49,description:"Perfect for small escape room businesses getting started",icon:Gd,color:"text-blue-600",bgColor:"bg-blue-100",features:["Up to 30 free bookings/month","Up to 30 free AI conversations/month","100 credits/month included","5 active games/rooms","5 staff members","Basic booking widgets (3 templates)","Standard waivers","2 credits per booking beyond limit","2 credits per waiver","2 credits per AI conversation beyond limit","Email support","Basic reports","Mobile app access"],limits:{bookings:"30/month",games:"5",staff:"5",credits:"100/month",aiConversations:"30/month",widgets:"3 templates",apiAccess:"Not included"}},{id:"professional",name:"Professional",price:99,description:"Advanced features for growing escape room businesses",icon:yn,color:"text-purple-600",bgColor:"bg-purple-100",popular:!0,features:["Up to 60 free bookings/month","Up to 60 free AI conversations/month","200 credits/month included","15 active games/rooms","25 staff members","All booking widgets (8 templates)","Custom waiver templates","Advanced AI agents (Customer Assistant + 2 specialized)","Google Ads & Facebook Ads integration","Advanced analytics & reports","2 credits per booking beyond limit","2 credits per waiver","2 credits per AI conversation beyond limit","Priority email & chat support","Custom branding"],limits:{bookings:"60/month",games:"15",staff:"25",credits:"200/month",aiConversations:"60/month",widgets:"8 templates",apiAccess:"Not included"}},{id:"enterprise",name:"Enterprise",price:"Custom",description:"Complete solution for established escape room chains",icon:T1,color:"text-orange-600",bgColor:"bg-orange-100",features:["Unlimited bookings","Unlimited AI conversations","Custom credit allocation - contact sales","Unlimited games/rooms","Unlimited staff members","All booking widgets with customization","Custom waiver templates + legal review","All AI agents including Calling Agent","Full marketing suite (Google, Facebook, Tag Manager)","Booster AI (coming soon)","Advanced analytics with custom reports","API access included","Dedicated account manager","24/7 phone support","White-label options","Multi-location support","Custom integrations","Training & onboarding"],limits:{bookings:"Unlimited",games:"Unlimited",staff:"Unlimited",credits:"Contact Sales",aiConversations:"Unlimited",widgets:"All + Custom",apiAccess:"Included"}}];function Cze(){const{theme:t}=fn(),e=t==="dark",r=e?"text-white":"text-gray-900",s=e?"text-[#a3a3a3]":"text-gray-600",a=e?"border-[#2a2a2a]":"border-gray-200",i=e?"bg-[#161616]":"bg-white",o=e?"bg-[#1e1e1e]":"bg-gray-50",l=e?"hover:bg-[#1e1e1e]":"hover:bg-gray-50",[c]=S.useState("professional"),[d,u]=S.useState("monthly"),[h,f]=S.useState(!1),[m,y]=S.useState(null),[g,v]=S.useState(!1),[b,w]=S.useState(1),[N,_]=S.useState(null),[C,E]=S.useState(!1),[A,I]=S.useState(!1),[$,O]=S.useState(null),[P,M]=S.useState(""),[R]=S.useState([{id:"INV-2024-11",date:"Nov 1, 2024",amount:99,status:"Paid",plan:"Professional"},{id:"INV-2024-10",date:"Oct 1, 2024",amount:99,status:"Paid",plan:"Professional"},{id:"INV-2024-09",date:"Sep 1, 2024",amount:99,status:"Paid",plan:"Professional"},{id:"INV-2024-08",date:"Aug 1, 2024",amount:99,status:"Paid",plan:"Professional"}]),[W]=S.useState(500),[Y]=S.useState({bookings:45,waivers:28,aiConversations:67}),[K,L]=S.useState([{id:"1",type:"card",brand:"Visa",last4:"4242",expiryMonth:"12",expiryYear:"2025",isDefault:!0}]),[F,ee]=S.useState({cardNumber:"",expiryDate:"",cvc:"",name:""}),se=()=>d==="yearly"?.2:0,q=H=>{if(typeof H=="string")return H;if(H===0)return 0;const Le=H*12,Ye=se(),xt=Le*(1-Ye);return d==="yearly"?xt/12:H},z=()=>{me.success(`Successfully changed to ${_l.find(H=>H.id===m)?.name} plan`),f(!1)},Z=(H,Le)=>{_({amount:H,price:Le}),w(2)},X=()=>new Promise(H=>{setTimeout(()=>{const Le=Math.random()>.3;H(Le)},2500)}),Q=async()=>{I(!0),O(null);const H=await X();if(I(!1),H){const Le={id:String(K.length+1),type:"card",brand:"Visa",last4:F.cardNumber.slice(-4),expiryMonth:F.expiryDate.split("/")[0],expiryYear:"20"+F.expiryDate.split("/")[1],isDefault:K.length===0};L([...K,Le]),ee({cardNumber:"",expiryDate:"",cvc:"",name:""}),O("success")}else{const Le=["Unable to verify card details. Please check your information.","Card validation failed. Please try again.","This card cannot be added. Please use a different card.","Payment processor error. Please try again later.","Card verification failed. Please contact your bank."];M(Le[Math.floor(Math.random()*Le.length)]),O("failed")}},ne=()=>{O(null),M(""),I(!1)},ce=()=>{E(!1),ne(),ee({cardNumber:"",expiryDate:"",cvc:"",name:""})},ie=()=>{v(!1),w(1),_(null),ne()},pe=()=>{ne()},ae=()=>{C?(ce(),me.success("Payment method added successfully")):g&&N&&(me.success(`Successfully purchased ${N.amount} credits for $${N.price}`),ie())},be=H=>{L(K.map(Le=>({...Le,isDefault:Le.id===H}))),me.success("Default payment method updated")},we=H=>{L(K.filter(Le=>Le.id!==H)),me.success("Payment method removed")},Ie=H=>{const Ye=H.replace(/\s+/g,"").replace(/[^0-9]/gi,"").match(/\d{4,16}/g),xt=Ye&&Ye[0]||"",qe=[];for(let ft=0,ke=xt.length;ft<ke;ft+=4)qe.push(xt.substring(ft,ft+4));return qe.length?qe.join(" "):H},Ee=H=>{const Le=H.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return Le.length>=2?Le.slice(0,2)+"/"+Le.slice(2,4):Le};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(ui,{title:"Billing & Subscription",description:"Manage your plan, billing, and payment information",sticky:!0}),n.jsx(ve,{className:`border shadow-lg ${e?"border-purple-500/30 bg-gradient-to-br from-purple-900/20 to-[#161616]":"border-purple-200 bg-gradient-to-br from-purple-50 to-white"}`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-6",children:[n.jsxs("div",{className:"flex items-start gap-4 w-full",children:[n.jsx("div",{className:`w-16 h-16 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0 ${e?"bg-gradient-to-br from-[#4f46e5] to-[#4338ca]":"bg-gradient-to-br from-purple-600 to-purple-700"}`,children:n.jsx(yn,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[n.jsx("h2",{className:r,children:"Professional Plan"}),n.jsxs(ze,{className:e?"bg-emerald-500/20 text-emerald-400 border-0":"bg-green-100 text-green-700 border-0",children:[n.jsx(Tt,{className:"w-3 h-3 mr-1"}),"Active"]})]}),n.jsx("p",{className:`text-sm ${s} mb-3`,children:"Your current subscription includes all professional features"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm",children:[n.jsxs("div",{className:`flex items-center gap-2 ${s}`,children:[n.jsx(Nn,{className:"w-4 h-4"}),"Renews Dec 15, 2025"]}),n.jsxs("div",{className:`flex items-center gap-2 ${s}`,children:[n.jsx(Xn,{className:"w-4 h-4"}),"Custom Pricing"]}),n.jsxs("div",{className:`flex items-center gap-2 ${s}`,children:[n.jsx(Dh,{className:"w-4 h-4"}),"Premium Support"]})]})]})]}),n.jsx(J,{variant:"outline",className:"h-11",children:"Manage Subscription"})]})})}),n.jsxs("div",{className:`flex items-center justify-center gap-4 p-4 rounded-lg border ${a} ${o}`,children:[n.jsx("span",{className:`text-sm ${d==="monthly"?r:s}`,children:"Monthly"}),n.jsx(Wt,{checked:d==="yearly",onCheckedChange:H=>u(H?"yearly":"monthly")}),n.jsx("span",{className:`text-sm ${d==="yearly"?r:s}`,children:"Yearly"}),d==="yearly"&&n.jsxs(ze,{className:e?"bg-emerald-500/20 text-emerald-400 border-0":"bg-green-100 text-green-700 border-0",children:[n.jsx(h1,{className:"w-3 h-3 mr-1"}),"Save 20%"]})]}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:_l.map(H=>{const Le=H.icon,Ye=H.id===c;return q(H.price),n.jsxs(ve,{className:`border-2 shadow-lg transition-all ${H.popular?e?"border-purple-500/50 bg-gradient-to-br from-purple-900/20 to-[#161616]":"border-purple-300 bg-gradient-to-br from-purple-50 to-white":Ye?e?"border-[#4f46e5]/50 bg-gradient-to-br from-[#4f46e5]/10 to-[#161616]":"border-blue-300 bg-gradient-to-br from-blue-50 to-white":e?`border-[#2a2a2a] ${i} hover:border-[#3a3a3a]`:"border-gray-200 hover:border-gray-300"}`,children:[n.jsxs(st,{className:"p-6",children:[H.popular&&n.jsx("div",{className:"absolute top-0 right-6 transform -translate-y-1/2",children:n.jsxs(ze,{className:e?"bg-[#4f46e5] text-white border-0 shadow-lg":"bg-purple-600 text-white border-0 shadow-lg",children:[n.jsx(ma,{className:"w-3 h-3 mr-1"}),"Most Popular"]})}),n.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center mb-4 ${e?"bg-[#1e1e1e]":H.bgColor}`,children:n.jsx(Le,{className:`w-7 h-7 ${e?"text-[#6366f1]":H.color}`})}),n.jsx(at,{className:r,children:H.name}),n.jsx(Lt,{className:`text-sm min-h-[40px] ${s}`,children:H.description}),n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"flex items-baseline gap-2",children:n.jsx("span",{className:`text-lg font-semibold ${r}`,children:"Custom Pricing"})}),n.jsx(ze,{className:e?"bg-[#4f46e5]/20 text-[#6366f1] border-0 mt-2":"bg-blue-100 text-blue-700 border-0 mt-2",children:"Contact us for pricing"})]})]}),n.jsxs(Te,{className:"space-y-4 p-6 pt-0",children:[n.jsx(tt,{className:a}),n.jsx("div",{className:"space-y-2",children:H.features.map((xt,qe)=>n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Tt,{className:`w-4 h-4 mt-0.5 flex-shrink-0 ${e?"text-emerald-400":"text-green-600"}`}),n.jsx("span",{className:`text-sm ${s}`,children:xt})]},qe))}),n.jsx(tt,{className:a}),Ye?n.jsxs(J,{className:`w-full h-11 ${e?"bg-[#2a2a2a] text-[#737373]":"bg-gray-600"} cursor-default`,disabled:!0,children:[n.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Current Plan"]}):n.jsxs(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:`w-full h-11 ${H.popular?e?"text-white hover:bg-[#4338ca]":"bg-purple-600 hover:bg-purple-700":e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700"}`,onClick:()=>{me.info("Please contact our sales team for pricing and plan details")},children:[n.jsx(ei,{className:"w-4 h-4 mr-2"}),"Contact Sales"]})]})]},H.id)})}),n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsx(at,{className:r,children:"Feature Comparison"}),n.jsx(Lt,{className:s,children:"Compare limits across all plans"})]}),n.jsx(Te,{className:"p-6 pt-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:`border-b ${a}`,children:[n.jsx("th",{className:`text-left py-3 px-4 text-sm ${r}`,children:"Feature"}),_l.map(H=>n.jsx("th",{className:`text-center py-3 px-4 text-sm ${r}`,children:H.name},H.id))]})}),n.jsxs("tbody",{children:[n.jsxs("tr",{className:`border-b ${e?"border-[#2a2a2a]/50":"border-gray-100"}`,children:[n.jsx("td",{className:`py-3 px-4 text-sm ${s}`,children:"Bookings"}),_l.map(H=>n.jsx("td",{className:`text-center py-3 px-4 text-sm ${r}`,children:H.limits.bookings},H.id))]}),n.jsxs("tr",{className:`border-b ${e?"border-[#2a2a2a]/50":"border-gray-100"}`,children:[n.jsx("td",{className:`py-3 px-4 text-sm ${s}`,children:"Transaction Fee"}),_l.map(H=>n.jsx("td",{className:`text-center py-3 px-4 text-sm ${r}`,children:H.id==="free"?"3.9%":"0%"},H.id))]}),n.jsxs("tr",{className:`border-b ${e?"border-[#2a2a2a]/50":"border-gray-100"}`,children:[n.jsx("td",{className:`py-3 px-4 text-sm ${s}`,children:"Games/Rooms"}),_l.map(H=>n.jsx("td",{className:`text-center py-3 px-4 text-sm ${r}`,children:H.limits.games},H.id))]}),n.jsxs("tr",{className:`border-b ${e?"border-[#2a2a2a]/50":"border-gray-100"}`,children:[n.jsx("td",{className:`py-3 px-4 text-sm ${s}`,children:"Staff Members"}),_l.map(H=>n.jsx("td",{className:`text-center py-3 px-4 text-sm ${r}`,children:H.limits.staff},H.id))]}),n.jsxs("tr",{className:`border-b ${e?"border-[#2a2a2a]/50":"border-gray-100"}`,children:[n.jsx("td",{className:`py-3 px-4 text-sm ${s}`,children:"Monthly Credits"}),_l.map(H=>n.jsx("td",{className:`text-center py-3 px-4 text-sm ${r}`,children:H.limits.credits},H.id))]}),n.jsxs("tr",{className:`border-b ${e?"border-[#2a2a2a]/50":"border-gray-100"}`,children:[n.jsx("td",{className:`py-3 px-4 text-sm ${s}`,children:"AI Conversations"}),_l.map(H=>n.jsx("td",{className:`text-center py-3 px-4 text-sm ${r}`,children:H.limits.aiConversations},H.id))]}),n.jsxs("tr",{className:`border-b ${e?"border-[#2a2a2a]/50":"border-gray-100"}`,children:[n.jsx("td",{className:`py-3 px-4 text-sm ${s}`,children:"Booking Widgets"}),_l.map(H=>n.jsx("td",{className:`text-center py-3 px-4 text-sm ${r}`,children:H.limits.widgets},H.id))]}),n.jsxs("tr",{children:[n.jsx("td",{className:`py-3 px-4 text-sm ${s}`,children:"API Access"}),_l.map(H=>n.jsx("td",{className:`text-center py-3 px-4 text-sm ${r}`,children:H.limits.apiAccess},H.id))]})]})]})})})]}),n.jsxs(ve,{className:`border shadow-sm ${e?"border-[#4f46e5]/30 bg-[#4f46e5]/10":"border-blue-200 bg-blue-50"}`,children:[n.jsxs(st,{className:"p-6",children:[n.jsx(at,{className:e?"text-[#e0e7ff]":"text-blue-900",children:"How Credits Work"}),n.jsx(Lt,{className:e?"text-[#c7d2fe]":"text-blue-700",children:"Understanding your credit allocation and usage"})]}),n.jsx(Te,{className:"p-6 pt-0",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:`p-4 rounded-lg border ${e?"bg-[#161616] border-[#2a2a2a]":"bg-white border-blue-200"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Nn,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsx("p",{className:`text-sm ${e?"text-[#e0e7ff]":"text-blue-900"}`,children:"Bookings"})]}),n.jsxs("p",{className:`text-xs mb-2 ${s}`,children:["Free: Unlimited (3.9% fee)",n.jsx("br",{}),"Starter: 30 free/month",n.jsx("br",{}),"Professional: 60 free/month",n.jsx("br",{}),"Enterprise: Unlimited"]}),n.jsx(ze,{className:e?"bg-[#4f46e5]/20 text-[#6366f1] border-0 text-xs":"bg-blue-100 text-blue-700 border-0 text-xs",children:"2 credits per extra booking"})]}),n.jsxs("div",{className:`p-4 rounded-lg border ${e?"bg-[#161616] border-[#2a2a2a]":"bg-white border-blue-200"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx($s,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsx("p",{className:`text-sm ${e?"text-[#e0e7ff]":"text-blue-900"}`,children:"Waivers"})]}),n.jsx("p",{className:`text-xs mb-2 ${s}`,children:"All plans can create and manage unlimited waiver templates"}),n.jsx(ze,{className:e?"bg-[#4f46e5]/20 text-[#6366f1] border-0 text-xs":"bg-blue-100 text-blue-700 border-0 text-xs",children:"2 credits per waiver signed"})]}),n.jsxs("div",{className:`p-4 rounded-lg border ${e?"bg-[#161616] border-[#2a2a2a]":"bg-white border-blue-200"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ei,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsx("p",{className:`text-sm ${e?"text-[#e0e7ff]":"text-blue-900"}`,children:"AI Conversations"})]}),n.jsxs("p",{className:`text-xs mb-2 ${s}`,children:["Free: Not included",n.jsx("br",{}),"Starter: 30 free/month",n.jsx("br",{}),"Professional: 60 free/month",n.jsx("br",{}),"Enterprise: Unlimited"]}),n.jsx(ze,{className:e?"bg-[#4f46e5]/20 text-[#6366f1] border-0 text-xs":"bg-blue-100 text-blue-700 border-0 text-xs",children:"2 credits per extra conversation"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsx(st,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(at,{className:r,children:"Credits Balance"}),n.jsx(Lt,{className:s,children:"Additional usage credits"})]}),n.jsxs(J,{onClick:()=>v(!0),style:{backgroundColor:e?"#4f46e5":void 0},className:e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",children:[n.jsx(An,{className:"w-4 h-4 mr-2"}),"Buy Credits"]})]})}),n.jsxs(Te,{className:"space-y-4 p-6 pt-0",children:[n.jsxs("div",{className:`p-6 rounded-xl text-white ${e?"bg-gradient-to-br from-[#4f46e5] to-[#4338ca]":"bg-gradient-to-br from-blue-600 to-blue-700"}`,children:[n.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Available Credits"}),n.jsx("p",{className:"text-4xl",children:W}),n.jsx("p",{className:"text-xs opacity-75 mt-2",children:"Credits used for bookings, waivers, and AI conversations beyond your plan limits"})]}),n.jsx(tt,{className:a}),n.jsxs("div",{children:[n.jsx(re,{className:`text-sm mb-3 block ${r}`,children:"Credit Usage This Month"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:`flex items-center gap-2 ${s}`,children:[n.jsx(Nn,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Extra Bookings (2 credits each)"})]}),n.jsxs("span",{className:`text-sm ${r}`,children:[Y.bookings*2," credits"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:`flex items-center gap-2 ${s}`,children:[n.jsx($s,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Waivers (2 credits each)"})]}),n.jsxs("span",{className:`text-sm ${r}`,children:[Y.waivers*2," credits"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:`flex items-center gap-2 ${s}`,children:[n.jsx(ei,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Extra AI Conversations (2 credits each)"})]}),n.jsxs("span",{className:`text-sm ${r}`,children:[Y.aiConversations*2," credits"]})]}),n.jsx(tt,{className:a}),n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsx("span",{className:`text-sm ${r}`,children:"Total Used"}),n.jsxs("span",{className:`text-sm ${r}`,children:[(Y.bookings+Y.waivers+Y.aiConversations)*2," credits"]})]})]})]})]})]}),n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsx(st,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(at,{className:r,children:"Payment Methods"}),n.jsx(Lt,{className:s,children:"Manage your payment information"})]}),n.jsxs(J,{onClick:()=>E(!0),style:{backgroundColor:e?"#4f46e5":void 0},className:e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",children:[n.jsx(An,{className:"w-4 h-4 mr-2"}),"Add Method"]})]})}),n.jsxs(Te,{className:"space-y-4 p-6 pt-0",children:[K.map(H=>n.jsx("div",{className:`p-4 rounded-lg border ${a} ${o}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${e?"bg-gradient-to-br from-[#4f46e5] to-purple-600":"bg-gradient-to-br from-blue-600 to-purple-600"}`,children:n.jsx(fa,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("p",{className:`text-sm ${r}`,children:[H.brand,"  ",H.last4]}),H.isDefault&&n.jsx(ze,{className:e?"bg-emerald-500/20 text-emerald-400 border-0 text-xs":"bg-green-100 text-green-700 border-0 text-xs",children:"Default"})]}),n.jsxs("p",{className:`text-xs ${s}`,children:["Expires ",H.expiryMonth,"/",H.expiryYear]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[!H.isDefault&&n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>be(H.id),children:"Set Default"}),!H.isDefault&&n.jsx(J,{variant:"ghost",size:"sm",className:e?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700",onClick:()=>we(H.id),children:"Remove"})]})]})},H.id)),n.jsx(tt,{className:a}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:`flex items-center justify-between text-sm ${s}`,children:[n.jsx("span",{children:"Billing Email"}),n.jsx("span",{className:r,children:"john.doe@bookingtms.com"})]}),n.jsxs("div",{className:`flex items-center justify-between text-sm ${s}`,children:[n.jsx("span",{children:"Next Billing Date"}),n.jsx("span",{className:r,children:"December 15, 2025"})]}),n.jsxs("div",{className:`flex items-center justify-between text-sm ${s}`,children:[n.jsx("span",{children:"Next Charge Amount"}),n.jsx("span",{className:r,children:"$99.00"})]})]})]})]})]}),n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsx(at,{className:r,children:"Subscription Management"}),n.jsx(Lt,{className:s,children:"Manage your subscription settings and preferences"})]}),n.jsxs(Te,{className:"space-y-4 p-6 pt-0",children:[n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${a} ${l} transition-colors`,children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${r}`,children:"Auto-renew Subscription"}),n.jsx("p",{className:`text-xs ${s} mt-1`,children:"Automatically renew your subscription each billing cycle"})]}),n.jsx(Wt,{defaultChecked:!0})]}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${a} ${l} transition-colors`,children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${r}`,children:"Usage Alerts"}),n.jsx("p",{className:`text-xs ${s} mt-1`,children:"Get notified when you reach 80% of your plan limits"})]}),n.jsx(Wt,{defaultChecked:!0})]}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${a} ${l} transition-colors`,children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${r}`,children:"Invoice Emails"}),n.jsx("p",{className:`text-xs ${s} mt-1`,children:"Receive invoice notifications via email"})]}),n.jsx(Wt,{defaultChecked:!0})]}),n.jsx(tt,{className:a}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(J,{variant:"outline",className:`w-full justify-start h-11 ${e?"text-red-400 hover:bg-red-500/10":"text-red-600 hover:text-red-700 hover:bg-red-50"}`,children:[n.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Pause Subscription"]}),n.jsxs(J,{variant:"outline",className:`w-full justify-start h-11 ${e?"text-red-400 hover:bg-red-500/10":"text-red-600 hover:text-red-700 hover:bg-red-50"}`,children:[n.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Cancel Subscription"]})]})]})]}),n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsx(at,{className:r,children:"Invoice History"}),n.jsx(Lt,{className:s,children:"View and download your past invoices"})]}),n.jsx(Te,{className:"p-6 pt-0",children:n.jsx("div",{className:"space-y-2",children:R.map(H=>n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg ${o} ${l} transition-colors`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(zae,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${r}`,children:H.id}),n.jsxs("p",{className:`text-xs ${s}`,children:[H.date,"  ",H.plan," Plan"]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:`text-sm ${r}`,children:["$",H.amount,".00"]}),n.jsx(ze,{className:e?"bg-emerald-500/20 text-emerald-400 border-0 text-xs":"bg-green-100 text-green-700 border-0 text-xs",children:H.status})]}),n.jsx(J,{variant:"ghost",size:"sm",children:n.jsx(hs,{className:"w-4 h-4"})})]})]},H.id))})})]}),n.jsx(or,{open:h,onOpenChange:f,children:n.jsxs(lr,{className:e?"bg-[#161616] border-[#2a2a2a]":"",children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:r,children:"Change Subscription Plan"}),n.jsxs(xr,{className:s,children:["You're about to change your plan to ",_l.find(H=>H.id===m)?.name]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:`p-4 rounded-lg border ${e?"bg-[#4f46e5]/10 border-[#4f46e5]/30":"bg-blue-50 border-blue-200"}`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Xn,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${e?"text-[#e0e7ff]":"text-blue-900"}`,children:"Plan Change Details"}),n.jsx("p",{className:`text-xs mt-1 ${e?"text-[#c7d2fe]":"text-blue-700"}`,children:"Your new plan will be effective immediately. You'll be charged a prorated amount for the remaining billing period."})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:`flex justify-between text-sm ${s}`,children:[n.jsx("span",{children:"New Plan"}),n.jsx("span",{className:r,children:_l.find(H=>H.id===m)?.name})]}),n.jsxs("div",{className:`flex justify-between text-sm ${s}`,children:[n.jsx("span",{children:"Price"}),n.jsxs("span",{className:r,children:["$",_l.find(H=>H.id===m)?.price,"/month"]})]}),n.jsxs("div",{className:`flex justify-between text-sm ${s}`,children:[n.jsx("span",{children:"Billing Cycle"}),n.jsx("span",{className:r,children:d==="yearly"?"Yearly":"Monthly"})]})]})]}),n.jsxs(wn,{children:[n.jsx(J,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),n.jsx(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",onClick:z,children:"Confirm Change"})]})]})}),n.jsx(or,{open:g,onOpenChange:H=>{H||ie(),v(H)},children:n.jsxs(lr,{className:`max-w-2xl ${e?"bg-[#161616] border-[#2a2a2a]":""}`,children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:r,children:"Buy Additional Credits"}),n.jsx(xr,{className:s,children:"Purchase credits for usage beyond your plan limits"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("button",{onClick:()=>Z(100,10),className:`p-4 border-2 rounded-lg transition-colors text-left ${e?"border-[#2a2a2a] hover:border-[#4f46e5]":"border-gray-200 hover:border-blue-600"}`,children:[n.jsx("p",{className:`text-2xl ${r}`,children:"100"}),n.jsx("p",{className:`text-sm ${s}`,children:"Credits"}),n.jsx("p",{className:`text-lg ${r} mt-2`,children:"$10"}),n.jsx("p",{className:`text-xs ${s}`,children:"$0.10 per credit"})]}),n.jsxs("button",{onClick:()=>Z(500,45),className:`p-4 border-2 rounded-lg transition-colors text-left ${e?"border-[#2a2a2a] hover:border-[#4f46e5]":"border-gray-200 hover:border-blue-600"}`,children:[n.jsx("p",{className:`text-2xl ${r}`,children:"500"}),n.jsx("p",{className:`text-sm ${s}`,children:"Credits"}),n.jsx("p",{className:`text-lg ${r} mt-2`,children:"$45"}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsx("p",{className:`text-xs ${s}`,children:"$0.09 per credit"}),n.jsx(ze,{className:e?"bg-emerald-500/20 text-emerald-400 border-0 text-xs":"bg-green-100 text-green-700 border-0 text-xs",children:"Save 10%"})]})]}),n.jsxs("button",{onClick:()=>Z(1e3,80),className:`p-4 border-2 rounded-lg transition-colors text-left ${e?"border-[#2a2a2a] hover:border-[#4f46e5]":"border-gray-200 hover:border-blue-600"}`,children:[n.jsx("p",{className:`text-2xl ${r}`,children:"1,000"}),n.jsx("p",{className:`text-sm ${s}`,children:"Credits"}),n.jsx("p",{className:`text-lg ${r} mt-2`,children:"$80"}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsx("p",{className:`text-xs ${s}`,children:"$0.08 per credit"}),n.jsx(ze,{className:e?"bg-emerald-500/20 text-emerald-400 border-0 text-xs":"bg-green-100 text-green-700 border-0 text-xs",children:"Save 20%"})]})]}),n.jsxs("button",{onClick:()=>Z(2500,175),className:`p-4 border-2 rounded-lg transition-colors text-left ${e?"border-purple-500/50 bg-purple-500/10 hover:border-purple-500":"border-purple-300 bg-purple-50 hover:border-purple-600"}`,children:[n.jsx("p",{className:`text-2xl ${r}`,children:"2,500"}),n.jsx("p",{className:`text-sm ${s}`,children:"Credits"}),n.jsx("p",{className:`text-lg ${r} mt-2`,children:"$175"}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsx("p",{className:`text-xs ${s}`,children:"$0.07 per credit"}),n.jsx(ze,{className:"bg-purple-600 text-white border-0 text-xs",children:"Save 30%"})]})]})]}),n.jsxs("div",{className:`p-3 rounded-lg text-xs ${e?"bg-[#1e1e1e] text-[#a3a3a3]":"bg-gray-50 text-gray-600"}`,children:[n.jsx("p",{children:" Credits never expire"}),n.jsx("p",{children:" Use for bookings, waivers, and AI conversations beyond your plan limits"}),n.jsx("p",{children:" 2 credits per booking, 2 credits per waiver, 2 credits per AI conversation"})]})]}),n.jsx(wn,{children:n.jsx(J,{variant:"outline",onClick:ie,children:"Cancel"})})]})}),n.jsx(or,{open:C,onOpenChange:H=>{H||ce(),E(H)},children:n.jsxs(lr,{className:e?"bg-[#161616] border-[#2a2a2a]":"",children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:r,children:$?$==="success"?"Card Added Successfully":"Card Verification Failed":"Add Payment Method"}),n.jsx(xr,{className:s,children:$?$==="success"?"Your payment method is ready to use":"Unable to add this payment method":"Add a new credit or debit card to your account"})]}),n.jsxs("div",{className:"space-y-4",children:[!A&&!$&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"cardNumber",className:r,children:"Card Number"}),n.jsx(ge,{id:"cardNumber",placeholder:"1234 5678 9012 3456",maxLength:19,value:F.cardNumber,onChange:H=>ee({...F,cardNumber:Ie(H.target.value)}),className:"h-11 font-mono"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"expiryDate",className:r,children:"Expiry Date"}),n.jsx(ge,{id:"expiryDate",placeholder:"MM/YY",maxLength:5,value:F.expiryDate,onChange:H=>ee({...F,expiryDate:Ee(H.target.value)}),className:"h-11 font-mono"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"cvc",className:r,children:"CVC"}),n.jsx(ge,{id:"cvc",placeholder:"123",maxLength:4,value:F.cvc,onChange:H=>ee({...F,cvc:H.target.value.replace(/\D/g,"")}),className:"h-11 font-mono"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"cardName",className:r,children:"Cardholder Name"}),n.jsx(ge,{id:"cardName",placeholder:"John Doe",value:F.name,onChange:H=>ee({...F,name:H.target.value}),className:"h-11"})]})]}),A&&n.jsxs("div",{className:"py-12 flex flex-col items-center justify-center",children:[n.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(Yp,{className:`w-8 h-8 animate-spin ${e?"text-[#6366f1]":"text-blue-600"}`})}),n.jsx("p",{className:r,children:"Processing Payment"}),n.jsx("p",{className:`text-sm ${s}`,children:"Please wait..."})]}),$==="success"&&n.jsxs("div",{className:"py-12 flex flex-col items-center justify-center",children:[n.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 ${e?"bg-emerald-500/20":"bg-green-100"}`,children:n.jsx(Tt,{className:`w-8 h-8 ${e?"text-emerald-400":"text-green-600"}`})}),n.jsx("p",{className:`text-xl ${r} mb-1`,children:"Payment Successful!"}),n.jsx("p",{className:`text-sm ${s} text-center`,children:"Your payment method has been added"})]}),$==="failed"&&n.jsxs("div",{className:"py-12 flex flex-col items-center justify-center",children:[n.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 ${e?"bg-red-500/20":"bg-red-100"}`,children:n.jsx(us,{className:`w-8 h-8 ${e?"text-red-400":"text-red-600"}`})}),n.jsx("p",{className:`text-xl ${r} mb-1`,children:"Payment Failed"}),n.jsx("p",{className:`text-sm ${s} text-center mb-4`,children:P})]})]}),n.jsxs(wn,{children:[!A&&$===null&&n.jsxs(n.Fragment,{children:[n.jsx(J,{variant:"outline",onClick:ce,children:"Cancel"}),n.jsx(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",onClick:Q,children:"Add Card"})]}),$==="success"&&n.jsxs(J,{className:e?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-green-600 hover:bg-green-700",onClick:ae,children:[n.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Done"]}),$==="failed"&&n.jsxs(n.Fragment,{children:[n.jsx(J,{variant:"outline",onClick:ce,children:"Cancel"}),n.jsxs(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700",onClick:pe,children:[n.jsx(Gc,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})]})]})})]})}function kze(){const{theme:t}=fn(),e=t==="dark",r=e?"text-white":"text-gray-900",s=e?"text-[#a3a3a3]":"text-gray-600",a=e?"border-[#2a2a2a]":"border-gray-200",i=e?"bg-[#161616]":"bg-white",o=e?"bg-[#1e1e1e]":"bg-gray-50",l=e?"hover:bg-[#1e1e1e]":"hover:bg-gray-50",c=e?"hover:shadow-[0_0_15px_rgba(79,70,229,0.1)]":"hover:shadow-md",[d,u]=S.useState(""),[h,f]=S.useState("all"),[m,y]=S.useState(!1),[g,v]=S.useState(!1),[b,w]=S.useState(null),[N,_]=S.useState(!1),[C,E]=S.useState({name:"",email:"",phone:"",role:"Staff",sendEmail:!0}),[A,I]=S.useState([{id:"1",name:"John Doe",email:"john.doe@bookingtms.com",phone:"+1 (555) 123-4567",role:"Owner",status:"Active",avatar:IN,joinDate:"Jan 15, 2024",lastActive:"2 minutes ago",permissions:{bookings:!0,games:!0,staff:!0,reports:!0,billing:!0,settings:!0}},{id:"2",name:"Sarah Johnson",email:"sarah.j@bookingtms.com",phone:"+1 (555) 234-5678",role:"Admin",status:"Active",joinDate:"Feb 10, 2024",lastActive:"1 hour ago",permissions:{bookings:!0,games:!0,staff:!0,reports:!0,billing:!1,settings:!0}},{id:"3",name:"Michael Chen",email:"michael.chen@bookingtms.com",phone:"+1 (555) 345-6789",role:"Manager",status:"Active",joinDate:"Mar 5, 2024",lastActive:"3 hours ago",permissions:{bookings:!0,games:!0,staff:!1,reports:!0,billing:!1,settings:!1}},{id:"4",name:"Emily Rodriguez",email:"emily.r@bookingtms.com",phone:"+1 (555) 456-7890",role:"Staff",status:"Active",joinDate:"Apr 20, 2024",lastActive:"5 hours ago",permissions:{bookings:!0,games:!1,staff:!1,reports:!1,billing:!1,settings:!1}},{id:"5",name:"David Park",email:"david.park@bookingtms.com",phone:"+1 (555) 567-8901",role:"Staff",status:"Inactive",joinDate:"May 12, 2024",lastActive:"2 days ago",permissions:{bookings:!0,games:!1,staff:!1,reports:!1,billing:!1,settings:!1}},{id:"6",name:"Jessica Taylor",email:"jessica.t@bookingtms.com",phone:"+1 (555) 678-9012",role:"Manager",status:"Invited",joinDate:"Oct 28, 2024",lastActive:"Never",permissions:{bookings:!0,games:!0,staff:!1,reports:!0,billing:!1,settings:!1}}]),$=se=>{switch(se){case"Owner":return n.jsx(T1,{className:"w-4 h-4"});case"Admin":return n.jsx(Xn,{className:"w-4 h-4"});case"Manager":return n.jsx(yn,{className:"w-4 h-4"});case"Staff":return n.jsx(Wr,{className:"w-4 h-4"})}},O=se=>{if(e)switch(se){case"Owner":return"bg-orange-500/20 text-orange-400 border-0";case"Admin":return"bg-purple-500/20 text-purple-400 border-0";case"Manager":return"bg-[#4f46e5]/20 text-[#6366f1] border-0";case"Staff":return"bg-[#2a2a2a] text-[#a3a3a3] border-0"}else switch(se){case"Owner":return"bg-orange-100 text-orange-700 border-0";case"Admin":return"bg-purple-100 text-purple-700 border-0";case"Manager":return"bg-blue-100 text-blue-700 border-0";case"Staff":return"bg-gray-100 text-gray-700 border-0"}},P=se=>{switch(se){case"Active":return n.jsxs(ze,{className:e?"bg-emerald-500/20 text-emerald-400 border-0":"bg-green-100 text-green-700 border-0",children:[n.jsx(Tt,{className:"w-3 h-3 mr-1"}),"Active"]});case"Inactive":return n.jsxs(ze,{className:e?"bg-[#2a2a2a] text-[#737373] border-0":"bg-gray-100 text-gray-700 border-0",children:[n.jsx(ds,{className:"w-3 h-3 mr-1"}),"Inactive"]});case"Invited":return n.jsxs(ze,{className:e?"bg-yellow-500/20 text-yellow-400 border-0":"bg-yellow-100 text-yellow-700 border-0",children:[n.jsx(Qt,{className:"w-3 h-3 mr-1"}),"Invited"]})}},M=A.filter(se=>{const q=se.name.toLowerCase().includes(d.toLowerCase())||se.email.toLowerCase().includes(d.toLowerCase()),z=h==="all"||se.role===h;return q&&z}),R={total:A.length,active:A.filter(se=>se.status==="Active").length,invited:A.filter(se=>se.status==="Invited").length,roles:{owner:A.filter(se=>se.role==="Owner").length,admin:A.filter(se=>se.role==="Admin").length,manager:A.filter(se=>se.role==="Manager").length,staff:A.filter(se=>se.role==="Staff").length}},W=()=>{if(!C.name||!C.email){me.error("Please fill in all required fields");return}const se={id:String(A.length+1),name:C.name,email:C.email,phone:C.phone,role:C.role,status:"Invited",joinDate:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),lastActive:"Never",permissions:{bookings:C.role!=="Staff",games:C.role==="Owner"||C.role==="Admin"||C.role==="Manager",staff:C.role==="Owner"||C.role==="Admin",reports:C.role!=="Staff",billing:C.role==="Owner",settings:C.role==="Owner"||C.role==="Admin"}};I([...A,se]),me.success(`Invitation sent to ${C.name}`),y(!1),E({name:"",email:"",phone:"",role:"Staff",sendEmail:!0})},Y=se=>{w(se),v(!0)},K=se=>{w(se),_(!0)},L=()=>{b&&(I(A.filter(se=>se.id!==b.id)),me.success(`${b.name} has been removed from the team`),_(!1),w(null))},F=se=>{me.success(`Invitation resent to ${se.name}`)},ee=se=>{const q=se.status==="Active"?"Inactive":"Active";I(A.map(z=>z.id===se.id?{...z,status:q}:z)),me.success(`${se.name} is now ${q}`)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsx(ui,{title:"Team Management",description:"Manage your team members, roles, and permissions"}),n.jsxs(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:`w-full sm:w-auto h-11 ${e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700"}`,onClick:()=>y(!0),children:[n.jsx(am,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Invite Team Member"}),n.jsx("span",{className:"sm:hidden",children:"Invite Member"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(ve,{className:`${i} border ${a} shadow-sm ${c} transition-all`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Total Members"}),n.jsx("p",{className:`text-2xl mt-2 ${r}`,children:R.total})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-[#4f46e5]/20":"bg-blue-100"}`,children:n.jsx(Wr,{className:`w-6 h-6 ${e?"text-[#6366f1]":"text-blue-600"}`})})]})})}),n.jsx(ve,{className:`${i} border ${a} shadow-sm ${c} transition-all`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Active"}),n.jsx("p",{className:`text-2xl mt-2 ${r}`,children:R.active})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-emerald-500/20":"bg-green-100"}`,children:n.jsx(Tt,{className:`w-6 h-6 ${e?"text-emerald-400":"text-green-600"}`})})]})})}),n.jsx(ve,{className:`${i} border ${a} shadow-sm ${c} transition-all`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Pending Invites"}),n.jsx("p",{className:`text-2xl mt-2 ${r}`,children:R.invited})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-yellow-500/20":"bg-yellow-100"}`,children:n.jsx(Qt,{className:`w-6 h-6 ${e?"text-yellow-400":"text-yellow-600"}`})})]})})}),n.jsx(ve,{className:`${i} border ${a} shadow-sm ${c} transition-all`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${s}`,children:"Managers & Admins"}),n.jsx("p",{className:`text-2xl mt-2 ${r}`,children:R.roles.admin+R.roles.manager})]}),n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${e?"bg-purple-500/20":"bg-purple-100"}`,children:n.jsx(Xn,{className:`w-6 h-6 ${e?"text-purple-400":"text-purple-600"}`})})]})})})]}),n.jsx(ve,{className:`${i} border ${a} shadow-sm`,children:n.jsx(Te,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ba,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${e?"text-[#737373]":"text-gray-400"}`}),n.jsx(ge,{placeholder:"Search by name or email...",className:"pl-10 h-11",value:d,onChange:se=>u(se.target.value)})]}),n.jsxs(Kt,{value:h,onValueChange:f,children:[n.jsxs(Xt,{className:"w-full md:w-[200px] h-11",children:[n.jsx(Ld,{className:"w-4 h-4 mr-2"}),n.jsx(Yt,{placeholder:"Filter by role"})]}),n.jsxs(Zt,{children:[n.jsx(Ce,{value:"all",children:"All Roles"}),n.jsx(Ce,{value:"Owner",children:"Owner"}),n.jsx(Ce,{value:"Admin",children:"Admin"}),n.jsx(Ce,{value:"Manager",children:"Manager"}),n.jsx(Ce,{value:"Staff",children:"Staff"})]})]})]})})}),n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsxs(at,{className:r,children:["Team Members (",M.length,")"]}),n.jsx(Lt,{className:s,children:"View and manage all team members"})]}),n.jsx(Te,{className:"p-6 pt-0",children:n.jsx("div",{className:"space-y-3",children:M.map((se,q)=>n.jsxs("div",{children:[n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg ${l} transition-colors`,children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[n.jsxs(Th,{className:"w-12 h-12 flex-shrink-0",children:[n.jsx(Oh,{src:se.avatar}),n.jsx(Ih,{className:e?"bg-[#4f46e5] text-white":"bg-blue-600 text-white",children:se.name.split(" ").map(z=>z[0]).join("")})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[n.jsx("p",{className:`text-sm ${r}`,children:se.name}),n.jsxs(ze,{className:O(se.role),children:[$(se.role),n.jsx("span",{className:"ml-1",children:se.role})]}),P(se.status)]}),n.jsxs("div",{className:`flex flex-wrap items-center gap-x-4 gap-y-1 text-xs ${s}`,children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Gn,{className:"w-3 h-3 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:se.email})]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Gs,{className:"w-3 h-3 flex-shrink-0"}),se.phone]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Nn,{className:"w-3 h-3 flex-shrink-0"}),"Joined ",se.joinDate]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Qt,{className:"w-3 h-3 flex-shrink-0"}),"Last active ",se.lastActive]})]})]})]}),n.jsxs(Cs,{children:[n.jsx(ks,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"sm",className:"flex-shrink-0",children:n.jsx(ka,{className:"w-4 h-4"})})}),n.jsxs(As,{align:"end",className:e?"bg-[#161616] border-[#2a2a2a]":"",children:[n.jsxs(Et,{onClick:()=>Y(se),children:[n.jsx($p,{className:"w-4 h-4 mr-2"}),"Edit Member"]}),se.status==="Invited"&&n.jsxs(Et,{onClick:()=>F(se),children:[n.jsx(vu,{className:"w-4 h-4 mr-2"}),"Resend Invite"]}),se.role!=="Owner"&&n.jsxs(n.Fragment,{children:[n.jsx(Et,{onClick:()=>ee(se),children:se.status==="Active"?n.jsxs(n.Fragment,{children:[n.jsx(ds,{className:"w-4 h-4 mr-2"}),"Deactivate"]}):n.jsxs(n.Fragment,{children:[n.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Activate"]})}),n.jsx(Pu,{}),n.jsxs(Et,{onClick:()=>K(se),className:e?"text-red-400":"text-red-600",children:[n.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Remove Member"]})]})]})]})]}),q<M.length-1&&n.jsx(tt,{className:a})]},se.id))})})]}),n.jsxs(ve,{className:`${i} border ${a} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsx(at,{className:r,children:"Roles & Permissions"}),n.jsx(Lt,{className:s,children:"Understanding team member roles and their access levels"})]}),n.jsx(Te,{className:"p-6 pt-0",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:`p-4 rounded-lg border ${e?"bg-orange-500/10 border-orange-500/30":"bg-orange-50 border-orange-200"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(T1,{className:`w-5 h-5 ${e?"text-orange-400":"text-orange-600"}`}),n.jsx("p",{className:`text-sm ${e?"text-orange-300":"text-orange-900"}`,children:"Owner"})]}),n.jsx("p",{className:`text-xs ${e?"text-orange-400/70":"text-orange-700"}`,children:"Full access to all features including billing, team management, and critical settings"})]}),n.jsxs("div",{className:`p-4 rounded-lg border ${e?"bg-purple-500/10 border-purple-500/30":"bg-purple-50 border-purple-200"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Xn,{className:`w-5 h-5 ${e?"text-purple-400":"text-purple-600"}`}),n.jsx("p",{className:`text-sm ${e?"text-purple-300":"text-purple-900"}`,children:"Admin"})]}),n.jsx("p",{className:`text-xs ${e?"text-purple-400/70":"text-purple-700"}`,children:"Manage bookings, games, staff, and settings. No billing access"})]}),n.jsxs("div",{className:`p-4 rounded-lg border ${e?"bg-[#4f46e5]/10 border-[#4f46e5]/30":"bg-blue-50 border-blue-200"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(yn,{className:`w-5 h-5 ${e?"text-[#6366f1]":"text-blue-600"}`}),n.jsx("p",{className:`text-sm ${e?"text-[#e0e7ff]":"text-blue-900"}`,children:"Manager"})]}),n.jsx("p",{className:`text-xs ${e?"text-[#c7d2fe]":"text-blue-700"}`,children:"Manage bookings, games, and view reports. Limited settings access"})]}),n.jsxs("div",{className:`p-4 rounded-lg border ${a} ${o}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Wr,{className:`w-5 h-5 ${s}`}),n.jsx("p",{className:`text-sm ${r}`,children:"Staff"})]}),n.jsx("p",{className:`text-xs ${s}`,children:"View and manage bookings only. Basic operational access"})]})]})})]}),n.jsx(or,{open:m,onOpenChange:y,children:n.jsxs(lr,{className:`max-w-md ${e?"bg-[#161616] border-[#2a2a2a]":""}`,children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:r,children:"Invite Team Member"}),n.jsx(xr,{className:s,children:"Send an invitation to join your team"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"invite-name",className:r,children:"Full Name *"}),n.jsx(ge,{id:"invite-name",placeholder:"John Smith",value:C.name,onChange:se=>E({...C,name:se.target.value}),className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"invite-email",className:r,children:"Email Address *"}),n.jsx(ge,{id:"invite-email",type:"email",placeholder:"john@example.com",value:C.email,onChange:se=>E({...C,email:se.target.value}),className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"invite-phone",className:r,children:"Phone Number"}),n.jsx(ge,{id:"invite-phone",type:"tel",placeholder:"+1 (555) 123-4567",value:C.phone,onChange:se=>E({...C,phone:se.target.value}),className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"invite-role",className:r,children:"Role"}),n.jsxs(Kt,{value:C.role,onValueChange:se=>E({...C,role:se}),children:[n.jsx(Xt,{className:"h-11",children:n.jsx(Yt,{})}),n.jsxs(Zt,{className:e?"bg-[#161616] border-[#2a2a2a]":"",children:[n.jsx(Ce,{value:"Staff",children:"Staff"}),n.jsx(Ce,{value:"Manager",children:"Manager"}),n.jsx(Ce,{value:"Admin",children:"Admin"})]})]})]}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${e?"bg-[#4f46e5]/10 border-[#4f46e5]/30":"bg-blue-50 border-blue-200"}`,children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${e?"text-[#e0e7ff]":"text-blue-900"}`,children:"Send email invitation"}),n.jsx("p",{className:`text-xs mt-0.5 ${e?"text-[#c7d2fe]":"text-blue-700"}`,children:"User will receive an email to join the team"})]}),n.jsx(Wt,{checked:C.sendEmail,onCheckedChange:se=>E({...C,sendEmail:se})})]})]}),n.jsxs(wn,{children:[n.jsx(J,{variant:"outline",onClick:()=>y(!1),className:"h-11",children:"Cancel"}),n.jsxs(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:`h-11 ${e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700"}`,onClick:W,children:[n.jsx(vu,{className:"w-4 h-4 mr-2"}),"Send Invitation"]})]})]})}),n.jsx(or,{open:g,onOpenChange:v,children:n.jsxs(lr,{className:`max-w-2xl ${e?"bg-[#161616] border-[#2a2a2a]":""}`,children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:r,children:"Edit Team Member"}),n.jsx(xr,{className:s,children:"Update member information and permissions"})]}),b&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:r,children:"Full Name"}),n.jsx(ge,{defaultValue:b.name,className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:r,children:"Role"}),n.jsxs(Kt,{defaultValue:b.role,children:[n.jsx(Xt,{className:"h-11",children:n.jsx(Yt,{})}),n.jsxs(Zt,{className:e?"bg-[#161616] border-[#2a2a2a]":"",children:[n.jsx(Ce,{value:"Staff",children:"Staff"}),n.jsx(Ce,{value:"Manager",children:"Manager"}),n.jsx(Ce,{value:"Admin",children:"Admin"}),n.jsx(Ce,{value:"Owner",disabled:!0,children:"Owner"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:r,children:"Email"}),n.jsx(ge,{type:"email",defaultValue:b.email,className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:r,children:"Phone"}),n.jsx(ge,{type:"tel",defaultValue:b.phone,className:"h-11"})]})]}),n.jsx(tt,{className:a}),n.jsxs("div",{children:[n.jsx("h3",{className:`text-sm mb-3 ${r}`,children:"Permissions"}),n.jsx("div",{className:"space-y-3",children:Object.entries(b.permissions).map(([se,q])=>n.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${a} ${o}`,children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${r} capitalize`,children:se}),n.jsxs("p",{className:`text-xs ${s}`,children:[se==="bookings"&&"View and manage bookings",se==="games"&&"Create and edit games/rooms",se==="staff"&&"Manage team members",se==="reports"&&"Access reports and analytics",se==="billing"&&"Manage billing and subscriptions",se==="settings"&&"Modify system settings"]})]}),n.jsx(Wt,{defaultChecked:q})]},se))})]})]}),n.jsxs(wn,{children:[n.jsx(J,{variant:"outline",onClick:()=>v(!1),className:"h-11",children:"Cancel"}),n.jsxs(J,{style:{backgroundColor:e?"#4f46e5":void 0},className:`h-11 ${e?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700"}`,onClick:()=>{me.success("Member updated successfully"),v(!1)},children:[n.jsx(ki,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})}),n.jsx(or,{open:N,onOpenChange:_,children:n.jsxs(lr,{className:e?"bg-[#161616] border-[#2a2a2a]":"",children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:r,children:"Remove Team Member"}),n.jsxs(xr,{className:s,children:["Are you sure you want to remove ",b?.name," from the team?"]})]}),n.jsx("div",{className:`p-4 rounded-lg border ${e?"bg-red-500/10 border-red-500/30":"bg-red-50 border-red-200"}`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(us,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${e?"text-red-400":"text-red-600"}`}),n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${e?"text-red-300":"text-red-900"}`,children:"This action cannot be undone"}),n.jsx("p",{className:`text-xs mt-1 ${e?"text-red-400/70":"text-red-700"}`,children:"The team member will lose access to all resources immediately."})]})]})}),n.jsxs(wn,{children:[n.jsx(J,{variant:"outline",onClick:()=>_(!1),className:"h-11",children:"Cancel"}),n.jsxs(J,{className:`h-11 ${e?"bg-red-600 hover:bg-red-700 text-white":"bg-red-600 hover:bg-red-700"}`,onClick:L,children:[n.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Remove Member"]})]})]})})]})}const yk="#2563eb";function Aze(){const[t,e]=S.useState("farebook"),[r,s]=S.useState(yk),[a,i]=S.useState(""),[o,l]=S.useState("light"),[c,d]=S.useState(void 0),[u,h]=S.useState(!0),[f,m]=S.useState(null),[y,g]=S.useState(void 0),[v,b]=S.useState(void 0),[w,N]=S.useState(void 0);S.useEffect(()=>{const $=new URLSearchParams(window.location.search),O=$.get("widget")||"farebook",P=$.get("color")||yk.replace("#",""),M=$.get("key")||"",R=$.get("theme")||"light",W=$.get("gameName")||void 0,Y=$.get("gameDescription")||void 0,K=$.get("gamePrice"),L=K?parseFloat(K):void 0;console.log(" Embed page loaded with params:",{widget:O,color:P,key:M,theme:R}),console.log(" Full URL:",window.location.href),e(O),s(`#${P.replace("#","")}`),i(M),l(R),g(W),b(Y),N(L),window.parent!==window&&window.parent.postMessage({type:"BOOKINGTMS_WIDGET_LOADED",widget:O,key:M},"*");const F=()=>{if(window.parent!==window){const se=document.documentElement.scrollHeight;window.parent.postMessage({type:"BOOKINGTMS_RESIZE",height:se},"*")}};setTimeout(F,1e3);const ee=new ResizeObserver(F);return ee.observe(document.body),()=>{ee.disconnect()}},[]);const _={showSecuredBadge:!0,showHealthSafety:!0,enableVeteranDiscount:!0,widgetTitle:"",widgetDescription:"",seoTitle:"",businessName:"Your Business Name",metaDescription:"Book your escape room experience. Fun, safe, and memorable events for teams, families, and friends.",seoKeywords:"escape room, booking, team building, family fun, mystery, puzzle game",enableLocalBusinessSchema:!0,streetAddress:"123 Main St",city:"Springfield",state:"IL",zipCode:"62701",country:"USA",phoneNumber:"+1 (555) 123-4567",emailAddress:"info@example.com",nearbyLandmarks:"Downtown Plaza, City Museum",parkingInfo:"Free parking in rear lot; street parking available",showLocationBlock:!0,ticketTypes:[{id:"player",name:"Players",description:"Ages 6 & Up",price:30},{id:"veteran",name:"Veterans",description:"Must show military ID",price:25}],categories:[{id:"1",name:"Traditional Escape Rooms",image:"https://images.unsplash.com/photo-1569002925653-ed18f55d7292?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxlc2NhcGUlMjByb29tJTIwZGFyayUyMG15c3RlcmlvdXN8ZW58MXx8fHwxNzYxOTM1ODcyfDA&ixlib=rb-4.1.0&q=80&w=1080"},{id:"2",name:"Printable Escape Rooms",image:"https://images.unsplash.com/photo-1632387958032-3b563a92091f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx2aW50YWdlJTIwcGhvdG9ncmFwaHMlMjBwb2xhcm9pZHxlbnwxfHx8fDE3NjE5MzU4NzJ8MA&ixlib=rb-4.1.0&q=80&w=1080"}],games:[{id:"1",name:"Zombie Apocalypse",image:"https://images.unsplash.com/photo-1659059530318-656a112ad2cd?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx6b21iaWUlMjBhcG9jYWx5cHNlJTIwaG9ycm9yfGVufDF8fHx8MTc2MTg5OTYzNHww&ixlib=rb-4.1.0&q=80&w=1080",priceRange:"$25 - $30",ageRange:"Ages 6+",duration:"1 Hour",difficulty:5,categoryId:"1",description:"Can you survive the zombie apocalypse and find the cure?"},{id:"2",name:"Area 51",image:"https://images.unsplash.com/photo-1569002925653-ed18f55d7292?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxlc2NhcGUlMjByb29tJTIwZGFyayUyMG15c3RlcmlvdXN8ZW58MXx8fHwxNzYxOTM1ODcyfDA&ixlib=rb-4.1.0&q=80&w=1080",priceRange:"$25 - $30",ageRange:"All ages",duration:"1 Hour",difficulty:5,categoryId:"1"},{id:"3",name:"Catacombs",image:"https://images.unsplash.com/photo-1637481687365-9b133c567071?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjYXRhY29tYnMlMjB1bmRlcmdyb3VuZCUyMHR1bm5lbHxlbnwxfHx8fDE3NjE5MzU4NzN8MA&ixlib=rb-4.1.0&q=80&w=1080",priceRange:"$25 - $30",ageRange:"All ages",duration:"1 Hour",difficulty:2,categoryId:"1"},{id:"4",name:"Murder Mystery",image:"https://images.unsplash.com/photo-1636056471685-1cfdfa9d2e4b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtdXJkZXIlMjBteXN0ZXJ5JTIwZGV0ZWN0aXZlfGVufDF8fHx8MTc2MTkzNTg3M3ww&ixlib=rb-4.1.0&q=80&w=1080",priceRange:"$25 - $30",ageRange:"Ages 6+",duration:"1 Hour",difficulty:5,categoryId:"1"},{id:"5",name:"The Jolly Roger, Curse of the Devil's Shroud",image:"https://images.unsplash.com/photo-1561625116-df74735458a5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwaXJhdGUlMjBzaGlwJTIwd3JlY2t8ZW58MXx8fHwxNzYxOTM1ODc0fDA&ixlib=rb-4.1.0&q=80&w=1080",priceRange:"$25 - $30",ageRange:"Ages 6+",duration:"1 Hour",difficulty:0,categoryId:"1"}],additionalQuestions:[{id:"hear-about",question:"How did you hear about us?",type:"select",options:["Google","Facebook","Friend","Other"],required:!1}],cancellationPolicy:"Cash refunds are not available. If you are unable to keep your scheduled reservation, please contact us. We can rebook you to a different date and/or time or issue a refund in the form of a gift card."},[C,E]=S.useState(null),A=S.useCallback(async({showLoading:$=!0}={})=>{if(!a){console.log(" No embedKey provided, using default config"),d(void 0),m(null),E(null),h(!1);return}try{$&&h(!0),m(null),console.log(" Fetching widget config for embedKey:",a);const O=await Sb.getVenueWidgetConfig(a);if(!O){console.error(" No venue found for embedKey:",a),d(void 0),m("Widget not found. Please check your embed code or contact the venue.");return}const{venue:P,widgetConfig:M}=O;console.log(" Venue found:",P.name,"(ID:",P.id,")"),E(P.id);const R={..._,...M,games:Array.isArray(M?.games)&&M.games.length>0?M.games:[]};d(R);const W=M?.primaryColor||P.primary_color||yk;s(W.startsWith("#")?W:`#${W}`),R.games.length||(console.warn(" No active games found for this venue"),m("No experiences available at this time. Please check back later.")),console.log(" Widget config loaded with",R.games.length,"games")}catch(O){console.error(" Exception fetching venue data:",O),d(void 0),m(O?.message||O?.details||"An error occurred loading the widget. Please try again later.")}finally{h(!1)}},[a]);S.useEffect(()=>{a?A({showLoading:!0}):h(!1)},[a,A]),S.useEffect(()=>{if(!C||!a)return;console.log(" Setting up real-time subscription for venue:",C);const $=Pr.channel(`widget-${C}`).on("postgres_changes",{event:"*",schema:"public",table:"games",filter:`venue_id=eq.${C}`},O=>{console.log(" Game update detected:",O.eventType),A({showLoading:!1})}).on("postgres_changes",{event:"*",schema:"public",table:"venues",filter:`id=eq.${C}`},()=>{console.log(" Venue update detected"),A({showLoading:!1})}).subscribe();return()=>{console.log(" Cleaning up real-time subscriptions"),$.unsubscribe()}},[C,a,A]);const I=()=>{const $={primaryColor:r,config:c||_};switch(console.log(" Rendering widget:",t,"with color:",r),t){case"farebook":return n.jsx(bP,{...$});case"calendar":return n.jsx(_b,{...$});case"bookgo":return n.jsx(fre,{...$});case"quick":return n.jsx(mre,{...$});case"multistep":return n.jsx(pre,{...$});case"resolvex":return n.jsx(xre,{...$});case"singlegame":return console.log(" Rendering Calendar Single Event widget"),n.jsx(yre,{...$,gameName:y,gameDescription:v,gamePrice:w});default:return console.log(" Widget ID not matched, defaulting to farebook"),n.jsx(bP,{...$})}};return u?n.jsx(Ow,{initialTheme:o,children:n.jsx("div",{className:`w-full min-h-screen flex items-center justify-center ${o==="dark"?"dark bg-[#0a0a0a]":"bg-white"}`,children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:`text-sm ${o==="dark"?"text-gray-400":"text-gray-600"}`,children:"Loading widget..."})]})})}):f?n.jsx(Ow,{initialTheme:o,children:n.jsx("div",{className:`w-full min-h-screen flex items-center justify-center ${o==="dark"?"dark bg-[#0a0a0a]":"bg-white"}`,children:n.jsxs("div",{className:"text-center max-w-md p-6",children:[n.jsx("div",{className:"text-red-500 text-5xl mb-4",children:""}),n.jsx("h2",{className:`text-xl font-semibold mb-2 ${o==="dark"?"text-white":"text-gray-900"}`,children:"Widget Error"}),n.jsx("p",{className:`text-sm ${o==="dark"?"text-gray-400":"text-gray-600"}`,children:f}),n.jsx("p",{className:"text-xs mt-4 text-gray-500",children:"Please check your embed code and try again."})]})})}):n.jsx(Ow,{initialTheme:o,children:n.jsx("div",{className:`w-full min-h-screen ${o==="dark"?"dark bg-[#0a0a0a]":"bg-white"}`,children:I()})})}var jre=["PageUp","PageDown"],Nre=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Sre={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Qg="Slider",[wP,Eze,Pze]=Fy(Qg),[_re]=Mo(Qg,[Pze]),[Tze,F5]=_re(Qg),Cre=S.forwardRef((t,e)=>{const{name:r,min:s=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[s],value:u,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:y,...g}=t,v=S.useRef(new Set),b=S.useRef(0),N=o==="horizontal"?Oze:Ize,[_=[],C]=uc({prop:u,defaultProp:d,onChange:P=>{[...v.current][b.current]?.focus(),h(P)}}),E=S.useRef(_);function A(P){const M=Lze(_,P);O(P,M)}function I(P){O(P,b.current)}function $(){const P=E.current[b.current];_[b.current]!==P&&f(_)}function O(P,M,{commit:R}={commit:!1}){const W=zze(i),Y=Vze(Math.round((P-s)/i)*i+s,W),K=U1(Y,[s,a]);C((L=[])=>{const F=Mze(L,K,M);if(Uze(F,c*i)){b.current=F.indexOf(K);const ee=String(F)!==String(L);return ee&&R&&f(F),ee?F:L}else return L})}return n.jsx(Tze,{scope:t.__scopeSlider,name:r,disabled:l,min:s,max:a,valueIndexToChangeRef:b,thumbs:v.current,values:_,orientation:o,form:y,children:n.jsx(wP.Provider,{scope:t.__scopeSlider,children:n.jsx(wP.Slot,{scope:t.__scopeSlider,children:n.jsx(N,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:e,onPointerDown:Vt(g.onPointerDown,()=>{l||(E.current=_)}),min:s,max:a,inverted:m,onSlideStart:l?void 0:A,onSlideMove:l?void 0:I,onSlideEnd:l?void 0:$,onHomeKeyDown:()=>!l&&O(s,0,{commit:!0}),onEndKeyDown:()=>!l&&O(a,_.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:M})=>{if(!l){const Y=jre.includes(P.key)||P.shiftKey&&Nre.includes(P.key)?10:1,K=b.current,L=_[K],F=i*Y*M;O(L+F,K,{commit:!0})}}})})})})});Cre.displayName=Qg;var[kre,Are]=_re(Qg,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Oze=S.forwardRef((t,e)=>{const{min:r,max:s,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=t,[h,f]=S.useState(null),m=Zr(e,N=>f(N)),y=S.useRef(void 0),g=u0(a),v=g==="ltr",b=v&&!i||!v&&i;function w(N){const _=y.current||h.getBoundingClientRect(),C=[0,_.width],A=zO(C,b?[r,s]:[s,r]);return y.current=_,A(N-_.left)}return n.jsx(kre,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:n.jsx(Ere,{dir:g,"data-orientation":"horizontal",...u,ref:m,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const _=w(N.clientX);o?.(_)},onSlideMove:N=>{const _=w(N.clientX);l?.(_)},onSlideEnd:()=>{y.current=void 0,c?.()},onStepKeyDown:N=>{const C=Sre[b?"from-left":"from-right"].includes(N.key);d?.({event:N,direction:C?-1:1})}})})}),Ize=S.forwardRef((t,e)=>{const{min:r,max:s,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=t,u=S.useRef(null),h=Zr(e,u),f=S.useRef(void 0),m=!a;function y(g){const v=f.current||u.current.getBoundingClientRect(),b=[0,v.height],N=zO(b,m?[s,r]:[r,s]);return f.current=v,N(g-v.top)}return n.jsx(kre,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:n.jsx(Ere,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=y(g.clientY);i?.(v)},onSlideMove:g=>{const v=y(g.clientY);o?.(v)},onSlideEnd:()=>{f.current=void 0,l?.()},onStepKeyDown:g=>{const b=Sre[m?"from-bottom":"from-top"].includes(g.key);c?.({event:g,direction:b?-1:1})}})})}),Ere=S.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:s,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=t,u=F5(Qg,r);return n.jsx(Tr.span,{...d,ref:e,onKeyDown:Vt(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):jre.concat(Nre).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:Vt(t.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),u.thumbs.has(f)?f.focus():s(h)}),onPointerMove:Vt(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&a(h)}),onPointerUp:Vt(t.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),i(h))})})}),Pre="SliderTrack",Tre=S.forwardRef((t,e)=>{const{__scopeSlider:r,...s}=t,a=F5(Pre,r);return n.jsx(Tr.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...s,ref:e})});Tre.displayName=Pre;var jP="SliderRange",Ore=S.forwardRef((t,e)=>{const{__scopeSlider:r,...s}=t,a=F5(jP,r),i=Are(jP,r),o=S.useRef(null),l=Zr(e,o),c=a.values.length,d=a.values.map(f=>Dre(f,a.min,a.max)),u=c>1?Math.min(...d):0,h=100-Math.max(...d);return n.jsx(Tr.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:l,style:{...t.style,[i.startEdge]:u+"%",[i.endEdge]:h+"%"}})});Ore.displayName=jP;var NP="SliderThumb",Ire=S.forwardRef((t,e)=>{const r=Eze(t.__scopeSlider),[s,a]=S.useState(null),i=Zr(e,l=>a(l)),o=S.useMemo(()=>s?r().findIndex(l=>l.ref.current===s):-1,[r,s]);return n.jsx($ze,{...t,ref:i,index:o})}),$ze=S.forwardRef((t,e)=>{const{__scopeSlider:r,index:s,name:a,...i}=t,o=F5(NP,r),l=Are(NP,r),[c,d]=S.useState(null),u=Zr(e,w=>d(w)),h=c?o.form||!!c.closest("form"):!0,f=jN(c),m=o.values[s],y=m===void 0?0:Dre(m,o.min,o.max),g=Rze(s,o.values.length),v=f?.[l.size],b=v?Fze(v,y,l.direction):0;return S.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${b}px)`},children:[n.jsx(wP.ItemSlot,{scope:t.__scopeSlider,children:n.jsx(Tr.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:u,style:m===void 0?{display:"none"}:t.style,onFocus:Vt(t.onFocus,()=>{o.valueIndexToChangeRef.current=s})})}),h&&n.jsx($re,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},s)]})});Ire.displayName=NP;var Dze="RadioBubbleInput",$re=S.forwardRef(({__scopeSlider:t,value:e,...r},s)=>{const a=S.useRef(null),i=Zr(a,s),o=j5(e);return S.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&u){const h=new Event("input",{bubbles:!0});u.call(l,e),l.dispatchEvent(h)}},[o,e]),n.jsx(Tr.input,{style:{display:"none"},...r,ref:i,defaultValue:e})});$re.displayName=Dze;function Mze(t=[],e,r){const s=[...t];return s[r]=e,s.sort((a,i)=>a-i)}function Dre(t,e,r){const i=100/(r-e)*(t-e);return U1(i,[0,100])}function Rze(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Lze(t,e){if(t.length===1)return 0;const r=t.map(a=>Math.abs(a-e)),s=Math.min(...r);return r.indexOf(s)}function Fze(t,e,r){const s=t/2,i=zO([0,50],[0,s]);return(s-i(e)*r)*r}function Bze(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function Uze(t,e){if(e>0){const r=Bze(t);return Math.min(...r)>=e}return!0}function zO(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(r-t[0])}}function zze(t){return(String(t).split(".")[1]||"").length}function Vze(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var Wze=Cre,Hze=Tre,qze=Ore,Gze=Ire;function Kze({className:t,defaultValue:e,value:r,min:s=0,max:a=100,...i}){const o=S.useMemo(()=>Array.isArray(r)?r:Array.isArray(e)?e:[s,a],[r,e,s,a]);return n.jsxs(Wze,{"data-slot":"slider",defaultValue:e,value:r,min:s,max:a,className:nr("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...i,children:[n.jsx(Hze,{"data-slot":"slider-track",className:nr("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:n.jsx(qze,{"data-slot":"slider-range",className:nr("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:o.length},(l,c)=>n.jsx(Gze,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}function Yze(){const{theme:t}=fn(),e=t==="dark",{settings:r,updateSettings:s,playNotificationSound:a}=JP(),[i,o]=fe.useState(r),[l,c]=fe.useState(!1),[d,u]=fe.useState(!1);fe.useEffect(()=>{o(r),c(!1),u(!1)},[r]);const h=e?"bg-[#161616]":"bg-white",f=e?"border-[#1e1e1e]":"border-gray-200",m=e?"text-white":"text-gray-900",y=e?"text-[#a3a3a3]":"text-gray-600",g=e?"text-white":"text-gray-700",v=C=>{o(E=>({...E,...C})),c(!0)},b=C=>{v({soundVolume:C[0]})},w=()=>{a()},N=()=>{s(i),c(!1),u(!0),me.success("Your offline changes were synced",{description:"Notification settings saved successfully"}),setTimeout(()=>{u(!1)},3e3)},_=()=>{o(r),c(!1),u(!1),me.info("Changes discarded")};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ve,{className:`${h} border ${f} shadow-sm p-6`,children:[n.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[n.jsx(kk,{className:`w-5 h-5 mt-1 ${e?"text-[#4f46e5]":"text-blue-600"}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:`mb-1 ${m}`,children:"Sound Notifications"}),n.jsx("p",{className:`text-sm ${y}`,children:"Play audio alerts for important events"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(re,{htmlFor:"sound-enabled",className:g,children:"Enable sound notifications"}),n.jsx(Wt,{id:"sound-enabled",checked:i.soundEnabled,onCheckedChange:C=>v({soundEnabled:C})})]}),i.soundEnabled&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(re,{className:g,children:"Volume"}),n.jsxs("span",{className:`text-sm ${y}`,children:[i.soundVolume,"%"]})]}),n.jsx(Kze,{value:[i.soundVolume],onValueChange:b,max:100,step:5,className:"w-full"}),n.jsxs(J,{variant:"outline",size:"sm",onClick:w,className:`w-full gap-2 ${e?"border-[#1e1e1e] bg-transparent hover:bg-[#0a0a0a]":""}`,children:[n.jsx(kk,{className:"w-4 h-4"}),"Test Sound"]})]}),n.jsx(tt,{className:e?"bg-[#1e1e1e]":"bg-gray-200"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(re,{className:g,children:"Play sound for:"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Nn,{className:`w-4 h-4 ${y}`}),n.jsx("span",{className:`text-sm ${y}`,children:"New bookings"})]}),n.jsx(Wt,{checked:i.soundForBookings,onCheckedChange:C=>v({soundForBookings:C})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fa,{className:`w-4 h-4 ${y}`}),n.jsx("span",{className:`text-sm ${y}`,children:"Payment received"})]}),n.jsx(Wt,{checked:i.soundForPayments,onCheckedChange:C=>v({soundForPayments:C})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ds,{className:`w-4 h-4 ${y}`}),n.jsx("span",{className:`text-sm ${y}`,children:"Cancellations"})]}),n.jsx(Wt,{checked:i.soundForCancellations,onCheckedChange:C=>v({soundForCancellations:C})})]})]})]})]})]}),n.jsxs(ve,{className:`${h} border ${f} shadow-sm p-6`,children:[n.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[n.jsx(uo,{className:`w-5 h-5 mt-1 ${e?"text-[#4f46e5]":"text-blue-600"}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:`mb-1 ${m}`,children:"Push Notifications"}),n.jsx("p",{className:`text-sm ${y}`,children:"In-app and browser notifications"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:`${e?"bg-[#0a0a0a]":"bg-gray-50"} rounded-lg p-4`,children:n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Nn,{className:`w-5 h-5 mt-0.5 ${y}`}),n.jsxs("div",{children:[n.jsx("div",{className:`${m} mb-1`,children:"New Bookings"}),n.jsx("p",{className:`text-sm ${y}`,children:"Instant alerts for new bookings"})]})]}),n.jsx(Wt,{checked:i.desktopForBookings,onCheckedChange:C=>v({desktopForBookings:C})})]})}),n.jsx("div",{className:`${e?"bg-[#0a0a0a]":"bg-gray-50"} rounded-lg p-4`,children:n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Wr,{className:`w-5 h-5 mt-0.5 ${y}`}),n.jsxs("div",{children:[n.jsx("div",{className:`${m} mb-1`,children:"Staff Updates"}),n.jsx("p",{className:`text-sm ${y}`,children:"Staff check-ins and schedule changes"})]})]}),n.jsx(Wt,{checked:i.desktopForStaffUpdates,onCheckedChange:C=>v({desktopForStaffUpdates:C})})]})})]})]}),n.jsxs(ve,{className:`${h} border ${f} shadow-sm p-6`,children:[n.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[n.jsx(Gn,{className:`w-5 h-5 mt-1 ${e?"text-[#4f46e5]":"text-blue-600"}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:`mb-1 ${m}`,children:"Email Notifications"}),n.jsx("p",{className:`text-sm ${y}`,children:"Manage your email notification preferences"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:`${e?"bg-[#0a0a0a]":"bg-gray-50"} rounded-lg p-4`,children:n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(uo,{className:`w-5 h-5 mt-0.5 ${y}`}),n.jsxs("div",{children:[n.jsx("div",{className:`${m} mb-1`,children:"Booking Notifications"}),n.jsx("p",{className:`text-sm ${y}`,children:"New bookings, cancellations, and modifications"})]})]}),n.jsx(Wt,{checked:i.emailForBookings,onCheckedChange:C=>v({emailForBookings:C})})]})}),n.jsx("div",{className:`${e?"bg-[#0a0a0a]":"bg-gray-50"} rounded-lg p-4`,children:n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ru,{className:`w-5 h-5 mt-0.5 ${y}`}),n.jsxs("div",{children:[n.jsx("div",{className:`${m} mb-1`,children:"Reports & Analytics"}),n.jsx("p",{className:`text-sm ${y}`,children:"Daily, weekly, and monthly reports"})]})]}),n.jsx(Wt,{checked:i.emailForReports,onCheckedChange:C=>v({emailForReports:C})})]})}),n.jsx("div",{className:`${e?"bg-[#0a0a0a]":"bg-gray-50"} rounded-lg p-4`,children:n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(rs,{className:`w-5 h-5 mt-0.5 ${y}`}),n.jsxs("div",{children:[n.jsx("div",{className:`${m} mb-1`,children:"Marketing & Updates"}),n.jsx("p",{className:`text-sm ${y}`,children:"Product updates, tips, and promotional content"})]})]}),n.jsx(Wt,{checked:i.emailForMarketing,onCheckedChange:C=>v({emailForMarketing:C})})]})})]})]}),n.jsxs(ve,{className:`${h} border ${f} shadow-sm p-6`,children:[n.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[n.jsx(ei,{className:`w-5 h-5 mt-1 ${e?"text-[#4f46e5]":"text-blue-600"}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:`mb-1 ${m}`,children:"SMS Notifications"}),n.jsx("p",{className:`text-sm ${y}`,children:"Text message alerts"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:`${e?"bg-[#0a0a0a]":"bg-gray-50"} rounded-lg p-4`,children:n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Dw,{className:`w-5 h-5 mt-0.5 ${y}`}),n.jsxs("div",{children:[n.jsx("div",{className:`${m} mb-1`,children:"Critical Alerts"}),n.jsx("p",{className:`text-sm ${y}`,children:"Urgent notifications only (cancellations, system issues)"})]})]}),n.jsx(Wt,{checked:i.smsEnabled,onCheckedChange:C=>v({smsEnabled:C})})]})}),i.smsEnabled&&n.jsxs(n.Fragment,{children:[n.jsx(tt,{className:e?"bg-[#1e1e1e]":"bg-gray-200"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"sms-phone",className:g,children:"Phone number"}),n.jsx(ge,{id:"sms-phone",type:"tel",placeholder:"+1 (555) 123-4567",value:i.smsPhoneNumber,onChange:C=>v({smsPhoneNumber:C.target.value}),className:`h-12 ${e?"bg-[#0a0a0a] border-[#1e1e1e] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`}),n.jsx("p",{className:`text-xs ${y}`,children:"We'll send a verification code to this number"})]})]})]})]}),n.jsxs(ve,{className:`${h} border ${f} shadow-sm p-6`,children:[n.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[n.jsx(Eg,{className:`w-5 h-5 mt-1 ${e?"text-[#4f46e5]":"text-blue-600"}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:`mb-1 ${m}`,children:"Quiet Hours"}),n.jsx("p",{className:`text-sm ${y}`,children:"Pause notifications during specific hours (Do Not Disturb)"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(re,{htmlFor:"quiet-hours-enabled",className:g,children:"Enable quiet hours"}),n.jsx(Wt,{id:"quiet-hours-enabled",checked:i.quietHoursEnabled,onCheckedChange:C=>v({quietHoursEnabled:C})})]}),i.quietHoursEnabled&&n.jsxs(n.Fragment,{children:[n.jsx(tt,{className:e?"bg-[#1e1e1e]":"bg-gray-200"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"quiet-start",className:g,children:"Start time"}),n.jsx(ge,{id:"quiet-start",type:"time",value:i.quietHoursStart,onChange:C=>v({quietHoursStart:C.target.value}),className:`h-12 ${e?"bg-[#0a0a0a] border-[#1e1e1e] text-white":"bg-gray-100 border-gray-300"}`})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{htmlFor:"quiet-end",className:g,children:"End time"}),n.jsx(ge,{id:"quiet-end",type:"time",value:i.quietHoursEnd,onChange:C=>v({quietHoursEnd:C.target.value}),className:`h-12 ${e?"bg-[#0a0a0a] border-[#1e1e1e] text-white":"bg-gray-100 border-gray-300"}`})]})]}),n.jsx("p",{className:`text-xs ${y}`,children:"No sound or desktop notifications will be shown during these hours"})]})]})]}),n.jsxs(ve,{className:`${h} border ${f} shadow-sm p-6`,children:[n.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[n.jsx(uo,{className:`w-5 h-5 mt-1 ${e?"text-[#4f46e5]":"text-blue-600"}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:`mb-1 ${m}`,children:"Additional Preferences"}),n.jsx("p",{className:`text-sm ${y}`,children:"Fine-tune your notification experience"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(re,{htmlFor:"in-app",className:g,children:"Show in-app notifications"}),n.jsx("p",{className:`text-xs ${y} mt-1`,children:"Display toast notifications in the app"})]}),n.jsx(Wt,{id:"in-app",checked:i.showInAppNotifications,onCheckedChange:C=>v({showInAppNotifications:C})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(re,{htmlFor:"group-similar",className:g,children:"Group similar notifications"}),n.jsx("p",{className:`text-xs ${y} mt-1`,children:"Combine multiple similar notifications"})]}),n.jsx(Wt,{id:"group-similar",checked:i.groupSimilarNotifications,onCheckedChange:C=>v({groupSimilarNotifications:C})})]})]})]}),n.jsxs("div",{className:`sticky bottom-0 left-0 right-0 py-4 px-6 -mx-6 flex items-center justify-end gap-3 border-t ${e?"bg-[#0a0a0a] border-[#1e1e1e]":"bg-white border-gray-200"} z-10 shadow-lg`,children:[n.jsx(J,{variant:"outline",onClick:_,disabled:!l||d,className:`h-11 min-w-[120px] ${e?"border-[#1e1e1e] bg-transparent text-[#a3a3a3] hover:bg-[#161616] hover:text-white disabled:opacity-40 disabled:cursor-not-allowed":"border-gray-300 hover:bg-gray-50 disabled:opacity-40 disabled:cursor-not-allowed"}`,children:"Cancel"}),n.jsx(J,{onClick:N,disabled:!l||d,className:"h-11 min-w-[200px] gap-2 text-white hover:opacity-90 disabled:opacity-100 disabled:cursor-default transition-all duration-300",style:{backgroundColor:d?"#10b981":l?"#4f46e5":"#9ca3af"},children:d?n.jsxs(n.Fragment,{children:[n.jsx(jn,{className:"w-4 h-4"}),"Success"]}):n.jsxs(n.Fragment,{children:[n.jsx(ki,{className:"w-4 h-4"}),"Save Notification Settings"]})})]})]})}function Xze(){const{theme:t}=fn(),e=t==="dark",{users:r,roles:s,createUser:a,updateUser:i,deleteUser:o,currentUser:l}=il(),[c,d]=S.useState(""),[u,h]=S.useState(!1),[f,m]=S.useState(!1),[y,g]=S.useState(!1),[v,b]=S.useState(null),[w,N]=S.useState(!1),[_,C]=S.useState(!1),[E,A]=S.useState({name:"",email:"",role:"manager"}),I=e?"bg-[#161616]":"bg-white",$=e?"border-[#1e1e1e]":"border-gray-200",O=e?"text-white":"text-gray-900",P=e?"text-[#a3a3a3]":"text-gray-600",M=e?"hover:bg-[#1a1a1a]":"hover:bg-gray-50",R=r.filter(q=>q.name.toLowerCase().includes(c.toLowerCase())||q.email.toLowerCase().includes(c.toLowerCase())),W=q=>s.find(z=>z.id===q),Y=q=>{switch(q){case"active":return n.jsxs(ze,{className:"bg-green-500/10 text-green-600 border-green-500/20",children:[n.jsx(Tt,{className:"w-3 h-3 mr-1"}),"Active"]});case"inactive":return n.jsxs(ze,{className:"bg-gray-500/10 text-gray-600 border-gray-500/20",children:[n.jsx(ds,{className:"w-3 h-3 mr-1"}),"Inactive"]});case"suspended":return n.jsxs(ze,{className:"bg-red-500/10 text-red-600 border-red-500/20",children:[n.jsx(us,{className:"w-3 h-3 mr-1"}),"Suspended"]});default:return null}},K=async()=>{try{const q={name:E.name,email:E.email,role:E.role,status:"active"};await a(q),N(!0),me.success("User created successfully"),setTimeout(()=>{h(!1),N(!1),A({name:"",email:"",role:"manager"})},1500)}catch(q){me.error("Failed to create user"),console.error(q)}},L=async()=>{if(v)try{await i(v.id,{name:E.name,role:E.role}),C(!0),me.success("User updated successfully"),setTimeout(()=>{m(!1),C(!1),b(null),A({name:"",email:"",role:"manager"})},1500)}catch(q){me.error("Failed to update user"),console.error(q)}},F=async()=>{if(v)try{await o(v.id),me.success("User deleted successfully"),g(!1),b(null)}catch(q){me.error(q.message||"Failed to delete user"),console.error(q)}},ee=q=>{b(q),A({name:q.name,email:q.email,role:q.role}),m(!0)},se=q=>{b(q),g(!0)};return n.jsxs(n.Fragment,{children:[n.jsx(ui,{title:"Account Settings",description:"Manage users, roles, and permissions"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ta,{defaultValue:"users",className:"space-y-6",children:[n.jsxs(pa,{className:e?"bg-[#161616] border border-[#1e1e1e]":"bg-gray-100",children:[n.jsxs(Ft,{value:"users",className:"gap-2",children:[n.jsx(Wr,{className:"w-4 h-4"}),"Users"]}),n.jsxs(Ft,{value:"roles",className:"gap-2",children:[n.jsx(Xn,{className:"w-4 h-4"}),"Roles & Permissions"]}),n.jsxs(Ft,{value:"notifications",className:"gap-2",children:[n.jsx(uo,{className:"w-4 h-4"}),"Notifications"]})]}),n.jsxs(Bt,{value:"users",className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(Ba,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 ${e?"text-[#737373]":"text-gray-400"}`}),n.jsx(ge,{placeholder:"Search users...",value:c,onChange:q=>d(q.target.value),className:`pl-10 h-12 ${e?"bg-[#0a0a0a] border-[#1e1e1e] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]}),n.jsxs(J,{onClick:()=>h(!0),className:"gap-2",style:{backgroundColor:"#4f46e5"},children:[n.jsx(An,{className:"w-4 h-4"}),"Add User"]})]}),n.jsx(ve,{className:`${I} border ${$} shadow-sm`,children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:`border-b ${$}`,children:n.jsxs("tr",{children:[n.jsx("th",{className:`text-left p-4 ${P}`,children:"User"}),n.jsx("th",{className:`text-left p-4 ${P}`,children:"Role"}),n.jsx("th",{className:`text-left p-4 ${P}`,children:"Status"}),n.jsx("th",{className:`text-left p-4 ${P}`,children:"Last Login"}),n.jsx("th",{className:`text-right p-4 ${P}`,children:"Actions"})]})}),n.jsx("tbody",{children:R.map(q=>{const z=W(q.role);return n.jsxs("tr",{className:`border-b ${$} ${M} transition-colors`,children:[n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e?"bg-[#1e1e1e]":"bg-gray-100"}`,children:n.jsx("span",{className:O,children:q.name.charAt(0).toUpperCase()})}),n.jsxs("div",{children:[n.jsx("div",{className:O,children:q.name}),n.jsx("div",{className:`text-sm ${P}`,children:q.email})]})]})}),n.jsx("td",{className:"p-4",children:z&&n.jsx(ze,{className:`${e?"bg-opacity-20":"bg-opacity-10"} border`,style:{backgroundColor:e?`${z.color}20`:`${z.color}10`,color:z.color,borderColor:e?`${z.color}40`:`${z.color}20`},children:z.name})}),n.jsx("td",{className:"p-4",children:Y(q.status)}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:P,children:q.lastLogin?new Date(q.lastLogin).toLocaleDateString():"Never"})}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>ee(q),disabled:q.id===l?.id,className:e?"hover:bg-[#1a1a1a] text-[#a3a3a3] hover:text-white":"",children:n.jsx(Sk,{className:"w-4 h-4"})}),n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>se(q),disabled:q.id===l?.id,className:e?"text-red-400 hover:text-red-300 hover:bg-[#1a1a1a]":"text-red-600 hover:text-red-700",children:n.jsx(Dn,{className:"w-4 h-4"})})]})})]},q.id)})})]})})})]}),n.jsx(Bt,{value:"roles",className:"space-y-6",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(q=>n.jsxs(ve,{className:`${I} border ${$} shadow-sm p-6`,children:[n.jsx("div",{className:"flex items-start justify-between mb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:`${q.color}20`},children:n.jsx(Xn,{className:"w-6 h-6",style:{color:q.color}})}),n.jsxs("div",{children:[n.jsx("h3",{className:O,children:q.name}),n.jsx("p",{className:`text-sm ${P}`,children:q.description})]})]})}),n.jsxs("div",{className:"space-y-3 mt-6",children:[n.jsxs("h4",{className:`text-sm ${P} mb-2`,children:["Permissions (",q.permissions.length,")"]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[q.permissions.slice(0,10).map(z=>n.jsx(ze,{variant:"outline",className:`text-xs ${e?"border-[#2a2a2a] text-[#a3a3a3] bg-[#0a0a0a]":"border-gray-300 text-gray-600 bg-white"}`,children:z},z)),q.permissions.length>10&&n.jsxs(ze,{variant:"outline",className:`text-xs ${e?"border-[#2a2a2a] text-[#a3a3a3] bg-[#0a0a0a]":"border-gray-300 text-gray-600"}`,children:["+",q.permissions.length-10," more"]})]})]})]},q.id))})}),n.jsx(Bt,{value:"notifications",className:"space-y-6 pb-24",children:n.jsx(Yze,{})})]}),n.jsx(or,{open:u,onOpenChange:h,children:n.jsxs(lr,{className:e?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white",children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:O,children:"Add New User"}),n.jsx(xr,{className:P,children:"Create a new user account with specific role and permissions"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:e?"text-[#a3a3a3]":"text-gray-700",children:"Name"}),n.jsx(ge,{placeholder:"John Doe",value:E.name,onChange:q=>A({...E,name:q.target.value}),className:`h-12 ${e?"bg-[#0a0a0a] border-[#1e1e1e] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:e?"text-[#a3a3a3]":"text-gray-700",children:"Email"}),n.jsx(ge,{type:"email",placeholder:"john@example.com",value:E.email,onChange:q=>A({...E,email:q.target.value}),className:`h-12 ${e?"bg-[#0a0a0a] border-[#1e1e1e] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:e?"text-[#a3a3a3]":"text-gray-700",children:"Role"}),n.jsxs(Kt,{value:E.role,onValueChange:q=>A({...E,role:q}),children:[n.jsx(Xt,{className:`h-12 ${e?"bg-[#0a0a0a] border-[#1e1e1e] text-white":"bg-gray-100 border-gray-300"}`,children:n.jsx(Yt,{})}),n.jsx(Zt,{className:e?"bg-[#1e1e1e] border-[#2a2a2a]":"",children:s.filter(q=>q.id!=="super-admin").map(q=>n.jsx(Ce,{value:q.id,className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:q.name},q.id))})]})]})]}),n.jsxs(wn,{children:[n.jsx(J,{variant:"outline",onClick:()=>h(!1),className:e?"border-[#1e1e1e] bg-transparent text-[#a3a3a3] hover:bg-[#161616] hover:text-white":"",disabled:w,children:"Cancel"}),n.jsx(J,{onClick:K,className:"text-white hover:opacity-90 transition-all duration-300 gap-2",style:{backgroundColor:w?"#10b981":"#4f46e5"},disabled:w,children:w?n.jsxs(n.Fragment,{children:[n.jsx(jn,{className:"w-4 h-4"}),"Success"]}):n.jsxs(n.Fragment,{children:[n.jsx(An,{className:"w-4 h-4"}),"Create User"]})})]})]})}),n.jsx(or,{open:f,onOpenChange:m,children:n.jsxs(lr,{className:e?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white",children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:O,children:"Edit User"}),n.jsx(xr,{className:P,children:"Update user information and role"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:e?"text-[#a3a3a3]":"text-gray-700",children:"Name"}),n.jsx(ge,{placeholder:"John Doe",value:E.name,onChange:q=>A({...E,name:q.target.value}),className:`h-12 ${e?"bg-[#0a0a0a] border-[#1e1e1e] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:e?"text-[#a3a3a3]":"text-gray-700",children:"Email"}),n.jsx(ge,{type:"email",value:E.email,disabled:!0,className:`h-12 ${e?"bg-[#0a0a0a] border-[#1e1e1e] text-[#737373]":"bg-gray-100 border-gray-300"} opacity-50 cursor-not-allowed`})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:e?"text-[#a3a3a3]":"text-gray-700",children:"Role"}),n.jsxs(Kt,{value:E.role,onValueChange:q=>A({...E,role:q}),children:[n.jsx(Xt,{className:`h-12 ${e?"bg-[#0a0a0a] border-[#1e1e1e] text-white":"bg-gray-100 border-gray-300"}`,children:n.jsx(Yt,{})}),n.jsx(Zt,{className:e?"bg-[#1e1e1e] border-[#2a2a2a]":"",children:s.filter(q=>q.id!=="super-admin").map(q=>n.jsx(Ce,{value:q.id,className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:q.name},q.id))})]})]})]}),n.jsxs(wn,{children:[n.jsx(J,{variant:"outline",onClick:()=>m(!1),className:e?"border-[#1e1e1e] bg-transparent text-[#a3a3a3] hover:bg-[#161616] hover:text-white":"",disabled:_,children:"Cancel"}),n.jsx(J,{onClick:L,className:"text-white hover:opacity-90 transition-all duration-300 gap-2",style:{backgroundColor:_?"#10b981":"#4f46e5"},disabled:_,children:_?n.jsxs(n.Fragment,{children:[n.jsx(jn,{className:"w-4 h-4"}),"Success"]}):n.jsxs(n.Fragment,{children:[n.jsx(ki,{className:"w-4 h-4"}),"Save Changes"]})})]})]})}),n.jsx(mb,{open:y,onOpenChange:g,children:n.jsxs(pb,{className:e?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white",children:[n.jsxs(xb,{children:[n.jsx(vb,{className:O,children:"Delete User"}),n.jsxs(yb,{className:P,children:["Are you sure you want to delete ",v?.name,"? This action cannot be undone."]})]}),n.jsxs(gb,{children:[n.jsx(wb,{className:e?"border-[#1e1e1e] bg-transparent text-[#a3a3a3] hover:bg-[#161616] hover:text-white":"",children:"Cancel"}),n.jsx(bb,{onClick:F,className:"bg-red-600 hover:bg-red-700 text-white",children:"Delete"})]})]})})]})]})}function Zze({transaction:t,isOpen:e,onClose:r,onRefund:s}){const{theme:a}=fn(),i=a==="dark",[o,l]=S.useState(""),[c,d]=S.useState("customer_request"),[u,h]=S.useState(""),[f,m]=S.useState(!0),[y,g]=S.useState(!1),v=t?t.amount-(t.refundAmount||0):0,b=async()=>{if(!t)return;const N=parseFloat(o);if(isNaN(N)||N<=0){me.error("Please enter a valid refund amount");return}if(N>v){me.error(`Refund amount cannot exceed $${v.toFixed(2)}`);return}g(!0);try{await s(t.id,N,c,u,f),me.success("Refund processed successfully"),w()}catch(_){me.error("Failed to process refund"),console.error(_)}finally{g(!1)}},w=()=>{l(""),d("customer_request"),h(""),m(!0),r()};return t?n.jsx(or,{open:e,onOpenChange:w,children:n.jsxs(lr,{className:`max-w-md ${i?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white border-gray-200"}`,children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:i?"text-white":"text-gray-900",children:"Process Refund"}),n.jsxs(xr,{className:i?"text-[#a3a3a3]":"text-gray-600",children:["Refund transaction ",t.transactionRef]})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsx("div",{className:`p-4 rounded-lg ${i?"bg-[#0a0a0a] border border-[#2a2a2a]":"bg-gray-50 border border-gray-200"}`,children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:i?"text-[#a3a3a3]":"text-gray-600",children:"Original Amount:"}),n.jsxs("span",{className:i?"text-white":"text-gray-900",children:["$",t.amount.toFixed(2)]})]}),t.refundAmount&&t.refundAmount>0&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:i?"text-[#a3a3a3]":"text-gray-600",children:"Already Refunded:"}),n.jsxs("span",{className:i?"text-red-400":"text-red-600",children:["-$",t.refundAmount.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between pt-2 border-t ${isDark ? 'border-[#2a2a2a]' : 'border-gray-200'}",children:[n.jsx("span",{className:i?"text-white":"text-gray-900",children:"Available to Refund:"}),n.jsxs("span",{className:i?"text-green-400":"text-green-600",children:["$",v.toFixed(2)]})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:i?"text-[#a3a3a3]":"text-gray-700",children:"Refund Amount"}),n.jsxs("div",{className:"relative",children:[n.jsx(Si,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 ${i?"text-[#737373]":"text-gray-400"}`}),n.jsx(ge,{type:"number",step:"0.01",min:"0.01",max:v,placeholder:"0.00",value:o,onChange:N=>l(N.target.value),className:`pl-10 h-12 ${i?"bg-[#0a0a0a] border-[#2a2a2a] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(J,{type:"button",variant:"outline",size:"sm",onClick:()=>l((v/2).toFixed(2)),className:i?"border-[#2a2a2a] bg-transparent text-[#a3a3a3] hover:bg-[#161616] hover:text-white":"",children:"50%"}),n.jsx(J,{type:"button",variant:"outline",size:"sm",onClick:()=>l(v.toFixed(2)),className:i?"border-[#2a2a2a] bg-transparent text-[#a3a3a3] hover:bg-[#161616] hover:text-white":"",children:"Full Refund"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:i?"text-[#a3a3a3]":"text-gray-700",children:"Reason"}),n.jsxs(Kt,{value:c,onValueChange:N=>d(N),children:[n.jsx(Xt,{className:`h-12 ${i?"bg-[#0a0a0a] border-[#2a2a2a] text-white":"bg-gray-100 border-gray-300"}`,children:n.jsx(Yt,{})}),n.jsxs(Zt,{className:i?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white",children:[n.jsx(Ce,{value:"customer_request",className:i?"text-white focus:bg-[#161616] focus:text-white":"",children:"Customer Request"}),n.jsx(Ce,{value:"booking_cancelled",className:i?"text-white focus:bg-[#161616] focus:text-white":"",children:"Booking Cancelled"}),n.jsx(Ce,{value:"duplicate_charge",className:i?"text-white focus:bg-[#161616] focus:text-white":"",children:"Duplicate Charge"}),n.jsx(Ce,{value:"service_issue",className:i?"text-white focus:bg-[#161616] focus:text-white":"",children:"Service Issue"}),n.jsx(Ce,{value:"overcharge",className:i?"text-white focus:bg-[#161616] focus:text-white":"",children:"Overcharge"}),n.jsx(Ce,{value:"other",className:i?"text-white focus:bg-[#161616] focus:text-white":"",children:"Other"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:i?"text-[#a3a3a3]":"text-gray-700",children:"Internal Notes (Optional)"}),n.jsx(mn,{placeholder:"Add any additional notes about this refund...",value:u,onChange:N=>h(N.target.value),rows:3,className:i?"bg-[#0a0a0a] border-[#2a2a2a] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(_u,{id:"notify",checked:f,onCheckedChange:N=>m(N)}),n.jsx(re,{htmlFor:"notify",className:`cursor-pointer ${i?"text-[#a3a3a3]":"text-gray-700"}`,children:"Send refund confirmation email to customer"})]}),n.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg ${i?"bg-amber-500/10 border border-amber-500/20":"bg-amber-50 border border-amber-200"}`,children:[n.jsx(us,{className:`w-5 h-5 mt-0.5 ${i?"text-amber-400":"text-amber-600"}`}),n.jsx("p",{className:`text-sm ${i?"text-amber-400":"text-amber-800"}`,children:"This action cannot be undone. The refund will be processed immediately."})]})]}),n.jsxs(wn,{children:[n.jsx(J,{variant:"outline",onClick:w,disabled:y,className:i?"border-[#2a2a2a] bg-transparent text-[#a3a3a3] hover:bg-[#161616] hover:text-white":"",children:"Cancel"}),n.jsx(J,{onClick:b,disabled:y||!o,className:"bg-red-600 hover:bg-red-700 text-white",children:y?"Processing...":"Process Refund"})]})]})}):null}const Jze=[{id:"txn_001",bookingId:"BK-2024-001",customerId:"cust_001",customerName:"Sarah Johnson",customerEmail:"sarah.johnson@email.com",type:"booking_payment",amount:150,currency:"USD",status:"completed",paymentMethod:{type:"credit_card",last4:"4242",brand:"Visa",expiryMonth:12,expiryYear:2025,holderName:"Sarah Johnson"},createdAt:"2024-11-03T10:30:00Z",processedAt:"2024-11-03T10:30:05Z",transactionRef:"pi_3QHGwK2eZvKYlo2C0b8h4r5t",invoiceNumber:"INV-2024-001",receiptUrl:"#",description:"Escape Room Booking - The Mystery Chamber (4 players)",reconciled:!0,reconciledAt:"2024-11-03T23:59:00Z",reconciledBy:"admin@bookingtms.com",createdBy:"system",ipAddress:"192.168.1.1"},{id:"txn_002",bookingId:"BK-2024-002",customerId:"cust_002",customerName:"Michael Chen",customerEmail:"michael.chen@email.com",type:"booking_payment",amount:200,currency:"USD",status:"completed",paymentMethod:{type:"credit_card",last4:"5555",brand:"Mastercard",expiryMonth:8,expiryYear:2026,holderName:"Michael Chen"},createdAt:"2024-11-03T11:15:00Z",processedAt:"2024-11-03T11:15:03Z",transactionRef:"pi_3QHGwL3fZvKYlo2C1c9i5s6u",invoiceNumber:"INV-2024-002",receiptUrl:"#",description:"Escape Room Booking - Horror Mansion (6 players)",reconciled:!0,reconciledAt:"2024-11-03T23:59:00Z",reconciledBy:"admin@bookingtms.com",createdBy:"system",ipAddress:"192.168.1.2"},{id:"txn_003",bookingId:"BK-2024-003",customerId:"cust_003",customerName:"Emily Rodriguez",customerEmail:"emily.rodriguez@email.com",type:"booking_payment",amount:120,currency:"USD",status:"refunded",paymentMethod:{type:"credit_card",last4:"1234",brand:"Visa",expiryMonth:3,expiryYear:2025,holderName:"Emily Rodriguez"},createdAt:"2024-11-02T14:20:00Z",processedAt:"2024-11-02T14:20:04Z",refundedAt:"2024-11-02T16:30:00Z",transactionRef:"pi_3QHGwM4gZvKYlo2C2d0j6t7v",invoiceNumber:"INV-2024-003",receiptUrl:"#",refundAmount:120,refundReason:"booking_cancelled",refundNotes:"Customer had to cancel due to emergency",refundedBy:"admin@bookingtms.com",description:"Escape Room Booking - Pirate Adventure (3 players)",reconciled:!0,reconciledAt:"2024-11-02T23:59:00Z",reconciledBy:"admin@bookingtms.com",createdBy:"system",ipAddress:"192.168.1.3"},{id:"txn_004",bookingId:"BK-2024-004",customerId:"cust_004",customerName:"David Thompson",customerEmail:"david.thompson@email.com",type:"booking_payment",amount:180,currency:"USD",status:"pending",paymentMethod:{type:"bank_transfer",holderName:"David Thompson"},createdAt:"2024-11-03T15:45:00Z",transactionRef:"bt_3QHGwN5hZvKYlo2C3e1k7u8w",invoiceNumber:"INV-2024-004",description:"Escape Room Booking - Space Station (5 players)",reconciled:!1,createdBy:"system",ipAddress:"192.168.1.4"},{id:"txn_005",bookingId:"BK-2024-005",customerId:"cust_005",customerName:"Jessica Martinez",customerEmail:"jessica.martinez@email.com",type:"booking_payment",amount:90,currency:"USD",status:"failed",paymentMethod:{type:"credit_card",last4:"9999",brand:"Amex",expiryMonth:6,expiryYear:2024,holderName:"Jessica Martinez"},createdAt:"2024-11-03T16:00:00Z",transactionRef:"pi_3QHGwO6iZvKYlo2C4f2l8v9x",description:"Escape Room Booking - Zombie Outbreak (2 players)",reconciled:!1,createdBy:"system",ipAddress:"192.168.1.5",notes:"Card declined - insufficient funds"},{id:"txn_006",bookingId:"BK-2024-006",customerId:"cust_006",customerName:"Robert Wilson",customerEmail:"robert.wilson@email.com",type:"booking_payment",amount:250,currency:"USD",status:"partially_refunded",paymentMethod:{type:"credit_card",last4:"7777",brand:"Visa",expiryMonth:10,expiryYear:2026,holderName:"Robert Wilson"},createdAt:"2024-11-01T09:00:00Z",processedAt:"2024-11-01T09:00:02Z",refundedAt:"2024-11-01T14:00:00Z",transactionRef:"pi_3QHGwP7jZvKYlo2C5g3m9w0y",invoiceNumber:"INV-2024-006",receiptUrl:"#",refundAmount:50,refundReason:"service_issue",refundNotes:"One player unable to participate, partial refund issued",refundedBy:"admin@bookingtms.com",description:"Escape Room Booking - Corporate Team Building (8 players)",reconciled:!0,reconciledAt:"2024-11-01T23:59:00Z",reconciledBy:"admin@bookingtms.com",createdBy:"system",ipAddress:"192.168.1.6"},{id:"txn_007",customerId:"cust_007",customerName:"Amanda Lee",customerEmail:"amanda.lee@email.com",type:"gift_card",amount:100,currency:"USD",status:"completed",paymentMethod:{type:"paypal",holderName:"Amanda Lee"},createdAt:"2024-11-02T12:30:00Z",processedAt:"2024-11-02T12:30:01Z",transactionRef:"pp_3QHGwQ8kZvKYlo2C6h4n0x1z",invoiceNumber:"INV-2024-007",receiptUrl:"#",description:"Gift Card Purchase - $100 value",reconciled:!0,reconciledAt:"2024-11-02T23:59:00Z",reconciledBy:"admin@bookingtms.com",createdBy:"system",ipAddress:"192.168.1.7"},{id:"txn_008",bookingId:"BK-2024-007",customerId:"cust_008",customerName:"Christopher Brown",customerEmail:"christopher.brown@email.com",type:"booking_payment",amount:160,currency:"USD",status:"completed",paymentMethod:{type:"cash",holderName:"Christopher Brown"},createdAt:"2024-11-03T13:00:00Z",processedAt:"2024-11-03T13:00:00Z",transactionRef:"cash_001",invoiceNumber:"INV-2024-008",receiptUrl:"#",description:"Escape Room Booking - Medieval Quest (4 players) - Walk-in",reconciled:!1,createdBy:"staff@bookingtms.com",ipAddress:"192.168.1.8",notes:"Cash payment at front desk"},{id:"txn_009",bookingId:"BK-2024-008",customerId:"cust_009",customerName:"Sophia Anderson",customerEmail:"sophia.anderson@email.com",type:"booking_payment",amount:140,currency:"USD",status:"processing",paymentMethod:{type:"stripe",last4:"3333",brand:"Visa",expiryMonth:9,expiryYear:2025,holderName:"Sophia Anderson"},createdAt:"2024-11-03T17:00:00Z",transactionRef:"pi_3QHGwR9lZvKYlo2C7i5o1y2a",invoiceNumber:"INV-2024-009",description:"Escape Room Booking - Detective Mystery (4 players)",reconciled:!1,createdBy:"system",ipAddress:"192.168.1.9"},{id:"txn_010",bookingId:"BK-2024-009",customerId:"cust_010",customerName:"Daniel Garcia",customerEmail:"daniel.garcia@email.com",type:"booking_payment",amount:220,currency:"USD",status:"completed",paymentMethod:{type:"gift_card",holderName:"Daniel Garcia"},createdAt:"2024-11-03T10:00:00Z",processedAt:"2024-11-03T10:00:01Z",transactionRef:"gc_3QHGwS0mZvKYlo2C8j6p2z3b",invoiceNumber:"INV-2024-010",receiptUrl:"#",description:"Escape Room Booking - Cyber Heist (6 players) - Gift Card Redemption",reconciled:!0,reconciledAt:"2024-11-03T23:59:00Z",reconciledBy:"admin@bookingtms.com",createdBy:"system",ipAddress:"192.168.1.10",notes:"Redeemed gift card GC-2024-001"}],Kv={totalRevenue:1610,totalRefunds:170,netRevenue:1440,transactionCount:10,successRate:70},Yv={reconciledTransactions:6,unreconciledTransactions:4,reconciledAmount:1040,unreconciledAmount:570,lastReconciledDate:"2024-11-03T23:59:00Z"};function Qze(){const{theme:t}=fn(),e=t==="dark",{hasPermission:r}=il(),[s,a]=S.useState(Jze),[i,o]=S.useState(""),[l,c]=S.useState("all"),[d,u]=S.useState("all"),[h,f]=S.useState("all"),[m,y]=S.useState(null),[g,v]=S.useState(!1),[b,w]=S.useState(!1),[N,_]=S.useState(!1),[C,E]=S.useState("csv"),[A,I]=S.useState(!1),$=e?"text-white":"text-gray-900",O=e?"text-[#a3a3a3]":"text-gray-600",P=S.useMemo(()=>s.filter(L=>{const F=L.customerName.toLowerCase().includes(i.toLowerCase())||L.customerEmail.toLowerCase().includes(i.toLowerCase())||L.transactionRef.toLowerCase().includes(i.toLowerCase())||L.bookingId&&L.bookingId.toLowerCase().includes(i.toLowerCase()),ee=l==="all"||L.status===l,se=d==="all"||L.paymentMethod.type===d;let q=!0;if(h!=="all"){const z=new Date(L.createdAt),Z=new Date;if(h==="today")q=z.toDateString()===Z.toDateString();else if(h==="week"){const X=new Date(Z.getTime()-6048e5);q=z>=X}else if(h==="month"){const X=new Date(Z.getTime()-2592e6);q=z>=X}}return F&&ee&&se&&q}),[s,i,l,d,h]),M=L=>{const ee={completed:{icon:Tt,className:e?"bg-green-500/20 text-green-400 border-green-500/30":"bg-green-500/10 text-green-600 border-green-500/20"},pending:{icon:Qt,className:e?"bg-amber-500/20 text-amber-400 border-amber-500/30":"bg-amber-500/10 text-amber-600 border-amber-500/20"},processing:{icon:Gc,className:e?"bg-blue-500/20 text-blue-400 border-blue-500/30":"bg-blue-500/10 text-blue-600 border-blue-500/20"},failed:{icon:ds,className:e?"bg-red-500/20 text-red-400 border-red-500/30":"bg-red-500/10 text-red-600 border-red-500/20"},refunded:{icon:Xv,className:e?"bg-gray-500/20 text-gray-400 border-gray-500/30":"bg-gray-500/10 text-gray-600 border-gray-500/20"},partially_refunded:{icon:Xv,className:e?"bg-orange-500/20 text-orange-400 border-orange-500/30":"bg-orange-500/10 text-orange-600 border-orange-500/20"},cancelled:{icon:ds,className:e?"bg-gray-500/20 text-gray-400 border-gray-500/30":"bg-gray-500/10 text-gray-600 border-gray-500/20"}}[L],se=ee.icon,q=L.replace("_"," ").replace(/\b\w/g,z=>z.toUpperCase());return n.jsxs(ze,{className:`${ee.className} gap-1`,children:[n.jsx(se,{className:"w-3 h-3"}),q]})},R=(L,F)=>F.last4?`${F.brand}  ${F.last4}`:L.replace("_"," ").replace(/\b\w/g,ee=>ee.toUpperCase()),W=async(L,F,ee,se,q)=>{if(!s.find(X=>X.id===L))return;await new Promise(X=>setTimeout(X,1e3));const Z=s.map(X=>{if(X.id===L){const Q=(X.refundAmount||0)+F;return{...X,status:Q>=X.amount?"refunded":"partially_refunded",refundAmount:Q,refundReason:ee,refundNotes:se,refundedAt:new Date().toISOString(),refundedBy:"current-user@bookingtms.com"}}return X});a(Z)},Y=async()=>{try{I(!0);const L=P;if(!L||L.length===0){me.error("No transactions to export based on current filters.");return}if(C==="csv"){const F=["Transaction Ref","Type","Status","Amount","Currency","Refund Amount","Customer Name","Customer Email","Booking ID","Payment Method","Card Brand","Last4","Created At","Processed At","Refunded At","Invoice Number","Receipt URL","Reconciled","Reconciled At"],ee=L.map(X=>[X.transactionRef,X.type,X.status,X.amount.toFixed(2),X.currency,(X.refundAmount??0).toFixed(2),X.customerName,X.customerEmail,X.bookingId??"",X.paymentMethod?.type??"",X.paymentMethod?.brand??"",X.paymentMethod?.last4??"",new Date(X.createdAt).toISOString(),X.processedAt?new Date(X.processedAt).toISOString():"",X.refundedAt?new Date(X.refundedAt).toISOString():"",X.invoiceNumber??"",X.receiptUrl??"",X.reconciled?"Yes":"No",X.reconciledAt?new Date(X.reconciledAt).toISOString():""]),se=[F.join(","),...ee.map(X=>X.map(Q=>{const ne=String(Q??""),ce=/[",\n]/.test(ne),ie=ne.replace(/"/g,'""');return ce?`"${ie}"`:ie}).join(","))].join(`
`),q=new Blob([se],{type:"text/csv;charset=utf-8;"}),z=URL.createObjectURL(q),Z=document.createElement("a");Z.href=z,Z.download=`payment-history-${new Date().toISOString().slice(0,10)}.csv`,Z.click(),URL.revokeObjectURL(z),me.success("CSV export complete")}else if(C==="pdf"){const F=new wr;let ee=14;F.setFontSize(16),F.text("Payment History Export",14,ee),ee+=8,F.setFontSize(10),F.text(`Generated: ${new Date().toLocaleString()}`,14,ee),ee+=8;const se=6,q=14,z=F.internal.pageSize.getHeight();L.forEach((Z,X)=>{[`#${X+1}  ${Z.transactionRef}  ${Z.status.toUpperCase()}  ${Z.currency} ${Z.amount.toFixed(2)}`,`Type: ${Z.type}  Method: ${Z.paymentMethod?.brand||""} ${Z.paymentMethod?.last4?" "+Z.paymentMethod.last4:Z.paymentMethod?.type||""}`,`Customer: ${Z.customerName} <${Z.customerEmail}>`,`Booking: ${Z.bookingId||"N/A"}`,`Created: ${new Date(Z.createdAt).toLocaleString()}${Z.processedAt?"  Processed: "+new Date(Z.processedAt).toLocaleString():""}`,`${Z.refundAmount?`Refunded: ${Z.currency} ${(Z.refundAmount||0).toFixed(2)}${Z.refundedAt?"  At: "+new Date(Z.refundedAt).toLocaleString():""}`:""}`,`Reconciled: ${Z.reconciled?"Yes":"No"}${Z.reconciledAt?"  "+new Date(Z.reconciledAt).toLocaleString():""}`].filter(Boolean).forEach(ne=>{ee+se>z-10&&(F.addPage(),ee=14),F.text(ne,q,ee),ee+=se}),ee+se>z-10&&(F.addPage(),ee=14),F.text("".repeat(40),q,ee),ee+=se}),F.save(`payment-history-${new Date().toISOString().slice(0,10)}.pdf`),me.success("PDF export complete")}}catch(L){console.error(L),me.error("Failed to export payment history")}finally{I(!1),_(!1)}},K=L=>{const F=s.map(ee=>ee.id===L?{...ee,reconciled:!0,reconciledAt:new Date().toISOString(),reconciledBy:"current-user@bookingtms.com"}:ee);a(F),me.success("Transaction marked as reconciled")};return n.jsxs(n.Fragment,{children:[n.jsx(ui,{title:"Payments & History",description:"Manage payments, refunds, and revenue reconciliation"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:`${e?"bg-[#161616] border border-[#1e1e1e]":"bg-white border border-gray-200"} rounded-lg shadow-sm p-6`,children:[n.jsx("h2",{className:`mb-4 ${$}`,children:"Revenue Overview"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(ve,{className:`${e?"bg-[#0a0a0a] border-[#2a2a2a]":"bg-white border-gray-200"} p-4`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:`text-sm ${O}`,children:"Total Revenue"}),n.jsx(Si,{className:`w-4 h-4 ${e?"text-green-400":"text-green-600"}`})]}),n.jsxs("div",{className:`text-2xl ${$}`,children:["$",Kv.totalRevenue.toFixed(2)]}),n.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[n.jsx(Is,{className:"w-3 h-3 text-green-500"}),n.jsx("span",{className:"text-xs text-green-500",children:"+12.5% from last period"})]})]}),n.jsxs(ve,{className:`${e?"bg-[#0a0a0a] border-[#2a2a2a]":"bg-white border-gray-200"} p-4`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:`text-sm ${O}`,children:"Total Refunds"}),n.jsx(Xv,{className:`w-4 h-4 ${e?"text-red-400":"text-red-600"}`})]}),n.jsxs("div",{className:`text-2xl ${$}`,children:["$",Kv.totalRefunds.toFixed(2)]}),n.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[n.jsx(kP,{className:"w-3 h-3 text-red-500"}),n.jsx("span",{className:"text-xs text-red-500",children:"-3.2% from last period"})]})]}),n.jsxs(ve,{className:`${e?"bg-[#0a0a0a] border-[#2a2a2a]":"bg-white border-gray-200"} p-4`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:`text-sm ${O}`,children:"Net Revenue"}),n.jsx(Is,{className:`w-4 h-4 ${e?"text-blue-400":"text-blue-600"}`})]}),n.jsxs("div",{className:`text-2xl ${$}`,children:["$",Kv.netRevenue.toFixed(2)]}),n.jsx("div",{className:"flex items-center gap-1 mt-1",children:n.jsx("span",{className:`text-xs ${O}`,children:"After refunds"})})]}),n.jsxs(ve,{className:`${e?"bg-[#0a0a0a] border-[#2a2a2a]":"bg-white border-gray-200"} p-4`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:`text-sm ${O}`,children:"Success Rate"}),n.jsx(Tt,{className:`w-4 h-4 ${e?"text-green-400":"text-green-600"}`})]}),n.jsxs("div",{className:`text-2xl ${$}`,children:[Kv.successRate,"%"]}),n.jsx("div",{className:"flex items-center gap-1 mt-1",children:n.jsxs("span",{className:`text-xs ${O}`,children:[Kv.transactionCount," transactions"]})})]})]})]}),n.jsx("div",{className:`${e?"bg-[#161616] border border-[#1e1e1e]":"bg-white border border-gray-200"} rounded-lg shadow-sm p-6`,children:n.jsxs(ta,{defaultValue:"transactions",className:"space-y-6",children:[n.jsxs(pa,{className:e?"bg-[#0a0a0a] border border-[#2a2a2a]":"bg-gray-100 border border-gray-200",children:[n.jsxs(Ft,{value:"transactions",className:`gap-2 ${e?"data-[state=active]:bg-[#1e1e1e] data-[state=active]:text-white text-[#a3a3a3]":""}`,children:[n.jsx(fa,{className:"w-4 h-4"}),"Transactions"]}),n.jsxs(Ft,{value:"reconciliation",className:`gap-2 ${e?"data-[state=active]:bg-[#1e1e1e] data-[state=active]:text-white text-[#a3a3a3]":""}`,children:[n.jsx(Tt,{className:"w-4 h-4"}),"Reconciliation"]})]}),n.jsxs(Bt,{value:"transactions",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"lg:col-span-2 relative",children:[n.jsx(Ba,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 ${e?"text-[#737373]":"text-gray-400"}`}),n.jsx(ge,{placeholder:"Search by customer, email, transaction ID...",value:i,onChange:L=>o(L.target.value),className:`pl-10 h-12 ${e?"bg-[#0a0a0a] border-[#2a2a2a] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]}),n.jsxs(Kt,{value:l,onValueChange:L=>c(L),children:[n.jsx(Xt,{className:`h-12 ${e?"bg-[#0a0a0a] border-[#2a2a2a] text-white":"bg-gray-100 border-gray-300"}`,children:n.jsx(Yt,{placeholder:"All Statuses"})}),n.jsxs(Zt,{className:e?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white",children:[n.jsx(Ce,{value:"all",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"All Statuses"}),n.jsx(Ce,{value:"completed",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"Completed"}),n.jsx(Ce,{value:"pending",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"Pending"}),n.jsx(Ce,{value:"processing",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"Processing"}),n.jsx(Ce,{value:"failed",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"Failed"}),n.jsx(Ce,{value:"refunded",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"Refunded"}),n.jsx(Ce,{value:"partially_refunded",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"Partially Refunded"})]})]}),n.jsxs(Kt,{value:h,onValueChange:L=>f(L),children:[n.jsx(Xt,{className:`h-12 ${e?"bg-[#0a0a0a] border-[#2a2a2a] text-white":"bg-gray-100 border-gray-300"}`,children:n.jsx(Yt,{placeholder:"All Time"})}),n.jsxs(Zt,{className:e?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white",children:[n.jsx(Ce,{value:"all",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"All Time"}),n.jsx(Ce,{value:"today",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"Today"}),n.jsx(Ce,{value:"week",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"Last 7 Days"}),n.jsx(Ce,{value:"month",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"Last 30 Days"})]})]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:O,children:["Showing ",P.length," of ",s.length," transactions"]}),n.jsx(Bd,{permissions:["payments.export"],children:n.jsxs(J,{variant:"outline",onClick:()=>_(!0),className:`gap-2 ${e?"border-[#2a2a2a] bg-transparent text-[#a3a3a3] hover:bg-[#161616] hover:text-white":""}`,children:[n.jsx(hs,{className:"w-4 h-4"}),"Export"]})})]}),n.jsx(ve,{className:`${e?"bg-[#0a0a0a] border-[#2a2a2a]":"bg-white border-gray-200"} shadow-sm`,children:n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:`${e?"bg-[#161616] border-b-2 border-[#2a2a2a]":"bg-gray-50 border-b-2 border-gray-200"}`,children:n.jsxs("tr",{children:[n.jsx("th",{className:`text-left p-4 ${O} uppercase tracking-wider text-xs`,children:"Transaction"}),n.jsx("th",{className:`text-left p-4 ${O} uppercase tracking-wider text-xs`,children:"Customer"}),n.jsx("th",{className:`text-left p-4 ${O} uppercase tracking-wider text-xs`,children:"Amount"}),n.jsx("th",{className:`text-left p-4 ${O} uppercase tracking-wider text-xs`,children:"Payment Method"}),n.jsx("th",{className:`text-left p-4 ${O} uppercase tracking-wider text-xs`,children:"Status"}),n.jsx("th",{className:`text-left p-4 ${O} uppercase tracking-wider text-xs`,children:"Date"}),n.jsx("th",{className:`text-right p-4 ${O} uppercase tracking-wider text-xs`,children:"Actions"})]})}),n.jsx("tbody",{children:P.map(L=>n.jsxs("tr",{className:`border-b ${e?"border-[#2a2a2a] hover:bg-[#161616]":"border-gray-200 hover:bg-gray-50"} transition-colors cursor-pointer`,onClick:()=>{y(L),w(!0)},children:[n.jsx("td",{className:"p-4",children:n.jsxs("div",{children:[n.jsx("div",{className:$,children:L.transactionRef}),L.bookingId&&n.jsx("div",{className:`text-sm ${O}`,children:L.bookingId})]})}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{children:[n.jsx("div",{className:$,children:L.customerName}),n.jsx("div",{className:`text-sm ${O}`,children:L.customerEmail})]})}),n.jsxs("td",{className:"p-4",children:[n.jsxs("div",{className:$,children:["$",L.amount.toFixed(2)]}),L.refundAmount&&L.refundAmount>0&&n.jsxs("div",{className:`text-sm ${e?"text-red-400":"text-red-600"}`,children:["-$",L.refundAmount.toFixed(2)," refunded"]})]}),n.jsx("td",{className:"p-4",children:n.jsx("div",{className:$,children:R(L.paymentMethod.type,L.paymentMethod)})}),n.jsx("td",{className:"p-4",children:M(L.status)}),n.jsxs("td",{className:"p-4",children:[n.jsx("div",{className:$,children:new Date(L.createdAt).toLocaleDateString()}),n.jsx("div",{className:`text-sm ${O}`,children:new Date(L.createdAt).toLocaleTimeString()})]}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:F=>F.stopPropagation(),children:[n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>{y(L),w(!0)},className:e?"hover:bg-[#1a1a1a] text-[#a3a3a3] hover:text-white":"",children:n.jsx(Ln,{className:"w-4 h-4"})}),n.jsx(Bd,{permissions:["payments.refund"],children:L.status==="completed"||L.status==="partially_refunded"?n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>{y(L),v(!0)},className:e?"hover:bg-[#1a1a1a] text-[#a3a3a3] hover:text-white":"",disabled:L.amount===L.refundAmount,children:n.jsx(Xv,{className:"w-4 h-4"})}):null})]})})]},L.id))})]}),P.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(fa,{className:`w-12 h-12 mx-auto mb-4 ${e?"text-[#737373]":"text-gray-400"}`}),n.jsx("p",{className:O,children:"No transactions found"})]})]})})]}),n.jsx(Bt,{value:"reconciliation",className:"space-y-6",children:n.jsxs(ve,{className:`${e?"bg-[#0a0a0a] border-[#2a2a2a]":"bg-white border-gray-200"} p-6`,children:[n.jsx("h3",{className:`mb-4 ${$}`,children:"Reconciliation Summary"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:`p-4 rounded-lg ${e?"bg-[#161616]":"bg-gray-50"}`,children:[n.jsx("div",{className:`text-sm ${O} mb-1`,children:"Reconciled"}),n.jsx("div",{className:`text-2xl ${$}`,children:Yv.reconciledTransactions}),n.jsxs("div",{className:`text-sm ${e?"text-green-400":"text-green-600"}`,children:["$",Yv.reconciledAmount.toFixed(2)]})]}),n.jsxs("div",{className:`p-4 rounded-lg ${e?"bg-[#161616]":"bg-gray-50"}`,children:[n.jsx("div",{className:`text-sm ${O} mb-1`,children:"Unreconciled"}),n.jsx("div",{className:`text-2xl ${$}`,children:Yv.unreconciledTransactions}),n.jsxs("div",{className:`text-sm ${e?"text-amber-400":"text-amber-600"}`,children:["$",Yv.unreconciledAmount.toFixed(2)]})]}),n.jsxs("div",{className:`p-4 rounded-lg ${e?"bg-[#161616]":"bg-gray-50"}`,children:[n.jsx("div",{className:`text-sm ${O} mb-1`,children:"Last Reconciled"}),n.jsx("div",{className:`text-sm ${$}`,children:new Date(Yv.lastReconciledDate).toLocaleDateString()})]})]}),n.jsx(Bd,{permissions:["payments.reconcile"],children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:$,children:"Unreconciled Transactions"}),s.filter(L=>!L.reconciled&&L.status==="completed").map(L=>n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg ${e?"bg-[#161616] border border-[#2a2a2a]":"bg-gray-50 border border-gray-200"}`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:$,children:L.transactionRef}),n.jsxs("div",{className:`text-sm ${O}`,children:[L.customerName,"  $",L.amount.toFixed(2)]})]}),n.jsxs(J,{size:"sm",onClick:()=>K(L.id),className:"text-white hover:opacity-90",style:{backgroundColor:"#4f46e5"},children:[n.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Mark Reconciled"]})]},L.id))]})})]})})]})}),n.jsx(Zze,{transaction:m,isOpen:g,onClose:()=>{v(!1),y(null)},onRefund:W}),n.jsx(or,{open:b,onOpenChange:w,children:n.jsx(lr,{className:`max-w-2xl ${e?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white border-gray-200"}`,children:m&&n.jsxs(n.Fragment,{children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:$,children:"Transaction Details"}),n.jsx(xr,{className:O,children:m.transactionRef})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:`mb-3 ${$}`,children:"Customer Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:`text-sm ${O}`,children:"Name"}),n.jsx("div",{className:$,children:m.customerName})]}),n.jsxs("div",{children:[n.jsx("div",{className:`text-sm ${O}`,children:"Email"}),n.jsx("div",{className:$,children:m.customerEmail})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:`mb-3 ${$}`,children:"Transaction Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:`text-sm ${O}`,children:"Amount"}),n.jsxs("div",{className:$,children:["$",m.amount.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("div",{className:`text-sm ${O}`,children:"Status"}),n.jsx("div",{children:M(m.status)})]}),n.jsxs("div",{children:[n.jsx("div",{className:`text-sm ${O}`,children:"Payment Method"}),n.jsx("div",{className:$,children:R(m.paymentMethod.type,m.paymentMethod)})]}),n.jsxs("div",{children:[n.jsx("div",{className:`text-sm ${O}`,children:"Date"}),n.jsx("div",{className:$,children:new Date(m.createdAt).toLocaleString()})]}),m.bookingId&&n.jsxs("div",{children:[n.jsx("div",{className:`text-sm ${O}`,children:"Booking ID"}),n.jsx("div",{className:$,children:m.bookingId})]}),m.invoiceNumber&&n.jsxs("div",{children:[n.jsx("div",{className:`text-sm ${O}`,children:"Invoice"}),n.jsx("div",{className:$,children:m.invoiceNumber})]})]})]}),m.refundAmount&&m.refundAmount>0&&n.jsxs("div",{children:[n.jsx("h4",{className:`mb-3 ${$}`,children:"Refund Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:`text-sm ${O}`,children:"Refund Amount"}),n.jsxs("div",{className:e?"text-red-400":"text-red-600",children:["$",m.refundAmount.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("div",{className:`text-sm ${O}`,children:"Refund Date"}),n.jsx("div",{className:$,children:m.refundedAt?new Date(m.refundedAt).toLocaleString():"N/A"})]}),m.refundReason&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("div",{className:`text-sm ${O}`,children:"Reason"}),n.jsx("div",{className:$,children:m.refundReason.replace("_"," ").replace(/\b\w/g,L=>L.toUpperCase())})]}),m.refundNotes&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("div",{className:`text-sm ${O}`,children:"Notes"}),n.jsx("div",{className:$,children:m.refundNotes})]})]})]}),m.description&&n.jsxs("div",{children:[n.jsx("div",{className:`text-sm ${O} mb-2`,children:"Description"}),n.jsx("div",{className:$,children:m.description})]})]})]})})}),n.jsx(or,{open:N,onOpenChange:_,children:n.jsxs(lr,{className:e?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white border-gray-200",children:[n.jsxs(Nr,{children:[n.jsx(cr,{className:$,children:"Export Transactions"}),n.jsx(xr,{className:O,children:"Choose a format and export the currently filtered transactions."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(re,{className:O,children:"Format"}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsx(J,{variant:C==="csv"?"default":"outline",onClick:()=>E("csv"),className:e?C==="csv"?"":"border-[#2a2a2a] text-[#a3a3a3]":"",children:"CSV"}),n.jsx(J,{variant:C==="pdf"?"default":"outline",onClick:()=>E("pdf"),className:e?C==="pdf"?"":"border-[#2a2a2a] text-[#a3a3a3]":"",children:"PDF"})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(J,{variant:"ghost",onClick:()=>_(!1),className:e?"text-[#a3a3a3] hover:text-white hover:bg-[#161616]":"",disabled:A,children:"Cancel"}),n.jsx(J,{onClick:Y,disabled:A,children:A?"Exporting":"Export"})]})]})]})})]})]})}function eVe(){const{theme:t}=fn(),e=t==="dark",{notifications:r,unreadCount:s,markAsRead:a,markAllAsRead:i,deleteNotification:o,clearAll:l,playNotificationSound:c}=JP(),[d,u]=S.useState(""),[h,f]=S.useState("all"),[m,y]=S.useState("all"),[g,v]=S.useState("all"),b=e?"bg-[#161616]":"bg-white",w=e?"border-[#1e1e1e]":"border-gray-200",N=e?"text-white":"text-gray-900",_=e?"text-[#a3a3a3]":"text-gray-600",C=S.useMemo(()=>{let P=r;return g==="unread"&&(P=P.filter(M=>!M.read)),d&&(P=P.filter(M=>M.title.toLowerCase().includes(d.toLowerCase())||M.message.toLowerCase().includes(d.toLowerCase()))),h!=="all"&&(P=P.filter(M=>M.type===h)),m!=="all"&&(P=P.filter(M=>M.priority===m)),P},[r,g,d,h,m]),E=P=>{const M=e?"text-[#a3a3a3]":"text-gray-600";switch(P){case"booking":return n.jsx(Nn,{className:`w-5 h-5 ${M}`});case"payment":return n.jsx(fa,{className:`w-5 h-5 ${M}`});case"cancellation":return n.jsx(In,{className:`w-5 h-5 ${M}`});case"customer":return n.jsx(am,{className:`w-5 h-5 ${M}`});case"alert":return n.jsx(Dw,{className:`w-5 h-5 ${M}`});case"message":return n.jsx(ei,{className:`w-5 h-5 ${M}`});case"staff":return n.jsx(Xn,{className:`w-5 h-5 ${M}`});case"system":return n.jsx(rs,{className:`w-5 h-5 ${M}`});default:return n.jsx(uo,{className:`w-5 h-5 ${M}`})}},A=P=>{switch(P){case"urgent":return n.jsx(ze,{className:"bg-red-500/20 text-red-600 border-red-500/40 dark:text-red-400",children:"Urgent"});case"high":return n.jsx(ze,{className:"bg-orange-500/20 text-orange-600 border-orange-500/40 dark:text-orange-400",children:"High"});case"medium":return n.jsx(ze,{className:"bg-blue-500/20 text-blue-600 border-blue-500/40 dark:text-blue-400",children:"Medium"});case"low":return n.jsx(ze,{className:"bg-gray-500/20 text-gray-600 border-gray-500/40 dark:text-gray-400",children:"Low"});default:return null}},I=P=>{const M={booking:"Booking",cancellation:"Cancellation",payment:"Payment",refund:"Refund",customer:"Customer",staff:"Staff",system:"System",alert:"Alert",message:"Message"};return n.jsx(ze,{variant:"outline",className:`${e?"border-[#2a2a2a] text-[#a3a3a3]":"border-gray-300 text-gray-600"}`,children:M[P]})},$=P=>{const M=new Date(P),W=new Date().getTime()-M.getTime(),Y=Math.floor(W/6e4),K=Math.floor(W/36e5),L=Math.floor(W/864e5);let F="";Y<1?F="Just now":Y<60?F=`${Y}m ago`:K<24?F=`${K}h ago`:L<7?F=`${L}d ago`:F=M.toLocaleDateString();const ee=M.toLocaleString();return{relative:F,full:ee}},O=P=>{a(P.id)};return n.jsxs(n.Fragment,{children:[n.jsx(ui,{title:"Notifications",description:"Stay updated with all your booking activities",action:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(J,{variant:"outline",onClick:()=>c(),className:`gap-2 ${e?"border-[#1e1e1e] bg-transparent hover:bg-[#161616]":""}`,children:[n.jsx(kk,{className:"w-4 h-4"}),"Test Sound"]}),s>0&&n.jsxs(J,{onClick:i,className:"gap-2",style:{backgroundColor:"#4f46e5"},children:[n.jsx(cW,{className:"w-4 h-4"}),"Mark all read"]})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(ve,{className:`${b} border ${w} shadow-sm p-4`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${_}`,children:"Total"}),n.jsx("p",{className:`text-2xl ${N}`,children:r.length})]}),n.jsx(uo,{className:`w-8 h-8 ${e?"text-[#4f46e5]":"text-blue-600"}`})]})}),n.jsx(ve,{className:`${b} border ${w} shadow-sm p-4`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${_}`,children:"Unread"}),n.jsx("p",{className:`text-2xl ${N}`,children:s})]}),n.jsx("div",{className:"w-8 h-8 rounded-full bg-[#4f46e5] flex items-center justify-center",children:n.jsx("span",{className:"text-white",children:s})})]})}),n.jsx(ve,{className:`${b} border ${w} shadow-sm p-4`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${_}`,children:"Today"}),n.jsx("p",{className:`text-2xl ${N}`,children:r.filter(P=>{const M=new Date(P.timestamp),R=new Date;return M.toDateString()===R.toDateString()}).length})]}),n.jsx(Nn,{className:`w-8 h-8 ${e?"text-green-400":"text-green-600"}`})]})}),n.jsx(ve,{className:`${b} border ${w} shadow-sm p-4`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${_}`,children:"Urgent"}),n.jsx("p",{className:`text-2xl ${N}`,children:r.filter(P=>P.priority==="urgent").length})]}),n.jsx(Dw,{className:`w-8 h-8 ${e?"text-red-400":"text-red-600"}`})]})})]}),n.jsx(ve,{className:`${b} border ${w} shadow-sm`,children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"md:col-span-2 relative",children:[n.jsx(Ba,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 ${e?"text-[#737373]":"text-gray-400"}`}),n.jsx(ge,{placeholder:"Search notifications...",value:d,onChange:P=>u(P.target.value),className:`pl-10 h-12 ${e?"bg-[#0a0a0a] border-[#1e1e1e] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]}),n.jsxs(Kt,{value:h,onValueChange:P=>f(P),children:[n.jsx(Xt,{className:`h-12 ${e?"bg-[#0a0a0a] border-[#1e1e1e] text-white":"bg-gray-100 border-gray-300"}`,children:n.jsx(Yt,{placeholder:"All Types"})}),n.jsxs(Zt,{className:e?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white",children:[n.jsx(Ce,{value:"all",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"All Types"}),n.jsx(Ce,{value:"booking",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"Bookings"}),n.jsx(Ce,{value:"payment",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"Payments"}),n.jsx(Ce,{value:"cancellation",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"Cancellations"}),n.jsx(Ce,{value:"alert",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"Alerts"}),n.jsx(Ce,{value:"system",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"System"})]})]}),n.jsxs(Kt,{value:m,onValueChange:y,children:[n.jsx(Xt,{className:`h-12 ${e?"bg-[#0a0a0a] border-[#1e1e1e] text-white":"bg-gray-100 border-gray-300"}`,children:n.jsx(Yt,{placeholder:"All Priorities"})}),n.jsxs(Zt,{className:e?"bg-[#1e1e1e] border-[#2a2a2a]":"bg-white",children:[n.jsx(Ce,{value:"all",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"All Priorities"}),n.jsx(Ce,{value:"urgent",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"Urgent"}),n.jsx(Ce,{value:"high",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"High"}),n.jsx(Ce,{value:"medium",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"Medium"}),n.jsx(Ce,{value:"low",className:e?"text-white focus:bg-[#161616] focus:text-white":"",children:"Low"})]})]})]}),n.jsxs(ta,{value:g,onValueChange:P=>v(P),className:"space-y-6",children:[n.jsxs(pa,{className:e?"bg-[#0a0a0a] border border-[#2a2a2a]":"bg-gray-100",children:[n.jsxs(Ft,{value:"all",className:"gap-2",children:[n.jsx(uo,{className:"w-4 h-4"}),"All (",r.length,")"]}),n.jsxs(Ft,{value:"unread",className:"gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(uo,{className:"w-4 h-4"}),s>0&&n.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-[#4f46e5] rounded-full"})]}),"Unread (",s,")"]})]}),n.jsx(Bt,{value:g,className:"mt-6",children:C.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(uo,{className:`w-16 h-16 mb-4 ${e?"text-[#2a2a2a]":"text-gray-300"}`}),n.jsx("p",{className:`text-lg mb-2 ${N}`,children:"No notifications found"}),n.jsx("p",{className:_,children:g==="unread"?"You're all caught up!":"Try adjusting your filters"})]}):n.jsx("div",{className:"space-y-2",children:C.map(P=>{const M=$(P.timestamp);return n.jsx("div",{onClick:()=>O(P),className:`p-4 rounded-lg border cursor-pointer transition-all ${P.read?e?"bg-transparent border-[#1e1e1e] hover:bg-[#0a0a0a]":"bg-transparent border-gray-200 hover:bg-gray-50":e?"bg-[#0a0a0a] border-[#2a2a2a] hover:bg-[#1a1a1a]":"bg-blue-50 border-blue-200 hover:bg-blue-100"}`,children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:E(P.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h4",{className:`${P.read?_:N}`,children:P.title}),!P.read&&n.jsx("div",{className:"w-2 h-2 rounded-full bg-[#4f46e5]"})]}),n.jsx("p",{className:`text-sm ${_}`,children:P.message})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[A(P.priority),n.jsx(J,{variant:"ghost",size:"sm",onClick:R=>{R.stopPropagation(),o(P.id)},className:`h-8 w-8 p-0 ${e?"hover:bg-[#1e1e1e] text-[#737373] hover:text-red-400":"hover:bg-gray-100 text-gray-400 hover:text-red-600"}`,children:n.jsx(Dn,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[I(P.type),n.jsx("span",{className:`text-xs ${_}`,title:M.full,children:M.relative})]}),P.actionLabel&&n.jsxs(J,{variant:"ghost",size:"sm",className:`h-8 gap-1 text-xs ${e?"text-[#4f46e5] hover:bg-[#1a1a1a]":"text-blue-600 hover:bg-blue-50"}`,children:[P.actionLabel,n.jsx(Ds,{className:"w-3 h-3"})]})]})]})]})},P.id)})})})]})]})})]})]})}const tVe=()=>{const{theme:t}=fn(),{login:e}=il(),r=t==="dark",[s,a]=S.useState(null),[i,o]=S.useState(""),[l,c]=S.useState(""),[d,u]=S.useState(!1),[h,f]=S.useState({}),m=r?"bg-black/50":"bg-black/30",y=r?"bg-[#1e1e1e]":"bg-white",g=r?"text-white":"text-gray-900",v=r?"text-gray-400":"text-gray-600",b=r?"border-gray-700":"border-gray-200",w=r?"bg-[#161616]":"bg-gray-100",N=r?"border-gray-700":"border-gray-300",_=r?"hover:bg-[#252525]":"hover:bg-gray-50",C=[{id:"super-admin",label:"Super Admin Login",description:"Full system access + user management",icon:Xn,color:r?"#8b5cf6":"#7c3aed"},{id:"admin",label:"Admin Login",description:"Full operational access",icon:Cie,color:r?"#3b82f6":"#2563eb"},{id:"beta-owner",label:"Beta Owner Login",description:"Multi-venue owner access (Beta Testing)",icon:ic,color:r?"#f59e0b":"#d97706"},{id:"manager",label:"Manager Login",description:"View and limited edit access",icon:Wr,color:r?"#10b981":"#059669"},{id:"staff",label:"Staff Login",description:"Basic view-only access",icon:ca,color:r?"#6b7280":"#4b5563"}],E=()=>{const O={};return i.trim()||(O.username="Username is required"),l?l.length<6&&(O.password="Password must be at least 6 characters"):O.password="Password is required",f(O),Object.keys(O).length===0},A=O=>{a(O),f({})},I=()=>{a(null),o(""),c(""),f({})},$=async O=>{if(O.preventDefault(),!!E()&&s){u(!0);try{await new Promise(P=>setTimeout(P,1500)),await e(i,l,s),me.success(`Successfully logged in as ${C.find(P=>P.id===s)?.label}`)}catch(P){console.error("Login error:",P),me.error("Invalid username or password")}finally{u(!1)}}};return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:`absolute inset-0 ${m}`}),n.jsxs("div",{className:`relative ${y} rounded-2xl shadow-2xl w-full max-w-md overflow-hidden`,style:{maxHeight:"90vh"},children:[n.jsxs("div",{className:"relative p-6 pb-4",children:[n.jsx("button",{onClick:()=>window.history.back(),className:`absolute top-4 right-4 ${v} ${_} p-2 rounded-lg transition-colors`,"aria-label":"Close",children:n.jsx(In,{className:"w-5 h-5"})}),n.jsx("h2",{className:`text-2xl ${g} mb-2`,children:s?"Enter your credentials":"Log in to BookingTMS"}),n.jsx("p",{className:`text-sm ${v}`,children:s?`Sign in as ${C.find(O=>O.id===s)?.label.replace(" Login","")}`:"Manage your bookings, customers, and business operations from one unified platform."})]}),n.jsx("div",{className:"px-6 pb-6 overflow-y-auto",style:{maxHeight:"calc(90vh - 140px)"},children:s?n.jsxs("form",{onSubmit:$,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:r?"text-gray-300":"text-gray-700",children:"Username"}),n.jsx(ge,{type:"text",value:i,onChange:O=>{o(O.target.value),h.username&&f({...h,username:void 0})},placeholder:"Enter your username",className:`h-12 ${w} ${N} ${r?"text-white placeholder:text-gray-500":"text-gray-900 placeholder:text-gray-500"}`,disabled:d}),h.username&&n.jsx("p",{className:"text-sm text-red-500",children:h.username})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:r?"text-gray-300":"text-gray-700",children:"Password"}),n.jsx(ge,{type:"password",value:l,onChange:O=>{c(O.target.value),h.password&&f({...h,password:void 0})},placeholder:"Enter your password",className:`h-12 ${w} ${N} ${r?"text-white placeholder:text-gray-500":"text-gray-900 placeholder:text-gray-500"}`,disabled:d}),h.password&&n.jsx("p",{className:"text-sm text-red-500",children:h.password}),!h.password&&n.jsxs("p",{className:`text-xs ${v}`,children:[" Demo password: ",n.jsx("span",{className:`font-mono ${r?"text-blue-400":"text-blue-600"}`,children:s==="beta-owner"?"123admin":"demo123"})]})]}),n.jsxs("div",{className:"space-y-3 pt-2",children:[n.jsx(J,{type:"submit",disabled:d,className:"w-full h-12 bg-[#4f46e5] hover:bg-[#4338ca] text-white rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Signing in...":"Sign In"}),n.jsx(J,{type:"button",onClick:I,disabled:d,variant:"outline",className:`w-full h-12 ${b} ${g} ${_} rounded-xl transition-colors`,children:"Back to Role Selection"})]}),n.jsx("div",{className:"text-center pt-2",children:n.jsx("button",{type:"button",className:`text-sm ${r?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,onClick:()=>me.info("Password reset feature coming soon"),children:"Forgot your password?"})})]}):n.jsxs("div",{className:"space-y-3",children:[C.map(O=>{const P=O.icon;return n.jsxs("button",{onClick:()=>A(O.id),className:`w-full flex items-center gap-4 p-4 rounded-xl border ${b} ${_} transition-all group`,children:[n.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:`${O.color}15`},children:n.jsx(P,{className:"w-6 h-6",style:{color:O.color}})}),n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("div",{className:`font-medium ${g} group-hover:${r?"text-blue-400":"text-blue-600"} transition-colors`,children:O.label}),n.jsx("div",{className:`text-sm ${v}`,children:O.description})]})]},O.id)}),n.jsxs("div",{className:"relative my-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:`w-full border-t ${b}`})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:`${y} px-4 ${v}`,children:"Demo Access"})})]}),n.jsxs("div",{className:`p-4 rounded-lg border ${b} ${r?"bg-[#161616]":"bg-gray-50"}`,children:[n.jsxs("p",{className:`text-sm ${v} mb-2`,children:[n.jsx("strong",{className:g,children:"Testing Mode:"})," Click any role to auto-fill demo credentials"]}),n.jsxs("div",{className:"space-y-1 text-xs",children:[n.jsx("p",{className:v,children:" Super Admin: superadmin / demo123"}),n.jsx("p",{className:v,children:" Admin: admin / demo123"}),n.jsx("p",{className:v,children:" Manager: manager / demo123"}),n.jsx("p",{className:v,children:" Staff: staff / demo123"})]})]})]})}),n.jsx("div",{className:`px-6 py-4 border-t ${b}`,children:n.jsxs("p",{className:`text-xs ${v} text-center`,children:["By continuing, you agree to our"," ",n.jsx("button",{onClick:()=>me.info("Terms of Service"),className:r?"text-blue-400 hover:underline":"text-blue-600 hover:underline",children:"Terms"})," ","and have read our"," ",n.jsx("button",{onClick:()=>me.info("Privacy Policy"),className:r?"text-blue-400 hover:underline":"text-blue-600 hover:underline",children:"Privacy Policy"}),"."]})})]})]})},rVe=()=>{const{theme:t}=fn(),{login:e}=il(),r=t==="dark",[s,a]=S.useState(""),[i,o]=S.useState(""),[l,c]=S.useState(!1),[d,u]=S.useState({}),h=r?"bg-black/50":"bg-black/30",f=r?"bg-[#1e1e1e]":"bg-white",m=r?"text-white":"text-gray-900",y=r?"text-gray-400":"text-gray-600",g=r?"border-gray-700":"border-gray-200",v=r?"bg-[#161616]":"bg-gray-100",b=r?"border-gray-700":"border-gray-300",w=r?"hover:bg-[#252525]":"hover:bg-gray-50",N="betaadmin",_="123admin",C=()=>{const A={};return s.trim()||(A.username="Username is required"),i||(A.password="Password is required"),u(A),Object.keys(A).length===0},E=async A=>{if(A.preventDefault(),!!C()){c(!0);try{if(s!==N||i!==_){me.error("Invalid username or password"),c(!1);return}await new Promise(I=>setTimeout(I,1e3)),await e(s,i,"beta-owner"),me.success("Welcome to BookingTMS Beta!")}catch(I){console.error("Login error:",I),me.error("Login failed. Please try again.")}finally{c(!1)}}};return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:`absolute inset-0 ${h}`}),n.jsxs("div",{className:`relative ${f} rounded-2xl shadow-2xl w-full max-w-md overflow-hidden`,style:{maxHeight:"90vh"},children:[n.jsxs("div",{className:"relative p-6 pb-4",children:[n.jsx("button",{onClick:()=>window.history.back(),className:`absolute top-4 right-4 ${y} ${w} p-2 rounded-lg transition-colors`,"aria-label":"Close",children:n.jsx(In,{className:"w-5 h-5"})}),n.jsx("h2",{className:`text-2xl font-bold ${m} mb-2`,children:"Welcome to BookingTMS"}),n.jsx("p",{className:`text-sm ${y}`,children:"Sign in to manage your venues, bookings, and business operations"})]}),n.jsx("div",{className:"px-6 pb-6 overflow-y-auto",style:{maxHeight:"calc(90vh - 140px)"},children:n.jsxs("form",{onSubmit:E,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:r?"text-gray-300":"text-gray-700",children:"Username"}),n.jsx(ge,{type:"text",value:s,onChange:A=>{a(A.target.value),d.username&&u({...d,username:void 0})},placeholder:"Enter your username",className:`h-12 ${v} ${b} ${r?"text-white placeholder:text-gray-500":"text-gray-900 placeholder:text-gray-500"}`,disabled:l}),d.username&&n.jsx("p",{className:"text-sm text-red-500",children:d.username})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:r?"text-gray-300":"text-gray-700",children:"Password"}),n.jsx(ge,{type:"password",value:i,onChange:A=>{o(A.target.value),d.password&&u({...d,password:void 0})},placeholder:"Enter your password",className:`h-12 ${v} ${b} ${r?"text-white placeholder:text-gray-500":"text-gray-900 placeholder:text-gray-500"}`,disabled:l}),d.password&&n.jsx("p",{className:"text-sm text-red-500",children:d.password})]}),n.jsx("div",{className:"space-y-3 pt-2",children:n.jsx(J,{type:"submit",disabled:l,className:"w-full h-12 bg-[#4f46e5] hover:bg-[#4338ca] text-white rounded-xl font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Signing in...":"Sign In"})}),n.jsx("div",{className:"text-center pt-2",children:n.jsx("button",{type:"button",className:`text-sm ${r?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,onClick:()=>me.info("Password reset feature coming soon"),children:"Forgot your password?"})})]})}),n.jsx("div",{className:`px-6 py-4 border-t ${g}`,children:n.jsxs("p",{className:`text-xs ${y} text-center`,children:["By continuing, you agree to our"," ",n.jsx("button",{onClick:()=>me.info("Terms of Service"),className:r?"text-blue-400 hover:underline":"text-blue-600 hover:underline",children:"Terms"})," ","and have read our"," ",n.jsx("button",{onClick:()=>me.info("Privacy Policy"),className:r?"text-blue-400 hover:underline":"text-blue-600 hover:underline",children:"Privacy Policy"}),"."]})})]})]})},zh=[{id:"openai",name:"OpenAI",envVar:"OPENAI_API_KEY",apiUrl:"https://api.openai.com/v1/chat/completions",testModel:"gpt-3.5-turbo",description:"GPT-4, GPT-3.5, and other OpenAI models",icon:""},{id:"anthropic",name:"Anthropic Claude",envVar:"ANTHROPIC_API_KEY",apiUrl:"https://api.anthropic.com/v1/messages",testModel:"claude-3-haiku-20240307",description:"Claude 3 Opus, Sonnet, and Haiku models",icon:""},{id:"google",name:"Google AI (Gemini)",envVar:"GOOGLE_AI_API_KEY",apiUrl:"https://generativelanguage.googleapis.com/v1/models",testModel:"gemini-pro",description:"Gemini Pro and other Google AI models",icon:""},{id:"cohere",name:"Cohere",envVar:"COHERE_API_KEY",apiUrl:"https://api.cohere.ai/v1/generate",testModel:"command",description:"Command and other Cohere models",icon:""},{id:"huggingface",name:"Hugging Face",envVar:"HUGGINGFACE_API_KEY",apiUrl:"https://api-inference.huggingface.co/models",testModel:"gpt2",description:"Access to Hugging Face model hub",icon:""},{id:"together",name:"Together AI",envVar:"TOGETHER_API_KEY",apiUrl:"https://api.together.xyz/inference",testModel:"togethercomputer/llama-2-7b-chat",description:"Llama 2, Mistral, and other open-source models",icon:""}];async function nVe(t){const e=Date.now(),r=zh.find(s=>s.id==="openai");try{const s=await fetch(r.apiUrl,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({model:r.testModel,messages:[{role:"user",content:'Hello! This is a connection test. Please respond with "Connection successful".'}],max_tokens:50})}),a=Date.now()-e,i=await s.json();return s.ok?{provider:r.name,success:!0,message:"Successfully connected to OpenAI API",latency:a,details:{model:r.testModel,response:i.choices?.[0]?.message?.content||"OK",usage:i.usage}}:{provider:r.name,success:!1,message:i.error?.message||`HTTP ${s.status}: ${s.statusText}`,latency:a,error:i.error}}catch(s){const a=Date.now()-e;return{provider:r.name,success:!1,message:s.message||"Failed to connect to OpenAI API",latency:a,error:s}}}async function sVe(t){const e=Date.now(),r=zh.find(s=>s.id==="anthropic");try{const s=await fetch(r.apiUrl,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":t,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:r.testModel,messages:[{role:"user",content:'Hello! This is a connection test. Please respond with "Connection successful".'}],max_tokens:50})}),a=Date.now()-e,i=await s.json();return s.ok?{provider:r.name,success:!0,message:"Successfully connected to Anthropic API",latency:a,details:{model:r.testModel,response:i.content?.[0]?.text||"OK",usage:i.usage}}:{provider:r.name,success:!1,message:i.error?.message||`HTTP ${s.status}: ${s.statusText}`,latency:a,error:i.error}}catch(s){const a=Date.now()-e;return{provider:r.name,success:!1,message:s.message||"Failed to connect to Anthropic API",latency:a,error:s}}}async function aVe(t){const e=Date.now(),r=zh.find(s=>s.id==="google");try{const s=`https://generativelanguage.googleapis.com/v1/models/${r.testModel}:generateContent?key=${t}`,a=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:'Hello! This is a connection test. Please respond with "Connection successful".'}]}]})}),i=Date.now()-e,o=await a.json();return a.ok?{provider:r.name,success:!0,message:"Successfully connected to Google AI API",latency:i,details:{model:r.testModel,response:o.candidates?.[0]?.content?.parts?.[0]?.text||"OK"}}:{provider:r.name,success:!1,message:o.error?.message||`HTTP ${a.status}: ${a.statusText}`,latency:i,error:o.error}}catch(s){const a=Date.now()-e;return{provider:r.name,success:!1,message:s.message||"Failed to connect to Google AI API",latency:a,error:s}}}async function iVe(t){const e=Date.now(),r=zh.find(s=>s.id==="cohere");try{const s=await fetch(r.apiUrl,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({model:r.testModel,prompt:'Hello! This is a connection test. Please respond with "Connection successful".',max_tokens:50})}),a=Date.now()-e,i=await s.json();return s.ok?{provider:r.name,success:!0,message:"Successfully connected to Cohere API",latency:a,details:{model:r.testModel,response:i.generations?.[0]?.text||"OK"}}:{provider:r.name,success:!1,message:i.message||`HTTP ${s.status}: ${s.statusText}`,latency:a,error:i}}catch(s){const a=Date.now()-e;return{provider:r.name,success:!1,message:s.message||"Failed to connect to Cohere API",latency:a,error:s}}}async function oVe(t){const e=Date.now(),r=zh.find(s=>s.id==="huggingface");try{const s=`${r.apiUrl}/${r.testModel}`,a=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({inputs:"Hello! This is a connection test."})}),i=Date.now()-e,o=await a.json();return a.ok?{provider:r.name,success:!0,message:"Successfully connected to Hugging Face API",latency:i,details:{model:r.testModel,response:Array.isArray(o)?o[0]?.generated_text:"OK"}}:{provider:r.name,success:!1,message:o.error||`HTTP ${a.status}: ${a.statusText}`,latency:i,error:o}}catch(s){const a=Date.now()-e;return{provider:r.name,success:!1,message:s.message||"Failed to connect to Hugging Face API",latency:a,error:s}}}async function lVe(t){const e=Date.now(),r=zh.find(s=>s.id==="together");try{const s=await fetch(r.apiUrl,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({model:r.testModel,prompt:'Hello! This is a connection test. Please respond with "Connection successful".',max_tokens:50})}),a=Date.now()-e,i=await s.json();return s.ok?{provider:r.name,success:!0,message:"Successfully connected to Together AI API",latency:a,details:{model:r.testModel,response:i.output?.choices?.[0]?.text||"OK"}}:{provider:r.name,success:!1,message:i.error?.message||`HTTP ${s.status}: ${s.statusText}`,latency:a,error:i.error}}catch(s){const a=Date.now()-e;return{provider:r.name,success:!1,message:s.message||"Failed to connect to Together AI API",latency:a,error:s}}}async function cVe(t,e){switch(t){case"openai":return nVe(e);case"anthropic":return sVe(e);case"google":return aVe(e);case"cohere":return iVe(e);case"huggingface":return oVe(e);case"together":return lVe(e);default:return{provider:"Unknown",success:!1,message:`Unknown provider: ${t}`}}}function dVe(t,e){if(!e||e.trim().length===0)return{valid:!1,message:"API key is required"};switch(t){case"openai":if(!e.startsWith("sk-"))return{valid:!1,message:'OpenAI API keys should start with "sk-"'};break;case"anthropic":if(!e.startsWith("sk-ant-"))return{valid:!1,message:'Anthropic API keys should start with "sk-ant-"'};break}return e.length<20?{valid:!1,message:"API key seems too short"}:{valid:!0,message:"API key format looks valid"}}function uVe(t){return t<500?{rating:"excellent",label:"Excellent",color:"green"}:t<1500?{rating:"good",label:"Good",color:"blue"}:t<3e3?{rating:"fair",label:"Fair",color:"yellow"}:{rating:"poor",label:"Slow",color:"red"}}function hVe(t){return t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`}const Tp="ohfjkcajnqvethmrpdwc",$x="sb_publishable_qcx8OzZ_sr3T56gYax3iVw_lt1sRLg9",fVe=Object.freeze(Object.defineProperty({__proto__:null,projectId:Tp,publicAnonKey:$x},Symbol.toStringTag,{value:"Module"})),mVe=({isDark:t})=>{const[e,r]=S.useState(!1),[s,a]=S.useState([]),i=`https://${Tp}.supabase.co`,o=t?"bg-[#161616]":"bg-white",l=t?"border-[#2a2a2a]":"border-gray-200",c=t?"text-white":"text-gray-900",d=t?"text-[#a3a3a3]":"text-gray-600",u=t?"hover:bg-[#1e1e1e]":"hover:bg-gray-50",h=(g,v,b,w)=>{a(N=>N.find(C=>C.name===g)?N.map(C=>C.name===g?{name:g,status:v,message:b,details:w}:C):[...N,{name:g,status:v,message:b,details:w}])},f=async()=>{r(!0),a([]);try{h("Environment","pending","Checking..."),await new Promise(v=>setTimeout(v,500)),!Tp||!$x||h("Environment","success","Configuration found",{projectId:Tp,url:i,keyPreview:$x.substring(0,20)+"..."}),h("Client","pending","Initializing Supabase client..."),await new Promise(v=>setTimeout(v,500));let g;try{g=FJ(i,$x),h("Client","success","Client initialized successfully",{url:i,clientCreated:!0})}catch(v){h("Client","error",`Failed to initialize: ${v.message}`),r(!1);return}h("Database","pending","Testing database connection..."),await new Promise(v=>setTimeout(v,500));try{const{error:v}=await g.from("kv_store_84a71643").select("count").limit(1);v?v.code==="PGRST116"||v.message.includes("no rows")?h("Database","success","Connected (table exists, no data or RLS active)",{error:v.message}):h("Database","error",`Connection error: ${v.message}`,v):h("Database","success","Database connected successfully")}catch(v){h("Database","error",`Connection failed: ${v.message}`)}h("Auth","pending","Testing authentication system..."),await new Promise(v=>setTimeout(v,500));try{const{data:{session:v},error:b}=await g.auth.getSession();b?h("Auth","error",`Auth error: ${b.message}`,b):v?h("Auth","success",`Logged in as ${v.user.email}`,{userId:v.user.id,email:v.user.email}):h("Auth","success","Auth system ready (no active session)",{ready:!0})}catch(v){h("Auth","error",`Auth test failed: ${v.message}`)}h("Server","pending","Testing edge functions..."),await new Promise(v=>setTimeout(v,500));try{const v=await fetch(`${i}/functions/v1/make-server-84a71643/health`,{headers:{Authorization:`Bearer ${$x}`}});if(v.ok){const b=await v.json();h("Server","success","Edge function responding",b)}else h("Server","error",`Server returned ${v.status}`,{status:v.status,statusText:v.statusText})}catch(v){h("Server","error",`Cannot reach server: ${v.message}`)}}catch(g){console.error("Test suite error:",g)}finally{r(!1)}},m=g=>{switch(g){case"success":return n.jsx(Tt,{className:"w-5 h-5 text-green-500"});case"error":return n.jsx(ds,{className:"w-5 h-5 text-red-500"});case"pending":return n.jsx(Yp,{className:"w-5 h-5 text-blue-500 animate-spin"})}},y=g=>{switch(g){case"success":return t?"bg-emerald-500/20 text-emerald-400 border-0":"bg-green-100 text-green-700 border-0";case"error":return t?"bg-red-500/20 text-red-400 border-0":"bg-red-100 text-red-700 border-0";case"pending":return t?"bg-blue-500/20 text-blue-400 border-0":"bg-blue-100 text-blue-700 border-0"}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs(ve,{className:`${o} border ${l} shadow-sm`,children:[n.jsx(st,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(O1,{className:`w-5 h-5 ${t?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:c,children:"Supabase"})]})}),n.jsxs(Te,{className:"p-6 pt-0",children:[n.jsx("p",{className:`text-2xl mb-1 ${c}`,children:"Connected"}),n.jsx("p",{className:`text-sm ${d}`,children:"PostgreSQL Database"})]})]}),n.jsxs(ve,{className:`${o} border ${l} shadow-sm`,children:[n.jsx(st,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hW,{className:`w-5 h-5 ${t?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:c,children:"KV Store"})]})}),n.jsxs(Te,{className:"p-6 pt-0",children:[n.jsx("p",{className:`text-2xl mb-1 ${c}`,children:"Active"}),n.jsx("p",{className:`text-sm ${d}`,children:"Key-Value Storage"})]})]}),n.jsxs(ve,{className:`${o} border ${l} shadow-sm`,children:[n.jsx(st,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gd,{className:`w-5 h-5 ${t?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:c,children:"Edge Functions"})]})}),n.jsxs(Te,{className:"p-6 pt-0",children:[n.jsx("p",{className:`text-2xl mb-1 ${c}`,children:"Ready"}),n.jsx("p",{className:`text-sm ${d}`,children:"Server-side Logic"})]})]}),n.jsxs(ve,{className:`${o} border ${l} shadow-sm`,children:[n.jsx(st,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xn,{className:`w-5 h-5 ${t?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:c,children:"Authentication"})]})}),n.jsxs(Te,{className:"p-6 pt-0",children:[n.jsx("p",{className:`text-2xl mb-1 ${c}`,children:"Enabled"}),n.jsx("p",{className:`text-sm ${d}`,children:"Supabase Auth"})]})]})]}),n.jsxs(ve,{className:`${o} border ${l} shadow-sm`,children:[n.jsxs(st,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($w,{className:`w-5 h-5 ${t?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:c,children:"Project Information"})]}),n.jsx(Lt,{className:d,children:"BookingTMS - Beta V 0.1"})]}),n.jsxs(Te,{className:"space-y-4 p-6 pt-0",children:[n.jsxs("div",{className:`p-4 rounded-lg border ${l} ${u} transition-colors`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx($w,{className:`w-4 h-4 ${t?"text-[#6366f1]":"text-blue-600"}`}),n.jsx("span",{className:`text-sm ${d}`,children:"Project ID"})]}),n.jsx("code",{className:`text-sm ${c}`,children:Tp})]}),n.jsxs("div",{className:`p-4 rounded-lg border ${l} ${u} transition-colors`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(nm,{className:`w-4 h-4 ${t?"text-[#6366f1]":"text-blue-600"}`}),n.jsx("span",{className:`text-sm ${d}`,children:"Supabase URL"})]}),n.jsx("code",{className:`text-sm ${c} break-all`,children:i})]})]})]}),n.jsxs(ve,{className:`${o} border ${l} shadow-sm`,children:[n.jsx(st,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(at,{className:c,children:"Connection Tests"}),n.jsx(Lt,{className:d,children:"Run comprehensive tests to verify Supabase integration"})]}),n.jsx(J,{onClick:f,disabled:e,style:{backgroundColor:t?"#4f46e5":void 0},className:t?"text-white hover:bg-[#4338ca]":"bg-blue-600 hover:bg-blue-700 text-white border-0",children:e?n.jsxs(n.Fragment,{children:[n.jsx(Yp,{className:"w-4 h-4 mr-2 animate-spin"}),"Testing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Gc,{className:"w-4 h-4 mr-2"}),"Run Tests"]})})]})}),s.length>0&&n.jsxs(Te,{className:"p-6 pt-0",children:[n.jsx("div",{className:"space-y-4",children:s.map((g,v)=>n.jsxs("div",{className:`p-4 rounded-lg border ${g.status==="success"?t?"border-emerald-500/20 bg-emerald-500/5":"border-green-500/20 bg-green-500/5":g.status==="error"?"border-red-500/20 bg-red-500/5":"border-blue-500/20 bg-blue-500/5"}`,children:[n.jsx("div",{className:"flex items-start justify-between mb-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[m(g.status),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:c,children:g.name}),n.jsx(ze,{className:y(g.status),children:g.status==="success"?"Success":g.status==="error"?"Error":"Running"})]}),n.jsx("p",{className:`text-sm mt-1 ${d}`,children:g.message})]})]})}),g.details&&n.jsx("div",{className:`mt-3 p-3 rounded ${t?"bg-black/20":"bg-gray-100"}`,children:n.jsx("pre",{className:`text-xs ${d} overflow-x-auto`,children:JSON.stringify(g.details,null,2)})})]},v))}),n.jsx("div",{className:`mt-6 pt-6 border-t ${l}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:d,children:[s.filter(g=>g.status==="success").length," / ",s.length," tests passed"]}),!e&&s.every(g=>g.status==="success")&&n.jsxs(ze,{className:t?"bg-emerald-500/20 text-emerald-400 border-0":"bg-green-100 text-green-700 border-0",children:[n.jsx(Tt,{className:"w-4 h-4 mr-1"}),"All Systems Operational"]}),!e&&s.some(g=>g.status==="error")&&n.jsxs(ze,{className:t?"bg-red-500/20 text-red-400 border-0":"bg-red-100 text-red-700 border-0",children:[n.jsx(ds,{className:"w-4 h-4 mr-1"}),"Some Tests Failed"]})]})})]})]}),n.jsxs(ve,{className:`${o} border ${l} shadow-sm`,children:[n.jsx(st,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(us,{className:`w-5 h-5 ${t?"text-[#6366f1]":"text-blue-600"}`}),n.jsx(at,{className:c,children:"Documentation"})]})}),n.jsx(Te,{className:"p-6 pt-0",children:n.jsxs("ul",{className:`space-y-2 text-sm ${d}`,children:[n.jsxs("li",{children:[" ",n.jsx("code",{className:t?"text-[#6366f1]":"text-blue-600",children:"/CONNECT_TO_SUPABASE.md"})," - Connection guide"]}),n.jsxs("li",{children:[" ",n.jsx("code",{className:t?"text-[#6366f1]":"text-blue-600",children:"/DATABASE_CONNECTION_GUIDE.md"})," - Complete database guide"]}),n.jsxs("li",{children:[" ",n.jsx("code",{className:t?"text-[#6366f1]":"text-blue-600",children:"/SUPABASE_SETUP_GUIDE.md"})," - Setup instructions"]}),n.jsxs("li",{children:[" ",n.jsx("code",{className:t?"text-[#6366f1]":"text-blue-600",children:"/supabase/functions/server/kv_store.tsx"})," - KV Store utilities"]})]})})]})]})},pVe=()=>{const{theme:t}=fn(),e=t==="dark",[r,s]=S.useState(!1),[a,i]=S.useState(!1),[o,l]=S.useState("inactive"),[c,d]=S.useState("inactive"),[u,h]=S.useState({enabled:!0,emailConfirmation:!0,allowSignups:!0,sessionDuration:24}),[f,m]=S.useState({enabled:!1,clientId:"",clientSecret:"",redirectUri:`${window.location.origin}/auth/callback/google`,configured:!1}),[y,g]=S.useState([{id:"google",name:"Google",icon:n.jsx(T4,{className:"h-5 w-5"}),enabled:!1,configured:!1,setupUrl:"https://supabase.com/docs/guides/auth/social-login/auth-google"},{id:"facebook",name:"Facebook",icon:n.jsx(Iw,{className:"h-5 w-5"}),enabled:!1,configured:!1,setupUrl:"https://supabase.com/docs/guides/auth/social-login/auth-facebook"},{id:"github",name:"GitHub",icon:n.jsx(Yse,{className:"h-5 w-5"}),enabled:!1,configured:!1,setupUrl:"https://supabase.com/docs/guides/auth/social-login/auth-github"}]),v=e?"bg-[#161616]":"bg-white",b=e?"text-white":"text-gray-900",w=e?"text-gray-400":"text-gray-600",N=e?"border-gray-800":"border-gray-200";S.useEffect(()=>{const P=localStorage.getItem("supabase_auth_config");P&&h(JSON.parse(P));const M=localStorage.getItem("google_auth_config");if(M){const W=JSON.parse(M);m(W),W.configured&&d("active")}const R=localStorage.getItem("oauth_providers");R&&g(JSON.parse(R)),_()},[]);const _=async()=>{s(!0);try{!!Tp&&!!$x&&(l("active"),me.success("Supabase Auth is configured and ready"))}catch{l("error"),me.error("Failed to connect to Supabase Auth")}finally{s(!1)}},C=async()=>{i(!0);try{if(!f.clientId||!f.clientSecret){me.error("Please configure Google OAuth credentials first"),d("error");return}d("active"),me.success("Google OAuth configuration looks valid")}catch{d("error"),me.error("Failed to verify Google OAuth configuration")}finally{i(!1)}},E=()=>{localStorage.setItem("supabase_auth_config",JSON.stringify(u)),me.success("Supabase Auth configuration saved")},A=()=>{const P={...f,configured:!!(f.clientId&&f.clientSecret)};m(P),localStorage.setItem("google_auth_config",JSON.stringify(P)),P.configured?(d("active"),me.success("Google OAuth configured successfully")):me.success("Google OAuth configuration saved")},I=P=>{const M=y.map(R=>R.id===P?R.configured?{...R,enabled:!R.enabled}:(me.error(`Please configure ${R.name} OAuth first`),R):R);g(M),localStorage.setItem("oauth_providers",JSON.stringify(M))},$=(P,M)=>{navigator.clipboard.writeText(P),me.success(`${M} copied to clipboard`)},O=P=>({active:n.jsxs(ze,{className:"bg-emerald-500 hover:bg-emerald-600",children:[n.jsx(Tt,{className:"h-3 w-3 mr-1"}),"Active"]}),inactive:n.jsxs(ze,{variant:"secondary",children:[n.jsx(us,{className:"h-3 w-3 mr-1"}),"Inactive"]}),error:n.jsxs(ze,{variant:"destructive",children:[n.jsx(ds,{className:"h-3 w-3 mr-1"}),"Error"]})})[P];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:`text-2xl ${b} mb-2`,children:"Authentication Services"}),n.jsx("p",{className:w,children:"Manage authentication providers and user verification systems"})]}),n.jsxs(ve,{className:`${v} border ${N} p-6`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xn,{className:`h-5 w-5 ${e?"text-indigo-400":"text-indigo-600"}`}),n.jsx("h3",{className:`text-lg ${b}`,children:"Service Status"})]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>{_(),f.configured&&C()},children:[n.jsx(Gc,{className:"h-4 w-4 mr-2"}),"Refresh All"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:`${e?"bg-[#1e1e1e]":"bg-gray-50"} border ${N} rounded-lg p-4`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(O1,{className:`h-5 w-5 ${e?"text-indigo-400":"text-indigo-600"}`}),n.jsx("span",{className:b,children:"Supabase Auth"})]}),O(o)]}),n.jsx("p",{className:`text-sm ${w} mb-3`,children:"Email/password authentication and user management"}),n.jsx(J,{variant:"outline",size:"sm",onClick:_,disabled:r,className:"w-full",children:r?n.jsxs(n.Fragment,{children:[n.jsx(Yp,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Gc,{className:"h-4 w-4 mr-2"}),"Test Connection"]})})]}),n.jsxs("div",{className:`${e?"bg-[#1e1e1e]":"bg-gray-50"} border ${N} rounded-lg p-4`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(T4,{className:`h-5 w-5 ${e?"text-indigo-400":"text-indigo-600"}`}),n.jsx("span",{className:b,children:"Google OAuth"})]}),O(c)]}),n.jsx("p",{className:`text-sm ${w} mb-3`,children:"Sign in with Google account integration"}),n.jsx(J,{variant:"outline",size:"sm",onClick:C,disabled:a||!f.configured,className:"w-full",children:a?n.jsxs(n.Fragment,{children:[n.jsx(Yp,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Gc,{className:"h-4 w-4 mr-2"}),f.configured?"Test Connection":"Not Configured"]})})]})]})]}),n.jsxs(ve,{className:`${v} border ${N} p-6`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(O1,{className:`h-5 w-5 ${e?"text-indigo-400":"text-indigo-600"}`}),n.jsx("h3",{className:`text-lg ${b}`,children:"Supabase Authentication"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(re,{className:`${e?"text-white":"text-gray-700"} mb-1`,children:"Enable Supabase Auth"}),n.jsx("p",{className:`text-sm ${w}`,children:"Use Supabase for email/password authentication"})]}),n.jsx(Wt,{checked:u.enabled,onCheckedChange:P=>h({...u,enabled:P})})]}),n.jsx(tt,{className:N}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(re,{className:`${e?"text-white":"text-gray-700"} mb-1`,children:"Require Email Confirmation"}),n.jsx("p",{className:`text-sm ${w}`,children:"Users must verify email before accessing the app"})]}),n.jsx(Wt,{checked:u.emailConfirmation,onCheckedChange:P=>h({...u,emailConfirmation:P}),disabled:!u.enabled})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(re,{className:`${e?"text-white":"text-gray-700"} mb-1`,children:"Allow Public Signups"}),n.jsx("p",{className:`text-sm ${w}`,children:"Let users create accounts without admin approval"})]}),n.jsx(Wt,{checked:u.allowSignups,onCheckedChange:P=>h({...u,allowSignups:P}),disabled:!u.enabled})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:`${e?"text-white":"text-gray-700"}`,children:"Session Duration (hours)"}),n.jsx(ge,{type:"number",value:u.sessionDuration,onChange:P=>h({...u,sessionDuration:parseInt(P.target.value)}),className:`h-12 ${e?"bg-gray-800 border-gray-700 text-white":"bg-gray-100 border-gray-300"} placeholder:text-gray-500`,min:1,max:168,disabled:!u.enabled}),n.jsx("p",{className:`text-sm ${w}`,children:"How long users stay logged in (1-168 hours)"})]}),n.jsx(J,{onClick:E,className:"w-full",children:"Save Supabase Configuration"})]})]}),n.jsxs(ve,{className:`${v} border ${N} p-6`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(T4,{className:`h-5 w-5 ${e?"text-indigo-400":"text-indigo-600"}`}),n.jsx("h3",{className:`text-lg ${b}`,children:"Google OAuth Configuration"})]}),f.configured&&n.jsx(ze,{className:"bg-emerald-500",children:"Configured"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:`${e?"bg-blue-900/20 border-blue-800":"bg-blue-50 border-blue-200"} border rounded-lg p-4`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(us,{className:`h-5 w-5 mt-0.5 ${e?"text-blue-400":"text-blue-600"}`}),n.jsxs("div",{children:[n.jsxs("p",{className:`text-sm ${e?"text-blue-300":"text-blue-900"} mb-2`,children:[n.jsx("strong",{children:"Setup Required:"})," Configure Google OAuth in Supabase Dashboard"]}),n.jsxs("a",{href:"https://supabase.com/docs/guides/auth/social-login/auth-google",target:"_blank",rel:"noopener noreferrer",className:`text-sm ${e?"text-blue-400":"text-blue-600"} hover:underline flex items-center gap-1`,children:["View Setup Guide",n.jsx(al,{className:"h-3 w-3"})]})]})]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(re,{className:`${e?"text-white":"text-gray-700"} mb-1`,children:"Enable Google OAuth"}),n.jsx("p",{className:`text-sm ${w}`,children:"Allow users to sign in with their Google account"})]}),n.jsx(Wt,{checked:f.enabled,onCheckedChange:P=>m({...f,enabled:P})})]}),n.jsx(tt,{className:N}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:`${e?"text-white":"text-gray-700"}`,children:"Google Client ID"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ge,{type:"text",value:f.clientId,onChange:P=>m({...f,clientId:P.target.value}),placeholder:"Enter your Google Client ID",className:`h-12 ${e?"bg-gray-800 border-gray-700 text-white":"bg-gray-100 border-gray-300"} placeholder:text-gray-500`}),n.jsx(J,{variant:"outline",size:"icon",onClick:()=>$(f.clientId,"Client ID"),disabled:!f.clientId,children:n.jsx(Vs,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:`${e?"text-white":"text-gray-700"}`,children:"Google Client Secret"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ge,{type:"password",value:f.clientSecret,onChange:P=>m({...f,clientSecret:P.target.value}),placeholder:"Enter your Google Client Secret",className:`h-12 ${e?"bg-gray-800 border-gray-700 text-white":"bg-gray-100 border-gray-300"} placeholder:text-gray-500`}),n.jsx(J,{variant:"outline",size:"icon",onClick:()=>$(f.clientSecret,"Client Secret"),disabled:!f.clientSecret,children:n.jsx(Vs,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:`${e?"text-white":"text-gray-700"}`,children:"Redirect URI"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ge,{type:"text",value:f.redirectUri,readOnly:!0,className:`h-12 ${e?"bg-gray-800 border-gray-700 text-white":"bg-gray-100 border-gray-300"} placeholder:text-gray-500`}),n.jsx(J,{variant:"outline",size:"icon",onClick:()=>$(f.redirectUri,"Redirect URI"),children:n.jsx(Vs,{className:"h-4 w-4"})})]}),n.jsx("p",{className:`text-sm ${w}`,children:"Add this URL to your Google Cloud Console OAuth configuration"})]}),n.jsx(J,{onClick:A,className:"w-full",children:"Save Google OAuth Configuration"})]})]}),n.jsxs(ve,{className:`${v} border ${N} p-6`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(D1,{className:`h-5 w-5 ${e?"text-indigo-400":"text-indigo-600"}`}),n.jsx("h3",{className:`text-lg ${b}`,children:"Other OAuth Providers"})]}),n.jsx("div",{className:"space-y-3",children:y.map(P=>n.jsx("div",{className:`${e?"bg-[#1e1e1e]":"bg-gray-50"} border ${N} rounded-lg p-4`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`${e?"text-indigo-400":"text-indigo-600"}`,children:P.icon}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:b,children:P.name}),P.configured&&n.jsx(ze,{variant:"secondary",className:"text-xs",children:"Configured"})]}),n.jsx("p",{className:`text-sm ${w}`,children:P.configured?"Ready to use":"Configuration required"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[!P.configured&&n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>window.open(P.setupUrl,"_blank"),children:[n.jsx(al,{className:"h-3 w-3 mr-1"}),"Setup"]}),n.jsx(Wt,{checked:P.enabled,onCheckedChange:()=>I(P.id),disabled:!P.configured})]})]})},P.id))}),n.jsx("div",{className:`mt-4 ${e?"bg-yellow-900/20 border-yellow-800":"bg-yellow-50 border-yellow-200"} border rounded-lg p-4`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(us,{className:`h-5 w-5 mt-0.5 ${e?"text-yellow-400":"text-yellow-600"}`}),n.jsx("div",{children:n.jsxs("p",{className:`text-sm ${e?"text-yellow-300":"text-yellow-900"}`,children:[n.jsx("strong",{children:"Note:"})," Each OAuth provider requires configuration in both Supabase Dashboard and the provider's developer console."]})})]})})]}),n.jsxs(ve,{className:`${v} border ${N} p-6`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(iae,{className:`h-5 w-5 ${e?"text-indigo-400":"text-indigo-600"}`}),n.jsx("h3",{className:`text-lg ${b}`,children:"Environment Variables"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:`${e?"bg-[#1e1e1e]":"bg-gray-50"} border ${N} rounded-lg p-3`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("code",{className:`text-sm ${e?"text-indigo-400":"text-indigo-600"}`,children:"SUPABASE_PROJECT_ID"}),n.jsx(Tt,{className:"h-4 w-4 text-emerald-500"})]}),n.jsx("p",{className:`text-xs ${w}`,children:Tp})]}),n.jsxs("div",{className:`${e?"bg-[#1e1e1e]":"bg-gray-50"} border ${N} rounded-lg p-3`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("code",{className:`text-sm ${e?"text-indigo-400":"text-indigo-600"}`,children:"SUPABASE_ANON_KEY"}),n.jsx(Tt,{className:"h-4 w-4 text-emerald-500"})]}),n.jsx("p",{className:`text-xs ${w}`,children:""})]})]}),n.jsx("p",{className:`text-sm ${w} mt-4`,children:"These environment variables are automatically loaded from your Supabase project configuration."})]})]})};function xVe(){const{theme:t}=fn(),e=t==="dark",[r,s]=S.useState([]),[a,i]=S.useState([]),[o,l]=S.useState({}),[c,d]=S.useState(!1),[u,h]=S.useState(null),[f,m]=S.useState([]),[y,g]=S.useState({}),[v,b]=S.useState({}),[w,N]=S.useState({}),[_,C]=S.useState({}),E=e?"bg-[#0a0a0a]":"bg-gray-50",A=e?"bg-[#161616]":"bg-white",I=e?"text-white":"text-gray-900",$=e?"text-gray-400":"text-gray-600",O=e?"border-gray-800":"border-gray-200";S.useEffect(()=>{R(),P()},[]);const P=()=>{try{const Q=localStorage.getItem("llm_api_keys");Q&&g(JSON.parse(Q))}catch(Q){console.error("Error loading saved API keys:",Q)}},M=Q=>{try{localStorage.setItem("llm_api_keys",JSON.stringify(Q))}catch(ne){console.error("Error saving API keys:",ne)}},R=async()=>{d(!0);try{await W(),Y(),await K(),await L(),h(new Date),me.success("All checks completed")}catch(Q){console.error("Error running checks:",Q),me.error("Some checks failed")}finally{d(!1)}},W=async()=>{const Q=Date.now();try{const{supabase:ne}=await Dx(async()=>{const{supabase:ae}=await import("./client-C7kB8owu.js");return{supabase:ae}},[]),{data:ce,error:ie}=await ne.from("kv_store_84a71643").select("count",{count:"exact",head:!0}),pe=Date.now()-Q;s(ie?ae=>[...ae.filter(be=>be.name!=="Supabase"),{name:"Supabase",status:"error",message:`Connection error: ${ie.message}`,latency:pe}]:ae=>[...ae.filter(be=>be.name!=="Supabase"),{name:"Supabase",status:"connected",message:"Connected successfully",latency:pe,details:{table:"kv_store_84a71643",ready:!0}}])}catch(ne){s(ce=>[...ce.filter(ie=>ie.name!=="Supabase"),{name:"Supabase",status:"disconnected",message:ne.message||"Not configured",latency:Date.now()-Q}])}},Y=()=>{const Q={SUPABASE_URL:!1,SUPABASE_ANON_KEY:!1,SUPABASE_SERVICE_ROLE_KEY:!1};try{Q.SUPABASE_URL=!0,Q.SUPABASE_ANON_KEY=!0,Q.SUPABASE_SERVICE_ROLE_KEY=!0}catch(ne){console.error("Error checking env vars:",ne)}l(Q)},K=async()=>{const Q=[{name:"Health Check",url:"/api/health",method:"GET"},{name:"Bookings API",url:"/api/bookings",method:"GET"},{name:"Customers API",url:"/api/customers",method:"GET"}],ne=[];for(const ce of Q){const ie=Date.now();try{await new Promise(ae=>setTimeout(ae,100));const pe=Date.now()-ie;ne.push({name:ce.name,url:ce.url,method:ce.method,status:"mock",statusCode:200,latency:pe,message:"Endpoint not implemented (mock response)"})}catch(pe){ne.push({name:ce.name,url:ce.url,method:ce.method,status:"error",statusCode:0,latency:Date.now()-ie,message:pe.message||"Connection failed"})}}m(ne)},L=async()=>{const Q=[],ne=new Date().toISOString();Q.push({service:"Database",status:"healthy",responseTime:45,message:"PostgreSQL connection established",timestamp:ne}),Q.push({service:"Authentication",status:"healthy",responseTime:23,message:"Auth service operational",timestamp:ne}),Q.push({service:"Storage",status:"healthy",responseTime:67,message:"Storage buckets accessible",timestamp:ne}),Q.push({service:"Edge Functions",status:"unknown",responseTime:void 0,message:"Not configured",timestamp:ne}),i(Q)},F=Q=>{switch(Q){case"connected":case"healthy":return n.jsx(Tt,{className:"w-5 h-5 text-green-500"});case"disconnected":case"unhealthy":return n.jsx(ds,{className:"w-5 h-5 text-red-500"});case"checking":case"unknown":return n.jsx(us,{className:"w-5 h-5 text-yellow-500"});case"degraded":return n.jsx(us,{className:"w-5 h-5 text-orange-500"});default:return n.jsx(Uc,{className:"w-5 h-5 text-gray-500"})}},ee=Q=>{const ne={connected:"bg-green-500/10 text-green-500 border-green-500/20",healthy:"bg-green-500/10 text-green-500 border-green-500/20",disconnected:"bg-red-500/10 text-red-500 border-red-500/20",unhealthy:"bg-red-500/10 text-red-500 border-red-500/20",checking:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",unknown:"bg-gray-500/10 text-gray-500 border-gray-500/20",degraded:"bg-orange-500/10 text-orange-500 border-orange-500/20",error:"bg-red-500/10 text-red-500 border-red-500/20",mock:"bg-blue-500/10 text-blue-500 border-blue-500/20"};return ne[Q]||ne.unknown},se=(Q,ne)=>{const ce={...y,[Q]:ne};g(ce),M(ce)},q=Q=>{C(ne=>({...ne,[Q]:!ne[Q]}))},z=Q=>{const ne={...y};delete ne[Q],g(ne),M(ne);const ce={...v};delete ce[Q],b(ce),me.success(`${zh.find(ie=>ie.id===Q)?.name} API key cleared`)},Z=async Q=>{const ne=y[Q.id];if(!ne){me.error("Please enter an API key first");return}const ce=dVe(Q.id,ne);if(!ce.valid){me.error(ce.message);return}N(ie=>({...ie,[Q.id]:!0}));try{const ie=await cVe(Q.id,ne);b(pe=>({...pe,[Q.id]:ie})),ie.success?me.success(`Successfully connected to ${Q.name}`):me.error(`Failed to connect to ${Q.name}: ${ie.message}`)}catch(ie){me.error(`Error testing ${Q.name}: ${ie.message}`)}finally{N(ie=>({...ie,[Q.id]:!1}))}},X=async()=>{const Q=zh.filter(ne=>y[ne.id]);if(Q.length===0){me.error("No API keys configured. Please add at least one API key.");return}me.info(`Testing ${Q.length} LLM provider(s)...`);for(const ne of Q)await Z(ne);me.success("All LLM connection tests completed")};return n.jsxs("div",{className:`min-h-screen ${E} p-6`,children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-3 rounded-lg ${e?"bg-[#161616]":"bg-white"} border ${O}`,children:n.jsx($w,{className:`w-6 h-6 ${e?"text-blue-400":"text-blue-600"}`})}),n.jsxs("div",{children:[n.jsx("h1",{className:`text-2xl ${I} mb-1`,children:"Backend Dashboard"}),n.jsx("p",{className:`text-sm ${$}`,children:"Monitor and test backend services, connections, and API endpoints"})]})]}),n.jsx(J,{onClick:R,disabled:c,className:"bg-[#4f46e5] hover:bg-[#4338ca] text-white",children:c?n.jsxs(n.Fragment,{children:[n.jsx(Gc,{className:"w-4 h-4 mr-2 animate-spin"}),"Refreshing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Gc,{className:"w-4 h-4 mr-2"}),"Refresh All"]})})]}),u&&n.jsxs("p",{className:`text-xs ${$}`,children:["Last checked: ",u.toLocaleTimeString()]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[n.jsx(ve,{className:`${A} border ${O} p-4`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${$} mb-1`,children:"Database"}),n.jsx("p",{className:`text-xl ${I}`,children:r.find(Q=>Q.name==="Supabase")?.status==="connected"?"Connected":"Disconnected"})]}),n.jsx(O1,{className:`w-8 h-8 ${r.find(Q=>Q.name==="Supabase")?.status==="connected"?"text-green-500":"text-red-500"}`})]})}),n.jsx(ve,{className:`${A} border ${O} p-4`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${$} mb-1`,children:"Health Checks"}),n.jsxs("p",{className:`text-xl ${I}`,children:[a.filter(Q=>Q.status==="healthy").length,"/",a.length]})]}),n.jsx(Uc,{className:`w-8 h-8 ${e?"text-green-400":"text-green-600"}`})]})}),n.jsx(ve,{className:`${A} border ${O} p-4`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${$} mb-1`,children:"API Endpoints"}),n.jsx("p",{className:`text-xl ${I}`,children:f.length})]}),n.jsx(ku,{className:`w-8 h-8 ${e?"text-blue-400":"text-blue-600"}`})]})}),n.jsx(ve,{className:`${A} border ${O} p-4`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${$} mb-1`,children:"Avg Response"}),n.jsx("p",{className:`text-xl ${I}`,children:r[0]?.latency?`${r[0].latency}ms`:"--"})]}),n.jsx(Gd,{className:`w-8 h-8 ${e?"text-yellow-400":"text-yellow-600"}`})]})})]}),n.jsxs(ta,{defaultValue:"connections",className:"space-y-4",children:[n.jsxs(pa,{className:`${A} border ${O}`,children:[n.jsxs(Ft,{value:"connections",children:[n.jsx(Eae,{className:"w-4 h-4 mr-2"}),"Connections"]}),n.jsxs(Ft,{value:"auth",children:[n.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Auth Services"]}),n.jsxs(Ft,{value:"database",children:[n.jsx(O1,{className:"w-4 h-4 mr-2"}),"Database"]}),n.jsxs(Ft,{value:"health",children:[n.jsx(Uc,{className:"w-4 h-4 mr-2"}),"Health Checks"]}),n.jsxs(Ft,{value:"api",children:[n.jsx(Fh,{className:"w-4 h-4 mr-2"}),"API Tests"]}),n.jsxs(Ft,{value:"env",children:[n.jsx(nm,{className:"w-4 h-4 mr-2"}),"Environment"]}),n.jsxs(Ft,{value:"monitoring",children:[n.jsx(_se,{className:"w-4 h-4 mr-2"}),"Monitoring"]}),n.jsxs(Ft,{value:"llm",children:[n.jsx(u1,{className:"w-4 h-4 mr-2"}),"LLM Connections"]})]}),n.jsx(Bt,{value:"connections",className:"space-y-4",children:n.jsxs(ve,{className:`${A} border ${O}`,children:[n.jsxs("div",{className:`p-6 border-b ${O}`,children:[n.jsx("h3",{className:`text-lg ${I} mb-1`,children:"Service Connections"}),n.jsx("p",{className:`text-sm ${$}`,children:"Status of all backend service connections"})]}),n.jsx("div",{className:"p-6 space-y-4",children:r.length===0?n.jsxs(vx,{children:[n.jsx(us,{className:"w-4 h-4"}),n.jsx(Gv,{children:'No connection data available. Click "Refresh All" to check connections.'})]}):r.map((Q,ne)=>n.jsxs("div",{className:`p-4 rounded-lg border ${O} ${e?"bg-[#0a0a0a]":"bg-gray-50"}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[F(Q.status),n.jsxs("div",{children:[n.jsx("h4",{className:`${I} mb-1`,children:Q.name}),n.jsx("p",{className:`text-sm ${$}`,children:Q.message})]})]}),n.jsx(ze,{className:`${ee(Q.status)} border`,children:Q.status})]}),Q.latency&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Qt,{className:"w-4 h-4 text-gray-500"}),n.jsxs("span",{className:$,children:["Response time: ",Q.latency,"ms"]})]}),Q.details&&n.jsx("div",{className:`mt-3 p-3 rounded ${e?"bg-[#161616]":"bg-white"} border ${O}`,children:n.jsx("pre",{className:`text-xs ${$} overflow-x-auto`,children:JSON.stringify(Q.details,null,2)})})]},ne))})]})}),n.jsx(Bt,{value:"auth",className:"space-y-4",children:n.jsx(pVe,{})}),n.jsx(Bt,{value:"database",className:"space-y-4",children:n.jsx(mVe,{isDark:e})}),n.jsx(Bt,{value:"health",className:"space-y-4",children:n.jsxs(ve,{className:`${A} border ${O}`,children:[n.jsxs("div",{className:`p-6 border-b ${O}`,children:[n.jsx("h3",{className:`text-lg ${I} mb-1`,children:"Service Health"}),n.jsx("p",{className:`text-sm ${$}`,children:"Health status of all backend services"})]}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:a.map((Q,ne)=>n.jsxs("div",{className:`p-4 rounded-lg border ${O} ${e?"bg-[#0a0a0a]":"bg-gray-50"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[F(Q.status),n.jsxs("div",{children:[n.jsx("h4",{className:I,children:Q.service}),n.jsx("p",{className:`text-sm ${$}`,children:Q.message})]})]}),n.jsx(ze,{className:`${ee(Q.status)} border`,children:Q.status})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[Q.responseTime&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:"w-4 h-4 text-gray-500"}),n.jsxs("span",{className:$,children:[Q.responseTime,"ms"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Uc,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{className:$,children:new Date(Q.timestamp).toLocaleTimeString()})]})]})]},ne))})})]})}),n.jsx(Bt,{value:"api",className:"space-y-4",children:n.jsxs(ve,{className:`${A} border ${O}`,children:[n.jsxs("div",{className:`p-6 border-b ${O}`,children:[n.jsx("h3",{className:`text-lg ${I} mb-1`,children:"API Endpoint Tests"}),n.jsx("p",{className:`text-sm ${$}`,children:"Test backend API endpoints and measure response times"})]}),n.jsx("div",{className:"p-6 space-y-4",children:f.length===0?n.jsxs(vx,{children:[n.jsx(us,{className:"w-4 h-4"}),n.jsx(Gv,{children:'No API tests run yet. Click "Refresh All" to test endpoints.'})]}):f.map((Q,ne)=>n.jsxs("div",{className:`p-4 rounded-lg border ${O} ${e?"bg-[#0a0a0a]":"bg-gray-50"}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:`${I} mb-1`,children:Q.name}),n.jsxs("p",{className:`text-sm ${$} mb-2`,children:[Q.method," ",Q.url]}),n.jsx("p",{className:`text-sm ${$}`,children:Q.message})]}),n.jsx(ze,{className:`${ee(Q.status)} border`,children:Q.statusCode||Q.status})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Qt,{className:"w-4 h-4 text-gray-500"}),n.jsxs("span",{className:$,children:[Q.latency,"ms"]})]})]},ne))})]})}),n.jsx(Bt,{value:"env",className:"space-y-4",children:n.jsxs(ve,{className:`${A} border ${O}`,children:[n.jsxs("div",{className:`p-6 border-b ${O}`,children:[n.jsx("h3",{className:`text-lg ${I} mb-1`,children:"Environment Variables"}),n.jsx("p",{className:`text-sm ${$}`,children:"Required environment variables for backend services"})]}),n.jsxs("div",{className:"p-6 space-y-3",children:[Object.entries(o).map(([Q,ne])=>n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${O} ${e?"bg-[#0a0a0a]":"bg-gray-50"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(nm,{className:"w-5 h-5 text-gray-500"}),n.jsx("span",{className:I,children:Q})]}),ne?n.jsx(Tt,{className:"w-5 h-5 text-green-500"}):n.jsx(ds,{className:"w-5 h-5 text-red-500"})]},Q)),n.jsxs(vx,{className:"mt-4",children:[n.jsx(us,{className:"w-4 h-4"}),n.jsxs(Gv,{children:[n.jsx("strong",{children:"Note:"})," Environment variables are checked server-side for security. Set these in your .env.local file or hosting platform."]})]})]})]})}),n.jsx(Bt,{value:"monitoring",className:"space-y-4",children:n.jsxs(ve,{className:`${A} border ${O}`,children:[n.jsxs("div",{className:`p-6 border-b ${O}`,children:[n.jsx("h3",{className:`text-lg ${I} mb-1`,children:"Real-Time Monitoring"}),n.jsx("p",{className:`text-sm ${$}`,children:"Live metrics and performance monitoring (Coming Soon)"})]}),n.jsx("div",{className:"p-6",children:n.jsxs(vx,{children:[n.jsx(sm,{className:"w-4 h-4"}),n.jsxs(Gv,{children:["Real-time monitoring features will be available once the backend is fully deployed. This will include:",n.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[n.jsx("li",{children:"Live request tracking"}),n.jsx("li",{children:"Performance metrics"}),n.jsx("li",{children:"Error rate monitoring"}),n.jsx("li",{children:"Database query analytics"}),n.jsx("li",{children:"API usage statistics"})]})]})]})})]})}),n.jsxs(Bt,{value:"llm",className:"space-y-4",children:[n.jsxs(ve,{className:`${A} border ${O}`,children:[n.jsx("div",{className:`p-6 border-b ${O}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:`text-lg ${I} mb-1`,children:"LLM API Connections"}),n.jsx("p",{className:`text-sm ${$}`,children:"Test connections to Large Language Model providers"})]}),n.jsxs(J,{onClick:X,disabled:Object.keys(y).length===0,className:"bg-[#4f46e5] hover:bg-[#4338ca] text-white",children:[n.jsx(Au,{className:"w-4 h-4 mr-2"}),"Test All"]})]})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs(vx,{className:"mb-4",children:[n.jsx(us,{className:"w-4 h-4"}),n.jsxs(Gv,{children:[n.jsx("strong",{children:"Security Note:"})," API keys are stored locally in your browser and never sent to our servers. They are used only for direct API calls to the respective LLM providers."]})]}),zh.map(Q=>{const ne=v[Q.id],ce=w[Q.id],ie=!!y[Q.id],pe=_[Q.id];return n.jsxs("div",{className:`p-4 rounded-lg border ${O} ${e?"bg-[#0a0a0a]":"bg-gray-50"}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"text-3xl",children:Q.icon}),n.jsxs("div",{children:[n.jsx("h4",{className:`${I} mb-1`,children:Q.name}),n.jsx("p",{className:`text-sm ${$}`,children:Q.description})]})]}),ne&&n.jsx(ze,{className:`${ee(ne.success?"connected":"error")} border`,children:ne.success?"Connected":"Failed"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs(re,{className:`text-sm ${$} mb-2 block`,children:["API Key (",Q.envVar,")"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ge,{type:pe?"text":"password",value:y[Q.id]||"",onChange:ae=>se(Q.id,ae.target.value),placeholder:`Enter your ${Q.name} API key`,className:`h-10 pr-20 ${e?"bg-[#161616] border-gray-700":"bg-white border-gray-300"}`}),n.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex gap-1",children:ie&&n.jsxs(n.Fragment,{children:[n.jsx(J,{type:"button",variant:"ghost",size:"sm",onClick:()=>q(Q.id),className:"h-7 w-7 p-0",children:pe?n.jsx(Op,{className:"w-4 h-4"}):n.jsx(Ln,{className:"w-4 h-4"})}),n.jsx(J,{type:"button",variant:"ghost",size:"sm",onClick:()=>z(Q.id),className:"h-7 w-7 p-0 text-red-500 hover:text-red-600 hover:bg-red-500/10",children:n.jsx(Dn,{className:"w-4 h-4"})})]})})]}),n.jsx(J,{onClick:()=>Z(Q),disabled:!ie||ce,className:"bg-[#4f46e5] hover:bg-[#4338ca] text-white",children:ce?n.jsxs(n.Fragment,{children:[n.jsx(Gc,{className:"w-4 h-4 mr-2 animate-spin"}),"Testing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Au,{className:"w-4 h-4 mr-2"}),"Test"]})})]})]}),ne&&n.jsx("div",{className:`p-3 rounded border ${O} ${e?"bg-[#161616]":"bg-white"}`,children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[ne.success?n.jsx(Tt,{className:"w-4 h-4 text-green-500"}):n.jsx(ds,{className:"w-4 h-4 text-red-500"}),n.jsx("span",{className:`text-sm ${I}`,children:ne.message})]}),ne.latency&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{className:`text-sm ${$}`,children:hVe(ne.latency)}),(()=>{const ae=uVe(ne.latency),be={green:"text-green-500",blue:"text-blue-500",yellow:"text-yellow-500",red:"text-red-500"};return n.jsx(ze,{className:`${be[ae.color]||"text-gray-500"} border-0 bg-transparent`,children:ae.label})})()]})]}),ne.details&&n.jsxs("div",{className:`mt-2 p-2 rounded text-xs ${e?"bg-[#0a0a0a]":"bg-gray-50"}`,children:[n.jsxs("div",{className:`${$} mb-1`,children:[n.jsx("strong",{children:"Model:"})," ",ne.details.model]}),ne.details.response&&n.jsxs("div",{className:`${$}`,children:[n.jsx("strong",{children:"Response:"})," ",ne.details.response]}),ne.details.usage&&n.jsxs("div",{className:`${$} mt-1`,children:[n.jsx("strong",{children:"Usage:"})," ",JSON.stringify(ne.details.usage)]})]}),ne.error&&n.jsx("div",{className:"mt-2 p-2 rounded text-xs bg-red-500/10 border border-red-500/20",children:n.jsxs("div",{className:"text-red-500",children:[n.jsx("strong",{children:"Error:"})," ",JSON.stringify(ne.error)]})})]})})]})]},Q.id)})]})]}),n.jsxs(ve,{className:`${A} border ${O}`,children:[n.jsxs("div",{className:`p-6 border-b ${O}`,children:[n.jsx("h3",{className:`text-lg ${I} mb-1`,children:"How to Get API Keys"}),n.jsx("p",{className:`text-sm ${$}`,children:"Quick links to obtain API keys from each provider"})]}),n.jsxs("div",{className:"p-6 space-y-3",children:[n.jsxs("div",{className:`p-3 rounded border ${O} ${e?"bg-[#0a0a0a]":"bg-gray-50"}`,children:[n.jsx("h4",{className:`${I} mb-2`,children:" OpenAI"}),n.jsxs("p",{className:`text-sm ${$} mb-2`,children:["Sign up at ",n.jsx("a",{href:"https://platform.openai.com/signup",target:"_blank",rel:"noopener noreferrer",className:"text-[#4f46e5] hover:underline",children:"platform.openai.com"})," and generate an API key from your account settings."]})]}),n.jsxs("div",{className:`p-3 rounded border ${O} ${e?"bg-[#0a0a0a]":"bg-gray-50"}`,children:[n.jsx("h4",{className:`${I} mb-2`,children:" Anthropic Claude"}),n.jsxs("p",{className:`text-sm ${$} mb-2`,children:["Visit ",n.jsx("a",{href:"https://console.anthropic.com/",target:"_blank",rel:"noopener noreferrer",className:"text-[#4f46e5] hover:underline",children:"console.anthropic.com"})," to create an account and get your API key."]})]}),n.jsxs("div",{className:`p-3 rounded border ${O} ${e?"bg-[#0a0a0a]":"bg-gray-50"}`,children:[n.jsx("h4",{className:`${I} mb-2`,children:" Google AI (Gemini)"}),n.jsxs("p",{className:`text-sm ${$} mb-2`,children:["Get your API key from ",n.jsx("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-[#4f46e5] hover:underline",children:"Google AI Studio"}),"."]})]}),n.jsxs("div",{className:`p-3 rounded border ${O} ${e?"bg-[#0a0a0a]":"bg-gray-50"}`,children:[n.jsx("h4",{className:`${I} mb-2`,children:" Cohere"}),n.jsxs("p",{className:`text-sm ${$} mb-2`,children:["Sign up at ",n.jsx("a",{href:"https://dashboard.cohere.com/",target:"_blank",rel:"noopener noreferrer",className:"text-[#4f46e5] hover:underline",children:"dashboard.cohere.com"})," to get your API key."]})]}),n.jsxs("div",{className:`p-3 rounded border ${O} ${e?"bg-[#0a0a0a]":"bg-gray-50"}`,children:[n.jsx("h4",{className:`${I} mb-2`,children:" Hugging Face"}),n.jsxs("p",{className:`text-sm ${$} mb-2`,children:["Create an account at ",n.jsx("a",{href:"https://huggingface.co/",target:"_blank",rel:"noopener noreferrer",className:"text-[#4f46e5] hover:underline",children:"huggingface.co"})," and generate a token in your settings."]})]}),n.jsxs("div",{className:`p-3 rounded border ${O} ${e?"bg-[#0a0a0a]":"bg-gray-50"}`,children:[n.jsx("h4",{className:`${I} mb-2`,children:" Together AI"}),n.jsxs("p",{className:`text-sm ${$} mb-2`,children:["Visit ",n.jsx("a",{href:"https://api.together.xyz/",target:"_blank",rel:"noopener noreferrer",className:"text-[#4f46e5] hover:underline",children:"api.together.xyz"})," to sign up and get your API key."]})]})]})]})]})]}),n.jsxs(ve,{className:`${A} border ${O} mt-6`,children:[n.jsxs("div",{className:`p-6 border-b ${O}`,children:[n.jsx("h3",{className:`text-lg ${I} mb-1`,children:"Development Setup Guide"}),n.jsx("p",{className:`text-sm ${$}`,children:"Quick steps to get your backend development-ready"})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:`p-4 rounded-lg border ${O} ${e?"bg-[#0a0a0a]":"bg-gray-50"}`,children:[n.jsx("h4",{className:`${I} mb-2`,children:"1. Set up Supabase"}),n.jsx("p",{className:`text-sm ${$} mb-2`,children:"Create a Supabase project and add credentials to .env.local:"}),n.jsx("pre",{className:`text-xs ${$} p-3 rounded ${e?"bg-[#161616]":"bg-white"} border ${O} overflow-x-auto`,children:`NEXT_PUBLIC_SUPABASE_URL=your-project-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-key`})]}),n.jsxs("div",{className:`p-4 rounded-lg border ${O} ${e?"bg-[#0a0a0a]":"bg-gray-50"}`,children:[n.jsx("h4",{className:`${I} mb-2`,children:"2. Run Database Migrations"}),n.jsx("p",{className:`text-sm ${$} mb-2`,children:"Apply the initial schema to your database:"}),n.jsx("pre",{className:`text-xs ${$} p-3 rounded ${e?"bg-[#161616]":"bg-white"} border ${O} overflow-x-auto`,children:"supabase db push"})]}),n.jsxs("div",{className:`p-4 rounded-lg border ${O} ${e?"bg-[#0a0a0a]":"bg-gray-50"}`,children:[n.jsx("h4",{className:`${I} mb-2`,children:"3. Deploy Edge Functions"}),n.jsx("p",{className:`text-sm ${$} mb-2`,children:"Deploy the server edge function:"}),n.jsx("pre",{className:`text-xs ${$} p-3 rounded ${e?"bg-[#161616]":"bg-white"} border ${O} overflow-x-auto`,children:"supabase functions deploy server"})]}),n.jsxs("div",{className:`p-4 rounded-lg border ${O} ${e?"bg-[#0a0a0a]":"bg-gray-50"}`,children:[n.jsx("h4",{className:`${I} mb-2`,children:"4. Test Connection"}),n.jsx("p",{className:`text-sm ${$} mb-2`,children:'Click "Refresh All" above to test all connections'})]})]})]})]})}const gVe=()=>{const{theme:t}=fn(),e=t==="dark",[r,s]=S.useState("amount"),[a,i]=S.useState(null),[o,l]=S.useState(""),[c,d]=S.useState([{id:"1",name:"",email:""}]),[u,h]=S.useState(""),[f,m]=S.useState(""),[y,g]=S.useState(""),[v,b]=S.useState("general"),[w,N]=S.useState({cardNumber:"",expiryDate:"",cvv:"",billingEmail:""}),_=[50,100,150,200,250,500],C=[{id:"birthday",name:"Birthday",emoji:"",color:"#ec4899"},{id:"holiday",name:"Holiday",emoji:"",color:"#10b981"},{id:"celebration",name:"Celebration",emoji:"",color:"#f59e0b"},{id:"general",name:"General",emoji:"",color:"#6366f1"}],E=()=>{d([...c,{id:Date.now().toString(),name:"",email:""}])},A=F=>{c.length>1?d(c.filter(ee=>ee.id!==F)):me.error("At least one recipient is required")},I=(F,ee,se)=>{d(c.map(q=>q.id===F?{...q,[ee]:se}:q))},$=()=>(a||parseInt(o)||0)*c.length,O=()=>{if(r==="amount"){if(!a&&!o){me.error("Please select or enter an amount");return}s("recipients")}else if(r==="recipients"){if(c.some(ee=>!ee.name.trim()||!ee.email.trim())){me.error("Please fill in all recipient details");return}s("customize")}else if(r==="customize"){if(!f.trim()){me.error("Please enter your name");return}s("payment")}else if(r==="payment"){if(!w.cardNumber||!w.expiryDate||!w.cvv||!w.billingEmail){me.error("Please fill in all payment details");return}setTimeout(()=>{s("success"),me.success("Gift vouchers sent successfully!")},1500)}},P=()=>{r==="recipients"?s("amount"):r==="customize"?s("recipients"):r==="payment"&&s("customize")},M=()=>{s("amount"),i(null),l(""),d([{id:"1",name:"",email:""}]),h(""),m(""),g(""),b("general"),N({cardNumber:"",expiryDate:"",cvv:"",billingEmail:""})},R=e?"bg-[#0a0a0a]":"bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50",W=e?"bg-[#161616]":"bg-white",Y=e?"border-[#2a2a2a]":"border-gray-200",K=e?"text-white":"text-gray-900",L=e?"text-[#a3a3a3]":"text-gray-600";return n.jsx(Gq,{children:n.jsx("div",{className:`min-h-screen ${R} py-8 px-4 sm:px-6 lg:px-8`,children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[n.jsx(ma,{className:"w-6 h-6 text-yellow-500 animate-pulse"}),n.jsx(Oo,{className:"w-12 h-12 text-indigo-600 dark:text-indigo-400"}),n.jsx(ma,{className:"w-6 h-6 text-yellow-500 animate-pulse"})]}),n.jsx("h1",{className:`text-4xl mb-2 ${K}`,children:"Gift Vouchers"}),n.jsx("p",{className:L,children:"Give the gift of unforgettable experiences!"})]}),r!=="success"&&n.jsx("div",{className:`${W} border ${Y} rounded-xl p-6 mb-6 shadow-lg`,children:n.jsx("div",{className:"flex items-center justify-between",children:["amount","recipients","customize","payment"].map((F,ee)=>{const se=r===F,q=["amount","recipients","customize","payment"].indexOf(r)>ee;return n.jsxs(fe.Fragment,{children:[n.jsxs("div",{className:"flex flex-col items-center flex-1",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all ${q?"bg-green-500 border-green-500 text-white":se?"bg-indigo-600 border-indigo-600 text-white":e?"bg-[#1e1e1e] border-[#3a3a3a] text-[#737373]":"bg-gray-100 border-gray-300 text-gray-400"}`,children:q?n.jsx(jn,{className:"w-5 h-5"}):ee+1}),n.jsx("span",{className:`text-xs mt-2 capitalize ${se?"text-indigo-600 dark:text-indigo-400":L}`,children:F==="amount"?"Amount":F==="recipients"?"Recipients":F==="customize"?"Customize":"Payment"})]}),ee<3&&n.jsx("div",{className:`h-0.5 flex-1 ${q?"bg-green-500":e?"bg-[#2a2a2a]":"bg-gray-200"}`})]},F)})})}),r==="amount"&&n.jsxs(ve,{className:`${W} border ${Y} p-8 shadow-xl`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center",children:n.jsx(Ua,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})}),n.jsxs("div",{children:[n.jsx("h2",{className:`text-2xl ${K}`,children:"Select Amount"}),n.jsx("p",{className:L,children:"Choose a voucher value"})]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:_.map(F=>n.jsxs("button",{onClick:()=>{i(F),l("")},className:`p-6 rounded-xl border-2 transition-all hover:scale-105 ${a===F?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20":e?"border-[#2a2a2a] hover:border-[#3a3a3a]":"border-gray-200 hover:border-gray-300"}`,children:[n.jsxs("div",{className:`text-3xl mb-1 ${a===F?"text-indigo-600 dark:text-indigo-400":K}`,children:["$",F]}),n.jsx("div",{className:`text-sm ${a===F?"text-indigo-600 dark:text-indigo-400":L}`,children:"Per voucher"})]},F))}),n.jsx(tt,{className:`my-6 ${e?"bg-[#2a2a2a]":"bg-gray-200"}`}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:e?"text-white":"text-gray-700",children:"Or enter custom amount"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:`absolute left-3 top-1/2 -translate-y-1/2 text-xl ${L}`,children:"$"}),n.jsx(ge,{type:"number",placeholder:"0",value:o,onChange:F=>{l(F.target.value),i(null)},className:`pl-8 text-xl h-14 ${e?"bg-[#1e1e1e] border-[#3a3a3a] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}`})]}),n.jsx("p",{className:`text-sm ${L}`,children:"Minimum $10, Maximum $1000"})]}),n.jsx("div",{className:"flex justify-end gap-3 mt-8",children:n.jsxs(J,{onClick:O,size:"lg",className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:["Continue",n.jsx(Ds,{className:"w-4 h-4 ml-2"})]})})]}),r==="recipients"&&n.jsxs(ve,{className:`${W} border ${Y} p-8 shadow-xl`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:n.jsx(Gn,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),n.jsxs("div",{children:[n.jsx("h2",{className:`text-2xl ${K}`,children:"Add Recipients"}),n.jsx("p",{className:L,children:"Who should receive the gift vouchers?"})]})]}),n.jsx("div",{className:"space-y-4 mb-6",children:c.map((F,ee)=>n.jsxs("div",{className:`p-4 rounded-lg border ${Y} ${e?"bg-[#1e1e1e]":"bg-gray-50"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs(ze,{variant:"outline",className:"text-xs",children:["Recipient ",ee+1]}),c.length>1&&n.jsx("button",{onClick:()=>A(F.id),className:`p-1 rounded hover:bg-red-100 dark:hover:bg-red-900/20 ${L} hover:text-red-600`,children:n.jsx(In,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:e?"text-white":"text-gray-700",children:"Recipient Name"}),n.jsx(ge,{placeholder:"John Doe",value:F.name,onChange:se=>I(F.id,"name",se.target.value),className:e?"bg-[#161616] border-[#3a3a3a] text-white placeholder:text-[#737373]":"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:e?"text-white":"text-gray-700",children:"Email Address"}),n.jsx(ge,{type:"email",placeholder:"john@example.com",value:F.email,onChange:se=>I(F.id,"email",se.target.value),className:e?"bg-[#161616] border-[#3a3a3a] text-white placeholder:text-[#737373]":"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]})]})]},F.id))}),n.jsxs(J,{onClick:E,variant:"outline",className:`w-full mb-6 ${e?"border-[#3a3a3a] hover:bg-[#1e1e1e]":"border-gray-300"}`,children:[n.jsx(An,{className:"w-4 h-4 mr-2"}),"Add Another Recipient"]}),n.jsx(tt,{className:`my-6 ${e?"bg-[#2a2a2a]":"bg-gray-200"}`}),n.jsx("div",{className:`p-4 rounded-lg ${e?"bg-indigo-900/20 border border-indigo-500/30":"bg-indigo-50 border border-indigo-200"}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:L,children:"Total vouchers"}),n.jsxs("p",{className:`text-2xl ${K}`,children:[c.length,"  $",a||o||0]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:L,children:"Total amount"}),n.jsxs("p",{className:"text-3xl text-indigo-600 dark:text-indigo-400",children:["$",$()]})]})]})}),n.jsxs("div",{className:"flex justify-between gap-3 mt-8",children:[n.jsxs(J,{onClick:P,variant:"outline",size:"lg",className:e?"border-[#3a3a3a]":"",children:[n.jsx(qn,{className:"w-4 h-4 mr-2"}),"Back"]}),n.jsxs(J,{onClick:O,size:"lg",className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:["Continue",n.jsx(Ds,{className:"w-4 h-4 ml-2"})]})]})]}),r==="customize"&&n.jsxs(ve,{className:`${W} border ${Y} p-8 shadow-xl`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-pink-100 dark:bg-pink-900/30 flex items-center justify-center",children:n.jsx(Md,{className:"w-6 h-6 text-pink-600 dark:text-pink-400"})}),n.jsxs("div",{children:[n.jsx("h2",{className:`text-2xl ${K}`,children:"Personalize Your Gift"}),n.jsx("p",{className:L,children:"Add a special touch"})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:e?"text-white":"text-gray-700",children:"Your Name"}),n.jsx(ge,{placeholder:"From: Your Name",value:f,onChange:F=>m(F.target.value),className:e?"bg-[#1e1e1e] border-[#3a3a3a] text-white placeholder:text-[#737373]":"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:e?"text-white":"text-gray-700",children:"Gift Theme"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:C.map(F=>n.jsxs("button",{onClick:()=>b(F.id),className:`p-4 rounded-lg border-2 transition-all hover:scale-105 ${v===F.id?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20":e?"border-[#2a2a2a]":"border-gray-200"}`,children:[n.jsx("div",{className:"text-3xl mb-2",children:F.emoji}),n.jsx("div",{className:`text-sm ${K}`,children:F.name})]},F.id))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:e?"text-white":"text-gray-700",children:"Personal Message (Optional)"}),n.jsx(mn,{placeholder:"Add a heartfelt message...",value:u,onChange:F=>h(F.target.value),rows:4,className:e?"bg-[#1e1e1e] border-[#3a3a3a] text-white placeholder:text-[#737373]":"bg-gray-100 border-gray-300 placeholder:text-gray-500"}),n.jsxs("p",{className:`text-sm ${L}`,children:[u.length,"/250 characters"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:e?"text-white":"text-gray-700",children:"Delivery Date (Optional)"}),n.jsx(ge,{type:"date",value:y,onChange:F=>g(F.target.value),className:e?"bg-[#1e1e1e] border-[#3a3a3a] text-white":"h-12 bg-gray-100 border-gray-300"}),n.jsx("p",{className:`text-sm ${L}`,children:"Leave blank to send immediately"})]})]}),n.jsxs("div",{className:"flex justify-between gap-3 mt-8",children:[n.jsxs(J,{onClick:P,variant:"outline",size:"lg",className:e?"border-[#3a3a3a]":"",children:[n.jsx(qn,{className:"w-4 h-4 mr-2"}),"Back"]}),n.jsxs(J,{onClick:O,size:"lg",className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:["Continue to Payment",n.jsx(Ds,{className:"w-4 h-4 ml-2"})]})]})]}),r==="payment"&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ve,{className:`${W} border ${Y} p-8 shadow-xl`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:n.jsx(fa,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx("h2",{className:`text-2xl ${K}`,children:"Payment Details"}),n.jsx("p",{className:L,children:"Secure checkout"})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:e?"text-white":"text-gray-700",children:"Card Number"}),n.jsx(ge,{placeholder:"1234 5678 9012 3456",value:w.cardNumber,onChange:F=>N({...w,cardNumber:F.target.value}),className:e?"bg-[#1e1e1e] border-[#3a3a3a] text-white placeholder:text-[#737373]":"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:e?"text-white":"text-gray-700",children:"Expiry Date"}),n.jsx(ge,{placeholder:"MM/YY",value:w.expiryDate,onChange:F=>N({...w,expiryDate:F.target.value}),className:e?"bg-[#1e1e1e] border-[#3a3a3a] text-white placeholder:text-[#737373]":"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:e?"text-white":"text-gray-700",children:"CVV"}),n.jsx(ge,{placeholder:"123",value:w.cvv,onChange:F=>N({...w,cvv:F.target.value}),className:e?"bg-[#1e1e1e] border-[#3a3a3a] text-white placeholder:text-[#737373]":"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{className:e?"text-white":"text-gray-700",children:"Billing Email"}),n.jsx(ge,{type:"email",placeholder:"your@email.com",value:w.billingEmail,onChange:F=>N({...w,billingEmail:F.target.value}),className:e?"bg-[#1e1e1e] border-[#3a3a3a] text-white placeholder:text-[#737373]":"h-12 bg-gray-100 border-gray-300 placeholder:text-gray-500"})]})]}),n.jsxs("div",{className:"flex justify-between gap-3 mt-8",children:[n.jsxs(J,{onClick:P,variant:"outline",size:"lg",className:e?"border-[#3a3a3a]":"",children:[n.jsx(qn,{className:"w-4 h-4 mr-2"}),"Back"]}),n.jsxs(J,{onClick:O,size:"lg",className:"bg-green-600 hover:bg-green-700 text-white",children:["Complete Purchase $",$()]})]})]})}),n.jsx("div",{children:n.jsxs(ve,{className:`${W} border ${Y} p-6 shadow-xl sticky top-4`,children:[n.jsx("h3",{className:`text-xl mb-4 ${K}`,children:"Order Summary"}),n.jsxs("div",{className:"space-y-3 mb-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:L,children:"Voucher Amount"}),n.jsxs("span",{className:K,children:["$",a||o]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:L,children:"Recipients"}),n.jsx("span",{className:K,children:c.length})]}),n.jsx(tt,{className:e?"bg-[#2a2a2a]":"bg-gray-200"}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:`${K}`,children:"Subtotal"}),n.jsxs("span",{className:K,children:["$",$()]})]}),n.jsx(tt,{className:e?"bg-[#2a2a2a]":"bg-gray-200"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:`text-lg ${K}`,children:"Total"}),n.jsxs("span",{className:"text-2xl text-green-600 dark:text-green-400",children:["$",$()]})]})]}),n.jsx("div",{className:`p-3 rounded-lg ${e?"bg-green-900/20":"bg-green-50"}`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(jn,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),n.jsx("p",{className:`text-sm ${e?"text-green-400":"text-green-700"}`,children:"All vouchers are valid for 12 months from purchase date"})]})})]})})]}),r==="success"&&n.jsxs(ve,{className:`${W} border ${Y} p-12 shadow-xl text-center`,children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:n.jsx(jn,{className:"w-10 h-10 text-green-600 dark:text-green-400"})})}),n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[n.jsx(yn,{className:"w-6 h-6 text-yellow-500 animate-pulse"}),n.jsx(Gd,{className:"w-6 h-6 text-orange-500 animate-pulse"}),n.jsx(Md,{className:"w-6 h-6 text-pink-500 animate-pulse"})]}),n.jsx("h2",{className:`text-3xl mb-4 ${K}`,children:"Gift Vouchers Sent!"}),n.jsxs("p",{className:`text-lg ${L} mb-8`,children:[c.length," gift ",c.length===1?"voucher has":"vouchers have"," been sent successfully"]}),n.jsx("div",{className:`max-w-md mx-auto p-6 rounded-lg ${e?"bg-[#1e1e1e] border border-[#2a2a2a]":"bg-gray-50 border border-gray-200"} mb-8`,children:n.jsx("div",{className:"space-y-3",children:c.map((F,ee)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:n.jsx(jn,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),n.jsxs("div",{className:"text-left flex-1",children:[n.jsx("p",{className:`text-sm ${K}`,children:F.name}),n.jsx("p",{className:`text-xs ${L}`,children:F.email})]})]},F.id))})}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsxs(J,{onClick:M,size:"lg",className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[n.jsx(Oo,{className:"w-4 h-4 mr-2"}),"Send More Vouchers"]}),n.jsx(J,{onClick:()=>window.close(),variant:"outline",size:"lg",className:e?"border-[#3a3a3a]":"",children:"Close Window"})]})]})]})})})};var vVe=(t,e,r,s,a,i,o,l)=>{let c=document.documentElement,d=["light","dark"];function u(m){(Array.isArray(t)?t:[t]).forEach(y=>{let g=y==="class",v=g&&i?a.map(b=>i[b]||b):a;g?(c.classList.remove(...v),c.classList.add(i&&i[m]?i[m]:m)):c.setAttribute(y,m)}),h(m)}function h(m){l&&d.includes(m)&&(c.style.colorScheme=m)}function f(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)u(s);else try{let m=localStorage.getItem(e)||r,y=o&&m==="system"?f():m;u(y)}catch{}},yVe=S.createContext(void 0),bVe={setTheme:t=>{},themes:[]},wVe=()=>{var t;return(t=S.useContext(yVe))!=null?t:bVe};S.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:o,themes:l,nonce:c,scriptProps:d})=>{let u=JSON.stringify([r,e,i,t,l,o,s,a]).slice(1,-1);return S.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${vVe.toString()})(${u})`}})});const bk=({...t})=>{const{theme:e="system"}=wVe();return n.jsx(bfe,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function jVe(){const[t,e]=S.useState("dashboard"),{currentUser:r,isLoading:s,login:a}=il();S.useEffect(()=>{(async()=>{})()},[r,s,a]);const i=()=>{switch(t){case"dashboard":return n.jsx(sU,{});case"inbox":return n.jsx(xPe,{});case"bookings":return n.jsx(RMe,{});case"games":return n.jsx(JMe,{});case"customers":return n.jsx(yRe,{});case"payment-history":return n.jsx(Qze,{});case"campaigns":return n.jsx(bRe,{});case"marketing":return n.jsx(kRe,{});case"aiagents":return n.jsx(IRe,{});case"staff":return n.jsx(n9e,{});case"reports":return n.jsx(s9e,{});case"media":return n.jsx(i9e,{});case"waivers":return n.jsx(pUe,{});case"venues":return n.jsx(jze,{});case"widgets":return n.jsx(bze,{});case"notifications":return n.jsx(eVe,{});case"settings":return n.jsx(Nze,{});case"myaccount":return n.jsx(Sze,{});case"profile":return n.jsx(_ze,{});case"billing":return n.jsx(Cze,{});case"team":return n.jsx(kze,{});case"account-settings":return n.jsx(Xze,{});case"backend-dashboard":return n.jsx(xVe,{});case"gift-vouchers":return n.jsx(gVe,{});default:return n.jsx(sU,{})}};return s?n.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-white dark:bg-[#0a0a0a]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-[#4f46e5] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading BookingTMS..."})]})}):r?n.jsx(She,{children:n.jsx(Gq,{currentPage:t,onNavigate:e,children:i()})}):n.jsx(tVe,{})}function NVe(){const[t,e]=S.useState(!1),[r,s]=S.useState(!1),[a,i]=S.useState(!0);return S.useEffect(()=>{const o=new URLSearchParams(window.location.search),l=window.location.pathname;if(o.has("beta")||l==="/beta-login"||l==="/beta-login/"||o.get("login")==="beta"){s(!0),i(!1);return}if(o.has("widget")||o.has("widgetId")||l.startsWith("/embed")){e(!0),i(!1);return}},[]),a&&!t&&!r?n.jsx(tge,{onLoadingComplete:()=>i(!1)}):r?n.jsx(xw,{children:n.jsxs(m7,{children:[n.jsx(rVe,{}),n.jsx(bk,{})]})}):t?n.jsxs(xw,{children:[n.jsx(Aze,{}),n.jsx(bk,{})]}):n.jsx(xw,{children:n.jsxs(m7,{children:[n.jsx(jVe,{}),n.jsx(bk,{})]})})}const aW="admin_waivers",wk="admin_waiver_templates";function uw(t){return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function SVe(t){return t.trim().toUpperCase().replace(/[^A-Z0-9]+/g,"_")}function _Ve(){const{theme:t}=fn(),e=t==="dark",r=e?"text-white":"text-gray-900",s=e?"text-[#a3a3a3]":"text-gray-600",a=e?"border-[#2a2a2a]":"border-gray-200",i=e?"bg-[#161616]":"bg-white",o=e?"bg-[#1e1e1e]":"bg-gray-50",[l,c]=S.useState(null),[d,u]=S.useState(!1),[h,f]=S.useState({}),[m,y]=S.useState(!1),[g,v]=S.useState(!1),b=S.useMemo(()=>{const $=window.location.pathname.split("/");return $[$.length-1]||""},[]);S.useEffect(()=>{try{const $=localStorage.getItem(wk),P=($?JSON.parse($):[]).find(M=>M.id===b);if(P){c(P);const M={};P.requiredFields?.forEach(R=>{M[R]=""}),M["Booking ID"]="",M.Game="",f(M)}else u(!0)}catch($){console.error("Failed to load templates for WaiverForm",$),u(!0)}},[b]);const w=S.useMemo(()=>{if(!l||!l.content)return"";const $={};return Object.entries(h).forEach(([O,P])=>{const M=SVe(O);$[M]=P||""}),$.DATE=uw(new Date),$.SIGNATURE=h.Signature||h["Full Name"]||h["Parent/Guardian Name"]||"",l.content.replace(/\{([A-Z0-9_]+)\}/g,(O,P)=>$[P]??`{${P}}`)},[l,h]),N=($,O)=>{f(P=>({...P,[$]:O}))},_=$=>{const O=$.toLowerCase();return O.includes("medical")||O.includes("allergies")||O.includes("medications")||O.includes("symptom")},C=$=>{const O=$.toLowerCase();return O.includes("email")?"email":O.includes("phone")?"tel":O.includes("date")?"date":"text"},E=()=>h["Full Name"]||h["Minor Name"]||h["Parent/Guardian Name"]||"Anonymous",A=()=>h.Email||h["Parent Email"]||"-",I=()=>{if(!l)return;const $=(l.requiredFields||[]).filter(M=>!(h[M]&&h[M].trim().length>0));if($.length>0){me.error(`Please fill: ${$.join(", ")}`);return}if(!m){me.error("Please accept the terms to proceed");return}const O=new Date,P={id:`WV-${String(O.getTime()).slice(-6)}`,customer:E(),email:A(),booking:h["Booking ID"]||"-",game:h.Game||l.assignedGames?.[0]||"Unknown",signedDate:uw(O),status:"signed",templateName:l.name,content:w};try{const M=localStorage.getItem(aW),R=M?JSON.parse(M):[];R.unshift(P),localStorage.setItem(aW,JSON.stringify(R));const W=localStorage.getItem(wk),K=(W?JSON.parse(W):[]).map(L=>L.id===l.id?{...L,usageCount:(L.usageCount||0)+1,lastModified:uw(O)}:L);localStorage.setItem(wk,JSON.stringify(K)),me.success("Waiver signed and saved!"),v(!0)}catch(M){console.error("Failed to save waiver record",M),me.error("Failed to save waiver. Please try again.")}};return d?n.jsx("div",{className:`min-h-screen ${e?"bg-[#0a0a0a]":"bg-gray-50"}`,children:n.jsx("div",{className:"max-w-3xl mx-auto p-6",children:n.jsxs(ve,{className:`${i} border ${a}`,children:[n.jsx(st,{children:n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx(us,{className:e?"text-red-400":"text-red-600"}),"Waiver Template Not Found"]})}),n.jsx(Te,{children:n.jsx("p",{className:s,children:"The requested waiver template could not be located. Please check the link or contact the administrator."})})]})})}):l?n.jsx("div",{className:`min-h-screen ${e?"bg-[#0a0a0a]":"bg-gray-50"}`,children:n.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-6",children:[n.jsxs(ve,{className:`${i} border ${a}`,children:[n.jsx(st,{children:n.jsxs(at,{className:"flex items-center gap-2",children:[n.jsx($s,{className:"w-5 h-5"}),l.name]})}),n.jsxs(Te,{className:"space-y-4",children:[n.jsx("div",{className:`p-4 rounded-lg border ${a} ${o}`,children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:`flex items-center gap-2 text-sm ${s}`,children:[n.jsx(ca,{className:"w-4 h-4"}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${s}`,children:"Type"}),n.jsx("p",{className:r,children:l.type})]})]}),n.jsxs("div",{className:`flex items-center gap-2 text-sm ${s}`,children:[n.jsx(Nn,{className:"w-4 h-4"}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${s}`,children:"Created"}),n.jsx("p",{className:r,children:l.createdDate})]})]}),n.jsxs("div",{className:`flex items-center gap-2 text-sm ${s}`,children:[n.jsx(ic,{className:"w-4 h-4"}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${s}`,children:"Assigned Games"}),n.jsx("p",{className:r,children:l.assignedGames?.length?l.assignedGames.join(", "):"None"})]})]}),n.jsxs("div",{className:`flex items-center gap-2 text-sm ${s}`,children:[n.jsx(Tt,{className:"w-4 h-4"}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs ${s}`,children:"Status"}),n.jsx("p",{className:r,children:l.status})]})]})]})}),l.description&&n.jsx("p",{className:s,children:l.description}),n.jsx("div",{className:"flex flex-wrap gap-2",children:l.requiredFields?.map($=>n.jsx(ze,{variant:"secondary",className:e?"bg-[#2a2a2a] text-[#a3a3a3] border-0":"",children:$},$))}),n.jsx(tt,{className:"my-4"}),n.jsxs("div",{className:"space-y-4",children:[l.requiredFields?.map($=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:$}),_($)?n.jsx(mn,{value:h[$]||"",onChange:O=>N($,O.target.value),rows:4}):n.jsx(ge,{type:C($),value:h[$]||"",onChange:O=>N($,O.target.value)})]},$)),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Booking ID (optional)"}),n.jsx(ge,{value:h["Booking ID"]||"",onChange:$=>N("Booking ID",$.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(re,{children:"Game (optional)"}),n.jsx(ge,{value:h.Game||"",onChange:$=>N("Game",$.target.value)})]})]}),n.jsx("div",{className:`p-4 rounded-lg border ${a} ${o}`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("input",{id:"agree",type:"checkbox",checked:m,onChange:$=>y($.target.checked),className:"mt-1"}),n.jsx(re,{htmlFor:"agree",className:s,children:"I confirm that the information provided is accurate and I agree to the terms outlined in this waiver."})]})}),n.jsxs("div",{className:`p-4 rounded-lg border ${a} ${o}`,children:[n.jsx("h3",{className:`text-sm mb-2 ${r}`,children:"Waiver Content"}),l.content?n.jsx("pre",{className:`text-xs whitespace-pre-wrap ${s}`,children:w}):n.jsx("p",{className:s,children:"No template content provided."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(J,{onClick:I,className:"h-11",children:"Sign & Submit"}),n.jsx(J,{variant:"outline",className:"h-11",onClick:()=>v(!0),children:"Preview"})]})]})]})]}),g&&n.jsx(or,{open:g,onOpenChange:v,children:n.jsxs(lr,{className:e?"bg-[#161616] border-[#2a2a2a]":"",children:[n.jsxs(Nr,{children:[n.jsxs(cr,{className:"flex items-center gap-2",children:[n.jsx(Tt,{className:e?"text-emerald-400":"text-green-600"}),"Waiver Ready"]}),n.jsx(xr,{children:"The waiver information has been prepared. If you clicked Submit, it has been saved to records."})]}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:`flex items-center gap-2 ${s}`,children:[n.jsx(ca,{className:"w-4 h-4"}),n.jsx("span",{children:E()})]}),n.jsxs("div",{className:`flex items-center gap-2 ${s}`,children:[n.jsx(Gn,{className:"w-4 h-4"}),n.jsx("span",{children:A()})]}),n.jsxs("div",{className:`flex items-center gap-2 ${s}`,children:[n.jsx(Nn,{className:"w-4 h-4"}),n.jsx("span",{children:uw(new Date)})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(J,{variant:"outline",onClick:()=>window.location.href="/",children:"Go to Admin"}),n.jsx(J,{onClick:()=>window.close(),children:"Close"})]})]})})]})}):null}const CVe=window.location.pathname;CVe.startsWith("/waiver-form/")?e7.createRoot(document.getElementById("root")).render(n.jsx(xw,{children:n.jsx(_Ve,{})})):e7.createRoot(document.getElementById("root")).render(n.jsx(NVe,{}));export{ws as _,Tp as a,i2 as b,FJ as c,Jn as g,$x as p};
